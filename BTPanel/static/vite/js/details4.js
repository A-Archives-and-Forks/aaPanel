import{a}from"./index.js?v=1741416570306";import{d as e,M as s,r as t,e as l,ak as i,a1 as n,P as d,Q as c,R as o,a0 as p,F as r,L as m,af as v,S as x,N as u,$ as _,ax as b,ae as f,H as y,c as H}from"./vue.js?v=1741416570306";import{U as k,eE as U,b as h,eF as w,eC as g,D as $,k as j}from"./page_layout.js?v=1741416570306";import{w as C}from"./public.js?v=1741416570306";import{a2 as M,T as I}from"./naive.js?v=1741416570306";const L={class:"w-650px"},T={class:"card"},z={class:"mb-12px font-bold text-18px text-center"},B={class:"min-h-172px text-13px"},F={class:"card"},P={class:"mb-10px text-16px text-center"},D={class:"h-180px overflow-auto"},E={class:"date"},N={class:"text"},Q=["innerHTML"],R={class:"font-bold"},S={class:"text-error"},q=j(e({__name:"details",emits:["close"],setup(e,{emit:j}){const q=j,{t:A}=s(),G=t(!1),J=t(5),K=l((()=>J.value>0)),O=l((()=>!G.value)),V=t([]),W=t([]),{height:X}=i(),Y=l((()=>X.value?"".concat(.9*X.value,"px"):"auto")),Z=()=>{const a=setInterval((()=>{J.value--,J.value<=0&&clearInterval(a)}),1e3)},aa=()=>{q("close")},ea=()=>{C({title:A("Home.Update.index_24"),content:A("Home.Update.index_25"),onConfirm:async()=>{await w(),await g(),$()}})};return(async()=>{const{message:a}=await U();h(a)&&(V.value=a.beta_ps.split("<br>").map((a=>a.trim())),W.value=a.list,Z())})(),(e,s)=>{const t=n("i18n-t"),l=M,i=I,U=a;return d(),c("div",L,[o("div",{class:"p-20px overflow-auto",style:y({maxHeight:x(Y)})},[o("div",T,[o("div",z,p(e.$t("Home.Update.index_20")),1),o("ul",B,[(d(!0),c(r,null,m(x(V),((a,e)=>(d(),c("li",{key:a,class:v(["indent--15px pl-15px leading-20px",{"mt-8px":0!==e}])},p(a),3)))),128))])]),o("div",F,[o("div",P,p(e.$t("Home.Update.index_21")),1),o("div",D,[(d(!0),c(r,null,m(x(W),(a=>(d(),c("div",{key:a.version,class:"version"},[s[1]||(s[1]=o("div",{class:"active"},null,-1)),o("div",E,p(x(k)(a.uptime,"yyyy-MM-dd")),1),o("div",N,p(a.version),1),o("div",{class:"content",innerHTML:a.upmsg},null,8,Q)])))),128))])]),o("div",null,[u(l,{checked:x(G),"onUpdate:checked":s[0]||(s[0]=a=>f(G)?G.value=a:null),disabled:x(K)},{default:_((()=>[u(t,{tag:"div",class:"text-14px",keypath:"Home.Update.index_23_1"},b({title:_((()=>[o("span",R,p(e.$t("Home.Update.index_23_2")),1)])),_:2},[x(J)>0?{name:"wait",fn:_((()=>[o("span",S,p(e.$t("Home.Update.index_23_3",[x(J)])),1)])),key:"0"}:void 0]),1024)])),_:1},8,["checked","disabled"])])],4),u(U,null,{default:_((()=>[u(i,{class:"cancel-btn",size:"small",color:"#cbcbcb",onClick:aa},{default:_((()=>[H(p(e.$t("Public.Btn.Cancel")),1)])),_:1}),u(i,{type:"primary",size:"small",disabled:x(O),onClick:ea},{default:_((()=>[H(p(e.$t("Home.Update.index_19")),1)])),_:1},8,["disabled"])])),_:1})])}}}),[["__scopeId","data-v-85ccd2a6"]]);export{q as B};
