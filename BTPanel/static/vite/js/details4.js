import{a}from"./index.js?v=1753954525509";import{k as e,P as s,r as t,c as l,ap as i,a4 as n,U as d,V as c,W as o,a3 as p,F as r,O as m,H as v,X as x,Q as u,a2 as _,ax as f,ah as b,I as y,j as H}from"./vue.js?v=1753954525509";import{X as h,fR as k,c as U,fS as g,fP as w,K as j,e as $}from"./page_layout.js?v=1753954525509";import{q as C}from"./public.js?v=1753954525509";import{_ as I,ay as M}from"./naive.js?v=1753954525509";const P={class:"w-650px"},z={class:"card"},B={class:"mb-12px font-bold text-18px text-center"},L={class:"min-h-172px text-13px"},T={class:"card"},X={class:"mb-10px text-16px text-center"},q={class:"h-180px overflow-auto"},F={class:"date"},K={class:"text"},O=["innerHTML"],Q={class:"font-bold"},R={class:"text-error"},S=$(e({__name:"details",emits:["close"],setup(e,{emit:$}){const S=$,{t:V}=s(),W=t(!1),A=t(5),D=l((()=>A.value>0)),E=l((()=>!W.value)),G=t([]),J=t([]),{height:N}=i(),Y=l((()=>N.value?"".concat(.9*N.value,"px"):"auto")),Z=()=>{const a=setInterval((()=>{A.value--,A.value<=0&&clearInterval(a)}),1e3)},aa=()=>{S("close")},ea=()=>{C({title:V("Home.Update.index_24"),content:V("Home.Update.index_25"),onConfirm:async()=>{await g(),await w(),j()}})};return(async()=>{const{message:a}=await k();U(a)&&(G.value=a.beta_ps.split("<br>").map((a=>a.trim())),J.value=a.list,Z())})(),(e,s)=>{const t=n("i18n-t"),l=I,i=M,k=a;return d(),c("div",P,[o("div",{class:"p-20px overflow-auto",style:y({maxHeight:x(Y)})},[o("div",z,[o("div",B,p(e.$t("Home.Update.index_20")),1),o("ul",L,[(d(!0),c(r,null,m(x(G),((a,e)=>(d(),c("li",{key:a,class:v(["indent--15px pl-15px leading-20px",{"mt-8px":0!==e}])},p(a),3)))),128))])]),o("div",T,[o("div",X,p(e.$t("Home.Update.index_21")),1),o("div",q,[(d(!0),c(r,null,m(x(J),(a=>(d(),c("div",{key:a.version,class:"version"},[s[1]||(s[1]=o("div",{class:"active"},null,-1)),o("div",F,p(x(h)(a.uptime,"yyyy-MM-dd")),1),o("div",K,p(a.version),1),o("div",{class:"content",innerHTML:a.upmsg},null,8,O)])))),128))])]),o("div",null,[u(l,{checked:x(W),"onUpdate:checked":s[0]||(s[0]=a=>b(W)?W.value=a:null),disabled:x(D)},{default:_((()=>[u(t,{tag:"div",class:"text-14px",keypath:"Home.Update.index_23_1"},f({title:_((()=>[o("span",Q,p(e.$t("Home.Update.index_23_2")),1)])),_:2},[x(A)>0?{name:"wait",fn:_((()=>[o("span",R,p(e.$t("Home.Update.index_23_3",[x(A)])),1)])),key:"0"}:void 0]),1024)])),_:1},8,["checked","disabled"])])],4),u(k,null,{default:_((()=>[u(i,{class:"cancel-btn",size:"small",color:"#cbcbcb",onClick:aa},{default:_((()=>[H(p(e.$t("Public.Btn.Cancel")),1)])),_:1}),u(i,{type:"primary",size:"small",disabled:x(E),onClick:ea},{default:_((()=>[H(p(e.$t("Home.Update.index_19")),1)])),_:1},8,["disabled"])])),_:1})])}}}),[["__scopeId","data-v-ae310571"]]);export{S as B};
