import{a}from"./index.js?v=1744703330658";import{d as e,O as s,r as t,e as l,al as i,a3 as d,R as n,S as c,U as o,a1 as p,F as r,N as m,ag as v,V as x,P as u,a0 as _,ay as f,af as b,H as y,c as H}from"./vue.js?v=1744703330658";import{W as k,fo as U,d as h,fp as g,fm as w,E as $,k as j}from"./page_layout.js?v=1744703330658";import{w as C}from"./public.js?v=1744703330658";import{a2 as M,T as I}from"./naive.js?v=1744703330658";const T={class:"w-650px"},z={class:"card"},B={class:"mb-12px font-bold text-18px text-center"},L={class:"min-h-172px text-13px"},P={class:"card"},E={class:"mb-10px text-16px text-center"},F={class:"h-180px overflow-auto"},N={class:"date"},O={class:"text"},R=["innerHTML"],S={class:"font-bold"},V={class:"text-error"},W=j(e({__name:"details",emits:["close"],setup(e,{emit:j}){const W=j,{t:q}=s(),A=t(!1),D=t(5),G=l((()=>D.value>0)),J=l((()=>!A.value)),K=t([]),Q=t([]),{height:X}=i(),Y=l((()=>X.value?"".concat(.9*X.value,"px"):"auto")),Z=()=>{const a=setInterval((()=>{D.value--,D.value<=0&&clearInterval(a)}),1e3)},aa=()=>{W("close")},ea=()=>{C({title:q("Home.Update.index_24"),content:q("Home.Update.index_25"),onConfirm:async()=>{await g(),await w(),$()}})};return(async()=>{const{message:a}=await U();h(a)&&(K.value=a.beta_ps.split("<br>").map((a=>a.trim())),Q.value=a.list,Z())})(),(e,s)=>{const t=d("i18n-t"),l=M,i=I,U=a;return n(),c("div",T,[o("div",{class:"p-20px overflow-auto",style:y({maxHeight:x(Y)})},[o("div",z,[o("div",B,p(e.$t("Home.Update.index_20")),1),o("ul",L,[(n(!0),c(r,null,m(x(K),((a,e)=>(n(),c("li",{key:a,class:v(["indent--15px pl-15px leading-20px",{"mt-8px":0!==e}])},p(a),3)))),128))])]),o("div",P,[o("div",E,p(e.$t("Home.Update.index_21")),1),o("div",F,[(n(!0),c(r,null,m(x(Q),(a=>(n(),c("div",{key:a.version,class:"version"},[s[1]||(s[1]=o("div",{class:"active"},null,-1)),o("div",N,p(x(k)(a.uptime,"yyyy-MM-dd")),1),o("div",O,p(a.version),1),o("div",{class:"content",innerHTML:a.upmsg},null,8,R)])))),128))])]),o("div",null,[u(l,{checked:x(A),"onUpdate:checked":s[0]||(s[0]=a=>b(A)?A.value=a:null),disabled:x(G)},{default:_((()=>[u(t,{tag:"div",class:"text-14px",keypath:"Home.Update.index_23_1"},f({title:_((()=>[o("span",S,p(e.$t("Home.Update.index_23_2")),1)])),_:2},[x(D)>0?{name:"wait",fn:_((()=>[o("span",V,p(e.$t("Home.Update.index_23_3",[x(D)])),1)])),key:"0"}:void 0]),1024)])),_:1},8,["checked","disabled"])])],4),u(U,null,{default:_((()=>[u(i,{class:"cancel-btn",size:"small",color:"#cbcbcb",onClick:aa},{default:_((()=>[H(p(e.$t("Public.Btn.Cancel")),1)])),_:1}),u(i,{type:"primary",size:"small",disabled:x(J),onClick:ea},{default:_((()=>[H(p(e.$t("Home.Update.index_19")),1)])),_:1},8,["disabled"])])),_:1})])}}}),[["__scopeId","data-v-85ccd2a6"]]);export{W as B};
