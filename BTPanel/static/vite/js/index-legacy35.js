System.register(["./index-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1721298337096","./useTableData-legacy.js?v=1721298337096","./useTableColumns-legacy.js?v=1721298337096","./mail-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1721298337096","./vue-legacy.js?v=1721298337096","./InputGroupLabel-legacy.js?v=1721298337096","./InputGroup-legacy.js?v=1721298337096","./pinia-legacy.js?v=1721298337096","./DataTable-legacy.js?v=1721298337096","./Checkbox-legacy.js?v=1721298337096","./Ellipsis-legacy.js?v=1721298337096","./Select-legacy.js?v=1721298337096","./Tag-legacy.js?v=1721298337096","./Empty-legacy.js?v=1721298337096","./omit-legacy.js?v=1721298337096","./Skeleton-legacy.js?v=1721298337096","./Progress-legacy.js?v=1721298337096"],(function(e,l){"use strict";var a,t,n,i,s,u,c,o,d,r,p,g,m,_,y,h,j,x,w,b,f,v,k,E,M,C,S,T,U,W,D,L,P;return{setters:[e=>{a=e.M,t=e.g,n=e.h,i=e.j,s=e.k,u=e.m,c=e.q,o=e.r,d=e.v},e=>{r=e._},e=>{p=e._},e=>{g=e.u,m=e._},e=>{_=e.b},e=>{y=e.m,h=e.l,j=e.n},e=>{x=e._},e=>{w=e.l,b=e.ad,f=e.r,v=e.f,k=e.P,E=e.q,M=e.x,C=e.S,S=e.U,T=e.V,U=e.a3,W=e.W,D=e.a1},e=>{L=e._},e=>{P=e._},null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",w({__name:"index",setup(e){const w=D((()=>d((()=>l.import("./index-legacy122.js?v=1721298337096")),void 0))),{t:R}=b(),q=f(),G=v({p:1,username:null}),{table:I,columns:B}=g([{key:"from",title:R("Mail.Email.index_2"),width:"25%",minWidth:140,ellipsis:{tooltip:!0}},{key:"theme",title:R("Mail.Email.index_3"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:e=>{const l=e.html.replace(/[^\u4e00-\u9fa5]/g,"");return k("span",{class:"cursor-pointer",onClick:()=>{$(e)}},[k("a",{class:"bt-link"},[e.subject]),k("span",{class:"text-desc"},[E(" - "),l||e.body])])}},{key:"time",title:R("Mail.Email.index_4"),width:"12%",minWidth:140,render:e=>a(e.time)},_({width:150,options:e=>[{label:R("Mail.Email.index_5"),onClick:()=>{$(e)}},{label:R("Mail.Email.index_6"),onClick:()=>{z(e)}},{label:R("Public.Btn.Del"),onClick:()=>{A(e)}}]})]),V=t(),$=e=>{V.data.row=e,V.title=R("Mail.Email.index_7",[e.subject]),V.show=!0},z=e=>{n({title:R("Mail.Email.index_8"),content:R("Mail.Email.index_9"),onConfirm:async()=>{await y({path:e.path,username:G.username||""}),F()}})},A=async e=>{await h({path:e.path}),F()},F=async()=>{try{I.loading=!0;const{message:e}=await j({p:G.p,username:G.username||""});i(e)&&(I.data=s(e.data)?e.data:[],I.total=u(e.page))}finally{I.loading=!1}},H=()=>{G.p=1,F()};return M((async()=>{await q.value.getList()})),(e,l)=>{const a=L,t=P,n=m,i=p,s=r,u=c,d=o;return C(),S(d,{class:"p-16px"},{default:T((()=>[k(s,null,{toolsLeft:T((()=>[k(t,{class:"w-460px"},{default:T((()=>[k(a,null,{default:T((()=>[E(U(e.$t("Mail.Email.index_1")),1)])),_:1}),k(x,{ref_key:"senderRef",ref:q,value:W(G).username,"onUpdate:value":[l[0]||(l[0]=e=>W(G).username=e),H]},null,8,["value"])])),_:1})])),table:T((()=>[k(n,{loading:W(I).loading,data:W(I).data,columns:W(B)},null,8,["loading","data","columns"])])),pageRight:T((()=>[k(i,{page:W(G).p,"onUpdate:page":l[1]||(l[1]=e=>W(G).p=e),"item-count":W(I).total,onRefresh:F},null,8,["page","item-count"])])),_:1}),k(u,{show:W(V).show,"onUpdate:show":l[2]||(l[2]=e=>W(V).show=e),title:W(V).title,data:W(V).data,width:850,height:680,component:W(w)},null,8,["show","title","data","component"])])),_:1})}}}))}}}));
