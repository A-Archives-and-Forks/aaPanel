import{_ as e,a,C as t}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1741416570306";import{c as n,u as l,a as i,h as s,b as o,f as d}from"./public.js?v=1741416570306";import{a as r,g as f,s as u,b as p}from"./alarm.js?v=1741416570306";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang.js?v=1741416570306";import{_}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1741416570306";import{G as x,I as m,al as g,as as v,_ as C,b,D as S,at as h,k as w,m as y,H as $,au as k,C as P,U,av as j}from"./page_layout.js?v=1741416570306";import{d as B,M as R,r as L,j as E,x as z,P as H,Q as I,N as T,$ as D,S as A,R as F,_ as M,c as K,a0 as G,ae as N,a7 as J,k as O,v as Q,aa as V,F as q,an as W,e as X}from"./vue.js?v=1741416570306";import{bV as Y,cb as Z,T as ee,a2 as ae,ck as te,_ as ne,bS as le,ch as ie,cm as se,cf as oe}from"./naive.js?v=1741416570306";import{s as de,_ as re,f as fe,h as ue,c as pe}from"./index98.js?v=1741416570306";import{O as ce}from"./open.js?v=1741416570306";import{v as _e,w as xe,x as me,y as ge,z as ve,A as Ce,B as be,C as Se,D as he,E as we,F as ye,G as $e,H as ke,I as Pe,J as Ue,K as je,L as Be,M as Re,N as Le}from"./global.js?v=1741416570306";import{_ as Ee}from"./index95.js?v=1741416570306";import{_ as ze}from"./index99.js?v=1741416570306";import{_ as He}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1741416570306";import{_ as Ie}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1741416570306";import{_ as Te}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1741416570306";const De={class:"p-20px pt-28px pb-8px"},Ae={class:"w-300px"},Fe=B({__name:"set",props:{open:{type:Boolean,default:!1},taskList:{default:()=>[]}},emits:["refresh"],setup(e,{expose:a,emit:t}){const l=e,i=t,{t:s}=R(),o=L(null),d=E({status:!0,method:[]}),u={method:{trigger:["change"],validator:()=>0!==d.method.length||new Error(s("Config.Safe.index_7"))}},p=z([]),{loading:g,setLoading:v}=n();return(()=>{const{open:e,taskList:a}=l;a.length>0&&(d.status=e||a[0].status,d.method=a[0].sender)})(),(async()=>{try{v(!0);const{message:e}=await f();p.value=x(e)?e:[]}finally{v(!1)}})(),a({onConfirm:async()=>{var e;await(null==(e=o.value)?void 0:e.validate()),await r((()=>{const e=p.value.filter((e=>"panel_safe_push"===e.source))[0];return{template_id:e.id,task_data:{task_data:{tid:e.id,type:e.source,title:e.title,status:d.status,count:0,interval:600,project:"",help:600},sender:d.method,number_rule:{day_num:0,total:0},time_rule:{send_interval:0,time_range:[0,86399]}}}})()),i("refresh")}}),(e,a)=>{const t=Y,n=Z,l=_,i=c,s=m;return H(),I("div",De,[T(s,{show:A(g)},{default:D((()=>[T(i,{ref_key:"formRef",ref:o,model:A(d),rules:u},{default:D((()=>[T(n,{label:e.$t("Config.Safe.index_5")},{default:D((()=>[T(t,{value:A(d).status,"onUpdate:value":a[0]||(a[0]=e=>A(d).status=e)},null,8,["value"])])),_:1},8,["label"]),T(n,{label:e.$t("Config.Safe.index_6"),path:"method"},{default:D((()=>[F("div",Ae,[T(l,{value:A(d).method,"onUpdate:value":a[1]||(a[1]=e=>A(d).method=e)},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["show"])])}}}),Me=B({__name:"index",setup(a){const{t:t}=R(),i=L(!1),s=L([]),o=async e=>{e?d(!0):(await u({task_id:s.value[0].id,status:0}),i.value=!1,s.value[0].status=!1)},d=(e=!1)=>{l({title:t("Config.Safe.index_4"),width:480,footer:!0,confirmText:t("Public.Btn.Save"),data:{open:e,taskList:s.value,onRefresh:c},component:Fe})},{loading:r,setLoading:f}=n(),c=async()=>{try{f(!0);const{message:e}=await p();if(x(e)){const a=e.filter((e=>"panel_safe_push"===e.keyword));a&&a.length>0?(i.value=a[0].status,s.value=a):(i.value=!1,s.value=[])}}finally{f(!1)}};return c(),(a,t)=>{const n=Y,l=ee,s=e;return H(),M(s,{label:a.$t("Config.Safe.index_2")},{content:D((()=>[T(n,{loading:A(r),value:A(i),"onUpdate:value":o},null,8,["loading","value"]),T(l,{class:"ml-12px h-22px px-5px",size:"small",onClick:t[0]||(t[0]=e=>d())},{default:D((()=>[K(G(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_3")),1)])),_:1},8,["label"])}}}),Ke={class:"flex p-20px"},Ge={class:"min-w-32px"},Ne={class:"flex-1 ml-10px text-14px leading-22px"},Je={class:"flex items-center min-h-30px mb-12px text-error"},Oe=B({__name:"close",emits:["setConfirm"],setup(e,{expose:a,emit:t}){const n=t,{t:l}=R(),i=g(),s=L(!1),o=()=>{d>0||n("setConfirm",{disabled:!s.value})};let d=5;return(()=>{n("setConfirm",{text:l("Config.Safe.index_16",[d]),disabled:!0});const e=setInterval((()=>{d--,n("setConfirm",{text:l("Config.Safe.index_16",[d])}),d<=0&&(clearInterval(e),n("setConfirm",{text:l("Config.Safe.index_17"),disabled:!s.value}))}),1e3)})(),a({onConfirm:async()=>(await _e(),await v(),setTimeout((()=>{{const e="http:"===location.protocol?"https":"http";window.location.href="".concat(e,"://").concat(window.location.host).concat(de.value.adminPath)}}),1500),!1)}),(e,a)=>{const t=C,n=ae;return H(),I("div",Ke,[F("div",Ge,[T(t,{name:"base-warning",color:A(i).warningColor,size:"32"},null,8,["color"])]),F("div",Ne,[F("div",Je,G(e.$t("Config.Safe.index_14")),1),T(n,{checked:A(s),"onUpdate:checked":[a[0]||(a[0]=e=>N(s)?s.value=e:null),o]},{default:D((()=>[K(G(e.$t("Config.Safe.index_15")),1)])),_:1},8,["checked"])])])}}}),Qe={class:"p-20px"},Ve={class:"flex flex-wrap py-2px text-primary text-12px"},qe={class:"mr-24px"},We={class:"mr-24px"},Xe={class:"flex gap-20px mt-16px"},Ye={class:"flex-1"},Ze={class:"mb-8px"},ea={class:"flex-1"},aa={class:"mb-8px"},ta={class:"mt-10px"},na={class:"bt-link",href:"http://www.bt.cn/bbs/thread-704-1-1.html",target:"_blank"},la=B({__name:"set",setup(e){const a=L(""),t=L(""),n=E({subject:"--",issuer:"--",notBefore:"--",notAfter:"--"}),l=async()=>{await xe({privateKey:a.value,certPem:t.value},!0),i()},i=async()=>{const{message:e}=await me();b(e)&&(a.value=e.privateKey||"",t.value=e.certPem||"",n.subject=e.info.subject||"",n.issuer=e.info.issuer||"",n.notBefore=e.info.notBefore||"",n.notAfter=e.info.notAfter||"")};return i(),(e,i)=>{const s=te,o=ze,d=ee,r=Ee;return H(),I("div",Qe,[T(s,{type:"success","show-icon":!1},{default:D((()=>[F("div",Ve,[F("div",qe,[K(G(e.$t("Config.Safe.index_37")),1),F("b",null,G(A(n).subject),1)]),F("div",We,[K(G(e.$t("Config.Safe.index_38")),1),F("b",null,G(A(n).issuer),1)]),F("div",null,[K(G(e.$t("Config.Safe.index_39")),1),F("b",null,G(A(n).notAfter),1)])])])),_:1}),F("div",Xe,[F("div",Ye,[F("div",Ze,G(e.$t("Config.Safe.index_27")),1),T(o,{value:A(a),"onUpdate:value":i[0]||(i[0]=e=>N(a)?a.value=e:null),rows:14,placeholder:""},null,8,["value"])]),F("div",ea,[F("div",aa,G(e.$t("Config.Safe.index_28")),1),T(o,{value:A(t),"onUpdate:value":i[1]||(i[1]=e=>N(t)?t.value=e:null),rows:14,placeholder:""},null,8,["value"])])]),F("div",ta,[T(d,{type:"primary",onClick:l},{default:D((()=>[K(G(e.$t("Public.Btn.Save")),1)])),_:1})]),T(r,{class:"mt-12px"},{default:D((()=>[F("li",null,[K(G(e.$t("Config.Safe.index_40"))+" ",1),F("a",na," ["+G(e.$t("Public.Btn.Help"))+"] ",1)]),F("li",null,G(e.$t("Config.Safe.index_42")),1),F("li",null,G(e.$t("Config.Safe.index_43")),1)])),_:1})])}}}),ia={class:"bt-link",href:"https://forum.aapanel.com/d/15210-aapanel-enable-panel-ssl-use-self-signed-certificate-browser-add-secure",target:"_blank"},sa=B({__name:"index",setup(a){const{t:t}=R(),n=e=>{e?i():s()},i=()=>{l({title:t("Config.Safe.index_11"),width:600,footer:!0,component:ce})},s=()=>{l({title:t("Config.Safe.index_12"),width:400,footer:!0,confirmType:"error",component:Oe})},o=()=>{l({title:t("Config.Safe.index_13"),width:740,component:la})};return(a,t)=>{const l=Y,i=ee,s=e;return H(),M(s,{label:a.$t("Config.Safe.index_8")},{content:D((()=>[T(l,{value:A(de).panelSSL,"onUpdate:value":n},null,8,["value"]),T(i,{class:"ml-12px h-22px px-5px",size:"small",onClick:o},{default:D((()=>[K(G(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_9")),1),F("a",ia,G(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),oa={class:"p-20px"},da={class:"w-280px"},ra={class:"w-280px"},fa={class:"text-error"},ua=B({__name:"config",setup(e){const{t:a}=R(),t=L(null),n=E({open:"True",basic_user:"",basic_pwd:""}),l={basic_user:{trigger:["blur","input"],validator:()=>"True"!==n.open||""!==n.basic_user.trim()||new Error(a("Config.Safe.index_56"))},basic_pwd:{trigger:["blur","input"],validator:()=>"True"!==n.open||""!==n.basic_pwd.trim()||new Error(a("Config.Safe.index_58"))}},i=async()=>{var e;await(null==(e=t.value)?void 0:e.validate()),await ge(J(n)),S()};return(e,a)=>{const s=Y,o=Z,d=ne,r=ee,f=c,u=Ee;return H(),I("div",oa,[T(f,{ref_key:"formRef",ref:t,model:A(n),rules:l},{default:D((()=>[T(o,{label:e.$t("Config.Safe.index_54")},{default:D((()=>[T(s,{value:A(n).open,"onUpdate:value":a[0]||(a[0]=e=>A(n).open=e),"checked-value":"True","unchecked-value":"False"},null,8,["value"])])),_:1},8,["label"]),T(o,{label:e.$t("Config.Safe.index_55"),path:"basic_user"},{default:D((()=>[F("div",da,[T(d,{value:A(n).basic_user,"onUpdate:value":a[1]||(a[1]=e=>A(n).basic_user=e),placeholder:e.$t("Config.Safe.index_56")},null,8,["value","placeholder"])])])),_:1},8,["label"]),T(o,{label:e.$t("Config.Safe.index_57"),path:"basic_pwd"},{default:D((()=>[F("div",ra,[T(d,{value:A(n).basic_pwd,"onUpdate:value":a[2]||(a[2]=e=>A(n).basic_pwd=e),placeholder:e.$t("Config.Safe.index_58")},null,8,["value","placeholder"])])])),_:1},8,["label"]),T(o,{label:" ","show-feedback":!1},{default:D((()=>[T(r,{type:"primary",onClick:i},{default:D((()=>[K(G(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),T(u,{class:"mt-20px pl-12px"},{default:D((()=>[F("li",fa,G(e.$t("Config.Safe.index_59")),1),F("li",null,G(e.$t("Config.Safe.index_48")),1),F("li",null,G(e.$t("Config.Safe.index_49")),1),F("li",null,G(e.$t("Config.Safe.index_50")),1),F("li",null,G(e.$t("Config.Safe.index_51")),1)])),_:1})])}}}),pa={class:"p-20px"},ca={class:"text-error"},_a={class:"flex items-center justify-between"},xa={class:"bt-link",href:"https://www.bt.cn/bbs/thread-34374-1-1.html",target:"_blank"},ma=B({__name:"confirm",setup(e,{expose:t}){const{t:n}=R(),i=L();return t({onConfirm:async()=>{await i.value.validate(),l({title:n("Config.Safe.index_53"),width:500,component:ua})}}),(e,t)=>{const n=a,l=re,s=fe;return H(),I("div",pa,[T(n,{class:"mb-20px"},{default:D((()=>[K(G(e.$t("Config.Safe.index_47")),1)])),_:1}),T(l,{class:"mb-20px"},{default:D((()=>[F("li",ca,G(e.$t("Config.Safe.index_19")),1),F("li",null,G(e.$t("Config.Safe.index_48")),1),F("li",null,G(e.$t("Config.Safe.index_49")),1),F("li",null,G(e.$t("Config.Safe.index_50")),1),F("li",null,G(e.$t("Config.Safe.index_51")),1)])),_:1}),F("div",_a,[T(s,{ref_key:"riskRef",ref:i},{default:D((()=>[K(G(e.$t("Config.Safe.index_29")),1)])),_:1},512),F("a",xa,G(e.$t("Config.Safe.index_52")),1)])])}}}),ga={class:"bt-link",href:"https://www.bt.cn/bbs/thread-34374-1-1.html",target:"_blank"},va=B({__name:"index",setup(a){const{t:t}=R(),n=async e=>{e?l({title:t("Config.Safe.index_46"),width:650,footer:!0,component:ma}):(await ge({open:"False",basic_user:"",basic_pwd:""}),S())};return(a,t)=>{const l=Y,i=e;return H(),M(i,{label:a.$t("Config.Safe.index_44")},{content:D((()=>[T(l,{value:A(de).basicAuth,"onUpdate:value":n},null,8,["value"])])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_45")),1),F("a",ga,G(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),Ca={class:"p-20px"},ba={class:"mb-20px text-20px text-center text-#555"},Sa={class:"px-36px"},ha={class:"mb-10px text-16px text-#666"},wa={class:"mb-20px px-24px py-16px bg-#f8f8f8 rounded-4px leading-24px text-14px text-#444 font-500"},ya={class:"text-#666"},$a={class:"text-#666"},ka={class:"mb-20px text-16px text-#666"},Pa={class:"bt-link",href:"",target:"_blank"},Ua={class:"text-error"},ja=w(B({__name:"config",setup(e){const a=E({key:"--",username:"--"}),t=L(""),{loading:l,setLoading:i}=n();return(async()=>{const{message:e}=await ve();b(e)&&(a.key=e.key,a.username=e.username)})(),(async()=>{try{i(!0);const{message:e}=await Ce({act:1});b(e)&&(t.value=e.result)}finally{i(!1)}})(),(e,n)=>{const i=h,s=m,o=Ee;return H(),I("div",Ca,[F("div",ba,G(e.$t("Config.Safe.index_70")),1),F("div",Sa,[F("div",ha,G(e.$t("Config.Safe.index_71")),1),F("div",wa,[F("div",null,[K(G(e.$t("Config.Safe.index_72"))+" ",1),F("span",ya,G(A(a).username),1)]),F("div",null,[K(G(e.$t("Config.Safe.index_73"))+" ",1),F("span",$a,G(A(a).key),1)]),F("div",null,[K(G(e.$t("Config.Safe.index_74"))+" ",1),n[0]||(n[0]=F("span",{class:"text-#666"},"Time based",-1))])]),F("div",ka,G(e.$t("Config.Safe.index_75")),1),T(s,{class:"flex justify-center h-150px",show:A(l)},{default:D((()=>[O(T(i,{value:A(t),size:150,padding:0},null,8,["value"]),[[Q,A(t)]])])),_:1},8,["show"]),T(o,null,{default:D((()=>[F("li",null,[K(G(e.$t("Config.Safe.index_76"))+" ",1),F("a",Pa,G(e.$t("Config.Safe.index_77")),1)]),F("li",Ua,G(e.$t("Config.Safe.index_78")),1)])),_:1})])])}}}),[["__scopeId","data-v-493fa0d9"]]),Ba={class:"p-20px"},Ra={class:"text-error"},La={class:"text-error"},Ea={class:"flex items-center justify-between"},za={class:"bt-link",href:"https://www.aapanel.com/forum/d/357-how-to-use-google-authenticator-in-the-aapanel",target:"_blank"},Ha=B({__name:"confirm",setup(e,{expose:t}){const{t:n}=R(),i=L();return t({onConfirm:async()=>{await i.value.validate();const{message:e}=await be({act:1});de.value.dynamicPwd=!0,l({title:n("Config.Safe.index_62"),width:600,component:ja}),b(e)&&y.success(e.result)}}),(e,t)=>{const n=a,l=re,s=fe;return H(),I("div",Ba,[T(n,{class:"mb-20px"},{default:D((()=>[K(G(e.$t("Config.Safe.index_47")),1)])),_:1}),T(l,{class:"mb-20px"},{default:D((()=>[F("li",Ra,G(e.$t("Config.Safe.index_19")),1),F("li",La,G(e.$t("Config.Safe.index_69")),1),F("li",null,G(e.$t("Config.Safe.index_66")),1),F("li",null,G(e.$t("Config.Safe.index_67")),1)])),_:1}),F("div",Ea,[T(s,{ref_key:"riskRef",ref:i},{default:D((()=>[K(G(e.$t("Config.Safe.index_68")),1)])),_:1},512),F("a",za,G(e.$t("Config.Safe.index_168")),1)])])}}}),Ia={class:"bt-link",href:"https://www.aapanel.com/forum/d/357-how-to-use-google-authenticator-in-the-aapanel",target:"_blank"},Ta=B({__name:"index",setup(a){const{t:t}=R(),n=async e=>{e?i():(await be({act:0},!0),de.value.dynamicPwd=!1)},i=()=>{de.value.dynamicPwd?l({title:t("Config.Safe.index_62"),width:600,component:ja}):l({title:t("Config.Safe.index_63"),width:670,footer:!0,component:Ha})};return(a,t)=>{const l=Y,s=ee,o=e;return H(),M(o,{label:a.$t("Config.Safe.index_60")},{content:D((()=>[T(l,{value:A(de).dynamicPwd,"onUpdate:value":n},null,8,["value"]),T(s,{class:"ml-12px h-22px px-5px",size:"small",onClick:i},{default:D((()=>[K(G(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_61")),1),F("a",Ia,G(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),Da={class:"text-error"},Aa=B({__name:"index",setup(a){const{t:t}=R(),n=async e=>{i({title:t("Config.Safe.index_82",[t(e?"Config.Safe.index_83":"Config.Safe.index_84")]),content:()=>e?T(V,{tag:"div",scope:"global",keypath:"Config.Safe.index_85"},{tips_:()=>T("span",{class:"text-error"},[t("Config.Safe.index_86")])}):T(q,null,[t("Config.Safe.index_87")]),onConfirm:async()=>{await Se(),de.value.pwdComplexity=e}})};return(a,t)=>{const l=Y,i=e;return H(),M(i,{label:a.$t("Config.Safe.index_79")},{content:D((()=>[T(l,{value:A(de).pwdComplexity,"onUpdate:value":n},null,8,["value"])])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_80")),1),F("span",Da,G(a.$t("Config.Safe.index_81")),1)])),_:1},8,["label"])}}}),Fa={class:"w-260px"},Ma={class:"text-error"},Ka=B({__name:"index",setup(a){const t=async()=>{await he(ue()),S()};return(a,n)=>{const l=ne,i=ee,s=e;return H(),M(s,{label:a.$t("Config.Safe.index_88")},{content:D((()=>[F("div",Fa,[T(l,{value:A(de).domain,"onUpdate:value":n[0]||(n[0]=e=>A(de).domain=e),placeholder:""},null,8,["value"])]),T(i,{class:"ml-12px",type:"primary",onClick:t},{default:D((()=>[K(G(a.$t("Public.Btn.Save")),1)])),_:1})])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_89")),1),F("span",Ma,G(a.$t("Config.Safe.index_90")),1)])),_:1},8,["label"])}}}),Ga={class:"w-260px"},Na={class:"text-error"},Ja=B({__name:"index",setup(a){const{t:t}=R(),n=async()=>{let e=/^((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}$/,a=de.value.limitIp.split(",").join("-").split("-"),n=!0;if(a.length)for(let t=0;t<a.length;t++)0==e.test(a[t])&&(n=!1);if(!n&&de.value.limitIp.length>0)return y.error(t("Config.Safe.index_95"));await we(ue()),S()};return(a,t)=>{const l=ne,i=ee,s=e;return H(),M(s,{label:a.$t("Config.Safe.index_91")},{content:D((()=>[F("div",Ga,[T(l,{value:A(de).limitIp,"onUpdate:value":t[0]||(t[0]=e=>A(de).limitIp=e),placeholder:a.$t("Config.Safe.index_92")},null,8,["value","placeholder"])]),T(i,{class:"ml-12px",type:"primary",onClick:n},{default:D((()=>[K(G(a.$t("Public.Btn.Save")),1)])),_:1})])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_93")),1),F("span",Na,G(a.$t("Config.Safe.index_94")),1)])),_:1},8,["label"])}}}),Oa={class:"p-20px"},Qa={class:"text-error"},Va={class:"text-error"},qa={class:"w-210px"},Wa=B({__name:"set",setup(e,{expose:a}){const{t:t}=R(),n=L(),l=L(null),i=E({port:$(de.value.port)}),s={port:{trigger:["blur","input"],validator:()=>!!k(i.port)||new Error(t("Config.Safe.index_104"))}};return a({onConfirm:async()=>{var e;await n.value.validate(),await(null==(e=l.value)?void 0:e.validate());const a=ue();a.port="".concat(i.port),await ye(a),S("".concat(location.protocol,"//").concat(location.hostname,":").concat(i.port).concat(location.pathname))}}),(e,a)=>{const t=re,o=le,d=Z,r=c,f=fe;return H(),I("div",Oa,[T(t,{class:"mb-20px"},{default:D((()=>[F("li",Qa,G(e.$t("Config.Safe.index_100")),1),F("li",Va,G(e.$t("Config.Safe.index_101")),1)])),_:1}),T(r,{ref_key:"formRef",ref:l,model:A(i),rules:s},{default:D((()=>[T(d,{label:e.$t("Config.Safe.index_96"),path:"port","label-width":"auto","label-style":{paddingLeft:"24px"}},{default:D((()=>[F("div",qa,[T(o,{value:A(i).port,"onUpdate:value":a[0]||(a[0]=e=>A(i).port=e),min:1,max:65535,"show-button":!1,placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),T(f,{ref_key:"riskRef",ref:n},{default:D((()=>[K(G(e.$t("Config.Safe.index_102"))+" ",1),F("a",{class:"bt-link",href:"https://www.aapanel.com/forum/d/599-how-to-release-the-aapanel-port",target:"_blank",onClick:W((()=>!1),["stop"])},G(e.$t("Config.Safe.index_103")),1)])),_:1},512)])}}}),Xa={class:"w-260px"},Ya={class:"text-error"},Za=B({__name:"index",setup(a){const{t:t}=R(),n=async()=>{l({title:t("Config.Safe.index_99"),width:400,footer:!0,component:Wa})};return(a,t)=>{const l=ne,i=ee,s=e;return H(),M(s,{label:a.$t("Config.Safe.index_96")},{content:D((()=>[F("div",Xa,[T(l,{value:A(de).port,disabled:!0,placeholder:""},null,8,["value"])]),T(i,{class:"ml-12px",type:"primary",onClick:n},{default:D((()=>[K(G(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_97")),1),F("span",Ya,G(a.$t("Config.Safe.index_98")),1)])),_:1},8,["label"])}}}),et={class:"px-20px pt-28px pb-8px"},at={class:"w-240px"},tt=B({__name:"set",setup(e,{expose:a}){const{t:t}=R(),n=L(null),l=E({adminPath:de.value.adminPath}),i={adminPath:{trigger:["blur","input"],validator:()=>""!==l.adminPath.trim()||new Error(t("Config.Safe.index_108"))}};return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await $e({admin_path:P(l.adminPath)}),de.value.adminPath=l.adminPath}}),(e,a)=>{const t=ne,s=Z,o=c;return H(),I("div",et,[T(o,{ref_key:"formRef",ref:n,model:A(l),rules:i},{default:D((()=>[T(s,{label:e.$t("Config.Safe.index_105"),path:"adminPath"},{default:D((()=>[F("div",at,[T(t,{value:A(l).adminPath,"onUpdate:value":a[0]||(a[0]=e=>A(l).adminPath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),nt={class:"w-260px"},lt=B({__name:"index",setup(a){const{t:t}=R(),n=async()=>{l({title:t("Config.Safe.index_107"),width:440,footer:!0,component:tt})};return(a,t)=>{const l=ne,i=ee,s=e;return H(),M(s,{label:a.$t("Config.Safe.index_105")},{content:D((()=>[F("div",nt,[T(l,{value:A(de).adminPath,disabled:!0,placeholder:""},null,8,["value"])]),T(i,{class:"ml-12px",type:"primary",onClick:n},{default:D((()=>[K(G(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_106")),1)])),_:1},8,["label"])}}}),it={class:"px-20px py-24px"},st={class:"w-200px"},ot={class:"text-error"},dt=B({__name:"set",setup(e,{expose:a}){const{t:t}=R(),n=L(null),l=E({status_code:de.value.statusCode}),i={},s=[{value:403,label:t("Config.Safe.index_111")},{value:404,label:t("Config.Safe.index_112")},{value:416,label:t("Config.Safe.index_113")},{value:408,label:t("Config.Safe.index_114")},{value:400,label:t("Config.Safe.index_115")},{value:401,label:t("Config.Safe.index_116")}];return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await ke({status_code:l.status_code}),de.value.statusCode=l.status_code}}),(e,a)=>{const t=ie,o=Z,d=c,r=Ee;return H(),I("div",it,[T(d,{ref_key:"formRef",ref:n,model:A(l),rules:i},{default:D((()=>[T(o,{label:e.$t("Config.Safe.index_118"),path:"adminPath"},{default:D((()=>[F("div",st,[T(t,{value:A(l).status_code,"onUpdate:value":a[0]||(a[0]=e=>A(l).status_code=e),options:s},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),T(r,null,{default:D((()=>[F("li",ot,G(e.$t("Config.Safe.index_119")),1)])),_:1})])}}}),rt={class:"w-260px"},ft=B({__name:"index",setup(a){const{t:t}=R(),n=new Map([[403,t("Config.Safe.index_111")],[404,t("Config.Safe.index_112")],[416,t("Config.Safe.index_113")],[408,t("Config.Safe.index_114")],[400,t("Config.Safe.index_115")],[401,t("Config.Safe.index_116")]]),i=X((()=>n.get(de.value.statusCode)||"--")),s=async()=>{l({title:t("Config.Safe.index_117"),width:420,footer:!0,component:dt})};return(a,t)=>{const n=ne,l=ee,o=e;return H(),M(o,{label:a.$t("Config.Safe.index_109")},{content:D((()=>[F("div",rt,[T(n,{value:A(i),disabled:!0,placeholder:""},null,8,["value"])]),T(l,{class:"ml-12px",type:"primary",onClick:s},{default:D((()=>[K(G(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_110")),1)])),_:1},8,["label"])}}}),ut={class:"px-20px py-24px"},pt={class:"w-120px"},ct={class:"text-error"},_t=B({__name:"set",setup(e,{expose:a}){const{t:t}=R(),n=L(null),l=E({day:de.value.pwdSetDay}),i={day:{trigger:["blur","input"],validator:()=>l.day<0?new Error(t("Config.Safe.index_128")):!(!l.day&&0!==l.day)||new Error(t("Config.Safe.index_129"))}};return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await Pe({expire:l.day}),pe()}}),(e,a)=>{const t=le,s=Z,o=c,d=Ee;return H(),I("div",ut,[T(o,{ref_key:"formRef",ref:n,model:A(l),rules:i},{default:D((()=>[T(s,{label:e.$t("Config.Safe.index_120"),path:"day"},{default:D((()=>[F("div",pt,[T(t,{value:A(l).day,"onUpdate:value":a[0]||(a[0]=e=>A(l).day=e),min:0,"show-button":!1,placeholder:""},{suffix:D((()=>[K(G(e.$t("Public.Unit.Day",A(l).day)),1)])),_:1},8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),T(d,{class:"mt-4px"},{default:D((()=>[F("li",ct,G(e.$t("Config.Safe.index_126")),1),F("li",null,G(e.$t("Config.Safe.index_127")),1)])),_:1})])}}}),xt={class:"w-260px"},mt=B({__name:"index",setup(a){const{t:t}=R(),n=X((()=>{const{pwdSetDay:e,pwdExpireDay:a,pwdExpireTime:n}=de.value;return 0===e?t("Config.Safe.index_122"):t("Config.Safe.index_123",[U(n),a])})),i=async()=>{l({title:t("Config.Safe.index_124"),width:360,footer:!0,component:_t})};return(a,t)=>{const l=ne,s=ee,o=e;return H(),M(o,{label:a.$t("Config.Safe.index_120")},{content:D((()=>[F("div",xt,[T(l,{value:A(n),disabled:!0,placeholder:""},null,8,["value"])]),T(s,{class:"ml-12px",type:"primary",onClick:i},{default:D((()=>[K(G(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_121")),1)])),_:1},8,["label"])}}}),gt={class:"p-20px"},vt={class:"mb-12px"},Ct={class:"mb-12px"},bt={class:"mb-20px"},St=B({__name:"set-add-result",props:{address:{default:""}},setup(e){const a=e,t=()=>{s(a.address)};return(e,a)=>{const n=ze,l=ee,i=Ee;return H(),I("div",gt,[F("div",vt,G(e.$t("Config.Safe.index_147")),1),F("div",Ct,[T(n,{value:e.address,readonly:"",rows:2},null,8,["value"])]),F("div",bt,[T(l,{type:"primary",onClick:t},{default:D((()=>[K(G(e.$t("Public.Btn.Copy")),1)])),_:1})]),T(i,null,{default:D((()=>[F("li",null,G(e.$t("Config.Safe.index_148")),1),F("li",null,G(e.$t("Config.Safe.index_149")),1),F("li",null,G(e.$t("Config.Safe.index_150")),1)])),_:1})])}}}),ht={class:"p-20px pt-28px pb-8px"},wt={class:"flex mb-24px"},yt={class:"min-w-32px"},$t={class:"flex-1 ml-16px"},kt={class:"leading-24px text-error text-14px"},Pt={class:"w-160px"},Ut=B({__name:"set-add",emits:["refresh"],setup(e,{expose:a,emit:t}){const n=t,{t:i}=R(),s=g(),o=L(null),d=E({type:3,day:1}),r={day:{trigger:["blur","input"],validator:()=>0!==d.type||!(d.day<=0||d.day%1!=0)||new Error(i("Config.Safe.index_145"))}},f=e=>e%1==0,u=(e="")=>{const a="".concat(window.location.protocol,"//").concat(window.location.host),t="".concat(a,"/login?tmp_token=").concat(e);l({title:i("Config.Safe.index_146"),width:580,data:{address:t},component:St})};return a({onConfirm:async()=>{var e;await(null==(e=o.value)?void 0:e.validate());const{message:a}=await Ue({expire_time:60*(0===d.type?24*d.day:d.type)*60+Math.floor(Date.now()/1e3)});b(a)&&(u(a.token),y.success(a.msg),n("refresh"))}}),(e,a)=>{const t=C,n=se,l=oe,i=Z,u=le,p=c;return H(),I("div",ht,[F("div",wt,[F("div",yt,[T(t,{name:"base-warning",size:"32",color:A(s).warningColor},null,8,["color"])]),F("div",$t,[F("div",kt,[F("div",null,G(e.$t("Config.Safe.index_140")),1),F("div",null,G(e.$t("Config.Safe.index_141")),1)])])]),T(p,{ref_key:"formRef",ref:o,model:A(d),rules:r,"label-width":"140"},{default:D((()=>[T(i,{label:e.$t("Config.Safe.index_142")},{default:D((()=>[T(l,{value:A(d).type,"onUpdate:value":a[0]||(a[0]=e=>A(d).type=e)},{default:D((()=>[T(n,{value:3},{default:D((()=>[K("3 "+G(e.$t("Public.Unit.Hour",3)),1)])),_:1}),T(n,{value:6},{default:D((()=>[K("6 "+G(e.$t("Public.Unit.Hour",6)),1)])),_:1}),T(n,{value:9},{default:D((()=>[K("9 "+G(e.$t("Public.Unit.Hour",9)),1)])),_:1}),T(n,{value:12},{default:D((()=>[K("12 "+G(e.$t("Public.Unit.Hour",12)),1)])),_:1}),T(n,{value:0},{default:D((()=>[K(G(e.$t("Config.Safe.index_143")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),O(T(i,{label:e.$t("Config.Safe.index_144"),path:"day"},{default:D((()=>[F("div",Pt,[T(u,{value:A(d).day,"onUpdate:value":a[1]||(a[1]=e=>A(d).day=e),min:1,"show-button":!1,validator:f},{suffix:D((()=>[K(G(e.$t("Public.Unit.Day",A(d).day)),1)])),_:1},8,["value"])])])),_:1},8,["label"]),[[Q,0===A(d).type]])])),_:1},8,["model"])])}}}),jt={class:"p-20px h-500px"},Bt=B({__name:"set-log",props:{id:{default:0}},setup(e){const a=e,{t:t}=R(),{table:n,columns:l,setLoading:i}=o([{key:"type",title:t("Config.Safe.index_151"),width:120,ellipsis:{tooltip:!0}},{key:"addtime",title:t("Config.Safe.index_152"),width:140},{key:"log",title:t("Config.Safe.index_153"),ellipsis:{tooltip:!0}}]),s=async()=>{try{i(!0);const{message:e}=await je({id:a.id});n.data=x(e)?e:[]}finally{i(!1)}};return s(),(e,a)=>{const t=ee,i=Te,o=He;return H(),I("div",jt,[T(o,null,{toolsLeft:D((()=>[T(t,{onClick:s},{default:D((()=>[K(G(e.$t("Public.Btn.Refresh")),1)])),_:1})])),table:D((()=>[T(i,{"max-height":360,loading:A(n).loading,data:A(n).data,columns:A(l)},null,8,["loading","data","columns"])])),_:1})])}}}),Rt={class:"h-500px p-20px"},Lt=B({__name:"set",setup(e){const{t:a}=R(),t=()=>{l({title:a("Config.Safe.index_146"),width:580,footer:!0,component:Ut,data:{onRefresh:()=>{_()}}})},{table:n,columns:s,setLoading:r}=o([{key:"login_addr",title:a("Config.Safe.index_154"),ellipsis:{tooltip:!0},render:e=>e.login_addr||a("Config.Safe.index_155")},{key:"state",title:a("Config.Safe.index_156"),width:100,render:e=>-1===e.state?T("span",{class:"text-error"},[a("Config.Safe.index_166")]):1===e.state?a("Config.Safe.index_157"):T("span",{class:"text-primary"},[a("Config.Safe.index_155")])},{key:"login_time",title:a("Config.Safe.index_158"),width:140,render:e=>0===e.login_time?a("Config.Safe.index_155"):U(e.login_time)},{key:"expire",title:a("Config.Safe.index_159"),width:140,render:e=>U(e.expire)},d({width:160,options:e=>[{label:a("Config.Safe.index_160"),type:"error",show:e.online_state,onClick:()=>{u(e)}},{label:a("Config.Safe.index_161"),show:1===e.state||-1===e.state,onClick:()=>{f(e)}},{label:a("Public.Btn.Del"),onClick:()=>{p(e)}}]})]),f=e=>{l({title:a("Config.Safe.index_161"),width:700,data:{id:e.id},component:Bt})},u=e=>{i({title:a("Config.Safe.index_162",[e.login_addr]),content:a("Config.Safe.index_163",[e.login_addr]),onConfirm:async()=>{await Be({id:e.id}),_()}})},p=e=>{i({title:a("Config.Safe.index_164"),content:a("Config.Safe.index_165"),onConfirm:async()=>{await Re({id:e.id}),_()}})},c=E({p:1,rows:10}),_=async()=>{try{r(!0);const{message:e}=await Le(J(c));b(e)&&(n.data=x(e.data)?e.data:[],n.total=j(e.page))}finally{r(!1)}};return _(),(e,a)=>{const l=ee,i=Te,o=Ie,d=He;return H(),I("div",Rt,[T(d,null,{toolsLeft:D((()=>[T(l,{type:"primary",onClick:t},{default:D((()=>[K(G(e.$t("Config.Safe.index_146")),1)])),_:1})])),table:D((()=>[T(i,{"max-height":340,loading:A(n).loading,data:A(n).data,columns:A(s)},null,8,["loading","data","columns"])])),pageRight:D((()=>[T(o,{page:A(c).p,"onUpdate:page":a[0]||(a[0]=e=>A(c).p=e),"page-size":A(c).rows,"onUpdate:pageSize":a[1]||(a[1]=e=>A(c).rows=e),"item-count":A(n).total,onRefresh:_},null,8,["page","page-size","item-count"])])),_:1})])}}}),Et=B({__name:"index",setup(a){const{t:t}=R(),n=()=>{l({title:t("Config.Safe.index_139"),width:740,component:Lt})};return(a,t)=>{const l=ee,i=e;return H(),M(i,{label:a.$t("Config.Safe.index_137")},{content:D((()=>[T(l,{type:"primary",onClick:n},{default:D((()=>[K(G(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:D((()=>[F("span",null,G(a.$t("Config.Safe.index_138")),1)])),_:1},8,["label"])}}}),zt=w(B({__name:"config",setup:e=>(e,a)=>(H(),I("div",null,[T(t,null,{default:D((()=>[K(G(e.$t("Config.Safe.index_1")),1)])),_:1}),T(Me),T(sa),T(va),T(Ta),T(Aa),T(Ka),T(Ja),T(Za),T(lt),T(ft),T(mt),T(Et)]))}),[["__scopeId","data-v-919bcd3c"]]);export{zt as S};
