import{_ as e,a,C as t}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1742891699271";import{c as n,u as l,a as i,h as s,b as o,f as d}from"./public.js?v=1742891699271";import{a as r,g as f,s as u,b as p}from"./alarm.js?v=1742891699271";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang.js?v=1742891699271";import{_}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1742891699271";import{I as x,K as m,ap as g,aN as v,aO as C,_ as b,aP as S,aQ as h,b as w,aR as y,E as $,aS as k,aT as P,aU as U,k as j,aV as B,m as R,aW as L,aX as E,aY as T,J as z,aZ as I,a_ as D,a$ as H,D as A,b0 as F,b1 as K,W as M,b2 as O,b3 as V,b4 as W,b5 as Y,b6 as q,b7 as J}from"./page_layout.js?v=1742891699271";import{d as N,O as Q,r as X,j as Z,x as G,R as ee,S as ae,P as te,a1 as ne,V as le,U as ie,a0 as se,c as oe,a2 as de,af as re,M as fe,k as ue,v as pe,ab as ce,F as _e,ao as xe,e as me}from"./vue.js?v=1742891699271";import{b$ as ge,ch as ve,T as Ce,a2 as be,cq as Se,_ as he,bY as we,cn as ye,cs as $e,cl as ke}from"./naive.js?v=1742891699271";import{s as Pe,_ as Ue,f as je,h as Be,c as Re}from"./index98.js?v=1742891699271";import{O as Le}from"./open.js?v=1742891699271";import{_ as Ee}from"./index95.js?v=1742891699271";import{_ as Te}from"./index99.js?v=1742891699271";import{_ as ze}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1742891699271";import{_ as Ie}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1742891699271";import{_ as De}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1742891699271";const He={class:"p-20px pt-28px pb-8px"},Ae={class:"w-300px"},Fe=N({__name:"set",props:{open:{type:Boolean,default:!1},taskList:{default:()=>[]}},emits:["refresh"],setup(e,{expose:a,emit:t}){const l=e,i=t,{t:s}=Q(),o=X(null),d=Z({status:!0,method:[]}),u={method:{trigger:["change"],validator:()=>0!==d.method.length||new Error(s("Config.Safe.index_7"))}},p=G([]),{loading:g,setLoading:v}=n();return(()=>{const{open:e,taskList:a}=l;a.length>0&&(d.status=e||a[0].status,d.method=a[0].sender)})(),(async()=>{try{v(!0);const{message:e}=await f();p.value=x(e)?e:[]}finally{v(!1)}})(),a({onConfirm:async()=>{var e;await(null==(e=o.value)?void 0:e.validate()),await r((()=>{const e=p.value.filter((e=>"panel_safe_push"===e.source))[0];return{template_id:e.id,task_data:{task_data:{tid:e.id,type:e.source,title:e.title,status:d.status,count:0,interval:600,project:"",help:600},sender:d.method,number_rule:{day_num:0,total:0},time_rule:{send_interval:0,time_range:[0,86399]}}}})()),i("refresh")}}),(e,a)=>{const t=ge,n=ve,l=_,i=c,s=m;return ee(),ae("div",He,[te(s,{show:le(g)},{default:ne((()=>[te(i,{ref_key:"formRef",ref:o,model:le(d),rules:u},{default:ne((()=>[te(n,{label:e.$t("Config.Safe.index_5")},{default:ne((()=>[te(t,{value:le(d).status,"onUpdate:value":a[0]||(a[0]=e=>le(d).status=e)},null,8,["value"])])),_:1},8,["label"]),te(n,{label:e.$t("Config.Safe.index_6"),path:"method"},{default:ne((()=>[ie("div",Ae,[te(l,{value:le(d).method,"onUpdate:value":a[1]||(a[1]=e=>le(d).method=e)},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["show"])])}}}),Ke=N({__name:"index",setup(a){const{t:t}=Q(),i=X(!1),s=X([]),o=async e=>{e?d(!0):(await u({task_id:s.value[0].id,status:0}),i.value=!1,s.value[0].status=!1)},d=(e=!1)=>{l({title:t("Config.Safe.index_4"),width:480,footer:!0,confirmText:t("Public.Btn.Save"),data:{open:e,taskList:s.value,onRefresh:c},component:Fe})},{loading:r,setLoading:f}=n(),c=async()=>{try{f(!0);const{message:e}=await p();if(x(e)){const a=e.filter((e=>"panel_safe_push"===e.keyword));a&&a.length>0?(i.value=a[0].status,s.value=a):(i.value=!1,s.value=[])}}finally{f(!1)}};return c(),(a,t)=>{const n=ge,l=Ce,s=e;return ee(),se(s,{label:a.$t("Config.Safe.index_2")},{content:ne((()=>[te(n,{loading:le(r),value:le(i),"onUpdate:value":o},null,8,["loading","value"]),te(l,{class:"ml-12px h-22px px-5px",size:"small",onClick:t[0]||(t[0]=e=>d())},{default:ne((()=>[oe(de(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_3")),1)])),_:1},8,["label"])}}}),Me={class:"flex p-20px"},Oe={class:"min-w-32px"},Ve={class:"flex-1 ml-10px text-14px leading-22px"},We={class:"flex items-center min-h-30px mb-12px text-error"},Ye=N({__name:"close",emits:["setConfirm"],setup(e,{expose:a,emit:t}){const n=t,{t:l}=Q(),i=g(),s=X(!1),o=()=>{d>0||n("setConfirm",{disabled:!s.value})};let d=5;return(()=>{n("setConfirm",{text:l("Config.Safe.index_16",[d]),disabled:!0});const e=setInterval((()=>{d--,n("setConfirm",{text:l("Config.Safe.index_16",[d])}),d<=0&&(clearInterval(e),n("setConfirm",{text:l("Config.Safe.index_17"),disabled:!s.value}))}),1e3)})(),a({onConfirm:async()=>(await v(),await C(),setTimeout((()=>{{const e="http:"===location.protocol?"https":"http";window.location.href="".concat(e,"://").concat(window.location.host).concat(Pe.value.adminPath)}}),1500),!1)}),(e,a)=>{const t=b,n=be;return ee(),ae("div",Me,[ie("div",Oe,[te(t,{name:"base-warning",color:le(i).warningColor,size:"32"},null,8,["color"])]),ie("div",Ve,[ie("div",We,de(e.$t("Config.Safe.index_14")),1),te(n,{checked:le(s),"onUpdate:checked":[a[0]||(a[0]=e=>re(s)?s.value=e:null),o]},{default:ne((()=>[oe(de(e.$t("Config.Safe.index_15")),1)])),_:1},8,["checked"])])])}}}),qe={class:"p-20px"},Je={class:"flex flex-wrap py-2px text-primary text-12px"},Ne={class:"mr-24px"},Qe={class:"mr-24px"},Xe={class:"flex gap-20px mt-16px"},Ze={class:"flex-1"},Ge={class:"mb-8px"},ea={class:"flex-1"},aa={class:"mb-8px"},ta={class:"mt-10px"},na={class:"bt-link",href:"http://www.bt.cn/bbs/thread-704-1-1.html",target:"_blank"},la=N({__name:"set",setup(e){const a=X(""),t=X(""),n=Z({subject:"--",issuer:"--",notBefore:"--",notAfter:"--"}),l=async()=>{await S({privateKey:a.value,certPem:t.value},!0),i()},i=async()=>{const{message:e}=await h();w(e)&&(a.value=e.privateKey||"",t.value=e.certPem||"",n.subject=e.info.subject||"",n.issuer=e.info.issuer||"",n.notBefore=e.info.notBefore||"",n.notAfter=e.info.notAfter||"")};return i(),(e,i)=>{const s=Se,o=Te,d=Ce,r=Ee;return ee(),ae("div",qe,[te(s,{type:"success","show-icon":!1},{default:ne((()=>[ie("div",Je,[ie("div",Ne,[oe(de(e.$t("Config.Safe.index_37")),1),ie("b",null,de(le(n).subject),1)]),ie("div",Qe,[oe(de(e.$t("Config.Safe.index_38")),1),ie("b",null,de(le(n).issuer),1)]),ie("div",null,[oe(de(e.$t("Config.Safe.index_39")),1),ie("b",null,de(le(n).notAfter),1)])])])),_:1}),ie("div",Xe,[ie("div",Ze,[ie("div",Ge,de(e.$t("Config.Safe.index_27")),1),te(o,{value:le(a),"onUpdate:value":i[0]||(i[0]=e=>re(a)?a.value=e:null),rows:14,placeholder:""},null,8,["value"])]),ie("div",ea,[ie("div",aa,de(e.$t("Config.Safe.index_28")),1),te(o,{value:le(t),"onUpdate:value":i[1]||(i[1]=e=>re(t)?t.value=e:null),rows:14,placeholder:""},null,8,["value"])])]),ie("div",ta,[te(d,{type:"primary",onClick:l},{default:ne((()=>[oe(de(e.$t("Public.Btn.Save")),1)])),_:1})]),te(r,{class:"mt-12px"},{default:ne((()=>[ie("li",null,[oe(de(e.$t("Config.Safe.index_40"))+" ",1),ie("a",na," ["+de(e.$t("Public.Btn.Help"))+"] ",1)]),ie("li",null,de(e.$t("Config.Safe.index_42")),1),ie("li",null,de(e.$t("Config.Safe.index_43")),1)])),_:1})])}}}),ia={class:"bt-link",href:"https://forum.aapanel.com/d/15210-aapanel-enable-panel-ssl-use-self-signed-certificate-browser-add-secure",target:"_blank"},sa=N({__name:"index",setup(a){const{t:t}=Q(),n=e=>{e?i():s()},i=()=>{l({title:t("Config.Safe.index_11"),width:600,footer:!0,component:Le})},s=()=>{l({title:t("Config.Safe.index_12"),width:400,footer:!0,confirmType:"error",component:Ye})},o=()=>{l({title:t("Config.Safe.index_13"),width:740,component:la})};return(a,t)=>{const l=ge,i=Ce,s=e;return ee(),se(s,{label:a.$t("Config.Safe.index_8")},{content:ne((()=>[te(l,{value:le(Pe).panelSSL,"onUpdate:value":n},null,8,["value"]),te(i,{class:"ml-12px h-22px px-5px",size:"small",onClick:o},{default:ne((()=>[oe(de(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_9")),1),ie("a",ia,de(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),oa={class:"p-20px"},da={class:"w-280px"},ra={class:"w-280px"},fa={class:"text-error"},ua=N({__name:"config",setup(e){const{t:a}=Q(),t=X(null),n=Z({open:"True",basic_user:"",basic_pwd:""}),l={basic_user:{trigger:["blur","input"],validator:()=>"True"!==n.open||""!==n.basic_user.trim()||new Error(a("Config.Safe.index_56"))},basic_pwd:{trigger:["blur","input"],validator:()=>"True"!==n.open||""!==n.basic_pwd.trim()||new Error(a("Config.Safe.index_58"))}},i=async()=>{var e;await(null==(e=t.value)?void 0:e.validate()),await y(fe(n)),$()};return(e,a)=>{const s=ge,o=ve,d=he,r=Ce,f=c,u=Ee;return ee(),ae("div",oa,[te(f,{ref_key:"formRef",ref:t,model:le(n),rules:l},{default:ne((()=>[te(o,{label:e.$t("Config.Safe.index_54")},{default:ne((()=>[te(s,{value:le(n).open,"onUpdate:value":a[0]||(a[0]=e=>le(n).open=e),"checked-value":"True","unchecked-value":"False"},null,8,["value"])])),_:1},8,["label"]),te(o,{label:e.$t("Config.Safe.index_55"),path:"basic_user"},{default:ne((()=>[ie("div",da,[te(d,{value:le(n).basic_user,"onUpdate:value":a[1]||(a[1]=e=>le(n).basic_user=e),placeholder:e.$t("Config.Safe.index_56")},null,8,["value","placeholder"])])])),_:1},8,["label"]),te(o,{label:e.$t("Config.Safe.index_57"),path:"basic_pwd"},{default:ne((()=>[ie("div",ra,[te(d,{value:le(n).basic_pwd,"onUpdate:value":a[2]||(a[2]=e=>le(n).basic_pwd=e),placeholder:e.$t("Config.Safe.index_58")},null,8,["value","placeholder"])])])),_:1},8,["label"]),te(o,{label:" ","show-feedback":!1},{default:ne((()=>[te(r,{type:"primary",onClick:i},{default:ne((()=>[oe(de(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),te(u,{class:"mt-20px pl-12px"},{default:ne((()=>[ie("li",fa,de(e.$t("Config.Safe.index_59")),1),ie("li",null,de(e.$t("Config.Safe.index_48")),1),ie("li",null,de(e.$t("Config.Safe.index_49")),1),ie("li",null,de(e.$t("Config.Safe.index_50")),1),ie("li",null,de(e.$t("Config.Safe.index_51")),1)])),_:1})])}}}),pa={class:"p-20px"},ca={class:"text-error"},_a={class:"flex items-center justify-between"},xa={class:"bt-link",href:"https://www.bt.cn/bbs/thread-34374-1-1.html",target:"_blank"},ma=N({__name:"confirm",setup(e,{expose:t}){const{t:n}=Q(),i=X();return t({onConfirm:async()=>{await i.value.validate(),l({title:n("Config.Safe.index_53"),width:500,component:ua})}}),(e,t)=>{const n=a,l=Ue,s=je;return ee(),ae("div",pa,[te(n,{class:"mb-20px"},{default:ne((()=>[oe(de(e.$t("Config.Safe.index_47")),1)])),_:1}),te(l,{class:"mb-20px"},{default:ne((()=>[ie("li",ca,de(e.$t("Config.Safe.index_19")),1),ie("li",null,de(e.$t("Config.Safe.index_48")),1),ie("li",null,de(e.$t("Config.Safe.index_49")),1),ie("li",null,de(e.$t("Config.Safe.index_50")),1),ie("li",null,de(e.$t("Config.Safe.index_51")),1)])),_:1}),ie("div",_a,[te(s,{ref_key:"riskRef",ref:i},{default:ne((()=>[oe(de(e.$t("Config.Safe.index_29")),1)])),_:1},512),ie("a",xa,de(e.$t("Config.Safe.index_52")),1)])])}}}),ga={class:"bt-link",href:"https://www.bt.cn/bbs/thread-34374-1-1.html",target:"_blank"},va=N({__name:"index",setup(a){const{t:t}=Q(),n=async e=>{e?l({title:t("Config.Safe.index_46"),width:650,footer:!0,component:ma}):(await y({open:"False",basic_user:"",basic_pwd:""}),$())};return(a,t)=>{const l=ge,i=e;return ee(),se(i,{label:a.$t("Config.Safe.index_44")},{content:ne((()=>[te(l,{value:le(Pe).basicAuth,"onUpdate:value":n},null,8,["value"])])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_45")),1),ie("a",ga,de(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),Ca={class:"p-20px"},ba={class:"mb-20px text-20px text-center text-#555"},Sa={class:"px-36px"},ha={class:"mb-10px text-16px text-#666"},wa={class:"mb-20px px-24px py-16px bg-#f8f8f8 rounded-4px leading-24px text-14px text-#444 font-500"},ya={class:"text-#666"},$a={class:"text-#666"},ka={class:"mb-20px text-16px text-#666"},Pa={class:"bt-link",href:"",target:"_blank"},Ua={class:"text-error"},ja=j(N({__name:"config",setup(e){const a=Z({key:"--",username:"--"}),t=X(""),{loading:l,setLoading:i}=n();return(async()=>{const{message:e}=await k();w(e)&&(a.key=e.key,a.username=e.username)})(),(async()=>{try{i(!0);const{message:e}=await P({act:1});w(e)&&(t.value=e.result)}finally{i(!1)}})(),(e,n)=>{const i=U,s=m,o=Ee;return ee(),ae("div",Ca,[ie("div",ba,de(e.$t("Config.Safe.index_70")),1),ie("div",Sa,[ie("div",ha,de(e.$t("Config.Safe.index_71")),1),ie("div",wa,[ie("div",null,[oe(de(e.$t("Config.Safe.index_72"))+" ",1),ie("span",ya,de(le(a).username),1)]),ie("div",null,[oe(de(e.$t("Config.Safe.index_73"))+" ",1),ie("span",$a,de(le(a).key),1)]),ie("div",null,[oe(de(e.$t("Config.Safe.index_74"))+" ",1),n[0]||(n[0]=ie("span",{class:"text-#666"},"Time based",-1))])]),ie("div",ka,de(e.$t("Config.Safe.index_75")),1),te(s,{class:"flex justify-center h-150px",show:le(l)},{default:ne((()=>[ue(te(i,{value:le(t),size:150,padding:0},null,8,["value"]),[[pe,le(t)]])])),_:1},8,["show"]),te(o,null,{default:ne((()=>[ie("li",null,[oe(de(e.$t("Config.Safe.index_76"))+" ",1),ie("a",Pa,de(e.$t("Config.Safe.index_77")),1)]),ie("li",Ua,de(e.$t("Config.Safe.index_78")),1)])),_:1})])])}}}),[["__scopeId","data-v-493fa0d9"]]),Ba={class:"p-20px"},Ra={class:"text-error"},La={class:"text-error"},Ea={class:"flex items-center justify-between"},Ta={class:"bt-link",href:"https://www.aapanel.com/forum/d/357-how-to-use-google-authenticator-in-the-aapanel",target:"_blank"},za=N({__name:"confirm",setup(e,{expose:t}){const{t:n}=Q(),i=X();return t({onConfirm:async()=>{await i.value.validate();const{message:e}=await B({act:1});Pe.value.dynamicPwd=!0,l({title:n("Config.Safe.index_62"),width:600,component:ja}),w(e)&&R.success(e.result)}}),(e,t)=>{const n=a,l=Ue,s=je;return ee(),ae("div",Ba,[te(n,{class:"mb-20px"},{default:ne((()=>[oe(de(e.$t("Config.Safe.index_47")),1)])),_:1}),te(l,{class:"mb-20px"},{default:ne((()=>[ie("li",Ra,de(e.$t("Config.Safe.index_19")),1),ie("li",La,de(e.$t("Config.Safe.index_69")),1),ie("li",null,de(e.$t("Config.Safe.index_66")),1),ie("li",null,de(e.$t("Config.Safe.index_67")),1)])),_:1}),ie("div",Ea,[te(s,{ref_key:"riskRef",ref:i},{default:ne((()=>[oe(de(e.$t("Config.Safe.index_68")),1)])),_:1},512),ie("a",Ta,de(e.$t("Config.Safe.index_168")),1)])])}}}),Ia={class:"bt-link",href:"https://www.aapanel.com/forum/d/357-how-to-use-google-authenticator-in-the-aapanel",target:"_blank"},Da=N({__name:"index",setup(a){const{t:t}=Q(),n=async e=>{e?i():(await B({act:0},!0),Pe.value.dynamicPwd=!1)},i=()=>{Pe.value.dynamicPwd?l({title:t("Config.Safe.index_62"),width:600,component:ja}):l({title:t("Config.Safe.index_63"),width:670,footer:!0,component:za})};return(a,t)=>{const l=ge,s=Ce,o=e;return ee(),se(o,{label:a.$t("Config.Safe.index_60")},{content:ne((()=>[te(l,{value:le(Pe).dynamicPwd,"onUpdate:value":n},null,8,["value"]),te(s,{class:"ml-12px h-22px px-5px",size:"small",onClick:i},{default:ne((()=>[oe(de(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_61")),1),ie("a",Ia,de(a.$t("Public.Btn.Help")),1)])),_:1},8,["label"])}}}),Ha={class:"text-error"},Aa=N({__name:"index",setup(a){const{t:t}=Q(),n=async e=>{i({title:t("Config.Safe.index_82",[t(e?"Config.Safe.index_83":"Config.Safe.index_84")]),content:()=>e?te(ce,{tag:"div",scope:"global",keypath:"Config.Safe.index_85"},{tips_:()=>te("span",{class:"text-error"},[t("Config.Safe.index_86")])}):te(_e,null,[t("Config.Safe.index_87")]),onConfirm:async()=>{await L(),Pe.value.pwdComplexity=e}})};return(a,t)=>{const l=ge,i=e;return ee(),se(i,{label:a.$t("Config.Safe.index_79")},{content:ne((()=>[te(l,{value:le(Pe).pwdComplexity,"onUpdate:value":n},null,8,["value"])])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_80")),1),ie("span",Ha,de(a.$t("Config.Safe.index_81")),1)])),_:1},8,["label"])}}}),Fa={class:"w-260px"},Ka={class:"text-error"},Ma=N({__name:"index",setup(a){const t=async()=>{await E(Be()),$()};return(a,n)=>{const l=he,i=Ce,s=e;return ee(),se(s,{label:a.$t("Config.Safe.index_88")},{content:ne((()=>[ie("div",Fa,[te(l,{value:le(Pe).domain,"onUpdate:value":n[0]||(n[0]=e=>le(Pe).domain=e),placeholder:""},null,8,["value"])]),te(i,{class:"ml-12px",type:"primary",onClick:t},{default:ne((()=>[oe(de(a.$t("Public.Btn.Save")),1)])),_:1})])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_89")),1),ie("span",Ka,de(a.$t("Config.Safe.index_90")),1)])),_:1},8,["label"])}}}),Oa={class:"w-260px"},Va={class:"text-error"},Wa=N({__name:"index",setup(a){const{t:t}=Q(),n=async()=>{let e=/^((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}$/,a=Pe.value.limitIp.split(",").join("-").split("-"),n=!0;if(a.length)for(let t=0;t<a.length;t++)0==e.test(a[t])&&(n=!1);if(!n&&Pe.value.limitIp.length>0)return R.error(t("Config.Safe.index_95"));await T(Be()),$()};return(a,t)=>{const l=he,i=Ce,s=e;return ee(),se(s,{label:a.$t("Config.Safe.index_91")},{content:ne((()=>[ie("div",Oa,[te(l,{value:le(Pe).limitIp,"onUpdate:value":t[0]||(t[0]=e=>le(Pe).limitIp=e),placeholder:a.$t("Config.Safe.index_92")},null,8,["value","placeholder"])]),te(i,{class:"ml-12px",type:"primary",onClick:n},{default:ne((()=>[oe(de(a.$t("Public.Btn.Save")),1)])),_:1})])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_93")),1),ie("span",Va,de(a.$t("Config.Safe.index_94")),1)])),_:1},8,["label"])}}}),Ya={class:"p-20px"},qa={class:"text-error"},Ja={class:"text-error"},Na={class:"w-210px"},Qa=N({__name:"set",setup(e,{expose:a}){const{t:t}=Q(),n=X(),l=X(null),i=Z({port:z(Pe.value.port)}),s={port:{trigger:["blur","input"],validator:()=>!!I(i.port)||new Error(t("Config.Safe.index_104"))}};return a({onConfirm:async()=>{var e;await n.value.validate(),await(null==(e=l.value)?void 0:e.validate());const a=Be();a.port="".concat(i.port),await D(a),$("".concat(location.protocol,"//").concat(location.hostname,":").concat(i.port).concat(location.pathname))}}),(e,a)=>{const t=Ue,o=we,d=ve,r=c,f=je;return ee(),ae("div",Ya,[te(t,{class:"mb-20px"},{default:ne((()=>[ie("li",qa,de(e.$t("Config.Safe.index_100")),1),ie("li",Ja,de(e.$t("Config.Safe.index_101")),1)])),_:1}),te(r,{ref_key:"formRef",ref:l,model:le(i),rules:s},{default:ne((()=>[te(d,{label:e.$t("Config.Safe.index_96"),path:"port","label-width":"auto","label-style":{paddingLeft:"24px"}},{default:ne((()=>[ie("div",Na,[te(o,{value:le(i).port,"onUpdate:value":a[0]||(a[0]=e=>le(i).port=e),min:1,max:65535,"show-button":!1,placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),te(f,{ref_key:"riskRef",ref:n},{default:ne((()=>[oe(de(e.$t("Config.Safe.index_102"))+" ",1),ie("a",{class:"bt-link",href:"https://www.aapanel.com/forum/d/599-how-to-release-the-aapanel-port",target:"_blank",onClick:xe((()=>!1),["stop"])},de(e.$t("Config.Safe.index_103")),1)])),_:1},512)])}}}),Xa={class:"w-260px"},Za={class:"text-error"},Ga=N({__name:"index",setup(a){const{t:t}=Q(),n=async()=>{l({title:t("Config.Safe.index_99"),width:400,footer:!0,component:Qa})};return(a,t)=>{const l=he,i=Ce,s=e;return ee(),se(s,{label:a.$t("Config.Safe.index_96")},{content:ne((()=>[ie("div",Xa,[te(l,{value:le(Pe).port,disabled:!0,placeholder:""},null,8,["value"])]),te(i,{class:"ml-12px",type:"primary",onClick:n},{default:ne((()=>[oe(de(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_97")),1),ie("span",Za,de(a.$t("Config.Safe.index_98")),1)])),_:1},8,["label"])}}}),et={class:"px-20px pt-28px pb-8px"},at={class:"w-240px"},tt=N({__name:"set",setup(e,{expose:a}){const{t:t}=Q(),n=X(null),l=Z({adminPath:Pe.value.adminPath}),i={adminPath:{trigger:["blur","input"],validator:()=>""!==l.adminPath.trim()||new Error(t("Config.Safe.index_108"))}};return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await H({admin_path:A(l.adminPath)}),Pe.value.adminPath=l.adminPath}}),(e,a)=>{const t=he,s=ve,o=c;return ee(),ae("div",et,[te(o,{ref_key:"formRef",ref:n,model:le(l),rules:i},{default:ne((()=>[te(s,{label:e.$t("Config.Safe.index_105"),path:"adminPath"},{default:ne((()=>[ie("div",at,[te(t,{value:le(l).adminPath,"onUpdate:value":a[0]||(a[0]=e=>le(l).adminPath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),nt={class:"w-260px"},lt=N({__name:"index",setup(a){const{t:t}=Q(),n=async()=>{l({title:t("Config.Safe.index_107"),width:440,footer:!0,component:tt})};return(a,t)=>{const l=he,i=Ce,s=e;return ee(),se(s,{label:a.$t("Config.Safe.index_105")},{content:ne((()=>[ie("div",nt,[te(l,{value:le(Pe).adminPath,disabled:!0,placeholder:""},null,8,["value"])]),te(i,{class:"ml-12px",type:"primary",onClick:n},{default:ne((()=>[oe(de(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_106")),1)])),_:1},8,["label"])}}}),it={class:"px-20px py-24px"},st={class:"w-200px"},ot={class:"text-error"},dt=N({__name:"set",setup(e,{expose:a}){const{t:t}=Q(),n=X(null),l=Z({status_code:Pe.value.statusCode}),i={},s=[{value:403,label:t("Config.Safe.index_111")},{value:404,label:t("Config.Safe.index_112")},{value:416,label:t("Config.Safe.index_113")},{value:408,label:t("Config.Safe.index_114")},{value:400,label:t("Config.Safe.index_115")},{value:401,label:t("Config.Safe.index_116")}];return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await F({status_code:l.status_code}),Pe.value.statusCode=l.status_code}}),(e,a)=>{const t=ye,o=ve,d=c,r=Ee;return ee(),ae("div",it,[te(d,{ref_key:"formRef",ref:n,model:le(l),rules:i},{default:ne((()=>[te(o,{label:e.$t("Config.Safe.index_118"),path:"adminPath"},{default:ne((()=>[ie("div",st,[te(t,{value:le(l).status_code,"onUpdate:value":a[0]||(a[0]=e=>le(l).status_code=e),options:s},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),te(r,null,{default:ne((()=>[ie("li",ot,de(e.$t("Config.Safe.index_119")),1)])),_:1})])}}}),rt={class:"w-260px"},ft=N({__name:"index",setup(a){const{t:t}=Q(),n=new Map([[403,t("Config.Safe.index_111")],[404,t("Config.Safe.index_112")],[416,t("Config.Safe.index_113")],[408,t("Config.Safe.index_114")],[400,t("Config.Safe.index_115")],[401,t("Config.Safe.index_116")]]),i=me((()=>n.get(Pe.value.statusCode)||"--")),s=async()=>{l({title:t("Config.Safe.index_117"),width:420,footer:!0,component:dt})};return(a,t)=>{const n=he,l=Ce,o=e;return ee(),se(o,{label:a.$t("Config.Safe.index_109")},{content:ne((()=>[ie("div",rt,[te(n,{value:le(i),disabled:!0,placeholder:""},null,8,["value"])]),te(l,{class:"ml-12px",type:"primary",onClick:s},{default:ne((()=>[oe(de(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_110")),1)])),_:1},8,["label"])}}}),ut={class:"px-20px py-24px"},pt={class:"w-120px"},ct={class:"text-error"},_t=N({__name:"set",setup(e,{expose:a}){const{t:t}=Q(),n=X(null),l=Z({day:Pe.value.pwdSetDay}),i={day:{trigger:["blur","input"],validator:()=>l.day<0?new Error(t("Config.Safe.index_128")):!(!l.day&&0!==l.day)||new Error(t("Config.Safe.index_129"))}};return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await K({expire:l.day}),Re()}}),(e,a)=>{const t=we,s=ve,o=c,d=Ee;return ee(),ae("div",ut,[te(o,{ref_key:"formRef",ref:n,model:le(l),rules:i},{default:ne((()=>[te(s,{label:e.$t("Config.Safe.index_120"),path:"day"},{default:ne((()=>[ie("div",pt,[te(t,{value:le(l).day,"onUpdate:value":a[0]||(a[0]=e=>le(l).day=e),min:0,"show-button":!1,placeholder:""},{suffix:ne((()=>[oe(de(e.$t("Public.Unit.Day",le(l).day)),1)])),_:1},8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),te(d,{class:"mt-4px"},{default:ne((()=>[ie("li",ct,de(e.$t("Config.Safe.index_126")),1),ie("li",null,de(e.$t("Config.Safe.index_127")),1)])),_:1})])}}}),xt={class:"w-260px"},mt=N({__name:"index",setup(a){const{t:t}=Q(),n=me((()=>{const{pwdSetDay:e,pwdExpireDay:a,pwdExpireTime:n}=Pe.value;return 0===e?t("Config.Safe.index_122"):t("Config.Safe.index_123",[M(n),a])})),i=async()=>{l({title:t("Config.Safe.index_124"),width:360,footer:!0,component:_t})};return(a,t)=>{const l=he,s=Ce,o=e;return ee(),se(o,{label:a.$t("Config.Safe.index_120")},{content:ne((()=>[ie("div",xt,[te(l,{value:le(n),disabled:!0,placeholder:""},null,8,["value"])]),te(s,{class:"ml-12px",type:"primary",onClick:i},{default:ne((()=>[oe(de(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_121")),1)])),_:1},8,["label"])}}}),gt={class:"p-20px"},vt={class:"mb-12px"},Ct={class:"mb-12px"},bt={class:"mb-20px"},St=N({__name:"set-add-result",props:{address:{default:""}},setup(e){const a=e,t=()=>{s(a.address)};return(e,a)=>{const n=Te,l=Ce,i=Ee;return ee(),ae("div",gt,[ie("div",vt,de(e.$t("Config.Safe.index_147")),1),ie("div",Ct,[te(n,{value:e.address,readonly:"",rows:2},null,8,["value"])]),ie("div",bt,[te(l,{type:"primary",onClick:t},{default:ne((()=>[oe(de(e.$t("Public.Btn.Copy")),1)])),_:1})]),te(i,null,{default:ne((()=>[ie("li",null,de(e.$t("Config.Safe.index_148")),1),ie("li",null,de(e.$t("Config.Safe.index_149")),1),ie("li",null,de(e.$t("Config.Safe.index_150")),1)])),_:1})])}}}),ht={class:"p-20px pt-28px pb-8px"},wt={class:"flex mb-24px"},yt={class:"min-w-32px"},$t={class:"flex-1 ml-16px"},kt={class:"leading-24px text-error text-14px"},Pt={class:"w-160px"},Ut=N({__name:"set-add",emits:["refresh"],setup(e,{expose:a,emit:t}){const n=t,{t:i}=Q(),s=g(),o=X(null),d=Z({type:3,day:1}),r={day:{trigger:["blur","input"],validator:()=>0!==d.type||!(d.day<=0||d.day%1!=0)||new Error(i("Config.Safe.index_145"))}},f=e=>e%1==0,u=(e="")=>{const a="".concat(window.location.protocol,"//").concat(window.location.host),t="".concat(a,"/login?tmp_token=").concat(e);l({title:i("Config.Safe.index_146"),width:580,data:{address:t},component:St})};return a({onConfirm:async()=>{var e;await(null==(e=o.value)?void 0:e.validate());const{message:a}=await O({expire_time:60*(0===d.type?24*d.day:d.type)*60+Math.floor(Date.now()/1e3)});w(a)&&(u(a.token),R.success(a.msg),n("refresh"))}}),(e,a)=>{const t=b,n=$e,l=ke,i=ve,u=we,p=c;return ee(),ae("div",ht,[ie("div",wt,[ie("div",yt,[te(t,{name:"base-warning",size:"32",color:le(s).warningColor},null,8,["color"])]),ie("div",$t,[ie("div",kt,[ie("div",null,de(e.$t("Config.Safe.index_140")),1),ie("div",null,de(e.$t("Config.Safe.index_141")),1)])])]),te(p,{ref_key:"formRef",ref:o,model:le(d),rules:r,"label-width":"140"},{default:ne((()=>[te(i,{label:e.$t("Config.Safe.index_142")},{default:ne((()=>[te(l,{value:le(d).type,"onUpdate:value":a[0]||(a[0]=e=>le(d).type=e)},{default:ne((()=>[te(n,{value:3},{default:ne((()=>[oe("3 "+de(e.$t("Public.Unit.Hour",3)),1)])),_:1}),te(n,{value:6},{default:ne((()=>[oe("6 "+de(e.$t("Public.Unit.Hour",6)),1)])),_:1}),te(n,{value:9},{default:ne((()=>[oe("9 "+de(e.$t("Public.Unit.Hour",9)),1)])),_:1}),te(n,{value:12},{default:ne((()=>[oe("12 "+de(e.$t("Public.Unit.Hour",12)),1)])),_:1}),te(n,{value:0},{default:ne((()=>[oe(de(e.$t("Config.Safe.index_143")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),ue(te(i,{label:e.$t("Config.Safe.index_144"),path:"day"},{default:ne((()=>[ie("div",Pt,[te(u,{value:le(d).day,"onUpdate:value":a[1]||(a[1]=e=>le(d).day=e),min:1,"show-button":!1,validator:f},{suffix:ne((()=>[oe(de(e.$t("Public.Unit.Day",le(d).day)),1)])),_:1},8,["value"])])])),_:1},8,["label"]),[[pe,0===le(d).type]])])),_:1},8,["model"])])}}}),jt={class:"p-20px h-500px"},Bt=N({__name:"set-log",props:{id:{default:0}},setup(e){const a=e,{t:t}=Q(),{table:n,columns:l,setLoading:i}=o([{key:"type",title:t("Config.Safe.index_151"),width:120,ellipsis:{tooltip:!0}},{key:"addtime",title:t("Config.Safe.index_152"),width:140},{key:"log",title:t("Config.Safe.index_153"),ellipsis:{tooltip:!0}}]),s=async()=>{try{i(!0);const{message:e}=await V({id:a.id});n.data=x(e)?e:[]}finally{i(!1)}};return s(),(e,a)=>{const t=Ce,i=De,o=ze;return ee(),ae("div",jt,[te(o,null,{toolsLeft:ne((()=>[te(t,{onClick:s},{default:ne((()=>[oe(de(e.$t("Public.Btn.Refresh")),1)])),_:1})])),table:ne((()=>[te(i,{"max-height":360,loading:le(n).loading,data:le(n).data,columns:le(l)},null,8,["loading","data","columns"])])),_:1})])}}}),Rt={class:"h-500px p-20px"},Lt=N({__name:"set",setup(e){const{t:a}=Q(),t=()=>{l({title:a("Config.Safe.index_146"),width:580,footer:!0,component:Ut,data:{onRefresh:()=>{_()}}})},{table:n,columns:s,setLoading:r}=o([{key:"login_addr",title:a("Config.Safe.index_154"),ellipsis:{tooltip:!0},render:e=>e.login_addr||a("Config.Safe.index_155")},{key:"state",title:a("Config.Safe.index_156"),width:100,render:e=>-1===e.state?te("span",{class:"text-error"},[a("Config.Safe.index_166")]):1===e.state?a("Config.Safe.index_157"):te("span",{class:"text-primary"},[a("Config.Safe.index_155")])},{key:"login_time",title:a("Config.Safe.index_158"),width:140,render:e=>0===e.login_time?a("Config.Safe.index_155"):M(e.login_time)},{key:"expire",title:a("Config.Safe.index_159"),width:140,render:e=>M(e.expire)},d({width:160,options:e=>[{label:a("Config.Safe.index_160"),type:"error",show:e.online_state,onClick:()=>{u(e)}},{label:a("Config.Safe.index_161"),show:1===e.state||-1===e.state,onClick:()=>{f(e)}},{label:a("Public.Btn.Del"),onClick:()=>{p(e)}}]})]),f=e=>{l({title:a("Config.Safe.index_161"),width:700,data:{id:e.id},component:Bt})},u=e=>{i({title:a("Config.Safe.index_162",[e.login_addr]),content:a("Config.Safe.index_163",[e.login_addr]),onConfirm:async()=>{await W({id:e.id}),_()}})},p=e=>{i({title:a("Config.Safe.index_164"),content:a("Config.Safe.index_165"),onConfirm:async()=>{await Y({id:e.id}),_()}})},c=Z({p:1,rows:10}),_=async()=>{try{r(!0);const{message:e}=await q(fe(c));w(e)&&(n.data=x(e.data)?e.data:[],n.total=J(e.page))}finally{r(!1)}};return _(),(e,a)=>{const l=Ce,i=De,o=Ie,d=ze;return ee(),ae("div",Rt,[te(d,null,{toolsLeft:ne((()=>[te(l,{type:"primary",onClick:t},{default:ne((()=>[oe(de(e.$t("Config.Safe.index_146")),1)])),_:1})])),table:ne((()=>[te(i,{"max-height":340,loading:le(n).loading,data:le(n).data,columns:le(s)},null,8,["loading","data","columns"])])),pageRight:ne((()=>[te(o,{page:le(c).p,"onUpdate:page":a[0]||(a[0]=e=>le(c).p=e),"page-size":le(c).rows,"onUpdate:pageSize":a[1]||(a[1]=e=>le(c).rows=e),"item-count":le(n).total,onRefresh:_},null,8,["page","page-size","item-count"])])),_:1})])}}}),Et=N({__name:"index",setup(a){const{t:t}=Q(),n=()=>{l({title:t("Config.Safe.index_139"),width:740,component:Lt})};return(a,t)=>{const l=Ce,i=e;return ee(),se(i,{label:a.$t("Config.Safe.index_137")},{content:ne((()=>[te(l,{type:"primary",onClick:n},{default:ne((()=>[oe(de(a.$t("Public.Btn.Set")),1)])),_:1})])),desc:ne((()=>[ie("span",null,de(a.$t("Config.Safe.index_138")),1)])),_:1},8,["label"])}}}),Tt=j(N({__name:"config",setup:e=>(e,a)=>(ee(),ae("div",null,[te(t,null,{default:ne((()=>[oe(de(e.$t("Config.Safe.index_1")),1)])),_:1}),te(Ke),te(sa),te(va),te(Da),te(Aa),te(Ma),te(Wa),te(Ga),te(lt),te(ft),te(mt),te(Et)]))}),[["__scopeId","data-v-919bcd3c"]]);export{Tt as S};
