const __vite__fileDeps=["js/index138.js?v=1721298337096","js/index.js?v=1721298337096","js/vue.js?v=1721298337096","js/pinia.js?v=1721298337096","css/index34.css?v=1721298337096","js/site2.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang14.js?v=1721298337096","js/Progress.js?v=1721298337096","js/DataTable.js?v=1721298337096","js/Checkbox.js?v=1721298337096","js/Ellipsis.js?v=1721298337096","js/Select.js?v=1721298337096","js/Tag.js?v=1721298337096","js/Empty.js?v=1721298337096","js/omit.js?v=1721298337096","js/file2.js?v=1721298337096","js/use-theme-vars.js?v=1721298337096","css/index33.css?v=1721298337096","js/index139.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang.js?v=1721298337096","js/useTableColumns.js?v=1721298337096","css/useTableColumns.css?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang2.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang3.js?v=1721298337096","js/useTableData.js?v=1721298337096","js/Skeleton.js?v=1721298337096","js/useLoading.js?v=1721298337096","js/index64.js?v=1721298337096","css/index9.css?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang4.js?v=1721298337096","js/site.js?v=1721298337096","js/index135.js?v=1721298337096","js/Tabs.js?v=1721298337096","css/index14.css?v=1721298337096","js/index100.js?v=1721298337096","css/index11.css?v=1721298337096","js/index72.js?v=1721298337096","css/index10.css?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang6.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang12.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang8.js?v=1721298337096","js/InputGroupLabel.js?v=1721298337096","js/InputGroup.js?v=1721298337096","js/index68.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang13.js?v=1721298337096","js/Spin.js?v=1721298337096","js/refersh.js?v=1721298337096","js/php.js?v=1721298337096","js/Space.js?v=1721298337096","js/Alert.js?v=1721298337096","js/index136.js?v=1721298337096","css/index15.css?v=1721298337096","js/_createCompounder.js?v=1721298337096","js/index140.js?v=1721298337096","js/uniq.js?v=1721298337096","js/_baseUniq.js?v=1721298337096","js/_baseFindIndex.js?v=1721298337096","js/old3.js?v=1721298337096","js/index141.js?v=1721298337096","js/RadioButton.js?v=1721298337096","js/index142.js?v=1721298337096","js/index143.js?v=1721298337096","js/index144.js?v=1721298337096","js/form.vue_vue_type_script_setup_true_lang2.js?v=1721298337096","css/index32.css?v=1721298337096","js/index145.js?v=1721298337096"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{cF as e,ci as t,aK as a,aV as l,bA as i,aH as n,ck as o,az as s,aB as r,cL as d,aI as c,aT as u,bI as p,bR as m,aJ as h,aM as v,cb as f,b2 as g,cN as w,cO as b,bS as _,bu as y,bY as C,aY as x,at as S,au as k,J as P,j as T,e as L,v as R,h as $,k as W,n as E,B as U,G as O,p as D,ab as M,al as j,cP as I,g as A,q as B,cJ as H,be as z,a as N,ar as q,b5 as V,cQ as Z,cu as X,z as K,_ as F,m as Y,I as G,r as J}from"./index.js?v=1721298337096";import{_ as Q}from"./index64.js?v=1721298337096";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang.js?v=1721298337096";import{_ as te}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1721298337096";import{_ as ae}from"./index.vue_vue_type_script_setup_true_lang3.js?v=1721298337096";import{u as le,_ as ie}from"./useTableData.js?v=1721298337096";import{_ as ne}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1721298337096";import{s as oe}from"./pinia.js?v=1721298337096";import{l as se}from"./site.js?v=1721298337096";import{u as re}from"./useLoading.js?v=1721298337096";import{B as de,_ as ce,i as ue,b as pe,j as me,d as he,e as ve}from"./useTableColumns.js?v=1721298337096";import{V as fe,W as ge,X as we,Y as be,Z as _e,_ as ye,$ as Ce,a0 as xe,a1 as Se,a2 as ke,a3 as Pe,a4 as Te,a5 as Le,a6 as Re,a7 as $e,a8 as We,a9 as Ee,aa as Ue,ab as Oe,ac as De,ad as Me,ae as je,af as Ie,ag as Ae,ah as Be,ai as He,aj as ze,ak as Ne,al as qe,am as Ve,an as Ze,ao as Xe,ap as Ke,aq as Fe,ar as Ye,as as Ge,at as Je,au as Qe,av as et,aw as tt,ax as at,ay as lt,az as it,aA as nt,aB as ot,R as st,aC as rt,aD as dt,aE as ct,aF as ut,aG as pt,aH as mt,a as ht}from"./site2.js?v=1721298337096";import{p as vt,l as ft,d as gt,r as wt,w as bt,y as _t,a as yt,k as Ct,B as xt,J as St,F as kt,M as Pt,$ as Tt,A as Lt,v as Rt,x as $t,I as Wt,a1 as Et,P as Ut,s as Ot,ad as Dt,S as Mt,Z as jt,_ as It,V as At,a3 as Bt,W as Ht,b as zt,q as Nt,f as qt,af as Vt,U as Zt,t as Xt,ag as Kt,n as Ft,al as Yt,a5 as Gt,a6 as Jt,ai as Qt}from"./vue.js?v=1721298337096";import{_ as ea}from"./index135.js?v=1721298337096";import{_ as ta}from"./index100.js?v=1721298337096";import{_ as aa}from"./index72.js?v=1721298337096";import{_ as la,a as ia}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1721298337096";import{_ as na}from"./index.vue_vue_type_script_setup_true_lang12.js?v=1721298337096";import{_ as oa}from"./Select.js?v=1721298337096";import{_ as sa}from"./index68.js?v=1721298337096";import{_ as ra}from"./index.vue_vue_type_script_setup_true_lang13.js?v=1721298337096";import{_ as da}from"./InputGroupLabel.js?v=1721298337096";import{_ as ca}from"./InputGroup.js?v=1721298337096";import{_ as ua,a as pa}from"./Checkbox.js?v=1721298337096";import{_ as ma,a as ha,b as va}from"./refersh.js?v=1721298337096";import{a as fa,b as ga}from"./php.js?v=1721298337096";import{_ as wa}from"./Space.js?v=1721298337096";import{_ as ba}from"./Alert.js?v=1721298337096";import{_ as _a}from"./index136.js?v=1721298337096";import{_ as ya}from"./Spin.js?v=1721298337096";import{_ as Ca}from"./Progress.js?v=1721298337096";import{c as xa}from"./_createCompounder.js?v=1721298337096";import{d as Sa}from"./DataTable.js?v=1721298337096";var ka=xa((function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}));const Pa=e("download",vt("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},vt("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},vt("g",{fill:"currentColor","fill-rule":"nonzero"},vt("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Ta=e("rotateClockwise",vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),vt("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),La=e("rotateClockwise",vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),vt("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),Ra=e("zoomIn",vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),vt("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),$a=e("zoomOut",vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),vt("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),Wa=ft({name:"ResizeSmall",render:()=>vt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},vt("g",{fill:"none"},vt("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}),Ea=t&&"loading"in document.createElement("img"),Ua=new WeakMap,Oa=new WeakMap,Da=new WeakMap,Ma=(e,t,a)=>{if(!e)return()=>{};const l=((e={})=>{var t;const{root:a=null}=e;return{hash:"".concat(e.rootMargin||"0px 0px 0px 0px","-").concat(Array.isArray(e.threshold)?e.threshold.join(","):null!==(t=e.threshold)&&void 0!==t?t:"0"),options:Object.assign(Object.assign({},e),{root:("string"==typeof a?document.querySelector(a):a)||document.documentElement})}})(t),{root:i}=l.options;let n;const o=Ua.get(i);let s,r;o?n=o:(n=new Map,Ua.set(i,n)),n.has(l.hash)?(r=n.get(l.hash),r[1].has(e)||(s=r[0],r[1].add(e),s.observe(e))):(s=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=Oa.get(e.target),a=Da.get(e.target);t&&t(),a&&(a.value=!0)}}))}),l.options),s.observe(e),r=[s,new Set([e])],n.set(l.hash,r));let d=!1;const c=()=>{d||(Oa.delete(e),Da.delete(e),d=!0,r[1].has(e)&&(r[0].unobserve(e),r[1].delete(e)),r[1].size<=0&&n.delete(l.hash),n.size||Ua.delete(i))};return Oa.set(e,c),Da.set(e,a),c},ja=Object.assign(Object.assign({},a.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),Ia=l("n-image");const Aa=i({name:"Image",common:n,peers:{Tooltip:o},self:function(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}}),Ba=vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),Ha=vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),za=vt("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),Na=s([s("body >",[r("image-container","position: fixed;")]),r("image-preview-container","\n position: fixed;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n "),r("image-preview-overlay","\n z-index: -1;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n background: rgba(0, 0, 0, .3);\n ",[d()]),r("image-preview-toolbar","\n z-index: 1;\n position: absolute;\n left: 50%;\n transform: translateX(-50%);\n border-radius: var(--n-toolbar-border-radius);\n height: 48px;\n bottom: 40px;\n padding: 0 12px;\n background: var(--n-toolbar-color);\n box-shadow: var(--n-toolbar-box-shadow);\n color: var(--n-toolbar-icon-color);\n transition: color .3s var(--n-bezier);\n display: flex;\n align-items: center;\n ",[r("base-icon","\n padding: 0 8px;\n font-size: 28px;\n cursor: pointer;\n "),d()]),r("image-preview-wrapper","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n pointer-events: none;\n ",[c()]),r("image-preview","\n user-select: none;\n -webkit-user-select: none;\n pointer-events: all;\n margin: auto;\n max-height: calc(100vh - 32px);\n max-width: calc(100vw - 32px);\n transition: transform .3s var(--n-bezier);\n "),r("image","\n display: inline-flex;\n max-height: 100%;\n max-width: 100%;\n ",[u("preview-disabled","\n cursor: pointer;\n "),s("img","\n border-radius: inherit;\n ")])]),qa=ft({name:"ImagePreview",props:Object.assign(Object.assign({},ja),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=a("Image","-image",Na,Aa,e,gt(e,"clsPrefix"));let l=null;const i=wt(null),n=wt(null),o=wt(void 0),s=wt(!1),r=wt(!1),{localeRef:d}=p("Image");function c(t){var a,l;switch(t.key){case" ":t.preventDefault();break;case"ArrowLeft":null===(a=e.onPrev)||void 0===a||a.call(e);break;case"ArrowRight":null===(l=e.onNext)||void 0===l||l.call(e);break;case"Escape":I()}}bt(s,(e=>{e?_("keydown",document,c):m("keydown",document,c)})),_t((()=>{m("keydown",document,c)}));let u=0,g=0,w=0,b=0,x=0,S=0,k=0,P=0,T=!1;function L(e){const{clientX:t,clientY:a}=e;w=t-u,b=a-g,C(j)}function R(e){const{value:t}=i;if(!t)return{offsetX:0,offsetY:0};const a=t.getBoundingClientRect(),{moveVerticalDirection:l,moveHorizontalDirection:n,deltaHorizontal:o,deltaVertical:s}=e||{};let r=0,d=0;return r=a.width<=window.innerWidth?0:a.left>0?(a.width-window.innerWidth)/2:a.right<window.innerWidth?-(a.width-window.innerWidth)/2:"horizontalRight"===n?Math.min((a.width-window.innerWidth)/2,x-(null!=o?o:0)):Math.max(-(a.width-window.innerWidth)/2,x-(null!=o?o:0)),d=a.height<=window.innerHeight?0:a.top>0?(a.height-window.innerHeight)/2:a.bottom<window.innerHeight?-(a.height-window.innerHeight)/2:"verticalBottom"===l?Math.min((a.height-window.innerHeight)/2,S-(null!=s?s:0)):Math.max(-(a.height-window.innerHeight)/2,S-(null!=s?s:0)),{offsetX:r,offsetY:d}}function $(e){m("mousemove",document,L),m("mouseup",document,$);const{clientX:t,clientY:a}=e;T=!1;const l=function(e){const{mouseUpClientX:t,mouseUpClientY:a,mouseDownClientX:l,mouseDownClientY:i}=e,n=l-t,o=i-a;return{moveVerticalDirection:"vertical".concat(o>0?"Top":"Bottom"),moveHorizontalDirection:"horizontal".concat(n>0?"Left":"Right"),deltaHorizontal:n,deltaVertical:o}}({mouseUpClientX:t,mouseUpClientY:a,mouseDownClientX:k,mouseDownClientY:P}),i=R(l);w=i.offsetX,b=i.offsetY,j()}const W=yt(Ia,null);let E=0,U=1,O=0;function D(){U=1,E=0}function M(){const{value:e}=i;if(!e)return 1;const{innerWidth:t,innerHeight:a}=window,l=e.naturalHeight/(a-32),n=e.naturalWidth/(t-32);return l<1&&n<1?1:Math.max(l,n)}function j(e=!0){var t;const{value:a}=i;if(!a)return;const{style:l}=a,n=Tt(null===(t=null==W?void 0:W.previewedImgPropsRef.value)||void 0===t?void 0:t.style);let o="";if("string"==typeof n)o=n+";";else for(const i in n)o+="".concat(ka(i),": ").concat(n[i],";");const s="transform-origin: center; transform: translateX(".concat(w,"px) translateY(").concat(b,"px) rotate(").concat(O,"deg) scale(").concat(U,");");l.cssText=T?o+"cursor: grabbing; transition: none;"+s:o+"cursor: grab;"+s+(e?"":"transition: none;"),e||a.offsetHeight}function I(){s.value=!s.value,r.value=!0}const A={setPreviewSrc:e=>{o.value=e},setThumbnailEl:e=>{l=e},toggleShow:I};const B=Ct((()=>{const{common:{cubicBezierEaseInOut:e},self:{toolbarIconColor:a,toolbarBorderRadius:l,toolbarBoxShadow:i,toolbarColor:n}}=t.value;return{"--n-bezier":e,"--n-toolbar-icon-color":a,"--n-toolbar-color":n,"--n-toolbar-border-radius":l,"--n-toolbar-box-shadow":i}})),{inlineThemeDisabled:H}=h(),z=H?v("image-preview",void 0,B,e):void 0;return Object.assign({previewRef:i,previewWrapperRef:n,previewSrc:o,show:s,appear:f(),displayed:r,previewedImgProps:null==W?void 0:W.previewedImgPropsRef,handleWheel(e){e.preventDefault()},handlePreviewMousedown:function(e){var t,a;if(null===(a=null===(t=null==W?void 0:W.previewedImgPropsRef.value)||void 0===t?void 0:t.onMousedown)||void 0===a||a.call(t,e),0!==e.button)return;const{clientX:l,clientY:i}=e;T=!0,u=l-w,g=i-b,x=w,S=b,k=l,P=i,j(),_("mousemove",document,L),_("mouseup",document,$)},handlePreviewDblclick:function(e){var t,a;null===(a=null===(t=null==W?void 0:W.previewedImgPropsRef.value)||void 0===t?void 0:t.onDblclick)||void 0===a||a.call(t,e);const l=M();U=U===l?1:l,j()},syncTransformOrigin:function(){const{value:e}=n;if(!l||!e)return;const{style:t}=e,a=l.getBoundingClientRect(),i=a.left+a.width/2,o=a.top+a.height/2;t.transformOrigin="".concat(i,"px ").concat(o,"px")},handleAfterLeave:()=>{D(),O=0,r.value=!1},handleDragStart:e=>{var t,a;null===(a=null===(t=null==W?void 0:W.previewedImgPropsRef.value)||void 0===t?void 0:t.onDragstart)||void 0===a||a.call(t,e),e.preventDefault()},zoomIn:function(){const e=function(){const{value:e}=i;if(!e)return 1;const{innerWidth:t,innerHeight:a}=window,l=Math.max(1,e.naturalHeight/(a-32)),n=Math.max(1,e.naturalWidth/(t-32));return Math.max(3,2*l,2*n)}();U<e&&(E+=1,U=Math.min(e,Math.pow(1.5,E)),j())},zoomOut:function(){if(U>.5){const e=U;E-=1,U=Math.max(.5,Math.pow(1.5,E));const t=e-U;j(!1);const a=R();U+=t,j(!1),U-=t,w=a.offsetX,b=a.offsetY,j()}},handleDownloadClick:function(){const e=o.value;e&&Sa(e,void 0)},rotateCounterclockwise:function(){O-=90,j()},rotateClockwise:function(){O+=90,j()},handleSwitchPrev:function(){var t;D(),O=0,null===(t=e.onPrev)||void 0===t||t.call(e)},handleSwitchNext:function(){var t;D(),O=0,null===(t=e.onNext)||void 0===t||t.call(e)},withTooltip:function(a,l){if(e.showToolbarTooltip){const{value:e}=t;return vt(y,{to:!1,theme:e.peers.Tooltip,themeOverrides:e.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>d.value[l],trigger:()=>a})}return a},resizeToOrignalImageSize:function(){U=M(),E=Math.ceil(Math.log(U)/Math.log(1.5)),w=0,b=0,j()},cssVars:H?void 0:B,themeClass:null==z?void 0:z.themeClass,onRender:null==z?void 0:z.onRender},A)},render(){var e,t;const{clsPrefix:a,renderToolbar:l,withTooltip:i}=this,n=i(vt(g,{clsPrefix:a,onClick:this.handleSwitchPrev},{default:()=>Ba}),"tipPrevious"),o=i(vt(g,{clsPrefix:a,onClick:this.handleSwitchNext},{default:()=>Ha}),"tipNext"),s=i(vt(g,{clsPrefix:a,onClick:this.rotateCounterclockwise},{default:()=>vt(La,null)}),"tipCounterclockwise"),r=i(vt(g,{clsPrefix:a,onClick:this.rotateClockwise},{default:()=>vt(Ta,null)}),"tipClockwise"),d=i(vt(g,{clsPrefix:a,onClick:this.resizeToOrignalImageSize},{default:()=>vt(Wa,null)}),"tipOriginalSize"),c=i(vt(g,{clsPrefix:a,onClick:this.zoomOut},{default:()=>vt($a,null)}),"tipZoomOut"),u=i(vt(g,{clsPrefix:a,onClick:this.handleDownloadClick},{default:()=>vt(Pa,null)}),"tipDownload"),p=i(vt(g,{clsPrefix:a,onClick:this.toggleShow},{default:()=>za}),"tipClose"),m=i(vt(g,{clsPrefix:a,onClick:this.zoomIn},{default:()=>vt(Ra,null)}),"tipZoomIn");return vt(kt,null,null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e),vt(w,{show:this.show},{default:()=>{var e;return this.show||this.displayed?(null===(e=this.onRender)||void 0===e||e.call(this),xt(vt("div",{class:["".concat(a,"-image-preview-container"),this.themeClass],style:this.cssVars,onWheel:this.handleWheel},vt(St,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?vt("div",{class:"".concat(a,"-image-preview-overlay"),onClick:this.toggleShow}):null}),this.showToolbar?vt(St,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?vt("div",{class:"".concat(a,"-image-preview-toolbar")},l?l({nodes:{prev:n,next:o,rotateCounterclockwise:s,rotateClockwise:r,resizeToOriginalSize:d,zoomOut:c,zoomIn:m,download:u,close:p}}):vt(kt,null,this.onPrev?vt(kt,null,n,o):null,s,r,d,c,m,u,p)):null}):null,vt(St,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:e={}}=this;return xt(vt("div",{class:"".concat(a,"-image-preview-wrapper"),ref:"previewWrapperRef"},vt("img",Object.assign({},e,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:["".concat(a,"-image-preview"),e.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[Pt,this.show]])}})),[[b,{enabled:this.show}]])):null}}))}}),Va=l("n-image-group"),Za=ft({name:"ImageGroup",props:ja,setup(e){let t;const{mergedClsPrefixRef:a}=h(e),l="c".concat(x()),i=Rt(),n=e=>{var a;t=e,null===(a=s.value)||void 0===a||a.setPreviewSrc(e)};function o(a){var o,s;if(!(null==i?void 0:i.proxy))return;const r=i.proxy.$el.parentElement.querySelectorAll("[data-group-id=".concat(l,"]:not([data-error=true])"));if(!r.length)return;const d=Array.from(r).findIndex((e=>e.dataset.previewSrc===t));n(~d?r[(d+a+r.length)%r.length].dataset.previewSrc:r[0].dataset.previewSrc),1===a?null===(o=e.onPreviewNext)||void 0===o||o.call(e):null===(s=e.onPreviewPrev)||void 0===s||s.call(e)}Lt(Va,{mergedClsPrefixRef:a,setPreviewSrc:n,setThumbnailEl:e=>{var t;null===(t=s.value)||void 0===t||t.setThumbnailEl(e)},toggleShow:()=>{var e;null===(e=s.value)||void 0===e||e.toggleShow()},groupId:l,renderToolbarRef:gt(e,"renderToolbar")});const s=wt(null);return{mergedClsPrefix:a,previewInstRef:s,next:()=>{o(1)},prev:()=>{o(-1)}}},render(){return vt(qa,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},this.$slots)}}),Xa=ft({name:"Image",props:Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},ja),inheritAttrs:!1,setup(e){const t=wt(null),a=wt(!1),l=wt(null),i=yt(Va,null),{mergedClsPrefixRef:n}=i||h(e),o={click:()=>{if(e.previewDisabled||a.value)return;const n=e.previewSrc||e.src;if(i)return i.setPreviewSrc(n),i.setThumbnailEl(t.value),void i.toggleShow();const{value:o}=l;o&&(o.setPreviewSrc(n),o.setThumbnailEl(t.value),o.toggleShow())}},s=wt(!e.lazy);$t((()=>{var e;null===(e=t.value)||void 0===e||e.setAttribute("data-group-id",(null==i?void 0:i.groupId)||"")})),$t((()=>{if(e.lazy&&e.intersectionObserverOptions){let a;const l=Wt((()=>{null==a||a(),a=void 0,a=Ma(t.value,e.intersectionObserverOptions,s)}));_t((()=>{l(),null==a||a()}))}})),Wt((()=>{var t;e.src||null===(t=e.imgProps)||void 0===t||t.src,a.value=!1}));const r=wt(!1);return Lt(Ia,{previewedImgPropsRef:gt(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:n,groupId:null==i?void 0:i.groupId,previewInstRef:l,imageRef:t,showError:a,shouldStartLoading:s,loaded:r,mergedOnClick:t=>{var a,l;o.click(),null===(l=null===(a=e.imgProps)||void 0===a?void 0:a.onClick)||void 0===l||l.call(a,t)},mergedOnError:t=>{if(!s.value)return;a.value=!0;const{onError:l,imgProps:{onError:i}={}}=e;null==l||l(t),null==i||i(t)},mergedOnLoad:t=>{const{onLoad:a,imgProps:{onLoad:l}={}}=e;null==a||a(t),null==l||l(t),r.value=!0}},o)},render(){var e,t;const{mergedClsPrefix:a,imgProps:l={},loaded:i,$attrs:n,lazy:o}=this,s=null===(t=(e=this.$slots).placeholder)||void 0===t?void 0:t.call(e),r=this.src||l.src,d=vt("img",Object.assign(Object.assign({},l),{ref:"imageRef",width:this.width||l.width,height:this.height||l.height,src:this.showError?this.fallbackSrc:o&&this.intersectionObserverOptions?this.shouldStartLoading?r:void 0:r,alt:this.alt||l.alt,"aria-label":this.alt||l.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Ea&&o&&!this.intersectionObserverOptions?"lazy":"eager",style:[l.style||"",s&&!i?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return vt("div",Object.assign({},n,{role:"none",class:[n.class,"".concat(a,"-image"),(this.previewDisabled||this.showError)&&"".concat(a,"-image--preview-disabled")]}),this.groupId?d:vt(qa,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:a,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar},{default:()=>d,toolbar:()=>{var e,t;return null===(t=(e=this.$slots).toolbar)||void 0===t?void 0:t.call(e)}}),!i&&s)}}),{t:Ka}=S.global,Fa=e=>k.post("/site?action=AddWPSite",{...e,webname:JSON.stringify(e.webname),project_type:"WP2"},{requestOptions:{loading:Ka("WP.api.tamper_7")}}),Ya=e=>k.post("/site?action=get_wp_versions",e),Ga=e=>k.post("/site?action=wp_backup_list",e),Ja=(e,t=!0)=>k.post("/site?action=wp_backup",e,{requestOptions:{loading:t?Ka("WP.api.tamper_9"):"",successMessage:t}}),Qa=(e,t=!0)=>k.post("/site?action=wp_restore",e,{requestOptions:{loading:t?Ka("WP.api.tamper_10"):"",successMessage:!0}}),el=(e,t=!0)=>k.post("/site?action=wp_remove_backup",e,{requestOptions:{loading:t?Ka("WP.api.tamper_8"):"",successMessage:t}}),tl=()=>k.post("/site?action=wp_can_migrate_from_website_to_wptoolkit"),al=()=>k.post("/site?action=wp_migrate_from_website_to_wptoolkit",{},{requestOptions:{loading:Ka("WP.api.tamper_11"),successMessage:!0}}),ll=e=>k.post("/site?action=get_wp_security_info",e),il=e=>k.post("/site?action=open_wp_file_protection",{paths:JSON.stringify(e.paths)},{requestOptions:{loading:Ka("WP.api.tamper_8"),successMessage:!0}}),nl=e=>k.post("/site?action=close_wp_file_protection",e,{requestOptions:{loading:Ka("WP.api.tamper_8"),successMessage:!0}}),ol=e=>k.post("/site?action=get_wp_file_info",e),sl=e=>k.post("/site?action=open_wp_firewall_protection",{obj:"open",...e},{requestOptions:{loading:Ka("WP.api.tamper_8"),successMessage:!0}}),rl=e=>k.post("/site?action=close_wp_firewall_protection",e,{requestOptions:{loading:Ka("WP.api.tamper_8"),successMessage:!0}}),dl=e=>k.post("/site?action=wp_clone",e,{requestOptions:{loading:Ka("WP.api.index_1"),successMessage:!0}}),cl=e=>k.post("/site?action=wp_create_with_aap_bak",e,{requestOptions:{loading:Ka("WP.api.index_2"),successMessage:!0}}),ul=e=>k.post("/site?action=wp_create_with_plesk_or_cpanel_bak",e,{requestOptions:{loading:Ka("WP.api.index_2"),successMessage:!0}}),pl=e=>k.post("/site?action=wp_integrity_check",e,{requestOptions:{loading:"",successMessage:!1,errorMessage:!1}}),ml=e=>k.post("/site?action=wp_reinstall_files",e,{requestOptions:{loading:"",successMessage:!1}});const{t:hl}=S.global;function vl(e){P({title:1===e.length?"".concat(hl("Site.Cert.DelSite")," [").concat(e[0].name,"]"):"".concat(hl("Site.Cert.BathDelSite")),width:480,minHeight:248,footer:!0,data:{rows:e},component:Et((()=>R((()=>import("./index138.js?v=1721298337096")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))))})}function fl({onClick:e}){return{key:"ssl",title:hl("Site.TableRow.SSL"),width:"9%",minWidth:100,render:t=>{let a;const{ssl:l}=t;return T(l)?Ut(L,{type:l.endtime<0?"error":"primary",onClick:()=>{e(t)}},{default:()=>[l.endtime<0?"Expired":"Exp in ".concat(l.endtime," days")]}):Ut(L,{type:"warning",onClick:()=>{e(t)}},"function"==typeof(i=a=hl("WP.index_13"))||"[object Object]"===Object.prototype.toString.call(i)&&!Ot(i)?a:{default:()=>[a]});var i}}}function gl({onClick:e}){return{key:"action",title:hl("Site.TableRow.Operation"),width:130,align:"right",render:t=>Ut(de,{options:[{label:hl("Site.TableOP.Login"),disabled:"0"==t.status,onClick:()=>{window.open(t.login_url,"_blank")}},{label:hl("Site.TableOP.Conf"),onClick:()=>{e(t)}},{label:hl("Site.TableOP.Del"),onClick:()=>{vl([t])}}]},null)}}const wl=e=>{const{row:t}=e;return Ut("a",{class:"text-primary hover:text-primary-hover",href:"javascript:;"},[t.name])},bl=e=>{const{row:t}=e,{t:a}=Dt();return Ut(L,{type:t.backup_count>0?"primary":"warning",onClick:()=>{P({title:"".concat(a("Site.Config.Back.Title")," [").concat(t.name,"]"),width:720,minHeight:200,data:{row:t},component:Et((()=>R((()=>import("./index139.js?v=1721298337096")),__vite__mapDeps([18,19,20,1,2,3,4,7,21,22,8,9,10,11,12,13,14,23,24,25,26,27,28,29,30,5,31,32,33,34,16,35,36,37,38,39,40,41,42,43,44,15,45,46,47,48,49,50,51,52]))))})}},{default:()=>[t.backup_count>0?"Exists(".concat(t.backup_count,")"):"Not exist"]})},_l=e=>{const{row:t}=e;return Ut(L,null,{default:()=>[t.php_version]})},yl=Symbol("server-list");function Cl(){return yt(yl)}const{t:xl}=S.global;function Sl({delDomain:e}){return{key:"action",title:xl("Site.TableRow.OPT"),width:80,align:"right",render:t=>Ut(de,{options:[{label:xl("Site.TableOP.Del"),onClick:()=>{$({title:"".concat(xl("Site.Batch.DeleteDomain.Title"),"[").concat(t.name,"]"),content:xl("Site.Batch.DeleteDomain.Content"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const kl={class:"flex justify-between items-center mb-24px"},Pl={class:"w-400px"},Tl={class:"pr-40px"},Ll=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{data:l}=Cl(),i=wt(""),n=async()=>{""!==i.value.trim()?(await we({id:l.id,webname:l.name,domain:i.value.trim().split("\n").join(",")}),i.value="",h()):E.error(a("Site.RulesError.Domain"))},o=async e=>{await fe({id:l.id,webname:l.name,domain:e.name,port:e.port}),h()},{keys:s,table:r,columns:d}=le([{type:"selection",width:40},{key:"name",title:xl("Site.TableRow.Domain"),render:e=>Ut(L,{href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},{default:()=>[e.name]})},{key:"port",title:xl("Site.TableRow.Port"),width:100},Sl({delDomain:o})]),c=()=>{r.data.length>1?d.value[d.value.length-1]=Sl({delDomain:o}):d.value[d.value.length-1]={key:"action",title:xl("Site.TableRow.OPT"),width:80,align:"right",render:()=>Ut("span",{class:"text-default"},[xl("Site.TableOP.Inoperable")])}},u=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),api:e=>fe({id:l.id,webname:l.name,domain:e.name,port:e.port},!1),done:()=>{h()},columns:[{key:"name",title:a("Site.Cert.HolderTable.Domain"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:p,setLoading:m}=re(),h=async()=>{try{m(!0);const e={id:l.id},{message:t}=await ge(e);r.data=W(t)?t:[],c()}finally{s.value=[],m(!1)}};return h(),t({init:h}),(e,t)=>{const a=ta,l=U,o=ie,c=ae,m=ee;return Mt(),jt("div",null,[It("div",kl,[It("div",Pl,[Ut(a,{value:Ht(i),"onUpdate:value":t[0]||(t[0]=e=>zt(i)?i.value=e:null)},{default:At((()=>[It("p",null,Bt(e.$t("Site.Config.Domain.TopTips.0")),1),It("p",null,Bt(e.$t("Site.Config.Domain.TopTips.1")),1),It("p",null,Bt(e.$t("Site.Config.Domain.TopTips.2")),1)])),_:1},8,["value"])]),It("div",Tl,[Ut(l,{type:"primary",onClick:n},{default:At((()=>[Nt(Bt(e.$t("Site.Cert.Add")),1)])),_:1})])]),Ut(m,null,{table:At((()=>[Ut(o,{"checked-row-keys":Ht(s),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>zt(s)?s.value=e:null),loading:Ht(p),"max-height":400,data:Ht(r).data,columns:Ht(d)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Ut(c,{"checked-row-keys":Ht(s),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>zt(s)?s.value=e:null),data:Ht(r).data,options:u},null,8,["checked-row-keys","data"])])),_:1})])}}}),Rl={class:"pt-16px"},$l={class:"flex-1"},Wl={class:"w-240px"},El={class:"mt-8px text-desc"},Ul={class:"flex-1"},Ol={class:"w-240px"},Dl={class:"mt-12px text-desc"},Ml={class:"my-16px"},jl={class:"text-desc"},Il=It("div",{class:"text-desc"},null,-1),Al={class:"my-20px"},Bl=It("div",{class:"text-desc"},null,-1),Hl={class:"w-240px"},zl={class:"w-240px"},Nl={class:"w-240px"},ql=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{data:l}=Cl(),i=wt("");let n="";const o=async()=>{""!==i.value.trim()?i.value!==n?(await be({id:l.id,name:l.name,path:i.value}),w()):E.success(a("Site.RulesError.OriginalPath")):E.error(a("Site.RulesError.Directory"))},s=wt(null),r=wt([]),d=async()=>{null!==s.value?(await _e({id:l.id,runPath:s.value}),w()):E.error(a("Site.RulesError.RuntimeDirectory"))},c=wt(!1),u=async()=>{await ye({id:l.id,path:l.path}),w()},p=wt(!1),m=async()=>{await Ce({id:l.id}),w()},h=wt(!1),v=qt({username_get:"",password_get_1:"",password_get_2:""}),f=async e=>{e||(await xe({id:l.id}),w())},g=async()=>{""!==v.username_get.trim()?""!==v.password_get_1.trim()?""!==v.password_get_2.trim()?v.username_get.trim().length<3||v.password_get_1.trim().length<3?E.error(a("Site.RulesError.UserName2")):v.password_get_1.trim()===v.password_get_2.trim()?(await Se({id:l.id,username:v.username_get,password:v.password_get_1}),v.username_get="",v.password_get_1="",v.password_get_2="",w()):E.error(a("Site.RulesError.Password3")):E.error(a("Site.RulesError.Password2")):E.error(a("Site.RulesError.Password1")):E.error(a("Site.RulesError.UserName1"))},w=()=>{(async()=>{const{message:e}=await ke({id:l.id});T(e)&&(i.value=e.result||"/www",n=i.value)})(),(async()=>{const{message:e}=await Pe({id:l.id,path:l.path});if(T(e)){s.value=j(e,"runPath.runPath",null),c.value=j(e,"userini",!1),p.value=j(e,"logs.result",!1),h.value=j(e,"pass.result",!1);const t=j(e,"runPath.dirs",[]);r.value=t.map((e=>({label:e,value:e})))}})()};return w(),t({init:w}),(e,t)=>{const a=na,l=U,n=O,w=la,b=oa,_=D,y=ce,C=M,x=ia;return Mt(),jt("div",Rl,[Ut(x,{"label-width":"140"},{default:At((()=>[Ut(w,{label:e.$t("Site.Lable.SiteDirectory"),"show-feedback":!1},{default:At((()=>[It("div",$l,[Ut(n,null,{default:At((()=>[It("div",Wl,[Ut(a,{value:Ht(i),"onUpdate:value":t[0]||(t[0]=e=>zt(i)?i.value=e:null)},null,8,["value"])]),Ut(l,{type:"primary",onClick:o},{default:At((()=>[Nt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1}),It("div",El,Bt(e.$t("Site.Config.SiteDirectory.Content")),1)])])),_:1},8,["label"]),Ut(w,{class:"mt-16px",label:e.$t("Site.Lable.RunningDirectory"),"show-feedback":!1},{default:At((()=>[It("div",Ul,[Ut(n,null,{default:At((()=>[It("div",Ol,[Ut(b,{value:Ht(s),"onUpdate:value":t[1]||(t[1]=e=>zt(s)?s.value=e:null),options:Ht(r)},null,8,["value","options"])]),Ut(l,{type:"primary",onClick:d},{default:At((()=>[Nt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1}),It("div",Dl,Bt(e.$t("Site.Config.SiteDirectory.Content1")),1)])])),_:1},8,["label"]),It("div",Ml,[Ut(_,{dashed:""})]),Ut(w,{label:e.$t("Site.Lable.AntiXSS"),"show-feedback":!1},{default:At((()=>[Ut(n,{class:"items-center"},{default:At((()=>[Ut(y,{value:Ht(c),"onUpdate:value":[t[2]||(t[2]=e=>zt(c)?c.value=e:null),u]},null,8,["value"]),It("div",jl,Bt(e.$t("Site.Config.SiteDirectory.Content2")),1)])),_:1})])),_:1},8,["label"]),Ut(w,{class:"mt-16px",label:e.$t("Site.Lable.WriteAL"),"show-feedback":!1},{default:At((()=>[Ut(n,{class:"items-center"},{default:At((()=>[Ut(y,{value:Ht(p),"onUpdate:value":[t[3]||(t[3]=e=>zt(p)?p.value=e:null),m]},null,8,["value"]),Il])),_:1})])),_:1},8,["label"]),It("div",Al,[Ut(_,{dashed:""})]),Ut(w,{label:e.$t("Site.Lable.PasswordAccess"),"show-feedback":!1},{default:At((()=>[Ut(n,{class:"items-center"},{default:At((()=>[Ut(y,{value:Ht(h),"onUpdate:value":[t[4]||(t[4]=e=>zt(h)?h.value=e:null),f]},null,8,["value"]),Bl])),_:1})])),_:1},8,["label"]),Ht(h)?(Mt(),jt(kt,{key:0},[Ut(w,{class:"mt-16px",label:e.$t("Site.Lable.Authorized"),"show-feedback":!1},{default:At((()=>[It("div",Hl,[Ut(C,{value:Ht(v).username_get,"onUpdate:value":t[5]||(t[5]=e=>Ht(v).username_get=e),placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),Ut(w,{class:"mt-16px",label:e.$t("Site.Lable.PasswordAccess"),"show-feedback":!1},{default:At((()=>[It("div",zl,[Ut(C,{value:Ht(v).password_get_1,"onUpdate:value":t[6]||(t[6]=e=>Ht(v).password_get_1=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),Ut(w,{class:"mt-16px",label:e.$t("Site.Lable.RepeatPassword"),"show-feedback":!1},{default:At((()=>[It("div",Nl,[Ut(C,{value:Ht(v).password_get_2,"onUpdate:value":t[7]||(t[7]=e=>Ht(v).password_get_2=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),Ut(w,{class:"mt-16px",label:" ","show-feedback":!1},{default:At((()=>[Ut(l,{type:"primary",onClick:g},{default:At((()=>[Nt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})],64)):Vt("",!0)])),_:1})])}}}),Vl={class:"mt-8px"},Zl=ft({__name:"index",setup(e,{expose:t}){const{data:a}=Cl(),l=I(),i=wt(null),n=wt((()=>{const{webserver:e}=l,t="openlitespeed"===e?"".concat(e,"/detail"):e;return"/www/server/panel/vhost/".concat(t,"/").concat(a.name,".conf")})()),o=async()=>{var e;null==(e=i.value)||e.getContent()},s=()=>{var e;null==(e=i.value)||e.saveFile()};return $t((()=>{o()})),t({init:o}),(e,t)=>{const a=U,l=sa;return Mt(),jt("div",null,[Ut(ra,{ref_key:"configRef",ref:i,path:Ht(n),"onUpdate:path":t[0]||(t[0]=e=>zt(n)?n.value=e:null),height:"500"},null,8,["path"]),It("div",Vl,[Ut(a,{type:"primary",onClick:s},{default:At((()=>[Nt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})]),Ut(l,{class:"mt-16px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.Config.ConfConfig.Tips.0")),1),It("li",null,Bt(e.$t("Site.Config.ConfConfig.Tips.1")),1)])),_:1})])}}}),Xl={class:"px-20px py-24px"},Kl={class:"w-120px"},Fl={class:"w-120px"},Yl={class:"w-200px"},Gl={class:"w-200px"},Jl={class:"w-200px"},Ql=ft({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Dt(),l=e,{isEdit:i,siteId:n,siteName:o,row:s,getList:r}=l.data,d=wt(null),c=qt({redirectname:"".concat((new Date).valueOf()),type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),u={redirectdomain:{trigger:["change"],validator:()=>0!==c.redirectdomain.length||new Error(a("Site.RulesError.RedirectedDomain"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==c.redirectpath.trim()||new Error(a("Site.RulesError.RedirectedPath"))},tourl:{trigger:["blur","input"],validator:()=>""!==c.tourl.trim()||new Error(a("Site.RulesError.RedirectedUrl"))}},p=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],m=[{label:"301",value:"301"},{label:"302",value:"302"}],h=wt([]),v=()=>{c.redirectdomain=[],c.redirectpath=""},{loading:f,setLoading:g}=re();return i&&s&&(c.redirectname=s.redirectname,c.type=s.type,c.holdpath=s.holdpath,c.redirecttype=s.redirecttype,c.redirectpath=s.redirectpath,c.domainorpath=s.domainorpath,c.redirectdomain=s.redirectdomain,c.tourl=s.tourl),(async()=>{try{g(!0);const{message:e}=await ge({id:n});h.value=W(e)?e.map((e=>({label:e.name,value:e.name}))):[]}finally{g(!1)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate());const a={...Xt(c),sitename:o};i?await Le(a):await Te(a),null==r||r(),e()}}),(e,t)=>{const a=ce,l=la,i=O,n=oa,o=M,s=ia,r=sa;return Mt(),jt("div",Xl,[Ut(s,{ref_key:"formRef",ref:d,model:Ht(c),rules:u},{default:At((()=>[Ut(i,{size:60},{default:At((()=>[Ut(l,{label:e.$t("Site.Lable.Enable")},{default:At((()=>[Ut(a,{value:Ht(c).type,"onUpdate:value":t[0]||(t[0]=e=>Ht(c).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.TableRow.KeepUP"),"label-width":"120"},{default:At((()=>[Ut(a,{value:Ht(c).holdpath,"onUpdate:value":t[1]||(t[1]=e=>Ht(c).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),Ut(i,{size:30},{default:At((()=>[Ut(l,{label:e.$t("Site.TableRow.Type")},{default:At((()=>[It("div",Kl,[Ut(n,{value:Ht(c).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>Ht(c).domainorpath=e),v],options:p},null,8,["value"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.TableRow.Mode"),"label-width":"70"},{default:At((()=>[It("div",Fl,[Ut(n,{value:Ht(c).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>Ht(c).redirecttype=e),options:m},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===Ht(c).domainorpath?(Mt(),Zt(l,{key:0,label:e.$t("Site.Lable.Source"),path:"redirectdomain"},{default:At((()=>[It("div",Yl,[Ut(n,{value:Ht(c).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>Ht(c).redirectdomain=e),multiple:!0,loading:Ht(f),options:Ht(h),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):Vt("",!0),"path"===Ht(c).domainorpath?(Mt(),Zt(l,{key:1,label:e.$t("Site.Lable.Redirect"),path:"redirectpath"},{default:At((()=>[It("div",Gl,[Ut(o,{value:Ht(c).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>Ht(c).redirectpath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Vt("",!0),Ut(l,{label:e.$t("Site.Lable.Target"),path:"tourl"},{default:At((()=>[It("div",Jl,[Ut(o,{value:Ht(c).tourl,"onUpdate:value":t[6]||(t[6]=e=>Ht(c).tourl=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),Ut(r,{class:"mt-12px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.0")),1),It("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.1")),1),It("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.2")),1),It("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.3")),1),It("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.4")),1),It("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.5")),1)])),_:1})])}}}),ei={class:"p-20px"},ti={class:"mt-12px"},ai=ft({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:n}=a.data,o=t,s=I(),r=wt(""),d=wt(""),c=wt(""),u=async()=>{const{message:e}=await $e({path:c.value,data:r.value,encoding:d.value});T(e)&&E.success(e.msg),null==n||n(),o("close")};return(async()=>{const{message:e}=await Re({sitename:i,redirectname:l.redirectname,webserver:s.webserver});T(e)&&(c.value=e.file,r.value=e.data,d.value=e.encoding)})(),(e,t)=>{const a=U,l=sa;return Mt(),jt("div",ei,[Ut(ra,{value:Ht(r),"onUpdate:value":t[0]||(t[0]=e=>zt(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),It("div",ti,[Ut(a,{type:"primary",onClick:u},{default:At((()=>[Nt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})]),Ut(l,{class:"mt-24px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.6")),1)])),_:1})])}}}),li=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{data:l}=Cl(),i=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:n,table:o,columns:s}=le([{type:"selection",width:40},{key:"sitename",title:a("Site.TableRow.Type"),ellipsis:{tooltip:{width:"trigger"}}},{key:"redirecttype",title:a("Site.TableRow.Mode"),width:90},{key:"holdpath",title:a("Site.TableRow.KeepUP"),width:140,render:e=>Ut(L,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await We({...i(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?"Enable":"Turn off"]})},{key:"type",title:"Status",width:100,render:e=>Ut(ue,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await We({...i(e),type:t,holdpath:e.holdpath,status:e.type}),e.type=t}},null)},pe({width:120,options:e=>[{label:a("Site.TableOP.Conf"),onClick:()=>{f(e)}},{label:a("Site.TableOP.Edit"),onClick:()=>{h(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{$({title:"".concat(a("Site.Batch.DeleteRedirection.Label")," [").concat(e.redirectname,"]"),content:a("Site.Batch.DeleteRedirection.Content"),onConfirm:async({hide:t})=>{await Ee({sitename:l.name,redirectname:e.redirectname}),u(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[s.value[1]],api:e=>Ee({sitename:l.name,redirectname:e.redirectname},!1),done:()=>{u()}}}],{loading:d,setLoading:c}=re(),u=async()=>{try{c(!0);const{message:e}=await Ue({sitename:l.name});o.data=W(e)?e:[]}finally{n.value=[],c(!1)}},p=A(a("Site.Config.RedirectConfig.Create"),{row:void 0,siteId:l.id,siteName:l.name,isEdit:!1,getList:u}),m=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.RedirectConfig.Create"),p.show=!0},h=e=>{p.data.row=e,p.data.isEdit=!0,p.title="".concat(a("Site.Config.RedirectConfig.Modify")," [").concat(e.redirectname,"]"),p.show=!0},v=A("",{row:void 0,siteName:l.name,getList:u}),f=e=>{v.data.row=e,v.title="".concat(a("Site.Config.RedirectConfig.Edit")," [").concat(e.redirectname,"]"),v.show=!0};return u(),t({init:u}),(e,t)=>{const a=U,l=ie,i=ae,c=ee,u=B;return Mt(),jt("div",null,[Ut(c,null,{toolsLeft:At((()=>[Ut(a,{type:"primary",onClick:m},{default:At((()=>[Nt(Bt(e.$t("Site.Config.RedirectConfig.Add")),1)])),_:1})])),table:At((()=>[Ut(l,{"checked-row-keys":Ht(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>zt(n)?n.value=e:null),"row-key":"redirectname",loading:Ht(d),"max-height":440,data:Ht(o).data,columns:Ht(s)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Ut(i,{"checked-row-keys":Ht(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>zt(n)?n.value=e:null),"row-key":"redirectname",data:Ht(o).data,options:r},null,8,["checked-row-keys","data"])])),_:1}),Ut(u,{show:Ht(p).show,"onUpdate:show":t[2]||(t[2]=e=>Ht(p).show=e),title:Ht(p).title,data:Ht(p).data,width:660,footer:!0,component:Ql},null,8,["show","title","data"]),Ut(u,{show:Ht(v).show,"onUpdate:show":t[3]||(t[3]=e=>Ht(v).show=e),title:Ht(v).title,data:Ht(v).data,width:580,component:ai},null,8,["show","title","data"])])}}}),ii={class:"px-20px py-24px"},ni={class:"w-220px"},oi={class:"w-220px"},si={class:"w-220px"},ri={class:"w-220px"},di={class:"w-220px"},ci={class:"w-220px"},ui={class:"w-220px"},pi=ft({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Dt(),l=e,{isEdit:i,siteName:n,row:o,getList:s}=l.data,r=wt(null),d=qt({type:1,proxyname:"",cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advanced:0,sitename:n}),c={proxyname:{trigger:["blur","input"],validator:()=>""!==d.proxyname.trim()||new Error(a("Site.RulesError.ProxyName"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===d.cache&&!d.cachetime)||new Error(a("Site.RulesError.CacheTime"))},proxydir:{trigger:["blur","input"],validator:()=>1!==d.advanced||""!==d.proxydir.trim()||new Error(a("Site.RulesError.ProxyDir"))},proxysite:{trigger:["blur","input"],validator:()=>""!==d.proxysite.trim()||new Error(a("Site.RulesError.RedirectedUrl"))},todomain:{trigger:["blur","input"],validator:()=>""!==d.todomain.trim()||new Error(a("Site.RulesError.Sent"))}},u=e=>{e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)?d.todomain="$host":d.todomain=e},p=wt([]),m=()=>{p.value.length>=3||p.value.push({sub1:"",sub2:""})};m();return(()=>{if(i&&o){d.type=o.type,d.cache=o.cache,d.advanced=o.advanced,d.proxyname=o.proxyname,d.cachetime=o.cachetime,d.proxydir=o.proxydir,d.proxysite=o.proxysite,d.todomain=o.todomain,d.sitename=o.sitename;const e=o.subfilter.filter((e=>""!==e.sub1||""!==e.sub2));e.length>0&&(p.value=e)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate());const a=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];return e.forEach(((e,t)=>{p.value.length-1<t||(e.sub1=p.value[t].sub1,e.sub2=p.value[t].sub2)})),{...Xt(d),subfilter:e}})();i?await De(a):await Oe(a),null==s||s(),e()}}),(e,t)=>{const a=ce,l=la,n=O,o=M,s=H,h=da,v=ca,f=L,g=U,w=ia,b=sa;return Mt(),jt("div",ii,[Ut(w,{ref_key:"formRef",ref:r,model:Ht(d),rules:c},{default:At((()=>[Ut(n,{size:32},{default:At((()=>[Ut(l,{label:e.$t("Site.Lable.EnableProxy")},{default:At((()=>[Ut(a,{value:Ht(d).type,"onUpdate:value":t[0]||(t[0]=e=>Ht(d).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.EnableCache"),"label-width":"100"},{default:At((()=>[Ut(a,{value:Ht(d).cache,"onUpdate:value":t[1]||(t[1]=e=>Ht(d).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.Advanced"),"label-width":"126"},{default:At((()=>[Ut(a,{value:Ht(d).advanced,"onUpdate:value":t[2]||(t[2]=e=>Ht(d).advanced=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),Ut(l,{label:e.$t("Site.Lable.ProxyName"),path:"proxyname"},{default:At((()=>[It("div",ni,[Ut(o,{value:Ht(d).proxyname,"onUpdate:value":t[3]||(t[3]=e=>Ht(d).proxyname=e),disabled:Ht(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),1===Ht(d).cache?(Mt(),Zt(l,{key:0,label:e.$t("Site.Lable.CacheTime"),path:"cachetime"},{default:At((()=>[It("div",oi,[Ut(v,null,{default:At((()=>[Ut(s,{value:Ht(d).cachetime,"onUpdate:value":t[4]||(t[4]=e=>Ht(d).cachetime=e),min:1,"show-button":!1,placeholder:""},null,8,["value"]),Ut(h,{class:"w-70px text-center"},{default:At((()=>[Nt(Bt(Ht(d).cachetime>1?"Minutes":"Minute"),1)])),_:1})])),_:1})])])),_:1},8,["label"])):Vt("",!0),1===Ht(d).advanced?(Mt(),Zt(l,{key:1,label:e.$t("Site.TableRow.ProxyDir"),path:"proxydir"},{default:At((()=>[It("div",si,[Ut(o,{value:Ht(d).proxydir,"onUpdate:value":t[5]||(t[5]=e=>Ht(d).proxydir=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Vt("",!0),Ut(l,{label:e.$t("Site.Lable.Target")},{default:At((()=>[It("div",ri,[Ut(o,{value:Ht(d).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>Ht(d).proxysite=e),u],placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.Sent")},{default:At((()=>[It("div",di,[Ut(o,{value:Ht(d).todomain,"onUpdate:value":t[7]||(t[7]=e=>Ht(d).todomain=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.ContentReplace")},{default:At((()=>[Ut(n,{class:"flex-1",vertical:""},{default:At((()=>[(Mt(!0),jt(kt,null,Kt(Ht(p),((t,a)=>(Mt(),Zt(n,{key:"".concat(a+1),class:"items-center"},{default:At((()=>[It("div",ci,[Ut(o,{value:t.sub1,"onUpdate:value":e=>t.sub1=e,placeholder:e.$t("Site.Placeholder.Source")},null,8,["value","onUpdate:value","placeholder"])]),It("div",ui,[Ut(o,{value:t.sub2,"onUpdate:value":e=>t.sub2=e,placeholder:e.$t("Site.Placeholder.Replace")},null,8,["value","onUpdate:value","placeholder"])]),It("div",null,[Ut(f,{type:"error",disabled:0===a&&1===Ht(p).length,onClick:e=>(e=>{p.value.length<=1||p.value.splice(e,1)})(a)},{default:At((()=>[Nt(Bt(e.$t("Site.TableOP.Del")),1)])),_:2},1032,["disabled","onClick"])])])),_:2},1024)))),128)),It("div",null,[Ut(g,{type:"primary",disabled:Ht(p).length>=3,onClick:m},{default:At((()=>[It("span",null,Bt(e.$t("Site.Config.ProxyConfig.Replacement")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["label"])])),_:1},8,["model"]),Ut(b,{class:"mt-12px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.Config.ProxyConfig.Tips.0")),1),It("li",null,Bt(e.$t("Site.Config.ProxyConfig.Tips.1")),1),It("li",null,Bt(e.$t("Site.Config.ProxyConfig.Tips.2")),1),It("li",null,Bt(e.$t("Site.Config.ProxyConfig.Tips.3")),1)])),_:1})])}}}),mi={class:"p-20px"},hi={class:"mt-12px"},vi=ft({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:n}=a.data,o=t,s=I(),r=wt(""),d=wt(""),c=wt(""),u=async()=>{const{message:e}=await je({path:c.value,data:r.value,encoding:d.value});T(e)&&E.success(e.msg),null==n||n(),o("close")};return(async()=>{const{message:e}=await Me({sitename:i,proxyname:l.proxyname,webserver:s.webserver});T(e)&&(c.value=e.file,r.value=e.data,d.value=e.encoding)})(),(e,t)=>{const a=U,l=sa;return Mt(),jt("div",mi,[Ut(ra,{value:Ht(r),"onUpdate:value":t[0]||(t[0]=e=>zt(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),It("div",hi,[Ut(a,{type:"primary",onClick:u},{default:At((()=>[Nt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})]),Ut(l,{class:"mt-24px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.Config.RedirectConfig.Tips.6")),1)])),_:1})])}}}),fi=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{data:l}=Cl(),i=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime}),{keys:n,table:o,columns:s}=le([{type:"selection",width:40},{key:"proxyname",title:a("Site.TableRow.Name"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:a("Site.TableRow.ProxyDir"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:a("Site.Lable.Target"),ellipsis:{tooltip:{width:"trigger"}},render:e=>Ut("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:a("Site.Lable.Cache"),width:90,render:e=>Ut(L,{type:1===e.cache?"primary":"error",onClick:async()=>{await De({...i(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:a("Site.TableRow.Status"),width:90,render:e=>Ut(ue,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await De({...i(e),type:t,cache:e.cache}),e.type=t}},null)},pe({width:120,options:e=>[{label:a("Site.TableOP.Conf"),onClick:()=>{f(e)}},{label:a("Site.TableOP.Edit"),onClick:()=>{h(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{$({title:"".concat(a("Site.Batch.DeleteProxy.Label")," [").concat(e.proxyname,"]"),content:a("Site.Batch.DeleteProxy.Content"),onConfirm:async({hide:t})=>{await Ie({sitename:l.name,proxyname:e.proxyname}),u(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),api:e=>Ie({sitename:l.name,proxyname:e.proxyname},!1),done:()=>{u()},columns:[{key:"proxyname",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:d,setLoading:c}=re(),u=async()=>{try{c(!0);const{message:e}=await Ae({sitename:l.name});o.data=W(e)?e:[]}finally{n.value=[],c(!1)}},p=A(a("Site.Config.ProxyConfig.Create"),{row:void 0,siteName:l.name,isEdit:!1,getList:u}),m=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.ProxyConfig.Create"),p.show=!0},h=e=>{p.data.row=e,p.data.isEdit=!0,p.title="".concat(a("Site.Config.RedirectConfig.Modify")," [").concat(e.proxyname,"]"),p.show=!0},v=A("",{row:void 0,siteName:l.name,getList:u}),f=e=>{v.data.row=e,v.title="".concat(a("Site.Config.RedirectConfig.Edit")," [").concat(e.proxyname,"]"),v.show=!0};return u(),t({init:u}),(e,t)=>{const a=U,l=ie,i=ae,c=ee,u=B;return Mt(),jt("div",null,[Ut(c,null,{toolsLeft:At((()=>[Ut(a,{type:"primary",onClick:m},{default:At((()=>[Nt(Bt(e.$t("Site.Config.ProxyConfig.Add")),1)])),_:1})])),table:At((()=>[Ut(l,{"checked-row-keys":Ht(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>zt(n)?n.value=e:null),"row-key":"proxyname",loading:Ht(d),"max-height":440,data:Ht(o).data,columns:Ht(s)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Ut(i,{"checked-row-keys":Ht(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>zt(n)?n.value=e:null),"row-key":"proxyname",data:Ht(o).data,options:r},null,8,["checked-row-keys","data"])])),_:1}),Ut(u,{show:Ht(p).show,"onUpdate:show":t[2]||(t[2]=e=>Ht(p).show=e),title:Ht(p).title,data:Ht(p).data,width:660,footer:!0,component:pi},null,8,["show","title","data"]),Ut(u,{show:Ht(v).show,"onUpdate:show":t[3]||(t[3]=e=>Ht(v).show=e),title:Ht(v).title,data:Ht(v).data,width:580,component:vi},null,8,["show","title","data"])])}}}),gi={class:"pt-8px"},wi={class:"w-200px"},bi={class:"flex flex-col"},_i={class:"w-200px"},yi={class:"mt-8px text-desc"},Ci={class:"flex flex-col"},xi={class:"w-200px"},Si={class:"mt-8px text-desc"},ki={class:"flex flex-col"},Pi={class:"w-200px"},Ti={class:"mt-8px text-desc"},Li=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{data:l}=Cl(),i=wt(null),n=qt({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),o={perserver:{trigger:["blur","change"],validator:()=>!!n.perserver||new Error(a("Site.RulesError.Concurrency"))},perip:{trigger:["blur","change"],validator:()=>!!n.perip||new Error(a("Site.RulesError.SingleIP"))},limit_rate:{trigger:["blur","change"],validator:()=>!!n.limit_rate||new Error(a("Site.RulesError.Traffic"))}},s=wt([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),r=async e=>{e?u():(await Be({id:l.id}),p())},d=(e,t)=>{const{items:a}=t;T(a)&&c(a)},c=e=>{n.perserver=e.perserver,n.perip=e.perip,n.limit_rate=e.limit_rate},u=async()=>{var e;await(null==(e=i.value)?void 0:e.validate()),await He({id:l.id,perserver:n.perserver,perip:n.perip,limit_rate:n.limit_rate}),p()},p=async()=>{const{message:e}=await ze({id:l.id});T(e)&&(n.status=0!=e.perserver,c(s.value[0].items),z(e.perserver)&&0!=e.perserver&&(n.perserver=e.perserver),z(e.perip)&&0!=e.perip&&(n.perip=e.perip),z(e.limit_rate)&&0!=e.limit_rate&&(n.limit_rate=e.limit_rate))};return p(),t({init:p}),(e,t)=>{const a=ua,l=la,c=oa,p=H,m=U,h=ia;return Mt(),jt("div",gi,[Ut(h,{ref_key:"formRef",ref:i,"label-width":"150",class:"px-8px",model:Ht(n),rules:o},{default:At((()=>[Ut(l,{label:" "},{default:At((()=>[Ut(a,{checked:Ht(n).status,"onUpdate:checked":[t[0]||(t[0]=e=>Ht(n).status=e),r]},{default:At((()=>[Nt(Bt(e.$t("Site.Config.TrafficCofig.Tips.0")),1)])),_:1},8,["checked"])])),_:1}),Ut(l,{label:e.$t("Site.Lable.Limit"),path:"type"},{default:At((()=>[It("div",wi,[Ut(c,{value:Ht(n).type,"onUpdate:value":[t[1]||(t[1]=e=>Ht(n).type=e),d],options:Ht(s)},null,8,["value","options"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.Concurrency"),path:"perserver"},{default:At((()=>[It("div",bi,[It("div",_i,[Ut(p,{value:Ht(n).perserver,"onUpdate:value":t[2]||(t[2]=e=>Ht(n).perserver=e),"show-button":!1,min:0},null,8,["value"])]),It("div",yi,Bt(e.$t("Site.Config.TrafficCofig.Tips.1")),1)])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.BlockIP"),path:"perip"},{default:At((()=>[It("div",Ci,[It("div",xi,[Ut(p,{value:Ht(n).perip,"onUpdate:value":t[3]||(t[3]=e=>Ht(n).perip=e),"show-button":!1,min:0},null,8,["value"])]),It("div",Si,Bt(e.$t("Site.Config.TrafficCofig.Tips.2")),1)])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Config.Traffic"),path:"limit_rate"},{default:At((()=>[It("div",ki,[It("div",Pi,[Ut(p,{value:Ht(n).limit_rate,"onUpdate:value":t[4]||(t[4]=e=>Ht(n).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),It("div",Ti,Bt(e.$t("Site.Config.TrafficCofig.Tips.3")),1)])])),_:1},8,["label"]),Ut(l,{label:" "},{default:At((()=>[Ut(m,{type:"primary",onClick:u},{default:At((()=>[Nt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Ri=ft({__name:"index",setup(e,{expose:t}){const a=Et((()=>R((()=>import("./index140.js?v=1721298337096")),__vite__mapDeps([53,1,2,3,4,38,43,5,44,26,15,11,12,13,45,54,55,56,27,28,19,20,7,21,22,8,9,10,14,23,24,25,29,30,31,32,33,34,16,35,36,37,39,40,41,42,46,47,48,49,50,51,52])))),{t:l}=Dt(),{config:i}=Cl(),n=wt("access"),o=wt(),s=[{key:"directory",label:l("Site.Config.Directory"),component:ql},{key:"file",label:l("Site.Config.File"),component:Zl},{key:"rewrite",label:l("Site.Config.URL"),component:a},{key:"redirect",label:l("Site.Config.Redirect"),component:li},{key:"proxy",label:l("Site.Config.Proxy"),component:fi},{key:"traffic",label:l("Site.Config.Traffic"),component:Li}];return n.value=i.subMenu||"directory",i.subMenu="",t({init:()=>{n.value="directory",Ft((()=>{var e;null==(e=o.value)||e.init()}))}}),(e,t)=>{const a=aa;return Mt(),Zt(a,{value:Ht(n),"onUpdate:value":t[0]||(t[0]=e=>zt(n)?n.value=e:null),ref_key:"tabsRef",ref:o,options:s},null,8,["value"])}}}),$i={class:"p-8"},Wi=It("li",null,"Directory temporarily only supports reading alarm operation",-1),Ei=ft({__name:"form",setup(e,{expose:t}){const a=wt(null),l=wt(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=qt({path:"",operation:[]}),o=(e,t)=>{"dir"===t.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return t({onConfirm:async()=>{var e;await(null==(e=a.value)?void 0:e.validate())}}),(e,t)=>{const s=na,r=la,d=ua,c=wa,u=pa,p=ia,m=O,h=sa;return Mt(),jt("div",$i,[Ut(m,null,{default:At((()=>[Ut(p,{ref_key:"formRef",ref:a,model:Ht(n),rules:i},{default:At((()=>[Ut(r,{label:"Detection path",path:"path"},{default:At((()=>[Ut(s,{disabled:"",value:Ht(n).path,"onUpdate:value":t[0]||(t[0]=e=>Ht(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:o},null,8,["value"])])),_:1}),Ut(r,{label:"Alert operation",path:"operation"},{default:At((()=>[Ut(u,{value:Ht(n).operation,"onUpdate:value":t[1]||(t[1]=e=>Ht(n).operation=e)},{default:At((()=>[Ut(c,null,{default:At((()=>[Ut(d,{value:0},{default:At((()=>[Nt(" Read ")])),_:1}),Ut(d,{value:1,disabled:Ht(l)},{default:At((()=>[Nt(" delete ")])),_:1},8,["disabled"]),Ut(d,{value:2,disabled:Ht(l)},{default:At((()=>[Nt(" Modify/increase ")])),_:1},8,["disabled"])])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),Ut(h,{class:"mt-16px"},{default:At((()=>[Wi])),_:1})])}}}),Ui={class:"p-5"},Oi=It("img",{src:ma,class:"w-5"},null,-1),Di={class:"mt-16px"},Mi=It("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1),ji=It("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1),Ii=ft({__name:"monitor",setup(e){const t=wt(!1),a=wt(!1),l=wt([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=wt([]);return(e,n)=>{const o=U,s=O,r=ie,d=sa,c=B;return Mt(),jt("div",Ui,[It("div",null,[Ut(s,{justify:"space-between"},{default:At((()=>[Ut(o,{type:"primary",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:At((()=>[Nt(" Add monitor ")])),_:1}),Ut(o,null,{icon:At((()=>[Oi])),_:1})])),_:1})]),It("div",Di,[Ut(r,{loading:Ht(a),"loading-num":6,data:Ht(i),columns:Ht(l)},null,8,["loading","data","columns"])]),It("div",null,[Ut(d,{class:"mt-16px"},{default:At((()=>[Mi,ji,It("li",null,[Ut(o,{text:"",class:"color-#20a53a"},{default:At((()=>[Nt("Tutorial")])),_:1})])])),_:1})]),Ut(c,{show:Ht(t),"onUpdate:show":n[1]||(n[1]=e=>zt(t)?t.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:Ei},null,8,["show"])])}}});const Ai=N({},[["render",function(e,t){return Mt(),jt("div",null,"555")}]]),Bi=e=>(Gt("data-v-43bec92c"),e=e(),Jt(),e),Hi={class:"box mt-16px"},zi=Bi((()=>It("div",null,"Site protection",-1))),Ni=Bi((()=>It("div",null,"today: 0",-1))),qi=Bi((()=>It("div",null,"Total alarm: 0",-1))),Vi={key:0,class:"items-center warning"},Zi=Bi((()=>It("img",{src:va,class:"h-8"},null,-1))),Xi={class:"warning"},Ki={class:"color-#f23836"},Fi=Bi((()=>It("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1))),Yi=Bi((()=>It("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1))),Gi=Bi((()=>It("img",{src:ha,class:"h-10"},null,-1))),Ji=N(ft({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=I(),a=wt(!1),l=wt(!1),i=wt(!1),n=e,o=q(),s=()=>{V({source:114})},r=()=>{const e=a.value?"Open the site security alarm":"Close the site security alarm",t=a.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";$({title:e,content:t,onConfirm:async()=>{const e=fa(a.value);console.log(e,"result")},onPublicClose:()=>{a.value=!a.value}})};return(e,d)=>{const c=ce,u=O,p=U,m=sa,h=L,v=Q,f=B;return Mt(),jt(kt,null,[It("div",Hi,[Ut(v,{install:Ht(o).isPro,class:"install"},Yt({default:At((()=>[Ut(u,{class:"items-center color-#666"},{default:At((()=>[zi,It("div",null,[Ut(c,{value:Ht(a),"onUpdate:value":[d[0]||(d[0]=e=>zt(a)?a.value=e:null),r]},null,8,["value"])]),Ni,qi,Ht(a)?Vt("",!0):(Mt(),jt("div",Vi,[Zi,It("span",Xi,[Nt(" Please open "),It("span",Ki,"PHP-"+Bt(n.phpVersion),1),Nt(" protection first ")])]))])),_:1}),Ut(u,{class:"mt-16px"},{default:At((()=>[Ut(p,{onClick:d[1]||(d[1]=e=>l.value=!0)},{default:At((()=>[Nt("Monitor")])),_:1}),Ut(p,{onClick:d[2]||(d[2]=e=>i.value=!0)},{default:At((()=>[Nt("Trigger log")])),_:1})])),_:1}),Ut(m,{class:"mt-16px"},{default:At((()=>[Fi,Yi])),_:1})])),_:2},[n.isInstall?{name:"desc",fn:At((()=>[Ut(u,{class:"items-center"},{default:At((()=>[Gi,It("span",null,[Nt("If you need to use the [PHP website security alarm] function, please buy first "),Ut(h,{onClick:s},{default:At((()=>[Nt("click to buy")])),_:1})])])),_:1})])),key:"0"}:{name:"desc",fn:At((()=>[Ut(u,{class:"items-center"},{default:At((()=>[It("img",{src:ha,class:"h-10"}),It("span",null,[Nt("Currently not installed [PHP website security alarm], "),Ut(h,null,{default:At((()=>[Nt("Click to install")])),_:1})])])),_:1})])),key:"1"}]),1032,["install"])]),Ut(f,{show:Ht(l),"onUpdate:show":d[3]||(d[3]=e=>zt(l)?l.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:Ii},null,8,["show"]),Ut(f,{show:Ht(i),"onUpdate:show":d[4]||(d[4]=e=>zt(i)?i.value=e:null),title:"[".concat(Ht(t).siteName,"] Site security log"),width:1e3,"min-height":148,footer:!1,component:Ai},null,8,["show","title"])],64)}}}),[["__scopeId","data-v-43bec92c"]]),Qi={class:"w-140px"},en={class:"my-16px"},tn={key:0,class:"my-16px"},an=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{data:l}=Cl(),i=I(),n=wt(null),o=wt(!1),s=wt(!1);let r="";const d=wt([]),c=async()=>{null!==n.value?(await Ne({siteName:l.name,version:n.value,other:r}),i.setRefresh(!0),m()):E.error(a("Site.RulesError.PHP"))},u=async()=>{const{message:e}=await Xe({id:l.id});T(e)&&(o.value=e.result)},p=async e=>{await qe({id:l.id,act:e?1:0}),u()},m=()=>{(async()=>{const{message:e}=await ga();T(e)&&(s.value=e.php_status)})(),u(),(async()=>{const{message:e}=await Ze();W(e)&&(d.value=e.reverse().map((e=>({label:e.name,value:e.version}))))})(),(async()=>{const{message:e}=await Ve({siteName:l.name});T(e)&&(n.value=e.phpversion,r=e.php_other||"")})()};return m(),t({init:m}),(e,t)=>{const a=oa,l=U,i=O,r=sa,u=D,m=ce;return Mt(),jt("div",null,[Ut(i,{class:"items-center"},{default:At((()=>[It("div",null,Bt(e.$t("Site.Lable.PHPVersion")),1),It("div",Qi,[Ut(a,{value:Ht(n),"onUpdate:value":t[0]||(t[0]=e=>zt(n)?n.value=e:null),options:Ht(d)},null,8,["value","options"])]),It("div",null,[Ut(l,{type:"primary",onClick:c},{default:At((()=>[Nt(Bt(e.$t("Site.Cert.Switch")),1)])),_:1})])])),_:1}),Ut(r,{class:"mt-16px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.Config.PHP.Tips.0")),1),It("li",null,Bt(e.$t("Site.Config.PHP.Tips.1")),1),It("li",null,Bt(e.$t("Site.Config.PHP.Tips.2")),1),It("li",null,Bt(e.$t("Site.Config.PHP.Tips.3")),1),It("li",null,Bt(e.$t("Site.Config.PHP.Tips.4")),1),It("li",null,Bt(e.$t("Site.Config.PHP.Tips.5")),1)])),_:1}),It("div",en,[Ut(u,{dashed:""})]),Ut(i,{class:"items-center"},{default:At((()=>[It("div",null,Bt(e.$t("Site.Config.PHP.SessionI")),1),It("div",null,[Ut(m,{value:Ht(o),"onUpdate:value":[t[1]||(t[1]=e=>zt(o)?o.value=e:null),p]},null,8,["value"])])])),_:1}),Ut(r,{class:"mt-16px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.Config.PHP.Tips.6")),1),It("li",null,Bt(e.$t("Site.Config.PHP.Tips.7")),1)])),_:1}),Ht(Z)?(Mt(),jt("div",tn,[Ut(u,{dashed:""}),Ut(Ji,{isInstall:Ht(s),phpVersion:Ht(n)},null,8,["isInstall","phpVersion"])])):Vt("",!0)])}}}),ln=ft({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const t=Qt(e,"value"),{loading:a,setLoading:l}=re(),i=wt([]);return(async()=>{try{l(!0);const{message:e}=await Ke();T(e)&&(i.value=Object.entries(e).map((([e,t])=>({label:t,value:e}))))}finally{l(!1)}})(),(e,l)=>{const n=oa;return Mt(),Zt(n,{value:t.value,"onUpdate:value":l[0]||(l[0]=e=>t.value=e),loading:Ht(a),filterable:"",options:Ht(i)},null,8,["value","loading","options"])}}}),nn={class:"w-200px"},on={class:"w-200px mr-8px"},sn={class:"flex flex-col"},rn={class:"mt-8px text-desc"},dn={class:"flex flex-col"},cn={class:"mt-8px text-desc"},un=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),l=I(),i=wt(null),{data:n}=Cl(),o=qt({Login_url:"",redirection_url:"",wps:!1,admin_email:"",home_url:""}),s=wt(!1),r=wt("--"),d=wt("--"),c=Ct((()=>s.value?"".concat(a("WP.RulesError.NewVersion")," (").concat(d.value,") ").concat(a("WP.RulesError.NewVersionLast")):"".concat(a("WP.TableRow.WP")," ").concat(r.value," ").concat(a("WP.RulesError.LastVersion")))),u=wt(!1),p=wt(null),m=wt("en"),h=wt(""),v=wt("--"),f=async()=>{var e;await(null==(e=i.value)?void 0:e.validate()),await(e=>k.post("/site?action=save_wp_configurations",e,{requestOptions:{loading:Ka("WP.api.tamper_8"),successMessage:!0}}))({s_id:n.id,language:m.value,admin_password:h.value?h.value:null,admin_email:o.admin_email,whl_enabled:o.wps?1:0,whl_page:o.Login_url,whl_redirect_admin:o.redirection_url}),C()},g={admin_email:{required:!0,trigger:["blur","input"],validator:()=>""!==o.admin_email.trim()||new Error(a("WP.RulesError.Email"))},redirection_url:{required:!0,trigger:["blur","input"],validator:()=>""!==o.redirection_url.trim()||new Error(a("WP.RulesError.Redirection"))},Login_url:{required:!0,trigger:["blur","input"],validator:()=>""!==o.Login_url.trim()||new Error(a("WP.RulesError.Login"))}},w=async()=>{s.value?(await Fe({s_id:n.id,version:d.value}),C()):E.error(a("WP.RulesError.LastVersion"))},b=async e=>{await Ye({version:n.php_version,sitename:n.name,act:e}),l.setRefresh(!0)},_=async()=>{await Ge({s_id:n.id})},y=async()=>{h.value=X(16,"wp")},C=async()=>{const{message:e}=await(e=>k.post("/site?action=get_wp_configurations",e,{requestOptions:{loading:Ka("WP.api.tamper_8")}}))({s_id:n.id});T(e)&&(u.value=e.cache_enabled,r.value=e.local_version,d.value=e.latest_version,s.value=e.can_upgrade,v.value=e.login_url,p.value=e.admin_user,m.value=e.language,o.admin_email=e.admin_email,o.Login_url=e.whl_page,o.home_url=e.home_url,o.redirection_url=e.whl_redirect_admin,o.wps=e.whl_enabled)};return C(),t({init:C}),(e,t)=>{const a=L,l=la,n=ba,r=U,d=ce,C=M,x=ua,S=O,k=ia;return Mt(),jt("div",null,[Ut(k,{"label-width":"160px",modelValue:Ht(o),"onUpdate:modelValue":t[8]||(t[8]=e=>zt(o)?o.value=e:null),ref_key:"formRef",ref:i,rules:g},{default:At((()=>[Ut(l,{label:e.$t("WP.Config.LoginUrl")},{default:At((()=>[Ut(a,{href:Ht(v),target:"_blank"},{default:At((()=>[Nt(Bt(Ht(v)),1)])),_:1},8,["href"])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.TableRow.Status")},{default:At((()=>[Ut(n,{type:Ht(s)?"warning":"default","show-icon":!1},{default:At((()=>[Nt(Bt(Ht(c)),1)])),_:1},8,["type"]),Ut(r,{class:"ml-8px",type:"primary",onClick:w},{default:At((()=>[Nt(Bt(e.$t("WP.Config.Upgrade")),1)])),_:1})])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.Cache")},{default:At((()=>[Ut(d,{value:Ht(u),"onUpdate:value":[t[0]||(t[0]=e=>zt(u)?u.value=e:null),b],class:"mr-20px"},null,8,["value"]),Ut(r,{onClick:_},{default:At((()=>[Nt(Bt(e.$t("WP.Config.Clear")),1)])),_:1})])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.UserName")},{default:At((()=>[It("div",nn,[Ut(C,{value:Ht(p),"onUpdate:value":t[1]||(t[1]=e=>zt(p)?p.value=e:null),readonly:""},null,8,["value"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("WP.Label.RePassword")},{default:At((()=>[It("div",on,[Ut(C,{value:Ht(h),"onUpdate:value":t[2]||(t[2]=e=>zt(h)?h.value=e:null),placeholder:e.$t("WP.Placeholder.Password")},null,8,["value","placeholder"])]),Ut(r,{type:"primary",onClick:y},{default:At((()=>[Nt(Bt(e.$t("WP.Config.Generate")),1)])),_:1})])),_:1},8,["label"]),Ut(l,{label:e.$t("WP.Label.EmailAddress"),path:"admin_email"},{default:At((()=>[Ut(C,{class:"w-410px!",value:Ht(o).admin_email,"onUpdate:value":t[3]||(t[3]=e=>Ht(o).admin_email=e),placeholder:e.$t("Site.Placeholder.Email")},null,8,["value","placeholder"])])),_:1},8,["label"]),Ut(l,{label:e.$t("WP.Label.Language")},{default:At((()=>[Ut(ln,{class:"w-410px",value:Ht(m),"onUpdate:value":t[4]||(t[4]=e=>zt(m)?m.value=e:null)},null,8,["value"])])),_:1},8,["label"]),Ut(l,{label:e.$t("WP.Label.WPS")},{default:At((()=>[Ut(x,{checked:Ht(o).wps,"onUpdate:checked":t[5]||(t[5]=e=>Ht(o).wps=e)},{default:At((()=>[It("span",null,Bt(e.$t("WP.Add.EnableWPS")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),Ht(o).wps?(Mt(),jt(kt,{key:0},[Ut(l,{label:e.$t("WP.Add.Login"),path:"Login_url"},{default:At((()=>[It("div",sn,[It("div",null,[Ut(S,{class:"items-center"},{default:At((()=>[It("div",null,Bt(Ht(o).home_url)+"/",1),Ut(C,{class:"w-200px!",value:Ht(o).Login_url,"onUpdate:value":t[6]||(t[6]=e=>Ht(o).Login_url=e),placeholder:e.$t("Site.Placeholder.Login")},null,8,["value","placeholder"])])),_:1})]),It("div",rn,Bt(e.$t("WP.Config.RedirectionTips.0")),1)])])),_:1},8,["label"]),Ut(l,{label:e.$t("WP.Add.Redirection"),path:"redirection_url"},{default:At((()=>[It("div",dn,[It("div",null,[Ut(S,{class:"items-center"},{default:At((()=>[It("div",null,Bt(Ht(o).home_url)+"/",1),Ut(C,{class:"w-200px!",value:Ht(o).redirection_url,"onUpdate:value":t[7]||(t[7]=e=>Ht(o).redirection_url=e),placeholder:e.$t("Site.Placeholder.Redirection")},null,8,["value","placeholder"])])),_:1})]),It("div",cn,Bt(e.$t("WP.Config.RedirectionTips.1")),1)])])),_:1},8,["label"])],64)):Vt("",!0),Ut(l,{label:" "},{default:At((()=>[Ut(r,{type:"primary",onClick:f},{default:At((()=>[Nt(Bt(e.$t("WP.Config.Save")),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])}}}),pn=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{data:l}=Cl(),i=()=>{window.open(l.login_url,"_blank")},{keys:n,table:o,columns:s}=le([{key:"title",title:a("Site.TableRow.Name"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},me({key:"is_plugin_activate",title:a("WP.TableRow.Active"),minWidth:60,onClick:async(e,t)=>{await(e=>k.post("/site?action=wp_set_plugin_status",e,{requestOptions:{loading:Ka("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,plugin_file:t.plugin_file,activate:e?1:0})}}),me({key:"auto_update",title:a("WP.TableRow.Autoupdate"),minWidth:60,onClick:async(e,t)=>{await(e=>k.post("/site?action=wp_set_plugin_auto_update",e,{requestOptions:{loading:Ka("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,plugin_file:t.plugin_file,enable:e?1:0})}}),pe({width:130,options:e=>[{label:a("WP.TableRow.Update"),show:e.can_update,onClick:()=>{$({title:"".concat(a("WP.TableRow.Update")," [").concat(e.name,"]"),content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>k.post("/site?action=wp_update_plugin",e,{requestOptions:{loading:Ka("WP.api.tamper_15"),successMessage:!0}}))({s_id:l.id,plugin_file:e.plugin_file}),c(),t()}})}},{label:a("WP.TableRow.Uninstall"),onClick:()=>{$({title:"".concat(a("WP.TableRow.Uninstall")," [").concat(e.name,"]"),content:a("WP.index_10"),onConfirm:async({hide:t})=>{await(e=>k.post("/site?action=wp_uninstall_plugin",e,{requestOptions:{loading:Ka("WP.api.tamper_14"),successMessage:!0}}))({s_id:l.id,plugin_file:e.plugin_file}),c(),t()}})}}]})]),{loading:r,setLoading:d}=re(),c=async()=>{try{d(!0);const{message:e}=await(e=>k.post("/site?action=wp_installed_plugins",e))({s_id:l.id});W(e)&&(o.data=e)}finally{n.value=[],d(!1)}};return c(),t({init:c}),(e,t)=>{const a=U,l=ie,d=ee;return Mt(),jt("div",null,[Ut(d,null,{toolsLeft:At((()=>[Ut(a,{type:"primary",onClick:i},{default:At((()=>[Nt(Bt(e.$t("WP.index_3")),1)])),_:1})])),table:At((()=>[Ut(l,{"checked-row-keys":Ht(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>zt(n)?n.value=e:null),"row-key":"title",loading:Ht(r),data:Ht(o).data,columns:Ht(s)},null,8,["checked-row-keys","loading","data","columns"])])),_:1})])}}}),mn=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{data:l}=Cl(),i=()=>{window.open(l.login_url,"_blank")},{keys:n,table:o,columns:s}=le([{key:"title",title:a("Site.TableRow.Name"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},me({key:"is_theme_activate",title:a("WP.TableRow.Active"),minWidth:30,disabled:!0,tips:a("WP.index_12"),onClick:async(e,t)=>{await(e=>k.post("/site?action=wp_switch_theme",e,{requestOptions:{loading:Ka("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,stylesheet:t.stylesheet}),c()}}),me({key:"auto_update",title:a("WP.TableRow.Autoupdate"),minWidth:60,onClick:async(e,t)=>{await(e=>k.post("/site?action=wp_set_theme_auto_update",e,{requestOptions:{loading:Ka("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,stylesheet:t.stylesheet,enable:e?1:0})}}),pe({width:130,options:e=>[{label:a("WP.TableRow.Update"),show:e.can_update,onClick:()=>{$({title:"".concat(a("WP.TableRow.Update")," [").concat(e.name,"]"),content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>k.post("/site?action=wp_update_theme",e,{requestOptions:{loading:Ka("WP.api.tamper_15"),successMessage:!0}}))({s_id:l.id,stylesheet:e.stylesheet}),c(),t()}})}},{label:a("WP.TableRow.Uninstall"),disabled:e.is_theme_activate,onClick:()=>{$({title:"".concat(a("WP.TableRow.Uninstall")," [").concat(e.name,"]"),content:a("WP.index_11"),onConfirm:async({hide:t})=>{await(e=>k.post("/site?action=wp_uninstall_theme",e,{requestOptions:{loading:Ka("WP.api.tamper_14"),successMessage:!0}}))({s_id:l.id,stylesheet:e.stylesheet}),c(),t()}})}}]})]),{loading:r,setLoading:d}=re(),c=async()=>{try{d(!0);const{message:e}=await(e=>k.post("/site?action=wp_installed_themes",e))({s_id:l.id});W(e)&&(o.data=e)}finally{n.value=[],d(!1)}};return c(),t({init:c}),(e,t)=>{const a=U,l=ie,d=ee;return Mt(),jt("div",null,[Ut(d,null,{toolsLeft:At((()=>[Ut(a,{type:"primary",onClick:i},{default:At((()=>[Nt(Bt(e.$t("WP.index_3")),1)])),_:1})])),table:At((()=>[Ut(l,{"checked-row-keys":Ht(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>zt(n)?n.value=e:null),"row-key":"title",loading:Ht(r),data:Ht(o).data,columns:Ht(s)},null,8,["checked-row-keys","loading","data","columns"])])),_:1})])}}}),hn=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{config:l}=Cl(),i=wt("setup"),n=wt(),o=[{key:"setup",label:a("Site.Config.Setup"),component:un},{key:"plugin",label:a("Site.Config.Plugin"),component:pn},{key:"theme",label:a("Site.Config.Theme"),component:mn}];return i.value=l.subMenu||"setup",l.subMenu="",t({init:()=>{i.value="setup",Ft((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=aa;return Mt(),Zt(a,{value:Ht(i),"onUpdate:value":t[0]||(t[0]=e=>zt(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:o},null,8,["value"])}}}),vn={class:"p-20px"},fn={class:"w-280px"},gn={class:"w-280px"},wn={class:"w-280px"},bn={class:"w-280px"},_n=ft({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Dt(),l=e,{isEdit:i,siteId:n,row:o,getList:s}=l.data,r=wt(null),d=qt({name:"",site_dir:"",username:"",password:""}),c={name:{required:!0,message:a("Site.RulesError.Name"),trigger:["blur","input"]},site_dir:{required:!0,message:a("Site.RulesError.Path"),trigger:["blur","input"]},username:{required:!0,message:a("Site.RulesError.UserName1"),trigger:["blur","input"]},password:{required:!0,message:a("Site.RulesError.Password1"),trigger:["blur","input"]}};return i&&o&&(d.name=o.name,d.site_dir=o.site_dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate()),i?await Je({id:n,name:d.name,username:d.username,password:d.password}):await Qe({...Xt(d),id:n}),null==s||s(),e()}}),(e,t)=>{const a=M,l=la,n=ia,o=sa;return Mt(),jt("div",vn,[Ut(n,{ref_key:"formRef",ref:r,model:Ht(d),rules:c},{default:At((()=>[Ut(l,{label:e.$t("Site.TableRow.Name"),path:"name"},{default:At((()=>[It("div",fn,[Ut(a,{value:Ht(d).name,"onUpdate:value":t[0]||(t[0]=e=>Ht(d).name=e),disabled:Ht(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.TableRow.Path"),path:"site_dir"},{default:At((()=>[It("div",gn,[Ut(a,{value:Ht(d).site_dir,"onUpdate:value":t[1]||(t[1]=e=>Ht(d).site_dir=e),disabled:Ht(i),placeholder:"Enter the path: /text/，/test/api"},null,8,["value","disabled"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.UserName"),path:"username"},{default:At((()=>[It("div",wn,[Ut(a,{value:Ht(d).username,"onUpdate:value":t[2]||(t[2]=e=>Ht(d).username=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.Password"),path:"password"},{default:At((()=>[It("div",bn,[Ut(a,{value:Ht(d).password,"onUpdate:value":t[3]||(t[3]=e=>Ht(d).password=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),Ut(o,{class:"mt-4px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.0")),1),It("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.1")),1)])),_:1})])}}}),yn=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{data:l}=Cl(),{keys:i,table:n,columns:o}=le([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:a("Site.TableRow.Path"),ellipsis:{tooltip:{width:"trigger"}}},pe({width:130,options:e=>[{label:a("Site.TableOP.Edit"),onClick:()=>{m(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{$({title:"".concat(a("Site.TableOP.Delete")," [").concat(e.name,"]"),content:a("Site.Batch.DeleteDomain.Content1"),onConfirm:async({hide:t})=>{await et({id:l.id,name:e.name}),c(),t()}})}}]})]),s=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[o.value[1]],api:e=>et({id:l.id,name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:d}=re(),c=async()=>{try{d(!0);const{message:e}=await tt({id:l.id});if(T(e)){n.data=[];for(const[t,a]of Object.entries(e))if(l.name===t){n.data=a;break}}}finally{i.value=[],d(!1)}},u=A(a("Site.Config.LimitAccess.Add"),{row:void 0,siteId:l.id,isEdit:!1,getList:c}),p=()=>{u.data.isEdit=!1,u.title=a("Site.Config.LimitAccess.Add"),u.show=!0},m=e=>{u.data.row=e,u.data.isEdit=!0,u.title=a("Site.Config.LimitAccess.Edit"),u.show=!0};return c(),t({init:c}),(e,t)=>{const a=U,l=ie,d=ae,c=ee,m=sa,h=B;return Mt(),jt("div",null,[Ut(c,null,{toolsLeft:At((()=>[Ut(a,{type:"primary",onClick:p},{default:At((()=>[Nt(Bt(e.$t("Site.Config.LimitAccess.Add")),1)])),_:1})])),table:At((()=>[Ut(l,{"checked-row-keys":Ht(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>zt(i)?i.value=e:null),"row-key":"name",loading:Ht(r),"max-height":440,data:Ht(n).data,columns:Ht(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Ut(d,{"checked-row-keys":Ht(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>zt(i)?i.value=e:null),"row-key":"name",data:Ht(n).data,options:s},null,8,["checked-row-keys","data"])])),_:1}),Ut(m,{class:"mt-16px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.0")),1),It("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.1")),1)])),_:1}),Ut(h,{show:Ht(u).show,"onUpdate:show":t[2]||(t[2]=e=>Ht(u).show=e),title:Ht(u).title,data:Ht(u).data,width:480,footer:!0,component:_n},null,8,["show","title","data"])])}}}),Cn={class:"p-20px"},xn={class:"w-280px"},Sn={class:"w-280px"},kn={class:"w-280px"},Pn=ft({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Dt(),l=e,{isEdit:i,siteName:n,row:o,getList:s}=l.data,r=wt(null),d=qt({deny_name:"",suffix:"php|jsp",dir:""}),c={deny_name:{required:!0,message:a("Site.Placeholder.Index_4"),trigger:["blur","input"]},suffix:{required:!0,message:a("Site.Placeholder.Index_5"),trigger:["blur","input"]},dir:{required:!0,message:a("Site.Placeholder.Index_6"),trigger:["blur","input"]}},u=()=>({...Xt(d),dir:d.dir.replace(/\/$/,"")+"/",website:n});return i&&o&&(d.deny_name=o.name,d.suffix=o.suffix,d.dir=o.dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate()),i?await at(u()):await lt(u()),null==s||s(),e()}}),(e,t)=>{const a=M,l=la,n=ia,o=sa;return Mt(),jt("div",Cn,[Ut(n,{ref_key:"formRef",ref:r,model:Ht(d),rules:c},{default:At((()=>[Ut(l,{label:e.$t("Site.TableRow.Name"),path:"deny_name"},{default:At((()=>[It("div",xn,[Ut(a,{value:Ht(d).deny_name,"onUpdate:value":t[0]||(t[0]=e=>Ht(d).deny_name=e),disabled:Ht(i),placeholder:e.$t("Site.Placeholder.Index_1")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.TableRow.Suffix"),path:"suffix"},{default:At((()=>[It("div",Sn,[Ut(a,{value:Ht(d).suffix,"onUpdate:value":t[1]||(t[1]=e=>Ht(d).suffix=e),placeholder:e.$t("Site.Placeholder.Index_2")},null,8,["value","placeholder"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.TableRow.Path"),path:"dir"},{default:At((()=>[It("div",kn,[Ut(a,{value:Ht(d).dir,"onUpdate:value":t[2]||(t[2]=e=>Ht(d).dir=e),placeholder:e.$t("Site.Placeholder.Index_3")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),Ut(o,{class:"mt-4px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.PHP.index_72")),1),It("li",null,Bt(e.$t("Site.PHP.index_73")),1),It("li",null,Bt(e.$t("Site.PHP.index_74")),1),It("li",null,Bt(e.$t("Site.PHP.index_75")),1),It("li",null,Bt(e.$t("Site.PHP.index_76")),1)])),_:1})])}}}),Tn=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{data:l}=Cl(),{keys:i,table:n,columns:o}=le([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.Name"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:a("Site.TableRow.Path"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:a("Site.TableRow.Suffix"),ellipsis:{tooltip:{width:"trigger"}}},pe({width:130,options:e=>[{label:a("Site.TableOP.Edit"),onClick:()=>{m(e)}},{label:a("Site.TableOP.Del"),onClick:()=>{$({title:"".concat(a("Site.TableOP.Delete")," [").concat(e.name,"]"),content:a("Site.Batch.DeleteDomain.Content1"),onConfirm:async({hide:t})=>{await it({website:l.name,deny_name:e.name}),c(),t()}})}}]})]),s=[{key:"del",type:"confirm",label:a("Site.Batch.DeleteWeb.Label1"),confirm:{title:a("Site.Batch.DeleteWeb.Label2"),desc:a("Site.Batch.DeleteWeb.Content"),columns:[o.value[1]],api:e=>it({website:l.name,deny_name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:d}=re(),c=async()=>{try{d(!0);const{message:e}=await nt({website:l.name});n.data=W(e)?e:[]}finally{i.value=[],d(!1)}},u=A(a("Site.Config.LimitAccess.Add"),{row:void 0,siteName:l.name,isEdit:!1,getList:c}),p=()=>{u.data.row=void 0,u.data.isEdit=!1,u.title=a("Site.Config.LimitAccess.Add"),u.show=!0},m=e=>{u.data.row=e,u.data.isEdit=!0,u.title=a("Site.Config.LimitAccess.Edit"),u.show=!0};return c(),t({init:c}),(e,t)=>{const a=U,l=ie,d=ae,c=ee,m=sa,h=B;return Mt(),jt("div",null,[Ut(c,null,{toolsLeft:At((()=>[Ut(a,{type:"primary",onClick:p},{default:At((()=>[Nt(Bt(e.$t("Site.Config.LimitAccess.Add")),1)])),_:1})])),table:At((()=>[Ut(l,{"checked-row-keys":Ht(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>zt(i)?i.value=e:null),"row-key":"name",loading:Ht(r),"max-height":440,data:Ht(n).data,columns:Ht(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Ut(d,{"checked-row-keys":Ht(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>zt(i)?i.value=e:null),"row-key":"name",data:Ht(n).data,options:s},null,8,["checked-row-keys","data"])])),_:1}),Ut(m,{class:"mt-16px"},{default:At((()=>[It("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.2"))+" |",1),It("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.3")),1),It("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.4")),1),It("li",null,Bt(e.$t("Site.Config.LimitAccess.Tips.5")),1)])),_:1}),Ut(h,{show:Ht(u).show,"onUpdate:show":t[2]||(t[2]=e=>Ht(u).show=e),title:Ht(u).title,data:Ht(u).data,width:480,footer:!0,component:Pn},null,8,["show","title","data"])])}}}),Ln={class:"w-300px"},Rn={class:"w-300px"},$n={class:"w-300px"},Wn={class:"flex flex-col"},En=It("br",null,null,-1),Un=ft({__name:"form",props:{site:{}},emits:["changeHotlink"],setup(e,{expose:t,emit:a}){const{t:l}=Dt(),i=a,n=gt(e,"site"),o=wt(null),s=qt({fix:"",domains:"",return_rule:"",status:!1,http_status:!1}),r={fix:{trigger:["blur","change"],validator:()=>""!==s.fix.trim()||new Error(l("Site.RulesError.Suffix"))},return_rule:{trigger:["blur","change"],validator:()=>""!==s.return_rule.trim()||new Error(l("Site.RulesError.AntiTheft"))}},d=()=>{u()},c=()=>{u()},u=async()=>{var e;await(null==(e=o.value)?void 0:e.validate()),await ot({id:n.value.id,name:n.value.name,fix:s.fix,domains:s.domains.trim().split("\n").join(","),return_rule:s.return_rule,status:s.status,http_status:s.http_status}),i("changeHotlink",s.status),p()},p=async()=>{const{message:e}=await st({id:n.value.id,name:n.value.name});T(e)&&(s.fix=e.fix,s.domains=e.domains.split(",").join("\n"),s.return_rule=e.return_rule,s.status=e.status,s.http_status="true"===e.http_status||!0===e.http_status)};return p(),t({init:p}),(e,t)=>{const a=M,l=la,i=ua,n=U,p=ia,m=sa;return Mt(),jt("div",null,[Ut(p,{ref_key:"formRef",ref:o,class:"px-8px",model:Ht(s),rules:r},{default:At((()=>[Ut(l,{label:e.$t("Site.Lable.Suffix"),path:"fix"},{default:At((()=>[It("div",Ln,[Ut(a,{value:Ht(s).fix,"onUpdate:value":t[0]||(t[0]=e=>Ht(s).fix=e),disabled:Ht(s).status,placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.Access")},{default:At((()=>[It("div",Rn,[Ut(a,{value:Ht(s).domains,"onUpdate:value":t[1]||(t[1]=e=>Ht(s).domains=e),type:"textarea",autosize:{minRows:6,maxRows:6},placeholder:""},null,8,["value"])])])),_:1},8,["label"]),Ut(l,{label:e.$t("Site.Lable.Response"),path:"return_rule"},{default:At((()=>[It("div",$n,[Ut(a,{value:Ht(s).return_rule,"onUpdate:value":t[2]||(t[2]=e=>Ht(s).return_rule=e),disabled:Ht(s).status,placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),Ut(l,{label:" "},{default:At((()=>[It("div",Wn,[Ut(i,{checked:Ht(s).status,"onUpdate:checked":[t[3]||(t[3]=e=>Ht(s).status=e),d]},{default:At((()=>[Nt(Bt(e.$t("Site.Config.HotlinkConfig.Protection")),1)])),_:1},8,["checked"]),Ut(i,{checked:Ht(s).http_status,"onUpdate:checked":[t[4]||(t[4]=e=>Ht(s).http_status=e),c],class:"mt-16px"},{default:At((()=>[Nt(Bt(e.$t("Site.Config.HotlinkConfig.HTTP")),1)])),_:1},8,["checked"])])])),_:1}),Ut(l,{label:" ","show-feedback":!1},{default:At((()=>[Ut(n,{type:"primary",onClick:u},{default:At((()=>[Nt(Bt(e.$t("Site.Cert.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),Ut(m,{class:"mt-20px"},{default:At((()=>[It("li",null,[Nt(Bt(e.$t("Site.Config.HotlinkConfig.Tips.0")),1),En,Nt(" "+Bt(e.$t("Site.Config.HotlinkConfig.Tips.1")),1)]),It("li",null,Bt(e.$t("Site.Config.HotlinkConfig.Tips.2")),1),It("li",null,Bt(e.$t("Site.Config.HotlinkConfig.Tips.3")),1)])),_:1})])}}}),On={class:"pt-8px"},Dn=ft({__name:"index",setup(e,{expose:t}){const{data:a}=Cl(),l=wt();return t({init:async()=>{l.value.init()}}),(e,t)=>(Mt(),jt("div",On,[Ut(Un,{ref_key:"formRef",ref:l,site:Ht(a)},null,8,["site"])]))}}),Mn=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{config:l}=Cl(),i=wt("access"),n=wt(),o=[{key:"access",label:a("Site.Config.Limit"),component:yn},{key:"deny",label:a("Site.Config.Deny"),component:Tn},{key:"hotlink",label:a("Site.Config.Hotlink"),component:Dn}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Ft((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=aa;return Mt(),Zt(a,{value:Ht(i),"onUpdate:value":t[0]||(t[0]=e=>zt(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:o},null,8,["value"])}}}),jn=ft({__name:"index",setup(e,{expose:t}){const{data:a}=Cl(),l=wt("None"),{loading:i,setLoading:n}=re(),o=async()=>{try{n(!0);const{message:e}=await rt({siteName:a.name});T(e)&&(l.value=K(e.result)?e.result:"None")}finally{n(!1)}};return o(),t({init:o}),(e,t)=>{const a=_a,n=ya;return Mt(),Zt(n,{class:"h-560px",show:Ht(i)},{default:At((()=>[Ut(a,{log:Ht(l)},null,8,["log"])])),_:1},8,["show"])}}}),In=ft({__name:"index",setup(e,{expose:t}){const{data:a}=Cl(),l=wt("None"),{loading:i,setLoading:n}=re(),o=async()=>{try{n(!0);const{message:e}=await dt({siteName:a.name});T(e)&&(l.value=K(e.result)?e.result:"None")}finally{n(!1)}};return o(),t({init:o}),(e,t)=>{const a=_a,n=ya;return Mt(),Zt(n,{class:"h-560px",show:Ht(i)},{default:At((()=>[Ut(a,{log:Ht(l)},null,8,["log"])])),_:1},8,["show"])}}}),An=ft({__name:"logs",props:{data:{}},setup(e){const t=e,{type:a,path:l}=t.data,i=wt(""),{loading:n,setLoading:o}=re();return(async()=>{try{o(!0);const{message:e}=await ct({type:a,path:l});T(e)&&(i.value=e.result)}finally{o(!1)}})(),(e,t)=>{const a=_a,l=ya;return Mt(),Zt(l,{class:"w-650px h-550px bg-#282C34",show:Ht(n)},{default:At((()=>[Ut(a,{log:Ht(i)},null,8,["log"])])),_:1},8,["show"])}}}),Bn={class:"text-error"},Hn={class:"w-400px p-20px"},zn={class:"mb-16px"},Nn=ft({__name:"index",setup(e,{expose:t}){const a=I(),{t:l}=Dt(),{data:i}=Cl(),n=Ct((()=>{let e="";switch(a.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return"/www/wwwlogs/".concat(i.name).concat(e)})),o=Ct((()=>{const e=n.value.split("/");return e[e.length-1]})),s=()=>{$({title:l("Site.Config.LogsConfig.ScanTitle"),content:"".concat(l("Site.Config.LogsConfig.ScanContent")," [").concat(o.value,"] ").concat(l("Site.Config.LogsConfig.ScanContent1")),onConfirm:async({hide:e})=>{await ut({path:n.value}),e(),c()}})},r=wt(!1),d=wt(0),c=async()=>{r.value=!0,u()},u=(e=0)=>{let t=setTimeout((async()=>{const{message:e}=await pt({path:n.value});T(e)&&(d.value=e.result,d.value>=100?(E.success(l("Site.Config.LogsConfig.Complete")),r.value=!1,d.value=0,g(),clearTimeout(t)):u(1e3))}),e)},p=e=>{P({title:"[".concat(e,"] ").concat(l("Site.Config.LogsConfig.Details")),data:{type:e,path:n.value},component:An})},{table:m,columns:h}=le([{key:"start_time",title:"Date"},{key:"time",title:l("Site.DelSite.Time"),render:e=>"".concat(e.time.substring(0,4)," s")},{key:"xss",title:l("Site.TableRow.XSS"),render:e=>e.xss>0?Ut("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:l("Site.TableRow.SQL"),render:e=>e.sql>0?Ut("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:l("Site.TableRow.Scan"),render:e=>e.san>0?Ut("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:l("Site.TableRow.PHP"),render:e=>e.php>0?Ut("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:l("Site.TableRow.IPTop"),render:e=>e.ip>0?Ut(L,{onClick:()=>{p("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:l("Site.TableRow.URLTop"),render:e=>e.url>0?Ut(L,{onClick:()=>{p("url")}},{default:()=>[e.url]}):e.url}]),{loading:v,setLoading:f}=re(),g=async()=>{try{f(!0);const{message:e}=await mt({path:n.value});T(e)&&(m.data=[e])}finally{f(!1)}},w=()=>{g()};return w(),t({init:w}),(e,t)=>{const a=U,l=ie,i=ee,n=sa,o=Ca,c=B;return Mt(),jt("div",null,[Ut(i,null,{toolsLeft:At((()=>[Ut(a,{type:"primary",onClick:s},{default:At((()=>[Nt(Bt(e.$t("Site.Config.LogsConfig.Scan")),1)])),_:1})])),table:At((()=>[Ut(l,{loading:Ht(v),"loading-num":1,data:Ht(m).data,columns:Ht(h)},null,8,["loading","data","columns"])])),_:1}),Ut(n,{class:"mt-16px"},{default:At((()=>[It("li",null,[Nt(Bt(e.$t("Site.Config.LogsConfig.Tips.0"))+" ",1),It("span",Bn,Bt(e.$t("Site.Config.LogsConfig.Tips.1")),1),Nt(") ")]),It("li",null,Bt(e.$t("Site.Config.LogsConfig.Tips.2")),1),It("li",null,Bt(e.$t("Site.Config.LogsConfig.Tips.3"))+")",1),It("li",null,Bt(e.$t("Site.Config.LogsConfig.Tips.4")),1),It("li",null,[Ut(L,{href:"https://forum.aapanel.com/d/3351-nginx-waf-instructions",target:"_blank"},{default:At((()=>[Nt(Bt(e.$t("Site.Config.LogsConfig.Tips.5")),1)])),_:1}),Nt(" "+Bt(e.$t("Site.Config.LogsConfig.Tips.6")),1)])])),_:1}),Ut(c,{show:Ht(r),"onUpdate:show":t[0]||(t[0]=e=>zt(r)?r.value=e:null)},{default:At((()=>[It("div",Hn,[It("div",zn,Bt(e.$t("Site.Config.LogsConfig.Tips.7")),1),Ut(o,{type:"line",status:"success",height:24,percentage:Ht(d),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])])),_:1},8,["show"])])}}}),qn=ft({__name:"index",setup(e,{expose:t}){const{t:a}=Dt(),{config:l}=Cl(),i=wt("access"),n=wt(),o=[{key:"access",label:a("Site.Config.LogsConfig.Access"),component:jn},{key:"error",label:a("Site.Config.LogsConfig.Error"),component:In},{key:"security",label:a("Site.Config.LogsConfig.Security"),component:Nn}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Ft((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=aa;return Mt(),Zt(a,{value:Ht(i),"onUpdate:value":t[0]||(t[0]=e=>zt(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:o},null,8,["value"])}}}),Vn=ft({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:t}=Dt(),a=I(),{siteName:l}=oe(a),i=Et((()=>R((()=>import("./old3.js?v=1721298337096")),__vite__mapDeps([57,30,1,2,3,4,27,28,19,20,7,21,22,8,9,10,11,12,13,14,23,24,25,29,26,5,31,32,33,34,16,35,36,37,38,39,40,41,42,43,44,15,45,46,47,48,49,50,51,52])))),n=e,{siteInfo:o,config:s}=n;l.value=n.siteInfo.name;const r=wt();o&&Lt(yl,{data:o,config:s});const d=wt("domain"),c=[{key:"domain",label:t("Site.Config.Manager"),component:Ll},{key:"wordpress",label:t("Site.Config.Setting"),component:hn},{key:"security",label:t("Site.Config.Security"),component:Mn},{key:"config",label:t("Site.Config.Conf"),component:Ri},{key:"ssl",label:t("Site.TableRow.SSL"),component:i},{key:"php",label:t("Site.Lable.PHPVersion"),component:an},{key:"logs",label:t("Site.Config.Response"),component:qn}];return d.value=s.menu||"domain",s.menu="",(e,t)=>{const a=ea;return Mt(),Zt(a,{value:Ht(d),"onUpdate:value":t[0]||(t[0]=e=>zt(d)?d.value=e:null),ref_key:"tabsRef",ref:r,data:c},null,8,["value"])}}}),Zn={class:"pt-50px pb-40px"},Xn={class:"mb-24px text-center text-22px font-bold"},Kn={class:"mb-16px"},Fn={class:"ul-style"},Yn={class:"ml-4px"},Gn={class:"ml-4px"},Jn={class:"ml-4px"},Qn={class:"ml-4px"},eo={class:"text-center text-14px color-desc"},to={class:"text-center my-24px"},ao={class:"flex justify-center"},lo={class:"w-76%"},io=N(ft({__name:"transition",setup(e){const t=()=>{V({source:180})};return(e,a)=>{const l=F,i=U,n=Xa;return Mt(),jt("div",Zn,[It("div",Xn,Bt(e.$t("WP.Transition.index_1")),1),It("div",Kn,[It("ul",Fn,[It("li",null,[Ut(l,{name:"wp-install",size:"22"}),It("span",Yn,Bt(e.$t("WP.Transition.index_2")),1)]),It("li",null,[Ut(l,{name:"wp-safe",size:"22"}),It("span",Gn,Bt(e.$t("WP.Transition.index_3")),1)]),It("li",null,[Ut(l,{name:"wp-backup",size:"22"}),It("span",Jn,Bt(e.$t("WP.Transition.index_4")),1)]),It("li",null,[Ut(l,{name:"wp-cache",size:"22"}),It("span",Qn,Bt(e.$t("WP.Transition.index_5")),1)])])]),It("div",eo,Bt(e.$t("WP.Transition.index_6")),1),It("div",to,[Ut(i,{type:"primary",class:"h-36px text-14px",onClick:t},{default:At((()=>[Nt(Bt(e.$t("WP.Transition.index_7")),1)])),_:1})]),It("div",ao,[It("div",lo,[Ut(n,{width:"100%",src:Ht("/static/vite/images/preview.png")},null,8,["src"])])])])}}}),[["__scopeId","data-v-b49ea418"]]),no=It("span",{class:"mx-4px"},"|",-1),oo={class:"w-860px h-700px"},so=ft({__name:"index",setup(e){const t=Et((()=>R((()=>import("./index141.js?v=1721298337096")),__vite__mapDeps([58,36,2,32,1,3,4,14,37,27,28,38,5,26,11,12,13,9,39,40,41,42,15,7,8,10,59,19,20,21,22,23,24,25,29,30,31,33,34,16,35,43,44,45,46,47,48,49,50,51,52])))),a=Et((()=>R((()=>import("./index142.js?v=1721298337096")),__vite__mapDeps([60,19,20,1,2,3,4,7,21,24,25,8,9,10,11,12,13,14,43,26,27,28,22,23,29,30,5,31,32,33,34,16,35,36,37,38,39,40,41,42,44,15,45,46,47,48,49,50,51,52])))),l=Et((()=>R((()=>import("./index143.js?v=1721298337096")),__vite__mapDeps([61,38,2,1,3,4,8,9,10,11,12,13,14,41,42,20,7,21,27,28,19,22,23,24,25,29,30,26,5,31,32,33,34,16,35,36,37,39,40,43,44,15,45,46,47,48,49,50,51,52])))),i=Et((()=>R((()=>import("./index144.js?v=1721298337096")),__vite__mapDeps([62,1,2,3,4,30,5,36,32,14,37,24,25,8,9,10,11,12,13,26,20,7,21,43,49,63,38,27,28,19,22,23,29,31,33,34,16,35,39,40,41,42,44,15,45,46,47,48,50,51,52,64])))),n=Et((()=>R((()=>import("./index145.js?v=1721298337096")),__vite__mapDeps([65,1,2,3,4,26,49,27,28,19,20,7,21,22,8,9,10,11,12,13,14,23,24,25,29,30,5,31,32,33,34,16,35,36,37,38,39,40,41,42,43,44,15,45,46,47,48,50,51,52])))),{t:o}=Dt(),s=I(),r=q(),{web:d}=oe(s),{isPro:c}=oe(r),u=A(o("WP.Migrate.Title")),p=A(o("WP.Add.Title")),m=()=>{p.show=!0},h=()=>{u.show=!0},v=qt({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),f=(e,t={})=>{v.title="".concat(o("Site.Cert.Modification")," [").concat(e.name,"] -- ").concat(o("Site.Cert.Added")," [").concat(e.addtime,"]"),v.siteInfo=e,v.config=Object.assign({menu:"",subMenu:""},t),v.show=!0},{keys:g,table:w,columns:b}=le([{type:"selection",width:40},{key:"name",title:o("Site.TableRow.SiteName"),width:"12%",minWidth:120,ellipsis:{tooltip:!0},render:e=>Ut(wl,{row:e,onClick:()=>{f(e)}},null)},he({width:"8%",minWidth:90,checkedLabel:"Running",uncheckedLabel:"Stopped",confirm:(e,t)=>({title:"".concat("1"===e?"Start":"Stop "," site [").concat(t.name,"]"),content:()=>{const t=o("Site.Cert.StatusConfirm.Start"),a=o("Site.Cert.StatusConfirm.Stop");return"1"===e?t:a},onConfirm:async({hide:a})=>{await ht("1"===e,{id:t.id,name:t.name}),t.status="1"===e?"1":"0",a()}})}),{key:"backup_count",title:o("Site.TableRow.BackUp"),width:"8%",minWidth:80,render:e=>Ut(bl,{row:e},null)},ve(),me({key:"cache_status",title:"Cache",width:"6%",minWidth:60,onClick:async(e,t)=>{await Ye({version:t.php_version,sitename:t.name,act:e})}}),pe({title:o("WP.TableRow.Setting"),align:"center",width:"350",options:e=>[{label:"00"==e.wp_version?"Static":e.wp_version,width:"30px",onClick:()=>{f(e,{menu:"wordpress"})}},{label:o("WP.index_1"),onClick:()=>{y(e)}},{label:o("WP.TableRow.Plugin"),onClick:()=>{f(e,{menu:"wordpress",subMenu:"plugin"})}},{label:o("WP.TableRow.Theme"),onClick:()=>{f(e,{menu:"wordpress",subMenu:"theme"})}},{label:o("WP.TableRow.Protection"),onClick:()=>{x(e)}},{label:o("WP.TableRow.Integrity"),onClick:()=>{P(e)}}]}),{key:"php_version",title:o("Site.TableRow.PHP"),width:"6%",minWidth:60,render:e=>Ut(_l,{row:e,onClick:()=>{f(e,{menu:"php"})}},null)},fl({onClick:e=>{f(e,{menu:"ssl"})}}),gl({onClick:e=>{f(e)}})]),_=A(o("WP.index_2")),y=async e=>{_.data.row=e,_.show=!0},C=A(),x=async e=>{C.title="".concat(o("WP.Config.Protection.Title")," [").concat(e.name,"]"),C.data.site=e,C.show=!0},S=A(),P=async e=>{S.title="".concat(o("WP.Integrity.Title")," [").concat(e.name,"]"),S.data.site=e,S.show=!0},$=[{key:"enable",type:"confirm",label:o("Site.Batch.EnableWeb.Label"),confirm:{title:o("Site.Batch.EnableWeb.Title"),desc:o("Site.Batch.EnableWeb.Content"),columns:[b.value[1]],api:e=>ht(!0,{id:e.id,name:e.name},!1),done:()=>{M()}}},{key:"disable",type:"confirm",label:o("Site.Batch.DisableWeb.Label"),confirm:{title:o("Site.Batch.DisableWeb.Title"),desc:o("Site.Batch.DisableWeb.Content"),columns:[b.value[1]],api:e=>ht(!1,{id:e.id,name:e.name},!1),done:()=>{M()}}},{key:"backup",type:"confirm",label:o("Site.Batch.BackupWeb.Label"),confirm:{title:o("Site.Batch.BackupWeb.Title"),desc:o("Site.Batch.BackupWeb.Content"),columns:[b.value[1]],api:e=>Ja({s_id:e.id,bak_type:3},!1),done:()=>{M()}}},{key:"delete",label:o("Site.Batch.DeleteWeb.Label"),onBatch:e=>{vl(e)}}],{loading:E,setLoading:O}=re(!0),D=qt({p:1,limit:10,table:"sites",search:""}),M=async()=>{try{O(!0);const{message:t}=await(e=Xt(D),k.post("/data?action=getData",{...e,table:"sites",project_type:"WP2"}));T(t)?(w.data=W(t.data)?t.data:[],w.total=Y(t.page)):(w.data=[],w.total=0)}finally{g.value=[],O(!1)}var e};bt((()=>s.isRefresh),(e=>{e&&(s.setRefresh(!1),M())}));return(async()=>{try{await s.getConfig(),s.web.setup?M():(O(!1),se())}catch(e){O(!1)}})(),(e,o)=>{const s=L,r=U,f=ne,y=ie,x=ae,k=te,P=ee,T=B,R=Q,W=J;return Mt(),Zt(W,null,{default:At((()=>[Ht(c)?(Mt(),Zt(R,{key:0,install:Ht(d).setup},{desc:At((()=>[It("span",null,Bt(e.$t("Site.PHP.index_1")),1),Ut(s,{class:"ml-4px",onClick:o[0]||(o[0]=e=>Ht(G)("nginx"))},{default:At((()=>[Nt(Bt(e.$t("Site.PHP.index_2")),1)])),_:1}),no,Ut(s,{onClick:o[1]||(o[1]=e=>Ht(G)("apache"))},{default:At((()=>[Nt(Bt(e.$t("Site.PHP.index_3")),1)])),_:1})])),default:At((()=>[Ut(P,{class:"p-16px",feedback:!0},{toolsLeft:At((()=>[Ut(r,{type:"primary",onClick:m},{default:At((()=>[Nt(Bt(e.$t("WP.index_5")),1)])),_:1}),Ut(r,{onClick:h},{default:At((()=>[Nt(Bt(e.$t("WP.Migrate.Title")),1)])),_:1})])),toolsRight:At((()=>[Ut(f,{value:Ht(D).search,"onUpdate:value":o[2]||(o[2]=e=>Ht(D).search=e),placeholder:e.$t("WP.index_4"),onSearch:M},null,8,["value","placeholder"])])),table:At((()=>[Ut(y,{"checked-row-keys":Ht(g),"onUpdate:checkedRowKeys":o[3]||(o[3]=e=>zt(g)?g.value=e:null),loading:Ht(E),data:Ht(w).data,columns:Ht(b)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:At((()=>[Ut(x,{"checked-row-keys":Ht(g),"onUpdate:checkedRowKeys":o[4]||(o[4]=e=>zt(g)?g.value=e:null),data:Ht(w).data,options:$},null,8,["checked-row-keys","data"])])),pageRight:At((()=>[Ut(k,{page:Ht(D).p,"onUpdate:page":o[5]||(o[5]=e=>Ht(D).p=e),"page-size":Ht(D).limit,"onUpdate:pageSize":o[6]||(o[6]=e=>Ht(D).limit=e),"item-count":Ht(w).total,"store-key":"wp-toolkit",onRefresh:M},null,8,["page","page-size","item-count"])])),_:1}),Ut(T,{show:Ht(p).show,"onUpdate:show":o[7]||(o[7]=e=>Ht(p).show=e),title:Ht(p).title,width:640,height:590,footer:!0,component:Ht(t)},null,8,["show","title","component"]),Ut(T,{show:Ht(u).show,"onUpdate:show":o[8]||(o[8]=e=>Ht(u).show=e),title:Ht(u).title,width:640,"min-height":205,footer:!1,component:Ht(a)},null,8,["show","title","component"]),Ut(T,{show:Ht(_).show,"onUpdate:show":o[9]||(o[9]=e=>Ht(_).show=e),title:Ht(_).title,data:Ht(_).data,width:640,"min-height":268,footer:!0,component:Ht(l)},null,8,["show","title","data","component"]),Ut(T,{show:Ht(C).show,"onUpdate:show":o[10]||(o[10]=e=>Ht(C).show=e),title:Ht(C).title,data:Ht(C).data,width:600,"min-height":268,component:Ht(i)},null,8,["show","title","data","component"]),Ut(T,{show:Ht(S).show,"onUpdate:show":o[11]||(o[11]=e=>Ht(S).show=e),title:Ht(S).title,data:Ht(S).data,width:600,"min-height":190,component:Ht(n)},null,8,["show","title","data","component"]),Ut(T,{show:Ht(v).show,"onUpdate:show":o[12]||(o[12]=e=>Ht(v).show=e),title:Ht(v).title},{default:At((()=>[It("div",oo,[Ut(Vn,{"site-info":Ht(v).siteInfo,config:Ht(v).config},null,8,["site-info","config"])])])),_:1},8,["show","title"])])),_:1},8,["install"])):(Mt(),Zt(io,{key:1}))])),_:1})}}}),ro=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"}));export{Pa as D,Za as N,Xa as _,ln as a,Fa as b,cl as c,ul as d,tl as e,dl as f,Ya as g,ol as h,nl as i,sl as j,rl as k,ll as l,al as m,pl as n,il as o,el as p,Ga as q,Ja as r,Qa as s,ro as t,Cl as u,ml as w};
