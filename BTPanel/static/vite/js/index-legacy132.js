System.register(["./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1747989938512","./public-legacy.js?v=1747989938512","./page_layout-legacy.js?v=1747989938512","./naive-legacy.js?v=1747989938512","./vue-legacy.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1747989938512","./common-legacy.js?v=1747989938512","./__commonjsHelpers__-legacy.js?v=1747989938512"],(function(e,t){"use strict";var a,i,l,n,s,o,c,d,p,u,_,r,g,m,y,b,f,x,h,j,w,v,k,R,C,D,S,z,F;return{setters:[e=>{a=e._},e=>{i=e._},e=>{l=e.c,n=e.f,s=e.a,o=e.d,c=e.h},e=>{d=e.b6,p=e.n,u=e.eE,_=e.ct,r=e.eF,g=e.eG,m=e.c,y=e.N,b=e.b3,f=e.ba},e=>{x=e.T},e=>{h=e.d,j=e.O,w=e.j,v=e.M,k=e.R,R=e.S,C=e.P,D=e.a1,S=e.c,z=e.a2,F=e.V},null,null,null],execute:function(){const t={class:"p-20px"};e("default",h({__name:"index",props:{data:{}},setup(e){const{t:h}=j(),L=e,{row:T}=L.data,U=d(),B=async()=>{await f(U.type,{id:T.id}),N(),U.setRefresh(!0)},P=w({p:1,limit:10,search:T.id}),{table:E,columns:G}=l([{key:"filename",title:h("Component.UploadFile.index_3"),ellipsis:{tooltip:{width:"trigger"}}},{key:"size",title:h("Site.TableRow.index_23"),width:90,render:e=>p(e.size)},{key:"addtime",title:h("Site.TableRow.index_25"),width:146},n({width:180,options:e=>[{label:h("Database.tools.index_3"),onClick:()=>{s({title:h("Database.tools.index_17"),content:h("Database.tools.index_18"),onConfirm:async({hide:t})=>{await u(U.type,{file:e.filename,name:T.name}),U.setRefresh(!0),t()}})}},{label:h("Ftp.Label.index_11"),onClick:()=>{_(e.filename,e.name)}},{label:h("Public.Btn.Del"),onClick:()=>{s({title:h("Site.Batch.index_18"),content:h("Database.tools.index_19"),onConfirm:async({hide:t})=>{await r({id:e.id}),N(),U.setRefresh(!0),t()}})}}]})]),{loading:H,setLoading:M}=o(),N=async()=>{try{M(!0);const{message:e}=await g(v(P));m(e)?(E.data=y(e.data)?e.data:[],E.total=b(e.page)):(E.data=[],E.total=0),T.backup_count=E.total}finally{M(!1)}};return N(),(e,l)=>{const n=x,s=c,o=i,d=a;return k(),R("div",t,[C(d,null,{toolsLeft:D((()=>[C(n,{class:"backup-btn",type:"primary",onClick:B},{default:D((()=>[S(z(e.$t("Database.index_16")),1)])),_:1})])),table:D((()=>[C(s,{loading:F(H),"loading-num":6,data:F(E).data,columns:F(G)},null,8,["loading","data","columns"])])),pageRight:D((()=>[C(o,{page:F(P).p,"onUpdate:page":l[0]||(l[0]=e=>F(P).p=e),"page-size":F(P).limit,"onUpdate:pageSize":l[1]||(l[1]=e=>F(P).limit=e),"item-count":F(E).total,onRefresh:N},null,8,["page","page-size","item-count"])])),_:1})])}}}))}}}));
