import{c as a,f as e,h as s,_ as l}from"./public.js?v=1749179669910";import{d as t,O as i,r as n,R as o,S as m,U as r,P as u,V as d,aj as p,as as c,a1 as f,c as _,a2 as x}from"./vue.js?v=1749179669910";import{N as g,m as v}from"./page_layout.js?v=1749179669910";import{w as y,x as N,y as j}from"./site3.js?v=1749179669910";import{_ as b,T as h}from"./naive.js?v=1749179669910";import"./common.js?v=1749179669910";import"./__commonjsHelpers__.js?v=1749179669910";const C={class:"p-20px"},S={class:"flex mb-16px"},w={class:"flex-1 mr-16px"},W="disable_path",$=t({__name:"disable",props:{siteName:{default:""}},setup(t){const $=t,{t:k}=i(),P=n(""),B=async()=>{""!==P.value.trim()?(await j({siteName:$.siteName,ruleName:W,ruleValue:P.value}),P.value="",D()):v.error(k("Waf.Site.Config.index_70"))},{table:U,columns:V,setLoading:A}=a([{key:"rule",title:k("Waf.Site.Config.index_66")},e({width:80,options:(a,e)=>[{label:k("Public.Btn.Del"),onClick:async()=>{await y({index:e,siteName:$.siteName,ruleName:W}),D()}}]})]),D=async()=>{try{A(!0);const{siteName:a}=$,{message:e}=await N({siteName:a,ruleName:W});g(e)&&(U.data=e.map((a=>({rule:a}))))}finally{A(!1)}};return D(),(a,e)=>{const t=b,i=h,n=s,g=l;return o(),m("div",C,[r("div",S,[r("div",w,[u(t,{value:d(P),"onUpdate:value":e[0]||(e[0]=a=>p(P)?P.value=a:null),placeholder:a.$t("Waf.Site.Config.index_67"),onKeyup:c(B,["enter"])},null,8,["value","placeholder"])]),u(i,{type:"primary",onClick:B},{default:f((()=>[_(x(a.$t("Public.Btn.Add")),1)])),_:1})]),u(n,{"max-height":368,loading:d(U).loading,data:d(U).data,columns:d(V)},null,8,["loading","data","columns"]),u(g,{class:"mt-16px"},{default:f((()=>[r("li",null,x(a.$t("Waf.Site.Config.index_68")),1),r("li",null,x(a.$t("Waf.Site.Config.index_69")),1)])),_:1})])}}});export{$ as default};
