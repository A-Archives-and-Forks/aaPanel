System.register(["./page_layout-legacy.js?v=1756367574781","./index-legacy.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1756367574781","./public-legacy.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1756367574781","./index-legacy131.js?v=1756367574781","./index-legacy132.js?v=1756367574781","./hooks-legacy.js?v=1756367574781","./vue-legacy.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1756367574781","./naive-legacy.js?v=1756367574781","./common-legacy.js?v=1756367574781","./__commonjsHelpers__-legacy.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1756367574781","./php-legacy.js?v=1756367574781","./soft-legacy.js?v=1756367574781","./index-legacy133.js?v=1756367574781","./index-legacy98.js?v=1756367574781"],function(e,a){"use strict";var t,n,s,l,o,i,d,u,c,r,p,_,g,y,b,h,m,x,w,f,k,v,D,j,C,R,U,$,z,B,S,I,W,L,P,q,H,K,O,M,N,V,A,E,F,G,J,Q,T,X,Y,Z,ee,ae,te,ne,se,le,oe,ie,de,ue,ce,re,pe,_e,ge;return{setters:[e=>{t=e.i,n=e.o,s=e.bp,l=e.bq,o=e.d,i=e.h,d=e.br,u=e.bh,c=e.bk,r=e.bl,p=e.bo,_=e.w,g=e.x,y=e.q,b=e.a,h=e.m,m=e.bn},e=>{x=e._},e=>{w=e._},e=>{f=e._},e=>{k=e._},e=>{v=e.t,D=e.d,j=e._,C=e.e,R=e.c,U=e.w,$=e.f,z=e.a,B=e.h,S=e.x},e=>{I=e._},e=>{W=e._},e=>{L=e.u,P=e.a,q=e.b,H=e.c,K=e._,O=e.d,M=e.e,N=e.g},e=>{V=e.g},e=>{A=e.W,E=e.j,F=e.u,G=e.k,J=e.P,Q=e.r,T=e.e,X=e.R,Y=e.V,Z=e.a3,ee=e.S,ae=e.U,te=e.N,ne=e.a4,se=e.w,le=e.a2,oe=e.ak,ie=e.an,de=e._},e=>{ue=e._},e=>{ce=e._},e=>{re=e.dR,pe=e.dj,_e=e.dS,ge=e.aC},null,null,null,null,null,null,null],execute:function(){const{t:ye}=t.global;function be(){return{key:"name",title:ye("Database.index_12"),width:"12%",minWidth:120}}function he(){return{key:"username",title:ye("Database.form.index_3"),width:"12%",minWidth:120}}function me(){return{key:"password",title:ye("Database.index_14"),minWidth:150,render:e=>A(v,{value:e.password},null)}}function xe(){return{key:"backup_count",title:ye("Database.index_16"),width:"12%",render:e=>{let a;return A("div",{class:"flex items-center"},[A(n,{type:e.backup_count>0?"primary":"warning",onClick:()=>{L(e)}},{default:()=>[e.backup_count>0?`${ye("Database.mongo.index_7")}(${e.backup_count})`:ye("Database.index_18")]}),A("span",{class:"mx-4px"},[E("|")]),A(n,{onClick:()=>{P(e,"mongodb")}},(t=a=ye("Public.Btn.Import"),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!F(t)?a:{default:()=>[a]}))]);var t}}}function we(){return{key:"sid",title:ye("Database.mongo.index_8"),width:"12%",minWidth:120,render:e=>V(e)}}const fe={class:"px-20px pt-24px pb-8px"},ke={class:"w-320px"},ve=G({__name:"index",setup(e,{expose:a}){const{t:t}=J(),n=Q(null),d=T({password:""}),u={password:{required:!0,message:t("Database.tools.index_65"),trigger:"blur"}},{loading:c,setLoading:r}=D();return(async()=>{try{r(!0);const{message:e}=await l();o(e)&&(d.password=i(e.root)?e.root:"")}finally{r(!1)}})(),a({onConfirm:async({hide:e})=>{try{await(n.value?.validate()),await s(te(d)),e()}catch(a){console.error(a)}}}),(e,a)=>{const t=ce,s=re,l=ue;return Y(),X("div",fe,[A(l,{ref_key:"formRef",ref:n,model:ae(d),rules:u},{default:Z(()=>[A(s,{label:e.$t("Database.index_2"),path:"password"},{default:Z(()=>[ee("div",ke,[A(t,{value:ae(d).password,"onUpdate:value":a[0]||(a[0]=e=>ae(d).password=e),loading:ae(c),default:!1},null,8,["value","loading"])])]),_:1},8,["label"])]),_:1},8,["model"])])}}}),De={class:"px-20px py-24px"},je=G({__name:"index",props:{data:{}},setup(e){const a=e,{status:t,getInfo:n}=a.data,s=T({status:t}),l=async()=>{await d(te(s)),n?.()};return(e,a)=>{const t=pe,n=re,o=ue,i=j;return Y(),X("div",De,[A(o,{"label-width":"160"},{default:Z(()=>[A(n,{label:e.$t("Database.mongo.index_1"),"show-feedback":!1},{default:Z(()=>[A(t,{value:ae(s).status,"onUpdate:value":[a[0]||(a[0]=e=>ae(s).status=e),l],"checked-value":1},null,8,["value"])]),_:1},8,["label"])]),_:1}),A(i,{class:"mt-16px"},{default:Z(()=>[ee("li",null,ne(e.$t("Database.mongo.index_2")),1)]),_:1})])}}}),Ce={class:"p-16px"};e("default",G({__name:"index",setup(e){const{t:t}=J(),n=de(()=>b(()=>a.import("./index-legacy135.js?v=1756367574781"),void 0)),s=u(),i=C(t("Database.mongo.index_4"),{status:!1}),d=()=>{i.data.status="enabled"===ce.authorization,i.show=!0},v=C(t("Database.tools.index_70")),j=()=>{"enabled"===ce.authorization?v.show=!0:(P(),h.warning(t("Database.mongo.index_5")))},L=C(t("Database.mongo.index_1"),{status:0}),P=()=>{L.data.status="enabled"===ce.authorization?1:0,L.data.getInfo=re,L.show=!0},V=()=>{N()},F=async()=>{await r(s.type,{ids:[]}),ke()},{keys:G,table:Q,columns:X}=R([{type:"selection",width:40},be(),he(),me(),xe(),we(),U({onBlur:async(e,a)=>{await m({id:a.id,ps:e})}}),$({width:100,options:e=>[{label:"Password",onClick:()=>{q(e)}},{label:t("Public.Btn.Del"),onClick:()=>{H([e])}}]})]),ue=[{key:"sync",label:t("Database.index_24"),onBatch:e=>{z({title:t("Database.index_25"),content:t("Database.index_26"),onConfirm:async({hide:a})=>{await r(s.type,{ids:e.map(e=>e.id)}),a()}})}},{key:"backup",type:"confirm",label:t("Database.index_27"),confirm:{title:t("Database.index_28"),desc:t("Database.index_29"),api:e=>c(s.type,{id:e.id},!1),done:()=>{ke()},columns:[{key:"name",title:t("Database.index_12")}]}},{key:"delete",label:t("Database.index_30"),onBatch:e=>{H(e)}}],ce=T({authorization:"",msg:"",port:"",root:""}),re=async()=>{const{message:e}=await l();o(e)&&(ce.authorization=e.authorization,ce.msg=e.msg,ce.port=e.port,ce.root=e.root)},{loading:pe,setLoading:ye}=D(),fe=T({p:1,limit:10,sid:-1,search:""}),ke=async()=>{try{ye(!0);const{message:e}=await p(s.type,(()=>{const e={...te(fe)};return-1===e.sid&&delete e.sid,e})());o(e)?(Q.data=_(e.data)?e.data:[],Q.total=g(e.page)):(Q.data=[],Q.total=0)}finally{G.value=[],ye(!1)}};return se(()=>s.isRefresh,e=>{e&&(s.setRefresh(!1),s.delRemoteId===fe.sid&&(fe.sid=-1),ke())}),(async()=>{await s.getRemote(),s.install?(ke(),re()):S()})(),(e,a)=>{const t=ge,l=y,o=W,u=I,c=B,r=k,p=f,_=w,g=x,b=_e;return Y(),le(ae(M),null,{default:Z(()=>[A(b,null,{default:Z(()=>[ee("div",Ce,[A(_,{feedback:!0},{toolsLeft:Z(()=>[A(t,{type:"primary",onClick:d},{default:Z(()=>[E(ne(e.$t("Database.index_1")),1)]),_:1}),A(t,{onClick:j},{default:Z(()=>[E(ne(e.$t("Database.index_2")),1)]),_:1}),A(t,{onClick:P},{default:Z(()=>[E(ne(e.$t("Database.mongo.index_1")),1)]),_:1}),A(t,{onClick:V},{default:Z(()=>[E(ne(e.$t("Database.index_4")),1)]),_:1}),A(l,{class:"mx-0!",vertical:""}),A(t,{onClick:F},{default:Z(()=>[E(ne(e.$t("Database.index_5")),1)]),_:1}),A(t,{onClick:ae(O)},{default:Z(()=>[E(ne(e.$t("Database.index_6")),1)]),_:1},8,["onClick"]),ae(s).isInstallMongoDB?(Y(),le(o,{key:0,"soft-name":"mongodb"})):ie("",!0)]),toolsRight:Z(()=>[A(ae(K),{value:ae(fe).sid,"onUpdate:value":a[0]||(a[0]=e=>ae(fe).sid=e),"store-key":"database-mongo-page",onChange:ke},null,8,["value"]),A(u,{value:ae(fe).search,"onUpdate:value":a[1]||(a[1]=e=>ae(fe).search=e),placeholder:e.$t("Database.mongo.index_3"),onSearch:ke},null,8,["value","placeholder"])]),table:Z(()=>[A(c,{"checked-row-keys":ae(G),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>oe(G)?G.value=e:null),loading:ae(pe),data:ae(Q).data,columns:ae(X)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Z(()=>[A(r,{"checked-row-keys":ae(G),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>oe(G)?G.value=e:null),data:ae(Q).data,options:ue},null,8,["checked-row-keys","data"])]),pageRight:Z(()=>[A(p,{page:ae(fe).p,"onUpdate:page":a[4]||(a[4]=e=>ae(fe).p=e),"page-size":ae(fe).limit,"onUpdate:pageSize":a[5]||(a[5]=e=>ae(fe).limit=e),"store-key":"database-mongo-page","item-count":ae(Q).total,onRefresh:ke},null,8,["page","page-size","item-count"])]),_:1}),A(g,{show:ae(i).show,"onUpdate:show":a[6]||(a[6]=e=>ae(i).show=e),title:ae(i).title,width:540,minHeight:176,footer:!0,data:ae(i).data,component:ae(n)},null,8,["show","title","data","component"]),A(g,{show:ae(v).show,"onUpdate:show":a[7]||(a[7]=e=>ae(v).show=e),title:ae(v).title,width:520,footer:!0,component:ve},null,8,["show","title"]),A(g,{show:ae(L).show,"onUpdate:show":a[8]||(a[8]=e=>ae(L).show=e),title:ae(L).title,width:400,data:ae(L).data,component:je},null,8,["show","title","data"])])]),_:1})]),_:1})}}}))}}});
