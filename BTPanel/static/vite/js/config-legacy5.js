System.register(["./public-legacy.js?v=1749179669910","./page_layout-legacy.js?v=1749179669910","./setting-legacy.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1749179669910","./vue-legacy.js?v=1749179669910","./naive-legacy.js?v=1749179669910","./common-legacy.js?v=1749179669910","./__commonjsHelpers__-legacy.js?v=1749179669910"],(function(e,t){"use strict";var l,a,n,c,i,r,s,u,o,f,d,y,g,p,_,m,v,b,w,x,h,S,q,j,W,E,k,U,$;return{setters:[e=>{l=e._,a=e.c,n=e.f,c=e.h,i=e.u},e=>{r=e.c,s=e.l},e=>{u=e.k,o=e.l,f=e.n,d=e.g},e=>{y=e._},e=>{g=e.d,p=e.O,_=e.r,m=e.j,v=e.R,b=e.S,w=e.P,x=e.a1,h=e.U,S=e.V,q=e.a2,j=e.M,W=e.c},e=>{E=e._,k=e.cj,U=e.bY,$=e.T},null,null],execute:function(){const t={class:"p-20px"},P={class:"w-220px"},R={class:"ml-8px text-desc"},B={class:"w-220px mr-8px"},C={class:"text-desc"},L={class:"w-220px mr-8px"},O={class:"text-desc"},T=g({__name:"form",props:{isEdit:{type:Boolean,default:!1},row:{}},emits:["refresh"],setup(e,{expose:a,emit:n}){const c=e,i=n,{t:r}=p(),s=_(null),f=m({url:"",frequency:30,cycle:60}),d={url:{trigger:["blur","input"],validator:()=>""!==f.url.trim()||new Error(r("Waf.Setting.config_55"))},frequency:{trigger:["blur","input"],validator:()=>!!f.frequency||new Error(r("Waf.Setting.config_56"))},cycle:{trigger:["blur","input"],validator:()=>!!f.cycle||new Error(r("Waf.Setting.config_57"))}};return(()=>{const{row:e,isEdit:t}=c;t&&e&&(f.url=e.url,f.frequency=e.frequency,f.cycle=e.cycle)})(),a({onConfirm:async()=>{await(s.value?.validate()),c.isEdit?await u(j(f)):await o(j(f)),i("refresh")}}),(e,a)=>{const n=E,c=k,i=U,r=y,u=l;return v(),b("div",t,[w(r,{ref_key:"formRef",ref:s,model:S(f),rules:d},{default:x((()=>[w(c,{label:"URL",path:"url"},{default:x((()=>[h("div",P,[w(n,{value:S(f).url,"onUpdate:value":a[0]||(a[0]=e=>S(f).url=e),placeholder:"/index.php"},null,8,["value"])]),h("span",R,q(e.$t("Waf.Setting.config_51")),1)])),_:1}),w(c,{label:e.$t("Waf.Setting.config_48"),path:"frequency"},{default:x((()=>[h("div",B,[w(i,{value:S(f).frequency,"onUpdate:value":a[1]||(a[1]=e=>S(f).frequency=e),min:1,"show-button":!1},null,8,["value"])]),h("span",C,q(e.$t("Public.Unit.Time",S(f).frequency)),1)])),_:1},8,["label"]),w(c,{label:e.$t("Waf.Setting.config_49"),path:"cycle"},{default:x((()=>[h("div",L,[w(i,{value:S(f).cycle,"onUpdate:value":a[2]||(a[2]=e=>S(f).cycle=e),min:1,"show-button":!1},null,8,["value"])]),h("span",O,q(e.$t("Public.Unit.Second",S(f).cycle)),1)])),_:1},8,["label"])])),_:1},8,["model"]),w(u,{class:"mt-12px"},{default:x((()=>[h("li",null,q(e.$t("Waf.Setting.config_54")),1)])),_:1})])}}}),A={class:"p-20px"},D={class:"flex mb-16px"};e("default",g({__name:"config",setup(e){const{t:t}=p(),l=e=>{i({title:e.title,width:570,footer:!0,data:{...e.data,onRefresh:()=>{_()}},component:T})},u=async()=>{l({title:t("Waf.Setting.config_46"),data:{isEdit:!1}})},{table:o,columns:y,setLoading:g}=a([{key:"url",title:"URL",ellipsis:{tooltip:!0}},{key:"frequency",title:t("Waf.Setting.config_48"),width:100,ellipsis:{tooltip:!0}},{key:"cycle",title:t("Waf.Setting.config_49"),width:120,ellipsis:{tooltip:!0},render:e=>t("Waf.Setting.config_50",[e.cycle])},n({width:100,options:e=>[{label:t("Public.Btn.Edit"),onClick:async()=>{(async e=>{l({title:t("Waf.Setting.config_47"),data:{row:e,isEdit:!0}})})(e)}},{label:t("Public.Btn.Del"),onClick:async()=>{await f({url:e.url}),_()}}]})]),_=async()=>{try{g(!0);const{message:e}=await d();r(e)&&(o.data=Object.entries(e.cc_uri_frequency).map((([e,t])=>({url:e,frequency:s(t.frequency),cycle:s(t.cycle)}))))}finally{g(!1)}};return _(),(e,t)=>{const l=$,a=c;return v(),b("div",A,[h("div",D,[w(l,{type:"primary",onClick:u},{default:x((()=>[W(q(e.$t("Public.Btn.Add")),1)])),_:1})]),w(a,{"max-height":368,loading:S(o).loading,data:S(o).data,columns:S(y)},null,8,["loading","data","columns"])])}}}))}}}));
