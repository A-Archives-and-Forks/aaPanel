import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.js?v=1742891699271";import{bB as a,fN as s}from"./page_layout.js?v=1742891699271";import{_ as l}from"./index120.js?v=1742891699271";import{d as t,O as r,r as p,j as i,R as u,S as n,P as o,a1 as d,V as _,a0 as m,ap as v}from"./vue.js?v=1742891699271";import{ch as x,_ as b,cn as c,bU as f}from"./naive.js?v=1742891699271";import"./common.js?v=1742891699271";import"./__commonjsHelpers__.js?v=1742891699271";import"./public.js?v=1742891699271";import"./index.js?v=1742891699271";import"./index95.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1742891699271";const h={class:"p-16px"},g=t({__name:"index",props:{data:{}},setup(t,{expose:g}){const{t:j}=r(),w=t,{getList:y}=w.data,D=p(null),$=i({sid:0,username:"",password:a(10),host:"127.0.0.1",ip:""}),q={username:{required:!0,message:j("Config.Panel.index_60"),trigger:["blur","input"]},password:{required:!0,message:j("Config.Panel.index_67"),trigger:["blur","input"]},ip:{trigger:["blur","input"],validator:()=>"ip"!==$.host||""!==$.ip||new Error(j("Database.Mysql.index_6"))}},U=p([{label:j("Database.form.index_13"),value:"%"},{label:j("Database.form.index_12"),value:"127.0.0.1"},{label:j("Database.form.index_14"),value:"ip"}]);return g({onConfirm:async()=>{var e;await(null==(e=D.value)?void 0:e.validate()),await s({sid:$.sid,username:$.username,password:$.password,host:"ip"===$.host?$.ip:$.host,db_name:"*",tb_name:"*"}),null==y||y()}}),(a,s)=>{const t=x,r=b,p=c,i=f,g=e;return u(),n("div",h,[o(g,{ref_key:"formRef",ref:D,model:_($),rules:q},{default:d((()=>[o(t,{label:a.$t("Database.Mysql.index_5"),path:"server"},{default:d((()=>[o(l,{class:"w-200px",value:_($).sid,"onUpdate:value":s[0]||(s[0]=e=>_($).sid=e)},null,8,["value"])])),_:1},8,["label"]),o(t,{label:a.$t("Database.index_13"),path:"username"},{default:d((()=>[o(r,{class:"w-350px!",value:_($).username,"onUpdate:value":s[1]||(s[1]=e=>_($).username=e),placeholder:a.$t("Config.Panel.index_60")},null,8,["value","placeholder"])])),_:1},8,["label"]),o(t,{label:a.$t("Database.index_14"),path:"password"},{default:d((()=>[o(r,{class:"w-350px!",value:_($).password,"onUpdate:value":s[2]||(s[2]=e=>_($).password=e),placeholder:a.$t("Config.Panel.index_67")},null,8,["value","placeholder"])])),_:1},8,["label"]),o(i,null,{default:d((()=>[o(t,{label:a.$t("Database.Mysql.index_4")},{default:d((()=>[o(p,{class:"w-200px",value:_($).host,"onUpdate:value":s[3]||(s[3]=e=>_($).host=e),options:_(U)},null,8,["value","options"])])),_:1},8,["label"]),o(t,{"show-label":!1,path:"ip"},{default:d((()=>["ip"===_($).host?(u(),m(r,{key:0,class:"w-150px!",value:_($).ip,"onUpdate:value":s[4]||(s[4]=e=>_($).ip=e),placeholder:a.$t("Database.Mysql.index_6")},null,8,["value","placeholder"])):v("",!0)])),_:1})])),_:1})])),_:1},8,["model"])])}}});export{g as default};
