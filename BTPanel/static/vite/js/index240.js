import{_ as e}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1753954525509";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1753954525509";import{_ as i}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1753954525509";import{b as a,h as s,d as n,c as o,f as p}from"./public.js?v=1753954525509";import{n as _,X as l,a_ as r,c as d,w as c,x as m}from"./page_layout.js?v=1753954525509";import{M as u,N as x,O as j,P as y}from"./index86.js?v=1753954525509";import{ay as g,bY as k}from"./naive.js?v=1753954525509";import{k as f,P as h,e as b,N as v,U as w,V as S,Q as C,a2 as R,j as P,a3 as B,X as T,ah as U}from"./vue.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1753954525509";import"./common.js?v=1753954525509";import"./__commonjsHelpers__.js?v=1753954525509";import"./index127.js?v=1753954525509";import"./index.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1753954525509";import"./site4.js?v=1753954525509";import"./soft.js?v=1753954525509";import"./site.js?v=1753954525509";import"./index237.js?v=1753954525509";import"./index100.js?v=1753954525509";import"./index102.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang9.js?v=1753954525509";import"./index96.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang14.js?v=1753954525509";import"./theme-chrome.js?v=1753954525509";import"./file2.js?v=1753954525509";import"./refersh.js?v=1753954525509";import"./php.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang17.js?v=1753954525509";import"./index101.js?v=1753954525509";import"./ssl.js?v=1753954525509";import"./cert.js?v=1753954525509";import"./utils3.js?v=1753954525509";import"./index209.js?v=1753954525509";import"./paypal-js.js?v=1753954525509";import"./ssl-lets-progress.js?v=1753954525509";import"./Ssl.vue_vue_type_script_setup_true_lang.js?v=1753954525509";const z={class:"p-20px"},L=f({__name:"index",props:{data:{}},setup(f){const{t:L}=h(),O=f,{row:W}=O.data,K=async()=>{await j({s_id:W.id,bak_type:3}),V(),W.backup_count++},{keys:N,table:X,columns:D}=a([{type:"selection",width:40},{key:"filename",title:L("Site.TableRow.index_22"),ellipsis:{tooltip:!0}},{key:"size",title:L("Site.TableRow.index_23"),width:80,render:e=>_(e.size)},{key:"addtime",title:L("Site.TableRow.index_25"),width:150,render:e=>l(e.bak_time)},{key:"bak_type",title:L("Site.TableRow.index_24"),width:100,render:e=>1==e.bak_type?"".concat(L("WP.index_24")):2==e.bak_type?"".concat(L("WP.index_25")):"".concat(L("WP.index_26"))},s({width:190,options:e=>[{label:L("Site.TableOP.index_4"),onClick:()=>{(e=>{n({title:L("Site.Config.index_28"),content:L("Site.Config.index_29"),onConfirm:async({hide:t})=>{t(),await y({bak_id:e.id})}})})(e)}},{label:L("Site.TableOP.index_5"),onClick:()=>{r(encodeURIComponent(e.bak_file),e.filename)}},{label:L("Public.Btn.Del"),onClick:()=>{n({title:L("Site.Batch.index_18"),content:"".concat(L("Site.Batch.index_19")," [").concat(e.filename,"]}"),onConfirm:async({hide:t})=>{await u({bak_id:e.id}),V(),W.backup_count--,t()}})}}]})]),H=[{key:"del",type:"confirm",label:L("Site.Batch.index_20"),confirm:{title:L("Site.Batch.index_21"),desc:L("Site.Batch.index_11"),columns:[D.value[1]],api:e=>u({bak_id:e.id},!1),done:e=>{V(),W.backup_count-=e.length}}}],I=b({p:1,limit:10,s_id:W.id}),{loading:M,setLoading:Q}=o(),V=async()=>{try{Q(!0);const{message:e}=await x(v(I));d(e)?(X.data=c(e.data)?e.data:[],X.total=m(e.page)):(X.data=[],X.total=0)}finally{N.value=[],Q(!1)}};return V(),(a,s)=>{const n=g,o=k,_=p,l=i,r=t,d=e;return w(),S("div",z,[C(d,null,{toolsLeft:R((()=>[C(o,{class:"flex-nowrap!"},{default:R((()=>[C(n,{type:"primary",onClick:K},{default:R((()=>[P(B(a.$t("Site.Config.index_27")),1)])),_:1})])),_:1})])),table:R((()=>[C(_,{"checked-row-keys":T(N),"onUpdate:checkedRowKeys":s[0]||(s[0]=e=>U(N)?N.value=e:null),loading:T(M),"loading-num":1,"max-height":340,data:T(X).data,columns:T(D)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:R((()=>[C(l,{"checked-row-keys":T(N),"onUpdate:checkedRowKeys":s[1]||(s[1]=e=>U(N)?N.value=e:null),data:T(X).data,options:H},null,8,["checked-row-keys","data"])])),pageRight:R((()=>[C(r,{page:T(I).p,"onUpdate:page":s[2]||(s[2]=e=>T(I).p=e),"page-size":T(I).limit,"onUpdate:pageSize":s[3]||(s[3]=e=>T(I).limit=e),"item-count":T(X).total,onRefresh:V},null,8,["page","page-size","item-count"])])),_:1})])}}});export{L as default};
