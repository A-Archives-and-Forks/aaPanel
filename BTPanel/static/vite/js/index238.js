const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/form9.js?v=1741416570306","js/index.vue_vue_type_script_setup_true_lang.js?v=1741416570306","js/vue.js?v=1741416570306","js/__commonjsHelpers__.js?v=1741416570306","js/naive.js?v=1741416570306","js/common.js?v=1741416570306","js/page_layout.js?v=1741416570306","js/public.js?v=1741416570306","css/public.css?v=1741416570306","css/page_layout.css?v=1741416570306"])))=>i.map(i=>d[i]);
import{f2 as a,f3 as t,b as e,a as s}from"./page_layout.js?v=1741416570306";import{_ as o}from"./index.js?v=1741416570306";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1741416570306";import{_ as i}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1741416570306";import{b as l,f as _,a as r,c,d}from"./public.js?v=1741416570306";import{T as p,ce as m}from"./naive.js?v=1741416570306";import{d as u,M as b,P as y,_ as f,$ as x,N as j,S as g,c as h,a0 as w,W as D}from"./vue.js?v=1741416570306";import"./common.js?v=1741416570306";import"./__commonjsHelpers__.js?v=1741416570306";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1741416570306";const v=u({__name:"index",props:{data:{}},setup(u){const v=D((()=>s((()=>import("./form9.js?v=1741416570306")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))),M=u,{params:k}=M.data,{t:q}=b(),{keys:P,table:L,columns:C}=l([{key:"database",title:q("Site.PHP.add_site_16"),render:a=>"*"===a.database?"* -".concat(q("Database.Mysql.index_22")):a.database},{key:"table",title:"Table",render:a=>"*"===a.table?"* -".concat(q("Database.Mysql.index_23")):a.table},{key:"user",title:q("Database.index_21"),render:a=>"".concat(q("Database.Mysql.index_24"),": ").concat(a.access.map((a=>a.access)).join(",")),ellipsis:{tooltip:!0}},_({width:80,options:t=>[{label:q("Public.Btn.Del"),onClick:async()=>{r({title:q("Public.Btn.Del"),content:q("Database.Mysql.index_25",[t.database]),onConfirm:async()=>{let e={...k,db_name:t.database,tb_name:t.table,access:t.access.map((a=>a.access)).join(","),with_grant:0};await a(e),E()}})}}]})]),{loading:T,setLoading:B}=c(),E=async()=>{try{B(!0);const{message:a}=await t(k);e(a)&&(L.data=a.data)}finally{B(!1),P.value=[]}};E();const H=d(q("Database.Mysql.index_21"),{getList:E,params:k});return(a,t)=>{const e=p,s=i,l=n,_=o,r=m;return y(),f(r,{class:"p-16px"},{default:x((()=>[j(l,null,{toolsLeft:x((()=>[j(e,{type:"primary",onClick:t[0]||(t[0]=a=>g(H).show=!0)},{default:x((()=>[h(w(a.$t("Database.Mysql.index_21")),1)])),_:1})])),table:x((()=>[j(s,{loading:g(T),data:g(L).data,"max-height":500,columns:g(C)},null,8,["loading","data","columns"])])),_:1}),j(_,{show:g(H).show,"onUpdate:show":t[1]||(t[1]=a=>g(H).show=a),title:g(H).title,data:g(H).data,width:600,"min-height":250,footer:!0,component:g(v)},null,8,["show","title","data","component"])])),_:1})}}});export{v as default};
