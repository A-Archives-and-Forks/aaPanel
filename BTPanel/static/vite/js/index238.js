import{_ as e}from"./index.js?v=1747989938512";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1747989938512";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1747989938512";import{_ as s,c as i,d as l,h as n,K as o,f as d,e as r,a as p}from"./public.js?v=1747989938512";import{_ as u}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1747989938512";import{N as _,m as c,d6 as m,c as h,q as y,p as x}from"./page_layout.js?v=1747989938512";import{n as g,p as w,q as v,s as f,r as j,t as k,u as S,v as b,x as P,y as W,z as R}from"./index84.js?v=1747989938512";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang.js?v=1747989938512";import{d as U,O as $,r as T,j as z,R as L,S as B,P as q,a1 as I,U as K,V as O,a2 as D,aj as H,ax as N,c as A,M as J}from"./vue.js?v=1747989938512";import{_ as M,cj as V,T as E}from"./naive.js?v=1747989938512";import"./common.js?v=1747989938512";import"./__commonjsHelpers__.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1747989938512";import"./index122.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang13.js?v=1747989938512";import"./site4.js?v=1747989938512";import"./soft.js?v=1747989938512";import"./site.js?v=1747989938512";import"./index228.js?v=1747989938512";import"./index97.js?v=1747989938512";import"./index103.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang11.js?v=1747989938512";import"./index96.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1747989938512";import"./theme-chrome.js?v=1747989938512";import"./file.js?v=1747989938512";import"./cert.js?v=1747989938512";import"./php.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang18.js?v=1747989938512";import"./index101.js?v=1747989938512";import"./ssl.js?v=1747989938512";import"./utils2.js?v=1747989938512";import"./index202.js?v=1747989938512";import"./paypal-js.js?v=1747989938512";import"./ssl-lets-progress.js?v=1747989938512";import"./columns.js?v=1747989938512";const F={class:"p-20px"},G={class:"w-280px"},Q=U({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:a}=$(),i=e,{getList:l}=i.data,n=T(null),o=z({name:""}),d={name:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{var t;await(null==(t=n.value)?void 0:t.validate()),await g({...o}),null==l||l(),e()}}),(e,t)=>{const a=M,i=V,l=C,r=s;return L(),B("div",F,[q(l,{ref_key:"formRef",ref:n,model:O(o),rules:d},{default:I((()=>[q(i,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:I((()=>[K("div",G,[q(a,{type:"text",value:O(o).name,"onUpdate:value":t[0]||(t[0]=e=>O(o).name=e),placeholder:e.$t("WP.Sets.index_11")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),q(r,{class:"mt-4px"},{default:I((()=>[K("li",null,D(e.$t("WP.Sets.index_12")),1)])),_:1})])}}}),X={class:"p-20px"},Y=U({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:a}=$(),o=e,{id:d}=o.data,{keys:r,table:p,columns:u}=i([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2")}]),{loading:m,setLoading:h}=l();(async()=>{try{h(!0);const{message:e}=await w();_(e)&&(p.data=e)}finally{r.value=[],h(!1)}})();return t({onConfirm:async()=>{if(!r.value.length)return c.error(a("WP.Sets.index_18")),!1;const e=r.value.join(",");await v({set_id:d,site_ids:e})}}),(e,t)=>{const a=n,i=s;return L(),B("div",X,[q(a,{"checked-row-keys":O(r),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>H(r)?r.value=e:null),"row-key":"id",loading:O(m),data:O(p).data,"max-height":220,columns:O(u)},null,8,["checked-row-keys","loading","data","columns"]),q(i,{class:"mt-16px"},{default:I((()=>[K("li",null,D(e.$t("WP.Sets.index_17")),1),K("li",null,D(e.$t("WP.Sets.index_19")),1)])),_:1})])}}}),Z={class:"p-20px"},ee=x(U({__name:"index",props:{data:{}},setup(e){const{t:a}=$(),r=T(),p=e,{id:x}=p.data,{type:g}=p.data,{getList:w}=p.data,{keys:v,table:W,columns:R}=i([{key:"title",title:a("Site.TableRow.index_2"),width:"70%"},o({key:"state",title:a("WP.TableRow.index_9"),minWidth:100,onClick:async(e,t)=>{await f({item_ids:t.id,state:e?1:0,type:g}),Y()}}),d({width:80,options:e=>[{label:a("Public.Btn.Del"),onClick:async()=>{await j({item_ids:e.id,type:g}),Y(),null==w||w()}}]})]),{keys:C,table:U,columns:M}=i([{type:"selection",width:40,disabled:e=>e.is_in_set},{key:"name",title:a("Site.TableRow.index_2"),width:"60%"},{key:"title",title:a("WP.index_19"),render:e=>q(m,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)}]),V=z({p:1,p_size:999,keyword:"",set_id:x}),F=async()=>{var e;if(!C.value.length)return c.error(a("WP.Sets.index_14")),void(null==(e=r.value)||e.focus());const t=U.data.filter((e=>C.value.includes(e.slug))).map((e=>({slug:e.slug,title:e.name,description:1===g?e.short_description:e.description})));await S({set_id:x,items:JSON.stringify(t),type:g}),Y(),null==w||w()},G=async()=>{if(V.keyword)try{const{message:e}=1===g?await b(J(V),!0):await P(J(V),!0);h(e)&&(U.total=e.total,_(e.list)?(U.data=e.list,U.data.length||c.error(a("WP.Sets.index_16"))):(U.data=[],U.total=0))}finally{C.value=[]}else c.error(a("WP.Sets.index_15"))},{loading:Q,setLoading:X}=l(),Y=async()=>{try{X(!0);const{message:e}=await k({set_id:x,type:g});_(e)&&(W.data=e)}finally{v.value=[],X(!1)}};return Y(),(e,a)=>{const i=E,l=u,o=n,d=t,p=y,_=s;return L(),B("div",Z,[q(d,null,N({toolsLeft:I((()=>[q(i,{type:"primary",onClick:F},{default:I((()=>[A(D(e.$t("Public.Btn.Add")),1)])),_:1})])),toolsRight:I((()=>[q(l,{ref_key:"seachRef",ref:r,value:O(V).keyword,"onUpdate:value":a[0]||(a[0]=e=>O(V).keyword=e),placeholder:e.$t("Public.Btn.Search"),onSearch:G},null,8,["value","placeholder"])])),_:2},[O(U).data.length?{name:"table",fn:I((()=>[q(o,{class:"custom-table",bordered:!1,"checked-row-keys":O(C),"onUpdate:checkedRowKeys":a[1]||(a[1]=e=>H(C)?C.value=e:null),"row-key":"slug","max-height":150,data:O(U).data,columns:O(M)},null,8,["checked-row-keys","data","columns"])])),key:"0"}:void 0]),1024),q(p,{class:"my-20px!"}),q(o,{loading:O(Q),data:O(W).data,columns:O(R),"max-height":150},null,8,["loading","data","columns"]),q(_,{class:"mt-16px"},{default:I((()=>[K("li",null,D(e.$t("WP.Sets.index_13")),1)])),_:1})])}}}),[["__scopeId","data-v-0607cdd4"]]),te={class:"p-20px"},ae=U({__name:"index",setup(s,{expose:o}){const{t:_}=$(),c=r(_("WP.Sets.index_2")),m=z({p:1,p_size:10,keyword:""}),y=()=>{P.show=!0},x=()=>{m.p=1,S()},g=(e,t,a)=>{b.title=t,b.data.id=e.id,b.data.type=a,b.show=!0},{keys:w,table:v,columns:f}=i([{key:"name",title:_("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},d({title:_("WP.Sets.index_3"),align:"center",options:e=>[{label:_("WP.Sets.index_4",[e.plugins.length]),onClick:()=>{g(e,_("WP.Sets.index_5"),1)}}]}),d({title:_("WP.Sets.index_6"),align:"center",options:e=>[{label:_("WP.Sets.index_7",[e.themes.length]),onClick:()=>{g(e,_("WP.Sets.index_8"),2)}}]}),d({width:100,align:"center",options:e=>[{label:_("WP.TableRow.index_13"),disabled:!e.plugins.length&&!e.themes.length,onClick:()=>{c.data.id=e.id,c.show=!0}},{label:_("Public.Btn.Del"),onClick:()=>{p({title:"".concat(_("Site.TableOP.index_6")," [").concat(e.name,"]"),content:_("WP.Sets.index_9"),onConfirm:async({hide:t})=>{await W({set_id:e.id}),S(),t()}})}}]})]),{loading:j,setLoading:k}=l(),S=async()=>{try{k(!0);const{message:e}=await R(J(m));h(e)&&(v.data=e.list,v.total=e.total)}finally{w.value=[],k(!1)}},b=r(_("WP.Sets.index_5"),{getList:S}),P=r(_("WP.Sets.index_10"),{getList:S});return S(),o({init:S}),(s,i)=>{const l=E,o=u,d=n,r=a,p=t,_=e;return L(),B("div",te,[q(p,null,{toolsLeft:I((()=>[q(l,{type:"primary",onClick:y},{default:I((()=>[A(D(s.$t("WP.Sets.index_1")),1)])),_:1})])),toolsRight:I((()=>[q(o,{value:O(m).keyword,"onUpdate:value":i[0]||(i[0]=e=>O(m).keyword=e),placeholder:s.$t("Security.History.Index_14"),onSearch:x},null,8,["value","placeholder"])])),table:I((()=>[q(d,{"max-height":250,loading:O(j),data:O(v).data,columns:O(f)},null,8,["loading","data","columns"])])),pageRight:I((()=>[q(r,{page:O(m).p,"onUpdate:page":i[1]||(i[1]=e=>O(m).p=e),"page-size":O(m).p_size,"onUpdate:pageSize":i[2]||(i[2]=e=>O(m).p_size=e),"item-count":O(v).total,onRefresh:S},null,8,["page","page-size","item-count"])])),_:1}),q(_,{show:O(P).show,"onUpdate:show":i[3]||(i[3]=e=>O(P).show=e),title:O(P).title,data:O(P).data,width:480,footer:!0,component:Q},null,8,["show","title","data"]),q(_,{show:O(b).show,"onUpdate:show":i[4]||(i[4]=e=>O(b).show=e),title:O(b).title,data:O(b).data,width:600,"min-height":350,footer:!1,component:ee},null,8,["show","title","data"]),q(_,{show:O(c).show,"onUpdate:show":i[5]||(i[5]=e=>O(c).show=e),title:O(c).title,data:O(c).data,width:480,"min-height":350,footer:!0,"confirm-text":s.$t("WP.TableRow.index_13"),component:Y},null,8,["show","title","data","confirm-text"])])}}});export{ae as default};
