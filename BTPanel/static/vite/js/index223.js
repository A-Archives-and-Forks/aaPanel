import{aj as e,dj as t,_ as a,dm as s}from"./page_layout.js?v=1749179669910";import{u as l}from"./public.js?v=1749179669910";import{a as o,_ as i}from"./index.vue_vue_type_script_setup_true_lang15.js?v=1749179669910";import{d as n,O as r,r as d,R as p,S as u,U as m,P as c,a2 as x,V as _,a1 as v,aj as f,H as w,ay as j}from"./vue.js?v=1749179669910";import{_ as g,b_ as h}from"./naive.js?v=1749179669910";import"./common.js?v=1749179669910";import"./__commonjsHelpers__.js?v=1749179669910";const y={class:"p-24px"},S={class:"flex items-center pl-12px"},b={class:"flex-1 ml-14px"},C={class:"text-16px font-bold text-#111"},N={class:"p-10px mt-24px mx-12px bg-#f0f0f0 text-14px"},R={class:"mt-10px"},T=n({__name:"index",props:{data:{}},setup(n,{expose:T}){const{t:k}=r(),U=n,{rows:z}=U.data,D=e(),H=t(),$=d(null),O=d(""),P=d(!1),V=d("");let q=null;const A=e=>{j((()=>{(e=>{var t;V.value=e,P.value=!0,null==(t=$.value)||t.focus(),q&&clearTimeout(q),q=window.setTimeout((()=>{P.value=!1}),3e3)})(e)}))()},B=async(e,t=!1)=>await s({project_name:e.name},t),E=e=>{l({title:k("Site.Cert.index_56"),hideClose:!0,component:o,data:{title:k("Site.Cert.index_56"),api:B,data:z,callback:t=>{e(),F(t)}}})},F=e=>{H.setRefresh(!0),l({title:k("Site.DelSite.index_11"),width:440,footer:!0,component:i,data:{title:k("Site.Cert.index_56"),data:e,status:"done",columns:[{key:"name",title:k("Site.TableRow.index_1"),ellipsis:{tooltip:{width:"trigger"}}}]}})};return T({onConfirm:async({hide:e})=>""==O.value?(A(k("Site.DelSite.ContentText5")),!1):O.value!==k("Node.index_41")?(A(k("Node.index_38")),!1):(await(async e=>{1===z.length?(await B(z[0],!0),H.setRefresh(!0),null==e||e()):E(e)})(e),void e())}),(e,t)=>{const s=a,l=g,o=h;return p(),u("div",y,[m("div",S,[c(s,{name:"base-warning",size:"34",color:"#f0a020"}),m("div",b,[m("div",C,[m("div",null,x(e.$t("Node.index_39")),1)])])]),m("div",N,[m("div",null,x(e.$t("Node.index_40",[_(k)("Node.index_41")])),1),m("div",R,[c(o,{show:_(P),"onUpdate:show":t[1]||(t[1]=e=>f(P)?P.value=e:null),trigger:"manual",placement:"top-start","arrow-point-to-center":!0,style:w({"--n-color":_(D).errorColor,"--n-text-color":"#fff"})},{trigger:v((()=>[c(l,{ref_key:"inputRef",ref:$,value:_(O),"onUpdate:value":t[0]||(t[0]=e=>f(O)?O.value=e:null),size:"small",placeholder:""},null,8,["value"])])),default:v((()=>[m("div",null,x(_(V)),1)])),_:1},8,["show","style"])])])])}}});export{T as default};
