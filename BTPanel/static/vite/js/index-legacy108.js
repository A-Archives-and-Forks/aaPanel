System.register(["./index-legacy101.js?v=1753954525509","./page_layout-legacy.js?v=1753954525509","./index-legacy17.js?v=1753954525509","./public-legacy.js?v=1753954525509","./vue-legacy.js?v=1753954525509","./naive-legacy.js?v=1753954525509","./common-legacy.js?v=1753954525509","./__commonjsHelpers__-legacy.js?v=1753954525509","./index-legacy.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1753954525509","./backup-info-legacy.js?v=1753954525509","./utils-legacy.js?v=1753954525509","./soft-legacy.js?v=1753954525509"],(function(e,s){"use strict";var a,t,r,l,n,o,c,i,_,p,u,g,d,m,y,f,x,j,v,h,w,k,b,C;return{setters:[e=>{a=e._},e=>{t=e.c,r=e.o,l=e._},e=>{n=e.c,o=e.g},e=>{c=e.d},e=>{i=e.k,_=e.P,p=e.e,u=e.o,g=e.b,d=e.U,m=e.V,y=e.al,f=e.Q,x=e.a2,j=e.W,v=e.j,h=e.X,w=e.a1},e=>{k=e.c6,b=e.bA,C=e.bY},null,null,null,null,null,null,null],execute:function(){const s={class:"p-16px"},I={class:"h-250px"};e("default",i({__name:"index",props:{onRefresh:{}},emits:["close"],setup(e,{emit:i}){const{t:R}=_(),z=i,M=e,q=p({task_msg:"",exec_log:"",progress:0}),A=()=>{c({title:R("Config.Backup.index_14"),content:R("Config.Migrate.index_24"),onConfirm:async()=>{B&&clearInterval(B),await n(),z("close")}})};let B=null;const D=async()=>{const{message:e}=await o();t(e)&&(q.task_msg=e.migrate_msg,q.exec_log=e.migrate_log,q.progress=e.migrate_progress,2!==e.run_status&&3!==e.run_status||(B&&clearInterval(B),2===e.run_status?M.onRefresh("success",{panel_addr:e.panel_addr,panel_user:e.panel_user,panel_password:e.panel_password,start_time:e.start_time,last_update:e.last_update}):M.onRefresh("error",{errData:e.err_info,start_time:e.start_time,last_update_time:e.last_update,server_ip:e.server_ip,ssh_port:e.ssh_port,ssh_user:e.ssh_user,password:e.password}),z("close")))};return u((()=>{D(),B=window.setInterval((()=>{D()}),2e3)})),g((()=>{B&&clearInterval(B)})),(e,t)=>{const n=r,o=k,c=b,i=l,_=C,p=a;return d(),m("div",s,[y("",!0),f(o,{type:"warning"},{default:x((()=>[t[1]||(t[1]=j("span",{class:"color-warning"},"Migration is in progress, please do not close the page, if you have any questions please contact us in time ",-1)),f(n,{href:"mailto:support@aapanel.com",target:"_blank"},{default:x((()=>t[0]||(t[0]=[v("support@aapanel.com")]))),_:1,__:[0]})])),_:1,__:[1]}),f(_,{class:"flex-nowrap! items-center my-10px",size:5},{default:x((()=>[f(c,{height:24,percentage:h(q).progress,"indicator-placement":"inside",processing:h(q).progress<100,status:"success"},null,8,["percentage","processing"]),h(q).progress<100?(d(),w(i,{key:0,name:"base-error",class:"text-error hover:text-#777777",size:20,onClick:A})):y("",!0)])),_:1}),j("div",I,[f(p,{log:h(q).exec_log},null,8,["log"])])])}}}))}}}));
