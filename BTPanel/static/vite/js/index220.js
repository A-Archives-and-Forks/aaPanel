const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/rewrite.js?v=1747989938512","js/public.js?v=1747989938512","js/page_layout.js?v=1747989938512","js/vue.js?v=1747989938512","js/__commonjsHelpers__.js?v=1747989938512","js/naive.js?v=1747989938512","js/common.js?v=1747989938512","css/page_layout.css?v=1747989938512","css/public.css?v=1747989938512","js/file.js?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang7.js?v=1747989938512","js/theme-chrome.js?v=1747989938512","js/ssl-log.js?v=1747989938512","js/index101.js?v=1747989938512","css/index17.css?v=1747989938512","js/index197.js?v=1747989938512","js/index.js?v=1747989938512","css/index96.css?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang.js?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang9.js?v=1747989938512","css/index84.css?v=1747989938512","js/index198.js?v=1747989938512","js/index228.js?v=1747989938512","css/index56.css?v=1747989938512","css/index85.css?v=1747989938512","js/dns-verification.js?v=1747989938512","js/index251.js?v=1747989938512","js/site.js?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang5.js?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang6.js?v=1747989938512","css/index14.css?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang13.js?v=1747989938512","js/index97.js?v=1747989938512","css/index13.css?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang11.js?v=1747989938512","js/index96.js?v=1747989938512","css/index12.css?v=1747989938512","js/index103.js?v=1747989938512","css/index19.css?v=1747989938512","js/index122.js?v=1747989938512","css/index21.css?v=1747989938512","js/cert.js?v=1747989938512","js/php.js?v=1747989938512","js/form.vue_vue_type_script_setup_true_lang2.js?v=1747989938512","js/logs.vue_vue_type_script_setup_true_lang.js?v=1747989938512","js/ssl.js?v=1747989938512","js/utils2.js?v=1747989938512","js/index202.js?v=1747989938512","js/paypal-js.js?v=1747989938512","css/index45.css?v=1747989938512","js/ssl-lets-progress.js?v=1747989938512","css/ssl-lets-progress.css?v=1747989938512"])))=>i.map(i=>d[i]);
import{i as e,o as a,N as t,m as l,a as i,c as n,q as s,b4 as o,h as d,cr as r,aM as u,p as c,u as p,d5 as _,O as m,cj as v,_ as h}from"./page_layout.js?v=1747989938512";import{_ as x}from"./index228.js?v=1747989938512";import{p as f,a as y,P as w,d as S,O as b,r as g,R as k,S as C,U as $,a1 as L,a2 as P,V as R,aj as U,c as E,j as T,Y as B,F as j,ao as N,M as D,a0 as I,f as O,ax as A,N as M,e as H,n as z,y as q,ak as V,_ as F,am as K,w as W,k as X,v as G,l as J,x as Y}from"./vue.js?v=1747989938512";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1747989938512";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang13.js?v=1747989938512";import{a as ee,a1 as ae,c as te,d as le,h as ie,e as ne,f as se,_ as oe,b as de,p as re,u as ue,ac as ce,ad as pe,a8 as _e,a3 as me,a4 as ve,a5 as he,n as xe,ae as fe,af as ye,ag as we,ah as Se,ai as be,j as ge,z as ke,a7 as Ce}from"./public.js?v=1747989938512";import{_ as $e}from"./index97.js?v=1747989938512";import{Y as Le,Z as Pe,_ as Re,aL as Ue,aM as Ee,aN as Te,aO as Be,aP as je,$ as Ne,a0 as De,a1 as Ie,a2 as Oe,a3 as Ae,a4 as Me,a5 as He,a6 as ze,av as qe,aw as Ve,ax as Fe,ay as Ke,az as We,aA as Xe,aB as Ge,aC as Je,ak as Ye,al as Qe,am as Ze,aQ as ea,aR as aa,an as ta,ao as la,ap as ia,aq as na,ar as sa,as as oa,at as da,au as ra,aS as ua,aT as ca,aU as pa,aV as _a,aW as ma,aX as va,aY as ha,a7 as xa,a8 as fa,a9 as ya,aa as wa,ab as Sa,ac as ba,ad as ga,ae as ka,af as Ca,ag as $a,ah as La,ai as Pa,aj as Ra,aE as Ua,aF as Ea,aG as Ta,g as Ba,aH as ja}from"./site.js?v=1747989938512";import{T as Na,bR as Da,_ as Ia,bU as Oa,cp as Aa,cj as Ma,c0 as Ha,a2 as za,bY as qa,cN as Va,cs as Fa,y as Ka,bz as Wa,cz as Xa,c2 as Ga,c3 as Ja,co as Ya,cn as Qa,ae as Za}from"./naive.js?v=1747989938512";import{_ as et}from"./index.js?v=1747989938512";import{_ as at}from"./index.vue_vue_type_script_setup_true_lang.js?v=1747989938512";import{_ as tt}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1747989938512";import{_ as lt}from"./index103.js?v=1747989938512";import{_ as it}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1747989938512";import{_ as nt}from"./index122.js?v=1747989938512";import{_ as st,a as ot,b as dt,C as rt}from"./cert.js?v=1747989938512";import{a as ut,b as ct}from"./php.js?v=1747989938512";import{_ as pt}from"./form.vue_vue_type_script_setup_true_lang2.js?v=1747989938512";import{_ as _t}from"./index101.js?v=1747989938512";import{_ as mt}from"./logs.vue_vue_type_script_setup_true_lang.js?v=1747989938512";import{c as vt,s as ht,a as xt,g as ft,b as yt}from"./ssl.js?v=1747989938512";import{u as wt}from"./utils2.js?v=1747989938512";import{A as St}from"./index202.js?v=1747989938512";import{a as bt}from"./ssl-lets-progress.js?v=1747989938512";const gt=Symbol("site-config");function kt(){return y(gt)}const{t:Ct}=e.global;function $t({delDomain:e}){return{key:"action",title:Ct("Public.Table.Action"),width:80,align:"right",render:a=>w(ae,{options:[{label:Ct("Public.Btn.Del"),class:"delete-btn",onClick:()=>{ee({title:"".concat(Ct("Site.Batch.index_12"),"[").concat(a.name,"]"),content:Ct("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await e(a),t()}})}}]},null)}}const Lt={class:"flex justify-between items-center mb-24px"},Pt={class:"w-400px"},Rt={class:"pr-40px"},Ut=S({__name:"index",setup(e,{expose:i}){const{t:n}=b(),{data:s}=kt(),o=g(""),d=async()=>{""!==o.value.trim()?(await Re({id:s.id,webname:s.name,domain:o.value.trim().split("\n").join(",")}),o.value="",x()):l.error(n("Site.RulesError.index_31"))},r=async e=>{await Le({id:s.id,webname:s.name,domain:e.name,port:e.port}),x()},{keys:u,table:c,columns:p}=te([{type:"selection",width:40},{key:"name",title:Ct("Site.TableRow.index_19"),render:e=>w(a,{href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},{default:()=>[e.name]})},{key:"port",title:Ct("Site.TableRow.index_16"),width:100},$t({delDomain:r})]),_=()=>{c.data.length>1?p.value[p.value.length-1]=$t({delDomain:r}):p.value[p.value.length-1]={key:"action",title:Ct("Public.Table.Action"),width:80,align:"right",render:()=>w("span",{class:"text-default"},[Ct("Config.Panel.index_82")])}},m=[{key:"del",type:"confirm",label:n("Site.Batch.index_20"),confirm:{title:n("Site.Batch.index_21"),desc:n("Site.Batch.index_11"),api:e=>Le({id:s.id,webname:s.name,domain:e.name,port:e.port},!1),done:()=>{x()},columns:[{key:"name",title:n("Site.Cert.index_29"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:v,setLoading:h}=le(),x=async()=>{try{h(!0);const e={id:s.id},{message:a}=await Pe(e);c.data=t(a)?a:[],_()}finally{u.value=[],h(!1)}};return x(),i({init:x}),(e,a)=>{const t=$e,l=Na,i=ie,n=Z,s=Q;return k(),C("div",null,[$("div",Lt,[$("div",Pt,[w(t,{value:R(o),"onUpdate:value":a[0]||(a[0]=e=>U(o)?o.value=e:null),name:"domain"},{default:L((()=>[$("p",null,P(e.$t("Site.Config.index_30")),1),$("p",null,P(e.$t("Site.Config.index_31")),1),$("p",null,P(e.$t("Site.Config.index_32")),1)])),_:1},8,["value"])]),$("div",Rt,[w(l,{class:"add-domain-btn",type:"primary",onClick:d},{default:L((()=>[E(P(e.$t("Site.Cert.index_62")),1)])),_:1})])]),w(s,null,{table:L((()=>[w(i,{"checked-row-keys":R(u),"onUpdate:checkedRowKeys":a[1]||(a[1]=e=>U(u)?u.value=e:null),loading:R(v),"max-height":400,data:R(c).data,columns:R(p)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:L((()=>[w(n,{"checked-row-keys":R(u),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>U(u)?u.value=e:null),data:R(c).data,options:m},null,8,["checked-row-keys","data"])])),_:1})])}}}),Et={class:"w-140px"},Tt={class:"w-120px"},Bt=S({__name:"index",setup(e,{expose:a}){const s=B((()=>i((()=>import("./rewrite.js?v=1747989938512")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])))),{t:o}=b(),{data:d}=kt(),r=T({domain:"",dirName:null}),u=g([]),c=async()=>{const e=r.dirName;""!==r.domain.trim()?null!==e?(await Ee({id:d.id,domain:r.domain,dirName:e}),S()):l.error(o("Site.RulesError.index_32")):l.error(o("Site.RulesError.index_31"))},p=ne(o("Site.PHP.index_81"),{data:"",filename:"",rlist:[]}),_=e=>{p.data.filename=e.filename,p.data.fileContent=e.data,p.data.rlist=e.rlist,p.show=!0},{keys:m,table:v,columns:h}=te([{type:"selection",width:40},{key:"domain",title:o("Site.TableRow.index_19"),ellipsis:{tooltip:{width:"trigger"}}},{key:"port",title:o("Site.TableRow.index_16"),width:80},{key:"path",title:o("Site.Config.index_33"),width:120,ellipsis:{tooltip:{width:"trigger"}}},se({width:130,options:e=>[{label:o("Site.TableOP.index_10"),onClick:()=>{(async e=>{try{const{message:a}=await Te({id:e.id});n(a)&&_(a)}catch(a){const t=Da(a,"meesage.result","");t?l.error(t):ee({title:o("Site.Cert.index_40"),content:o("Site.PHP.index_80"),onConfirm:async({hide:a})=>{const{message:t}=await Be({id:e.id});n(t)&&_(t),a()}})}})(e)}},{label:o("Public.Btn.Del"),onClick:()=>{ee({title:"".concat(o("Ftp.Table.index_10")," ").concat(e.path),content:o("Site.Config.index_34"),onConfirm:async({hide:a})=>{await Ue({id:e.id}),S(),a()}})}}]})]),x=[{key:"del",type:"confirm",label:o("Site.Batch.index_20"),confirm:{title:o("Site.Batch.index_21"),desc:o("Site.Batch.index_11"),api:e=>Ue({id:e.id},!1),done:()=>{S()},columns:[{key:"domain",title:o("Site.TableRow.index_19"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:f,setLoading:y}=le(),S=()=>{r.domain="",r.dirName=null,(async()=>{try{y(!0);const{message:e}=await je({id:d.id});if(n(e)){const{dirs:a,binding:l}=e;t(a)&&a.length>0?(u.value=a.map((e=>({label:e,value:e}))),r.dirName=a[0]):(u.value=[],r.dirName=null),v.data=t(l)?l:[]}}finally{m.value=[],y(!1)}})()};return S(),a({init:S}),(e,a)=>{const t=Ia,l=Oa,i=Aa,n=Na,o=ie,d=Z,_=Q,y=et;return k(),C("div",null,[w(l,{class:"items-center",size:16},{default:L((()=>[w(l,{class:"items-center"},{default:L((()=>[$("div",null,P(e.$t("Site.TableRow.index_19")),1),$("div",Et,[w(t,{value:R(r).domain,"onUpdate:value":a[0]||(a[0]=e=>R(r).domain=e),placeholder:"","input-props":{name:"domain"}},null,8,["value"])])])),_:1}),w(l,{class:"items-center"},{default:L((()=>[$("div",null,P(e.$t("Site.Config.index_33")),1),$("div",Tt,[w(i,{value:R(r).dirName,"onUpdate:value":a[1]||(a[1]=e=>R(r).dirName=e),options:R(u)},null,8,["value","options"])])])),_:1}),w(n,{class:"add-domain-btn",type:"primary",onClick:c},{default:L((()=>[E(P(e.$t("Site.Cert.index_62")),1)])),_:1})])),_:1}),w(_,{class:"mt-16px"},{table:L((()=>[w(o,{"checked-row-keys":R(m),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>U(m)?m.value=e:null),loading:R(f),"max-height":440,data:R(v).data,columns:R(h)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:L((()=>[w(d,{"checked-row-keys":R(m),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>U(m)?m.value=e:null),data:R(v).data,options:x},null,8,["checked-row-keys","data"])])),_:1}),w(y,{show:R(p).show,"onUpdate:show":a[4]||(a[4]=e=>R(p).show=e),title:R(p).title,data:R(p).data,width:600,"min-height":488,component:R(s)},null,8,["show","title","data","component"])])}}}),jt={class:"pt-16px"},Nt={class:"flex-1"},Dt={class:"w-240px"},It={class:"mt-8px text-desc"},Ot={class:"flex-1"},At={class:"w-240px"},Mt={class:"mt-12px text-desc"},Ht={class:"my-16px"},zt={class:"text-desc"},qt={class:"my-20px"},Vt={class:"w-240px"},Ft={class:"w-240px"},Kt={class:"w-240px"},Wt=S({__name:"index",setup(e,{expose:a}){const{t:t}=b(),{data:i}=kt(),o=g(""),d=async()=>{if(""!==o.value.trim())try{await Ne({id:i.id,name:i.name,path:o.value}),S()}catch(e){console.warn(e)}else l.error(t("Site.RulesError.index_13"))},r=g(null),u=g([]),c=async()=>{null!==r.value?(await De({id:i.id,runPath:r.value}),S()):l.error(t("Site.RulesError.index_15"))},p=g(!1),_=async()=>{await Ie({id:i.id,path:i.path}),S()},m=g(!1),v=async()=>{await Oe({id:i.id}),S()},h=g(!1),x=T({username_get:"",password_get_1:"",password_get_2:""}),f=async e=>{e||(await Ae({id:i.id}),S())},y=async()=>{""!==x.username_get.trim()?""!==x.password_get_1.trim()?""!==x.password_get_2.trim()?x.username_get.trim().length<3||x.password_get_1.trim().length<3?l.error(t("Site.RulesError.index_35")):x.password_get_1.trim()===x.password_get_2.trim()?(await Me({id:i.id,username:x.username_get,password:x.password_get_1}),x.username_get="",x.password_get_1="",x.password_get_2="",S()):l.error(t("Site.RulesError.index_38")):l.error(t("Site.RulesError.index_37")):l.error(t("Site.RulesError.index_36")):l.error(t("Site.RulesError.index_34"))},S=()=>{(async()=>{const{message:e}=await He({id:i.id});n(e)&&(o.value=e.result||"/www")})(),(async()=>{const{message:e}=await ze({id:i.id,path:i.path});if(n(e)){r.value=Da(e,"runPath.runPath",null),p.value=Da(e,"userini",!1),m.value=Da(e,"logs.result",!1),h.value=Da(e,"pass.result",!1);const a=Da(e,"runPath.dirs",[]);u.value=a.map((e=>({label:e,value:e})))}})()};return S(),a({init:S}),(e,a)=>{const t=tt,l=Na,i=Oa,n=Ma,S=Aa,b=s,g=Ha,T=Ia,B=at;return k(),C("div",jt,[w(B,{"label-width":"140"},{default:L((()=>[w(n,{label:e.$t("Site.Lable.index_2"),"show-feedback":!1},{default:L((()=>[$("div",Nt,[w(i,null,{default:L((()=>[$("div",Dt,[w(t,{value:R(o),"onUpdate:value":a[0]||(a[0]=e=>U(o)?o.value=e:null),"input-props":{name:"directory"}},null,8,["value"])]),w(l,{class:"save-dir-btn",type:"primary",onClick:d},{default:L((()=>[E(P(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1}),$("div",It,P(e.$t("Site.Config.index_35")),1)])])),_:1},8,["label"]),w(n,{class:"mt-16px",label:e.$t("Site.Lable.index_3"),"show-feedback":!1},{default:L((()=>[$("div",Ot,[w(i,null,{default:L((()=>[$("div",At,[w(S,{value:R(r),"onUpdate:value":a[1]||(a[1]=e=>U(r)?r.value=e:null),class:"run-select",options:R(u)},null,8,["value","options"])]),w(l,{class:"save-run-btn",type:"primary",onClick:c},{default:L((()=>[E(P(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1}),$("div",Mt,P(e.$t("Site.Config.index_36")),1)])])),_:1},8,["label"]),$("div",Ht,[w(b,{dashed:""})]),w(n,{label:e.$t("Site.Lable.index_4"),"show-feedback":!1},{default:L((()=>[w(i,{class:"items-center"},{default:L((()=>[w(g,{value:R(p),"onUpdate:value":[a[2]||(a[2]=e=>U(p)?p.value=e:null),_]},null,8,["value"]),$("div",zt,P(e.$t("Site.Config.index_37")),1)])),_:1})])),_:1},8,["label"]),w(n,{class:"mt-16px",label:e.$t("Site.Lable.index_5"),"show-feedback":!1},{default:L((()=>[w(i,{class:"items-center"},{default:L((()=>[w(g,{value:R(m),"onUpdate:value":[a[3]||(a[3]=e=>U(m)?m.value=e:null),v]},null,8,["value"]),a[8]||(a[8]=$("div",{class:"text-desc"},null,-1))])),_:1})])),_:1},8,["label"]),$("div",qt,[w(b,{dashed:""})]),w(n,{label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:L((()=>[w(i,{class:"items-center"},{default:L((()=>[w(g,{value:R(h),"onUpdate:value":[a[4]||(a[4]=e=>U(h)?h.value=e:null),f]},null,8,["value"]),a[9]||(a[9]=$("div",{class:"text-desc"},null,-1))])),_:1})])),_:1},8,["label"]),R(h)?(k(),C(j,{key:0},[w(n,{class:"mt-16px",label:e.$t("Site.Lable.index_17"),"show-feedback":!1},{default:L((()=>[$("div",Vt,[w(T,{value:R(x).username_get,"onUpdate:value":a[5]||(a[5]=e=>R(x).username_get=e),placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),w(n,{class:"mt-16px",label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:L((()=>[$("div",Ft,[w(T,{value:R(x).password_get_1,"onUpdate:value":a[6]||(a[6]=e=>R(x).password_get_1=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),w(n,{class:"mt-16px",label:e.$t("Site.Lable.index_18"),"show-feedback":!1},{default:L((()=>[$("div",Kt,[w(T,{value:R(x).password_get_2,"onUpdate:value":a[7]||(a[7]=e=>R(x).password_get_2=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),w(n,{class:"mt-16px",label:" ","show-feedback":!1},{default:L((()=>[w(l,{type:"primary",onClick:y},{default:L((()=>[E(P(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})],64)):N("",!0)])),_:1})])}}}),Xt={class:"p-20px"},Gt={class:"w-280px"},Jt={class:"w-280px"},Yt={class:"w-280px"},Qt={class:"w-280px"},Zt=S({__name:"form",props:{data:{}},setup(e,{expose:a}){const t=e,{t:l}=b(),{isEdit:i,siteId:n,row:s,getList:o}=t.data,d=g(null),r=T({name:"",site_dir:"",username:"",password:""}),u={name:{required:!0,message:l("Site.RulesError.index_16"),trigger:["blur","input"]},site_dir:{required:!0,message:l("Site.RulesError.index_17"),trigger:["blur","input"]},username:{required:!0,message:l("Site.Placeholder.Index_6"),trigger:["blur","input"]},password:{required:!0,message:l("Site.Placeholder.Index_8"),trigger:["blur","input"]}};return i&&s&&(r.name=s.name,r.site_dir=s.site_dir),a({onConfirm:async({hide:e})=>{var a;await(null==(a=d.value)?void 0:a.validate()),i?await qe({id:n,name:r.name,username:r.username,password:r.password}):await Ve({...D(r),id:n}),null==o||o(),e()}}),(e,a)=>{const t=Ia,l=Ma,n=at,s=oe;return k(),C("div",Xt,[w(n,{ref_key:"formRef",ref:d,model:R(r),rules:u},{default:L((()=>[w(l,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:L((()=>[$("div",Gt,[w(t,{value:R(r).name,"onUpdate:value":a[0]||(a[0]=e=>R(r).name=e),disabled:R(i),placeholder:"","input-props":{name:"name"}},null,8,["value","disabled"])])])),_:1},8,["label"]),w(l,{label:e.$t("Site.TableRow.index_15"),path:"site_dir"},{default:L((()=>[$("div",Jt,[w(t,{value:R(r).site_dir,"onUpdate:value":a[1]||(a[1]=e=>R(r).site_dir=e),disabled:R(i),placeholder:e.$t("Site.Config.Limit.index_5"),"input-props":{name:"site_dir"}},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),w(l,{label:e.$t("Site.Lable.index_24"),path:"username"},{default:L((()=>[$("div",Yt,[w(t,{value:R(r).username,"onUpdate:value":a[2]||(a[2]=e=>R(r).username=e),placeholder:"","input-props":{name:"username"}},null,8,["value"])])])),_:1},8,["label"]),w(l,{label:e.$t("Site.Lable.index_27"),path:"password"},{default:L((()=>[$("div",Qt,[w(t,{value:R(r).password,"onUpdate:value":a[3]||(a[3]=e=>R(r).password=e),placeholder:"","input-props":{name:"password"}},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),w(s,{class:"mt-4px"},{default:L((()=>[$("li",null,P(e.$t("Site.Config.index_40")),1),$("li",null,P(e.$t("Site.Config.index_41")),1)])),_:1})])}}}),el=S({__name:"index",setup(e,{expose:a}){const{t:t}=b(),{data:l}=kt(),{keys:i,table:s,columns:o}=te([{type:"selection",width:40},{key:"name",title:t("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:t("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},se({width:130,options:e=>[{label:t("Site.TableOP.index_7"),class:"edit-btn",onClick:()=>{m(e)}},{label:t("Public.Btn.Del"),class:"delete-btn",onClick:()=>{ee({title:"".concat(t("Site.Config.Limit.index_1",[e.name])),content:t("Site.Config.Limit.index_2"),onConfirm:async({hide:a})=>{await Fe({id:l.id,name:e.name}),c(),a()}})}}]})]),d=[{key:"del",type:"confirm",label:t("Site.Batch.index_20"),confirm:{title:t("Site.Batch.index_21"),desc:t("Site.Batch.index_11"),columns:[o.value[1]],api:e=>Fe({id:l.id,name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=le(),c=async()=>{try{u(!0);const{message:e}=await Ke({id:l.id});if(n(e)){s.data=[];for(const[a,t]of Object.entries(e))if(l.name===a){s.data=t;break}}}finally{i.value=[],u(!1)}},p=ne(t("Site.Config.index_38"),{row:void 0,siteId:l.id,isEdit:!1,getList:c}),_=()=>{p.data.isEdit=!1,p.title=t("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=t("Site.Config.index_39"),p.show=!0};return c(),a({init:c}),(e,a)=>{const t=Na,l=ie,n=Z,u=Q,c=oe,m=et;return k(),C("div",null,[w(u,null,{toolsLeft:L((()=>[w(t,{class:"add-limit-btn",type:"primary",onClick:_},{default:L((()=>[E(P(e.$t("Site.Config.index_38")),1)])),_:1})])),table:L((()=>[w(l,{"checked-row-keys":R(i),"onUpdate:checkedRowKeys":a[0]||(a[0]=e=>U(i)?i.value=e:null),"row-key":"name",loading:R(r),"max-height":440,data:R(s).data,columns:R(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:L((()=>[w(n,{"checked-row-keys":R(i),"onUpdate:checkedRowKeys":a[1]||(a[1]=e=>U(i)?i.value=e:null),"row-key":"name",data:R(s).data,options:d},null,8,["checked-row-keys","data"])])),_:1}),w(c,{class:"mt-16px"},{default:L((()=>[$("li",null,P(e.$t("Site.Config.index_40")),1),$("li",null,P(e.$t("Site.Config.index_41")),1)])),_:1}),w(m,{show:R(p).show,"onUpdate:show":a[2]||(a[2]=e=>R(p).show=e),title:R(p).title,data:R(p).data,width:480,footer:!0,component:Zt},null,8,["show","title","data"])])}}}),al={class:"p-20px"},tl={class:"w-280px"},ll={class:"w-280px"},il={class:"w-280px"},nl=S({__name:"form",props:{data:{}},setup(e,{expose:a}){const t=e,{isEdit:l,siteName:i,row:n,getList:s}=t.data,{t:o}=b(),d=g(null),r=T({deny_name:"",suffix:"php|jsp",dir:""}),u={deny_name:{required:!0,message:o("Site.Placeholder.Index_4"),trigger:["blur","input"]},suffix:{required:!0,message:o("Site.Placeholder.Index_5"),trigger:["blur","input"]},dir:{required:!0,message:o("Site.Placeholder.Index_6"),trigger:["blur","input"]}},c=()=>({...D(r),dir:r.dir.replace(/\/$/,"")+"/",website:i});return l&&n&&(r.deny_name=n.name,r.suffix=n.suffix,r.dir=n.dir),a({onConfirm:async({hide:e})=>{var a;await(null==(a=d.value)?void 0:a.validate()),l?await We(c()):await Xe(c()),null==s||s(),e()}}),(e,a)=>{const t=Ia,i=Ma,n=at,s=oe;return k(),C("div",al,[w(n,{ref_key:"formRef",ref:d,model:R(r),rules:u},{default:L((()=>[w(i,{label:e.$t("Site.TableRow.index_2"),path:"deny_name"},{default:L((()=>[$("div",tl,[w(t,{value:R(r).deny_name,"onUpdate:value":a[0]||(a[0]=e=>R(r).deny_name=e),disabled:R(l),placeholder:e.$t("Site.Placeholder.Index_1"),"input-props":{name:"name"}},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),w(i,{label:e.$t("Site.TableRow.index_18"),path:"suffix"},{default:L((()=>[$("div",ll,[w(t,{value:R(r).suffix,"onUpdate:value":a[1]||(a[1]=e=>R(r).suffix=e),placeholder:e.$t("Site.Placeholder.Index_2"),"input-props":{name:"suffix"}},null,8,["value","placeholder"])])])),_:1},8,["label"]),w(i,{label:e.$t("Site.TableRow.index_15"),path:"dir"},{default:L((()=>[$("div",il,[w(t,{value:R(r).dir,"onUpdate:value":a[2]||(a[2]=e=>R(r).dir=e),placeholder:e.$t("Site.Placeholder.Index_3"),"input-props":{name:"dir"}},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),w(s,{class:"mt-4px"},{default:L((()=>[$("li",null,P(e.$t("Site.PHP.index_72")),1),$("li",null,P(e.$t("Site.PHP.index_73")),1),$("li",null,P(e.$t("Site.PHP.index_74")),1),$("li",null,P(e.$t("Site.PHP.index_75")),1),$("li",null,P(e.$t("Site.PHP.index_76")),1)])),_:1})])}}}),sl=S({__name:"index",setup(e,{expose:a}){const{t:l}=b(),{data:i}=kt(),{keys:n,table:s,columns:o}=te([{type:"selection",width:40},{key:"name",title:l("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:l("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:l("Site.TableRow.index_18"),ellipsis:{tooltip:{width:"trigger"}}},se({width:130,options:e=>[{label:l("Site.TableOP.index_7"),class:"edit-btn",onClick:()=>{m(e)}},{label:l("Public.Btn.Del"),class:"delete-btn",onClick:()=>{ee({title:"".concat(l("Site.TableOP.index_6")," [").concat(e.name,"]"),content:l("Site.Batch.index_13"),onConfirm:async({hide:a})=>{await Ge({website:i.name,deny_name:e.name}),c(),a()}})}}]})]),d=[{key:"del",type:"confirm",label:l("Site.Batch.index_20"),confirm:{title:l("Site.Batch.index_21"),desc:l("Site.Batch.index_11"),columns:[o.value[1]],api:e=>Ge({website:i.name,deny_name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=le(),c=async()=>{try{u(!0);const{message:e}=await Je({website:i.name});s.data=t(e)?e:[]}finally{n.value=[],u(!1)}},p=ne(l("Site.Config.index_38"),{row:void 0,siteName:i.name,isEdit:!1,getList:c}),_=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=l("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=l("Site.Config.index_39"),p.show=!0};return c(),a({init:c}),(e,a)=>{const t=Na,l=ie,i=Z,u=Q,c=oe,m=et;return k(),C("div",null,[w(u,null,{toolsLeft:L((()=>[w(t,{class:"add-deny-btn",type:"primary",onClick:_},{default:L((()=>[E(P(e.$t("Site.Config.index_38")),1)])),_:1})])),table:L((()=>[w(l,{"checked-row-keys":R(n),"onUpdate:checkedRowKeys":a[0]||(a[0]=e=>U(n)?n.value=e:null),"row-key":"name",loading:R(r),"max-height":440,data:R(s).data,columns:R(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:L((()=>[w(i,{"checked-row-keys":R(n),"onUpdate:checkedRowKeys":a[1]||(a[1]=e=>U(n)?n.value=e:null),"row-key":"name",data:R(s).data,options:d},null,8,["checked-row-keys","data"])])),_:1}),w(c,{class:"mt-16px"},{default:L((()=>[$("li",null,P(e.$t("Site.Config.index_42"))+" |",1),$("li",null,P(e.$t("Site.Config.index_43")),1),$("li",null,P(e.$t("Site.Config.index_44")),1),$("li",null,P(e.$t("Site.Config.index_45")),1)])),_:1}),w(m,{show:R(p).show,"onUpdate:show":a[2]||(a[2]=e=>R(p).show=e),title:R(p).title,data:R(p).data,width:480,footer:!0,component:nl},null,8,["show","title","data"])])}}}),ol=S({__name:"index",setup(e){const{t:a}=b(),t=g("limit"),l=[{key:"limit",label:a("Site.Config.index_5"),component:el},{key:"deny",label:a("Site.Config.index_14"),component:sl}];return(e,a)=>{const i=lt;return k(),I(i,{value:R(t),"onUpdate:value":a[0]||(a[0]=e=>U(t)?t.value=e:null),options:l},null,8,["value"])}}}),dl={class:"pt-8px"},rl={class:"w-200px"},ul={class:"flex flex-col"},cl={class:"w-200px"},pl={class:"mt-8px text-desc"},_l={class:"flex flex-col"},ml={class:"w-200px"},vl={class:"mt-8px text-desc"},hl={class:"flex flex-col"},xl={class:"w-200px"},fl={class:"mt-8px text-desc"},yl=S({__name:"index",setup(e,{expose:a}){const{t:t}=b(),{data:l}=kt(),i=g(null),s=T({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),d={perserver:{trigger:["blur","change"],validator:()=>!!s.perserver||new Error(t("Site.RulesError.index_318"))},perip:{trigger:["blur","change"],validator:()=>!!s.perip||new Error(t("Site.RulesError.index_319"))},limit_rate:{trigger:["blur","change"],validator:()=>!!s.limit_rate||new Error(t("Site.RulesError.index_320"))}},r=g([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),u=async e=>{e?_():(await Ye({id:l.id}),m())},c=(e,a)=>{const{items:t}=a;n(t)&&p(t)},p=e=>{s.perserver=e.perserver,s.perip=e.perip,s.limit_rate=e.limit_rate},_=async()=>{var e;await(null==(e=i.value)?void 0:e.validate()),await Qe({id:l.id,perserver:s.perserver,perip:s.perip,limit_rate:s.limit_rate}),m()},m=async()=>{const{message:e}=await Ze({id:l.id});n(e)&&(s.status=0!=e.perserver,p(r.value[0].items),o(e.perserver)&&0!=e.perserver&&(s.perserver=e.perserver),o(e.perip)&&0!=e.perip&&(s.perip=e.perip),o(e.limit_rate)&&0!=e.limit_rate&&(s.limit_rate=e.limit_rate))};return m(),a({init:m}),(e,a)=>{const t=za,l=Ma,n=Aa,o=qa,p=Na,m=at;return k(),C("div",dl,[w(m,{ref_key:"formRef",ref:i,"label-width":"150",class:"px-8px",model:R(s),rules:d},{default:L((()=>[w(l,{label:" "},{default:L((()=>[w(t,{checked:R(s).status,"onUpdate:checked":[a[0]||(a[0]=e=>R(s).status=e),u]},{default:L((()=>[E(P(e.$t("Site.PHP.index_82")),1)])),_:1},8,["checked"])])),_:1}),w(l,{label:e.$t("Site.Lable.index_40"),path:"type"},{default:L((()=>[$("div",rl,[w(n,{value:R(s).type,"onUpdate:value":[a[1]||(a[1]=e=>R(s).type=e),c],options:R(r)},null,8,["value","options"])])])),_:1},8,["label"]),w(l,{label:e.$t("Site.Lable.index_41"),path:"perserver"},{default:L((()=>[$("div",ul,[$("div",cl,[w(o,{value:R(s).perserver,"onUpdate:value":a[2]||(a[2]=e=>R(s).perserver=e),"show-button":!1,min:0},null,8,["value"])]),$("div",pl,P(e.$t("Site.PHP.index_83")),1)])])),_:1},8,["label"]),w(l,{label:e.$t("Site.Lable.index_45"),path:"perip"},{default:L((()=>[$("div",_l,[$("div",ml,[w(o,{value:R(s).perip,"onUpdate:value":a[3]||(a[3]=e=>R(s).perip=e),"show-button":!1,min:0},null,8,["value"])]),$("div",vl,P(e.$t("Site.PHP.index_84")),1)])])),_:1},8,["label"]),w(l,{label:e.$t("Site.Config.index_6"),path:"limit_rate"},{default:L((()=>[$("div",hl,[$("div",xl,[w(o,{value:R(s).limit_rate,"onUpdate:value":a[4]||(a[4]=e=>R(s).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),$("div",fl,P(e.$t("Site.PHP.index_85")),1)])])),_:1},8,["label"]),w(l,{label:" "},{default:L((()=>[w(p,{type:"primary",onClick:_},{default:L((()=>[E(P(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),wl={class:"w-420px"},Sl={class:"mt-8px"},bl=S({__name:"index",setup(e,{expose:a}){const{data:t}=kt(),l=g(""),i=async()=>{const{message:e}=await ea({id:t.id});n(e)&&(l.value=d(e.result)?e.result.split(",").join("\n"):"")},s=async()=>{await aa({id:t.id,Index:l.value.trim().split("\n").join(",")}),i()};return i(),a({init:i}),(e,a)=>{const t=$e,i=Na,n=oe;return k(),C("div",null,[$("div",wl,[w(t,{value:R(l),"onUpdate:value":a[0]||(a[0]=e=>U(l)?l.value=e:null),rows:12,name:"content",placeholder:""},null,8,["value"])]),$("div",Sl,[w(i,{class:"save-btn",type:"primary",onClick:s},{default:L((()=>[E(P(e.$t("Public.Btn.Save")),1)])),_:1})]),w(n,{class:"mt-16px"},{default:L((()=>[$("li",null,P(e.$t("Site.PHP.index_79")),1)])),_:1})])}}}),gl={class:"mt-8px"},kl=S({__name:"index",setup(e,{expose:a}){const{data:t}=kt(),l=r(),i=g(null),n=g((()=>{const{webserver:e}=l,a="openlitespeed"===e?"".concat(e,"/detail"):e;return"/www/server/panel/vhost/".concat(a,"/").concat(t.name,".conf")})()),s=async()=>{var e;null==(e=i.value)||e.getContent()},o=()=>{var e;null==(e=i.value)||e.saveFile()};return O((()=>{s()})),a({init:s}),(e,a)=>{const t=Na,l=oe;return k(),C("div",null,[w(it,{ref_key:"configRef",ref:i,path:R(n),"onUpdate:path":a[0]||(a[0]=e=>U(n)?n.value=e:null),height:"500"},null,8,["path"]),$("div",gl,[w(t,{type:"primary",onClick:o},{default:L((()=>[E(P(e.$t("Site.Cert.index_60")),1)])),_:1})]),w(l,{class:"mt-16px"},{default:L((()=>[$("li",null,P(e.$t("Site.Config.index_59")),1),$("li",null,P(e.$t("Site.Config.index_60")),1)])),_:1})])}}}),Cl={class:"p-8"},$l=S({__name:"form",setup(e,{expose:a}){const t=g(null),l=g(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=T({path:"",operation:[]}),s=(e,a)=>{"dir"===a.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return a({onConfirm:async()=>{var e;await(null==(e=t.value)?void 0:e.validate())}}),(e,a)=>{const o=tt,d=Ma,r=za,c=u,p=Va,_=at,m=Oa,v=oe;return k(),C("div",Cl,[w(m,null,{default:L((()=>[w(_,{ref_key:"formRef",ref:t,model:R(n),rules:i},{default:L((()=>[w(d,{label:"Detection path",path:"path"},{default:L((()=>[w(o,{disabled:"",value:R(n).path,"onUpdate:value":a[0]||(a[0]=e=>R(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:s},null,8,["value"])])),_:1}),w(d,{label:"Alert operation",path:"operation"},{default:L((()=>[w(p,{value:R(n).operation,"onUpdate:value":a[1]||(a[1]=e=>R(n).operation=e)},{default:L((()=>[w(c,null,{default:L((()=>[w(r,{value:0},{default:L((()=>a[2]||(a[2]=[E(" Read ")]))),_:1}),w(r,{value:1,disabled:R(l)},{default:L((()=>a[3]||(a[3]=[E(" delete ")]))),_:1},8,["disabled"]),w(r,{value:2,disabled:R(l)},{default:L((()=>a[4]||(a[4]=[E(" Modify/increase ")]))),_:1},8,["disabled"])])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),w(v,{class:"mt-16px"},{default:L((()=>a[5]||(a[5]=[$("li",null,"Directory temporarily only supports reading alarm operation",-1)]))),_:1})])}}}),Ll={class:"p-5"},Pl={class:"mt-16px"},Rl=S({__name:"monitor",setup(e){const a=g(!1),t=g(!1),l=g([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=g([]);return(e,n)=>{const s=Na,o=Oa,d=ie,r=oe,u=et;return k(),C("div",Ll,[$("div",null,[w(o,{justify:"space-between"},{default:L((()=>[w(s,{type:"primary",onClick:n[0]||(n[0]=e=>a.value=!0)},{default:L((()=>n[2]||(n[2]=[E(" Add monitor ")]))),_:1}),w(s,null,{icon:L((()=>n[3]||(n[3]=[$("img",{src:st,class:"w-5"},null,-1)]))),_:1})])),_:1})]),$("div",Pl,[w(d,{loading:R(t),"loading-num":6,data:R(i),columns:R(l)},null,8,["loading","data","columns"])]),$("div",null,[w(r,{class:"mt-16px"},{default:L((()=>[n[5]||(n[5]=$("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1)),n[6]||(n[6]=$("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1)),$("li",null,[w(s,{text:"",class:"color-#20a53a"},{default:L((()=>n[4]||(n[4]=[E("Tutorial")]))),_:1})])])),_:1})]),w(u,{show:R(a),"onUpdate:show":n[1]||(n[1]=e=>U(a)?a.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:$l},null,8,["show"])])}}});const Ul=c({},[["render",function(e,a){return k(),C("div",null,"555")}]]),El={class:"box mt-16px"},Tl={key:0,class:"items-center warning"},Bl={class:"warning"},jl={class:"color-#f23836"},Nl=c(S({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=r(),l=g(!1),i=g(!1),n=g(!1),s=e,o=p(),d=()=>{de({source:114})},u=()=>{const e=l.value?"Open the site security alarm":"Close the site security alarm",a=l.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";ee({title:e,content:a,onConfirm:async()=>{const e=ut(l.value);console.log(e,"result")},onPublicClose:()=>{l.value=!l.value}})};return(e,r)=>{const c=Ha,p=Oa,_=Na,m=oe,v=a,h=nt,x=et;return k(),C(j,null,[$("div",El,[w(h,{install:R(o).isPro,class:"install"},A({default:L((()=>[w(p,{class:"items-center color-#666"},{default:L((()=>[r[8]||(r[8]=$("div",null,"Site protection",-1)),$("div",null,[w(c,{value:R(l),"onUpdate:value":[r[0]||(r[0]=e=>U(l)?l.value=e:null),u]},null,8,["value"])]),r[9]||(r[9]=$("div",null,"today: 0",-1)),r[10]||(r[10]=$("div",null,"Total alarm: 0",-1)),R(l)?N("",!0):(k(),C("div",Tl,[r[7]||(r[7]=$("img",{src:dt,class:"h-8"},null,-1)),$("span",Bl,[r[5]||(r[5]=E(" Please open ")),$("span",jl,"PHP-"+P(s.phpVersion),1),r[6]||(r[6]=E(" protection first "))])]))])),_:1}),w(p,{class:"mt-16px"},{default:L((()=>[w(_,{onClick:r[1]||(r[1]=e=>i.value=!0)},{default:L((()=>r[11]||(r[11]=[E("Monitor")]))),_:1}),w(_,{onClick:r[2]||(r[2]=e=>n.value=!0)},{default:L((()=>r[12]||(r[12]=[E("Trigger log")]))),_:1})])),_:1}),w(m,{class:"mt-16px"},{default:L((()=>r[13]||(r[13]=[$("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1),$("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1)]))),_:1})])),_:2},[s.isInstall?{name:"desc",fn:L((()=>[w(p,{class:"items-center"},{default:L((()=>[r[16]||(r[16]=$("img",{src:ot,class:"h-10"},null,-1)),$("span",null,[r[15]||(r[15]=E("If you need to use the [PHP website security alarm] function, please buy first ")),w(v,{onClick:d},{default:L((()=>r[14]||(r[14]=[E("click to buy")]))),_:1})])])),_:1})])),key:"0"}:{name:"desc",fn:L((()=>[w(p,{class:"items-center"},{default:L((()=>[r[19]||(r[19]=$("img",{src:ot,class:"h-10"},null,-1)),$("span",null,[r[18]||(r[18]=E("Currently not installed [PHP website security alarm], ")),w(v,null,{default:L((()=>r[17]||(r[17]=[E("Click to install")]))),_:1})])])),_:1})])),key:"1"}]),1032,["install"])]),w(x,{show:R(i),"onUpdate:show":r[3]||(r[3]=e=>U(i)?i.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:Rl},null,8,["show"]),w(x,{show:R(n),"onUpdate:show":r[4]||(r[4]=e=>U(n)?n.value=e:null),title:"[".concat(R(t).siteName,"] Site security log"),width:1e3,"min-height":148,footer:!1,component:Ul},null,8,["show","title"])],64)}}}),[["__scopeId","data-v-f356717b"]]),Dl={class:"w-140px"},Il={class:"my-16px"},Ol={key:0,class:"my-16px"},Al=S({__name:"index",setup(e,{expose:a}){const{data:i}=kt(),o=r(),d=g(null),u=g(!1),c=g(!1);let p="";const m=g([]),v=async()=>{null!==d.value?(await ta({siteName:i.name,version:d.value,other:p}),o.setRefresh(!0),f()):l.error("Please select a PHP version")},h=async()=>{const{message:e}=await sa({id:i.id});n(e)&&(u.value=e.result)},x=async e=>{await la({id:i.id,act:e?1:0}),h()},f=()=>{(async()=>{const{message:e}=await ct();n(e)&&(c.value=e.php_status)})(),h(),(async()=>{const{message:e}=await na();t(e)&&(m.value=e.reverse().map((e=>({label:e.name,value:e.version}))))})(),(async()=>{const{message:e}=await ia({siteName:i.name});n(e)&&(d.value=e.phpversion,p=e.php_other||"")})()};return f(),a({init:f}),(e,a)=>{const t=Aa,l=Na,i=Oa,n=oe,o=s,r=Ha;return k(),C("div",null,[w(i,{class:"items-center"},{default:L((()=>[$("div",null,P(e.$t("Site.Lable.index_22")),1),$("div",Dl,[w(t,{value:R(d),"onUpdate:value":a[0]||(a[0]=e=>U(d)?d.value=e:null),options:R(m)},null,8,["value","options"])]),$("div",null,[w(l,{type:"primary",onClick:v},{default:L((()=>[E(P(e.$t("Site.Cert.index_61")),1)])),_:1})])])),_:1}),w(n,{class:"mt-16px"},{default:L((()=>[$("li",null,P(e.$t("Site.Config.index_65")),1),$("li",null,P(e.$t("Site.Config.index_66")),1),$("li",null,P(e.$t("Site.Config.index_67")),1),$("li",null,P(e.$t("Site.Config.index_68")),1),$("li",null,P(e.$t("Site.Config.index_69")),1),$("li",null,P(e.$t("Site.Config.index_70")),1)])),_:1}),$("div",Il,[w(o,{dashed:""})]),w(i,{class:"items-center"},{default:L((()=>[$("div",null,P(e.$t("Site.Config.index_64")),1),$("div",null,[w(r,{value:R(u),"onUpdate:value":[a[1]||(a[1]=e=>U(u)?u.value=e:null),x]},null,8,["value"])])])),_:1}),w(n,{class:"mt-16px"},{default:L((()=>[$("li",null,P(e.$t("Site.Config.index_71")),1),$("li",null,P(e.$t("Site.Config.index_72")),1)])),_:1}),R(_)?(k(),C("div",Ol,[w(o,{dashed:""}),w(Nl,{isInstall:R(c),phpVersion:R(d)},null,8,["isInstall","phpVersion"])])):N("",!0)])}}}),Ml={class:"mr-16px text-#777"},Hl={key:1,class:"text-#777"},zl={class:"w-200px mr-8px"},ql={class:"w-200px mr-8px"},Vl=S({__name:"index",setup(e,{expose:a}){const i=r(),{data:s}=kt(),o=g(!1),d=g("--"),u=g("--"),c=g(s.cache_status),p=g(null),_=g([]),m=g(""),v=async()=>{await oa({s_id:s.id,version:u.value}),y()},h=async e=>{await da({version:s.php_version,sitename:s.name,act:e}),s.cache_status=e,i.setRefresh(!0)},x=async()=>{await ra({s_id:s.id})},f=async()=>{p.value?""!==m.value.trim()?await ua({s_id:s.id,user:p.value,new_pass:m.value}):l.error("Please enter new password"):l.error("Please select user")},y=async()=>{const e=l.loading("Getting Wordpress information, please wait...");try{await(async()=>{const{message:e}=await ca({s_id:s.id});n(e)&&(d.value=e.local_v,u.value=e.online_v,o.value=e.update)})(),await(async()=>{const{message:e}=await pa({s_id:s.id});t(e)&&e.length>0?(_.value=e.map((e=>({label:e,value:e}))),p.value=e[0]):(_.value=[],p.value=null)})()}finally{e.close()}};return y(),a({init:y}),(e,a)=>{const t=Na,l=Ma,i=za,n=Aa,s=Ia,r=at;return k(),C("div",null,[w(r,null,{default:L((()=>[w(l,{label:"WP Version"},{default:L((()=>[R(o)?(k(),C(j,{key:0},[$("div",Ml,"The current version is: "+P(R(d)),1),w(t,{type:"primary",onClick:v},{default:L((()=>[E("Upgrade to "+P(R(u)),1)])),_:1})],64)):(k(),C("span",Hl,"The latest version"))])),_:1}),w(l,{label:"Cache"},{default:L((()=>[w(i,{checked:R(c),"onUpdate:checked":[a[0]||(a[0]=e=>U(c)?c.value=e:null),h],class:"mr-16px"},{default:L((()=>a[3]||(a[3]=[E(" Open cache ")]))),_:1},8,["checked"]),w(t,{type:"primary",onClick:x},{default:L((()=>a[4]||(a[4]=[E("Purge all cache")]))),_:1})])),_:1}),w(l,{label:"Reset password"},{default:L((()=>[$("div",zl,[w(n,{value:R(p),"onUpdate:value":a[1]||(a[1]=e=>U(p)?p.value=e:null),options:R(_)},null,8,["value","options"])]),$("div",ql,[w(s,{value:R(m),"onUpdate:value":a[2]||(a[2]=e=>U(m)?m.value=e:null),placeholder:"Please enter a new password"},null,8,["value"])]),w(t,{type:"primary",onClick:f},{default:L((()=>a[5]||(a[5]=[E("Save password")]))),_:1})])),_:1})])),_:1})])}}}),Fl={class:"pt-8px"},Kl={class:"w-180px mr-8px"},Wl={class:"w-180px"},Xl={class:"w-180px"},Gl={class:"w-280px"},Jl={class:"w-180px"},Yl={class:"w-180px"},Ql={class:"w-280px"},Zl={class:"flex-1"},ei={key:0,class:"mb-16px text-error"},ai={key:1,class:"mb-16px text-error"},ti=S({__name:"index",setup(e,{expose:t}){const{t:l}=b(),{data:i}=kt(),s=T({composer_version:"",php_version:"auto",composer_args:"install",composer_cmd:"",repo:"repos.packagist",composer_user:"www",composer_path:i.path}),o=g([]),r=[{label:l("Docker.App.index_4"),value:"install"},{label:l("Docker.App.index_3"),value:"update"}],u=[{label:l("Site.Lable.index_8"),value:"repos.packagist"}],c=[{label:l("Site.Lable.index_9"),value:"www"},{label:l("Site.Lable.index_10"),value:"root"}],p=g(""),_=g(""),m=async()=>{await _a({repo:s.repo}),f()},v=async()=>{await ma({path:i.path}),f()},h=()=>{ee({title:l("Site.PHP.index_77"),content:l("Site.PHP.index_78"),onConfirm:async()=>{await va({php_version:s.php_version,composer_args:s.composer_args,composer_cmd:s.composer_cmd,repo:s.repo,path:s.composer_path,user:s.composer_user}),f()}})},x=()=>{o.value.unshift({label:l("Site.Lable.index_12"),value:"auto"})},f=async()=>{const{message:e}=await ha({path:i.path});n(e)&&(s.composer_version=e.result,e.comp_json&&(p.value=e.comp_json),d(e.comp_lock)&&(_.value=e.comp_lock),o.value=e.php_versions.filter((e=>"00"!==e.version)).map((e=>({label:e.name,value:e.version}))),x())};return x(),f(),t({init:f}),(e,t)=>{const l=Ia,i=Na,n=Ma,d=Aa,x=tt,f=a,y=at;return k(),C("div",Fl,[w(y,{class:"px-8px"},{default:L((()=>[w(n,{label:e.$t("Site.TableRow.index_3"),path:"composer_version"},{default:L((()=>[$("div",Kl,[w(l,{value:R(s).composer_version,"onUpdate:value":t[0]||(t[0]=e=>R(s).composer_version=e),disabled:!0,placeholder:""},null,8,["value"])]),w(i,{onClick:m},{default:L((()=>[E(P(e.$t("Docker.App.index_3")),1)])),_:1})])),_:1},8,["label"]),w(n,{label:e.$t("Site.TableRow.index_27"),path:"php_version"},{default:L((()=>[$("div",Wl,[w(d,{value:R(s).php_version,"onUpdate:value":t[1]||(t[1]=e=>R(s).php_version=e),options:R(o)},null,8,["value","options"])])])),_:1},8,["label"]),w(n,{label:e.$t("Site.TableRow.index_28"),path:"composer_args"},{default:L((()=>[$("div",Xl,[w(d,{value:R(s).composer_args,"onUpdate:value":t[2]||(t[2]=e=>R(s).composer_args=e),options:r},null,8,["value"])])])),_:1},8,["label"]),w(n,{label:e.$t("Site.TableRow.index_29"),path:"composer_cmd"},{default:L((()=>[$("div",Gl,[w(l,{value:R(s).composer_cmd,"onUpdate:value":t[3]||(t[3]=e=>R(s).composer_cmd=e),placeholder:e.$t("Site.Cert.index_67")},null,8,["value","placeholder"])])])),_:1},8,["label"]),w(n,{label:e.$t("Site.Lable.index_32"),path:"repo"},{default:L((()=>[$("div",Jl,[w(d,{value:R(s).repo,"onUpdate:value":t[4]||(t[4]=e=>R(s).repo=e),options:u},null,8,["value"])])])),_:1},8,["label"]),w(n,{label:e.$t("Ftp.Analysis.Index_27"),path:"composer_user"},{default:L((()=>[$("div",Yl,[w(d,{value:R(s).composer_user,"onUpdate:value":t[5]||(t[5]=e=>R(s).composer_user=e),options:c},null,8,["value"])])])),_:1},8,["label"]),w(n,{label:e.$t("Site.Lable.index_26"),path:"composer_path"},{default:L((()=>[$("div",Ql,[w(x,{value:R(s).composer_path,"onUpdate:value":t[6]||(t[6]=e=>R(s).composer_path=e)},null,8,["value"])])])),_:1},8,["label"]),w(n,{label:" ","show-feedback":!1},{default:L((()=>[$("div",Zl,[R(p)?(k(),C("div",ei,P(R(p)),1)):N("",!0),R(_)?(k(),C("div",ai,[$("span",null,P(R(_)),1),w(f,{onClick:v},{default:L((()=>[E("["+P(e.$t("Site.TableOP.index_6"))+"]",1)])),_:1})])):N("",!0),w(i,{type:"primary",onClick:h},{default:L((()=>[E(P(e.$t("Site.Lable.index_11")),1)])),_:1})])])),_:1})])),_:1})])}}}),li={class:"px-20px py-24px"},ii={class:"w-120px"},ni={class:"w-120px"},si={class:"w-200px"},oi={class:"w-200px"},di={class:"w-200px"},ri=S({__name:"form",props:{data:{}},setup(e,{expose:a}){const{t:l}=b(),i=e,{isEdit:n,siteId:s,siteName:o,row:d,getList:r}=i.data,u=g(null),c=T({redirectname:"".concat((new Date).valueOf()),type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),p={redirectdomain:{trigger:["change"],validator:()=>0!==c.redirectdomain.length||new Error(l("Site.RulesError.index_23"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==c.redirectpath.trim()||new Error(l("Site.RulesError.index_24"))},tourl:{trigger:["blur","input"],validator:()=>""!==c.tourl.trim()||new Error(l("Site.RulesError.index_25"))}},_=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],m=[{label:"301",value:"301"},{label:"302",value:"302"}],v=g([]),h=()=>{c.redirectdomain=[],c.redirectpath=""},{loading:x,setLoading:f}=le();return n&&d&&(c.redirectname=d.redirectname,c.type=d.type,c.holdpath=d.holdpath,c.redirecttype=d.redirecttype,c.redirectpath=d.redirectpath,c.domainorpath=d.domainorpath,c.redirectdomain=d.redirectdomain,c.tourl=d.tourl),(async()=>{try{f(!0);const{message:e}=await Pe({id:s});v.value=t(e)?e.map((e=>({label:e.name,value:e.name}))):[]}finally{f(!1)}})(),a({onConfirm:async({hide:e})=>{var a;await(null==(a=u.value)?void 0:a.validate());const t={...D(c),sitename:o};n?await fa(t):await xa(t),null==r||r(),e()}}),(e,a)=>{const t=Ha,l=Ma,i=Oa,n=Aa,s=Ia,o=at,d=oe;return k(),C("div",li,[w(o,{ref_key:"formRef",ref:u,model:R(c),rules:p},{default:L((()=>[w(i,{size:60},{default:L((()=>[w(l,{label:e.$t("Site.Lable.index_34")},{default:L((()=>[w(t,{value:R(c).type,"onUpdate:value":a[0]||(a[0]=e=>R(c).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),w(l,{label:e.$t("Site.TableRow.index_13"),"label-width":"120"},{default:L((()=>[w(t,{value:R(c).holdpath,"onUpdate:value":a[1]||(a[1]=e=>R(c).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),w(i,{size:30},{default:L((()=>[w(l,{label:e.$t("Site.TableRow.index_11")},{default:L((()=>[$("div",ii,[w(n,{value:R(c).domainorpath,"onUpdate:value":[a[2]||(a[2]=e=>R(c).domainorpath=e),h],class:"type-select",options:_},null,8,["value"])])])),_:1},8,["label"]),w(l,{label:e.$t("Site.TableRow.index_12"),"label-width":"70"},{default:L((()=>[$("div",ni,[w(n,{value:R(c).redirecttype,"onUpdate:value":a[3]||(a[3]=e=>R(c).redirecttype=e),class:"mode-select",options:m},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===R(c).domainorpath?(k(),I(l,{key:0,label:e.$t("Site.Lable.index_32"),path:"redirectdomain"},{default:L((()=>[$("div",si,[w(n,{value:R(c).redirectdomain,"onUpdate:value":a[4]||(a[4]=e=>R(c).redirectdomain=e),class:"domain-select",multiple:!0,loading:R(x),options:R(v),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):N("",!0),"path"===R(c).domainorpath?(k(),I(l,{key:1,label:e.$t("Site.Lable.index_30"),path:"redirectpath"},{default:L((()=>[$("div",oi,[w(s,{value:R(c).redirectpath,"onUpdate:value":a[5]||(a[5]=e=>R(c).redirectpath=e),placeholder:"","input-props":{name:"path"}},null,8,["value"])])])),_:1},8,["label"])):N("",!0),w(l,{label:e.$t("Site.Lable.index_33"),path:"tourl"},{default:L((()=>[$("div",di,[w(s,{value:R(c).tourl,"onUpdate:value":a[6]||(a[6]=e=>R(c).tourl=e),placeholder:"","input-props":{name:"url"}},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),w(d,{class:"mt-12px"},{default:L((()=>[$("li",null,P(e.$t("Site.Config.index_77")),1),$("li",null,P(e.$t("Site.Config.index_78")),1),$("li",null,P(e.$t("Site.Config.index_79")),1),$("li",null,P(e.$t("Site.Config.index_80")),1),$("li",null,P(e.$t("Site.Config.index_81")),1),$("li",null,P(e.$t("Site.Config.index_82")),1)])),_:1})])}}}),ui={class:"p-20px"},ci={class:"mt-12px"},pi=S({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:a}){const t=e,{row:i,siteName:s,getList:o}=t.data,d=a,u=r(),c=g(""),p=g(""),_=g(""),m=async()=>{const{message:e}=await wa({path:_.value,data:c.value,encoding:p.value});n(e)&&l.success(e.msg),null==o||o(),d("close")};return(async()=>{const{message:e}=await ya({sitename:s,redirectname:i.redirectname,webserver:u.webserver});n(e)&&(_.value=e.file,c.value=e.data,p.value=e.encoding)})(),(e,a)=>{const t=Na,l=oe;return k(),C("div",ui,[w(it,{value:R(c),"onUpdate:value":a[0]||(a[0]=e=>U(c)?c.value=e:null),height:350,"show-tips":!1},null,8,["value"]),$("div",ci,[w(t,{type:"primary",onClick:m},{default:L((()=>[E(P(e.$t("Site.Cert.index_60")),1)])),_:1})]),w(l,{class:"mt-24px"},{default:L((()=>[$("li",null,P(e.$t("Site.Config.index_83")),1)])),_:1})])}}}),_i=S({__name:"index",setup(e,{expose:l}){const{t:i}=b(),{data:n}=kt(),s=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:o,table:d,columns:r}=te([{type:"selection",width:40},{key:"sitename",title:i("Site.TableRow.index_11"),ellipsis:{tooltip:{width:"trigger"}},render:e=>"path"===e.domainorpath?e.redirectpath:e.sitename},{key:"redirecttype",title:i("Site.TableRow.index_12"),width:90},{key:"holdpath",title:i("Site.TableRow.index_13"),width:140,render:e=>w(a,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await Sa({...s(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?i("Config.Alarm.index_18"):i("Public.Status.TurnOff")]})},{key:"type",title:i("Config.Safe.index_156"),width:100,render:e=>w(re,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":i("Public.Status.Running"),"unchecked-title":i("Public.Status.Paused"),onClick:async a=>{await Sa({...s(e),type:a,holdpath:e.holdpath,status:e.type}),e.type=a}},null)},se({width:140,options:e=>[{label:i("Site.TableOP.index_2"),class:"config-btn",onClick:()=>{f(e)}},{label:i("Site.TableOP.index_7"),class:"edit-btn",onClick:()=>{h(e)}},{label:i("Public.Btn.Del"),class:"delete-btn",onClick:()=>{ee({title:i("Site.Config.Redirect.index_1",[e.redirectname]),content:i("Site.Config.Redirect.index_2"),onConfirm:async()=>{await ba({sitename:n.name,redirectname:e.redirectname}),_()}})}}]})]),u=[{key:"del",type:"confirm",label:i("Site.Batch.index_20"),confirm:{title:i("Site.Batch.index_21"),desc:i("Site.Batch.index_11"),columns:[r.value[1]],api:e=>ba({sitename:n.name,redirectname:e.redirectname},!1),done:()=>{_()}}}],{loading:c,setLoading:p}=le(),_=async()=>{try{p(!0);const{message:e}=await ga({sitename:n.name});d.data=t(e)?e:[]}finally{o.value=[],p(!1)}},m=ne(i("Site.Config.index_74"),{row:void 0,siteId:n.id,siteName:n.name,isEdit:!1,getList:_}),v=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=i("Site.Config.index_74"),m.show=!0},h=e=>{m.data.row=e,m.data.isEdit=!0,m.title="".concat(i("Site.Config.index_75")," [").concat(e.redirectname,"]"),m.show=!0},x=ne("",{row:void 0,siteName:n.name,getList:_}),f=e=>{x.data.row=e,x.title="".concat(i("Site.Config.index_76")," [").concat(e.redirectname,"]"),x.show=!0};return _(),l({init:_}),(e,a)=>{const t=Na,l=ie,i=Z,n=Q,s=et;return k(),C("div",null,[w(n,null,{toolsLeft:L((()=>[w(t,{class:"add-btn",type:"primary",onClick:v},{default:L((()=>[E(P(e.$t("Site.Config.index_73")),1)])),_:1})])),table:L((()=>[w(l,{"checked-row-keys":R(o),"onUpdate:checkedRowKeys":a[0]||(a[0]=e=>U(o)?o.value=e:null),"row-key":"redirectname",loading:R(c),"max-height":440,data:R(d).data,columns:R(r)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:L((()=>[w(i,{"checked-row-keys":R(o),"onUpdate:checkedRowKeys":a[1]||(a[1]=e=>U(o)?o.value=e:null),"row-key":"redirectname",data:R(d).data,options:u},null,8,["checked-row-keys","data"])])),_:1}),w(s,{show:R(m).show,"onUpdate:show":a[2]||(a[2]=e=>R(m).show=e),title:R(m).title,data:R(m).data,width:660,footer:!0,component:ri},null,8,["show","title","data"]),w(s,{show:R(x).show,"onUpdate:show":a[3]||(a[3]=e=>R(x).show=e),title:R(x).title,data:R(x).data,width:580,component:pi},null,8,["show","title","data"])])}}}),mi={class:"px-20px py-24px"},vi={class:"w-220px"},hi={class:"w-220px"},xi={class:"w-220px"},fi={class:"w-220px"},yi={class:"w-220px"},wi={class:"w-220px"},Si={class:"w-220px"},bi=S({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:l}=b(),i=e,{isEdit:n,siteName:s,row:o,getList:d}=i.data,r=g(null),u=T({type:1,proxyname:"",cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advanced:0,sitename:s}),c={proxyname:{trigger:["blur","input"],validator:()=>""!==u.proxyname.trim()||new Error(l("Site.RulesError.index_26"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===u.cache&&!u.cachetime)||new Error(l("Site.RulesError.index_27"))},proxydir:{trigger:["blur","input"],validator:()=>1!==u.advanced||""!==u.proxydir.trim()||new Error(l("Site.RulesError.index_28"))},proxysite:{trigger:["blur","input"],validator:()=>""!==u.proxysite.trim()||new Error(l("Site.RulesError.index_25"))},todomain:{trigger:["blur","input"],validator:()=>""!==u.todomain.trim()||new Error(l("Site.RulesError.index_29"))}},p=e=>{e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)?u.todomain="$host":u.todomain=e},_=g([]),m=()=>{_.value.length>=3||_.value.push({sub1:"",sub2:""})};m();return(()=>{if(n&&o){u.type=o.type,u.cache=o.cache,u.advanced=o.advanced,u.proxyname=o.proxyname,u.cachetime=o.cachetime,u.proxydir=o.proxydir,u.proxysite=o.proxysite,u.todomain=o.todomain,u.sitename=o.sitename;const e=o.subfilter.filter((e=>""!==e.sub1||""!==e.sub2));e.length>0&&(_.value=e)}})(),t({onConfirm:async({hide:e})=>{var a;await(null==(a=r.value)?void 0:a.validate());const t=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];return e.forEach(((e,a)=>{_.value.length-1<a||(e.sub1=_.value[a].sub1,e.sub2=_.value[a].sub2)})),{...D(u),subfilter:e}})();n?await Ca(t):await ka(t),null==d||d(),e()}}),(e,t)=>{const l=Ha,i=Ma,s=Oa,o=Ia,d=qa,v=Fa,h=Ka,x=a,f=Na,y=at,S=oe;return k(),C("div",mi,[w(y,{ref_key:"formRef",ref:r,model:R(u),rules:c},{default:L((()=>[w(s,{size:32},{default:L((()=>[w(i,{label:e.$t("Site.Lable.index_46")},{default:L((()=>[w(l,{value:R(u).type,"onUpdate:value":t[0]||(t[0]=e=>R(u).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),w(i,{label:e.$t("Site.Lable.index_47"),"label-width":"100"},{default:L((()=>[w(l,{value:R(u).cache,"onUpdate:value":t[1]||(t[1]=e=>R(u).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),w(i,{label:e.$t("Site.Lable.index_35"),"label-width":"126"},{default:L((()=>[w(l,{value:R(u).advanced,"onUpdate:value":t[2]||(t[2]=e=>R(u).advanced=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),w(i,{label:e.$t("Site.Lable.index_38"),path:"proxyname"},{default:L((()=>[$("div",vi,[w(o,{value:R(u).proxyname,"onUpdate:value":t[3]||(t[3]=e=>R(u).proxyname=e),disabled:R(n),placeholder:"","input-props":{name:"name"}},null,8,["value","disabled"])])])),_:1},8,["label"]),1===R(u).cache?(k(),I(i,{key:0,label:e.$t("Site.Lable.index_39"),path:"cachetime"},{default:L((()=>[$("div",hi,[w(h,null,{default:L((()=>[w(d,{value:R(u).cachetime,"onUpdate:value":t[4]||(t[4]=e=>R(u).cachetime=e),min:1,"show-button":!1,placeholder:"","input-props":{name:"time"}},null,8,["value"]),w(v,{class:"w-70px text-center"},{default:L((()=>[E(P(R(u).cachetime>1?"Minutes":"Minute"),1)])),_:1})])),_:1})])])),_:1},8,["label"])):N("",!0),1===R(u).advanced?(k(),I(i,{key:1,label:e.$t("Site.TableRow.index_17"),path:"proxydir"},{default:L((()=>[$("div",xi,[w(o,{value:R(u).proxydir,"onUpdate:value":t[5]||(t[5]=e=>R(u).proxydir=e),placeholder:"","input-props":{name:"dir"}},null,8,["value"])])])),_:1},8,["label"])):N("",!0),w(i,{label:e.$t("Site.Lable.index_33")},{default:L((()=>[$("div",fi,[w(o,{value:R(u).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>R(u).proxysite=e),p],placeholder:"","input-props":{name:"url"}},null,8,["value"])])])),_:1},8,["label"]),w(i,{label:e.$t("Site.Lable.index_36")},{default:L((()=>[$("div",yi,[w(o,{value:R(u).todomain,"onUpdate:value":t[7]||(t[7]=e=>R(u).todomain=e),placeholder:"","input-props":{name:"domain"}},null,8,["value"])])])),_:1},8,["label"]),w(i,{label:e.$t("Site.Lable.index_37")},{default:L((()=>[w(s,{class:"flex-1",vertical:""},{default:L((()=>[(k(!0),C(j,null,M(R(_),((a,t)=>(k(),I(s,{key:"".concat(t+1),class:"sub-rows items-center"},{default:L((()=>[$("div",wi,[w(o,{value:a.sub1,"onUpdate:value":e=>a.sub1=e,placeholder:e.$t("Site.Placeholder.index_20"),"input-props":{name:"sub1"}},null,8,["value","onUpdate:value","placeholder"])]),$("div",Si,[w(o,{value:a.sub2,"onUpdate:value":e=>a.sub2=e,placeholder:e.$t("Site.Placeholder.index_21"),"input-props":{name:"sub2"}},null,8,["value","onUpdate:value","placeholder"])]),$("div",null,[w(x,{type:"error",disabled:0===t&&1===R(_).length,onClick:e=>(e=>{_.value.length<=1||_.value.splice(e,1)})(t)},{default:L((()=>[E(P(e.$t("Public.Btn.Del")),1)])),_:2},1032,["disabled","onClick"])])])),_:2},1024)))),128)),$("div",null,[w(f,{type:"primary",class:"add-content-btn",disabled:R(_).length>=3,onClick:m},{default:L((()=>[$("span",null,P(e.$t("Site.Config.index_87")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["label"])])),_:1},8,["model"]),w(S,{class:"mt-12px"},{default:L((()=>[$("li",null,P(e.$t("Site.Config.index_88")),1),$("li",null,P(e.$t("Site.Config.index_89")),1),$("li",null,P(e.$t("Site.Config.index_90")),1),$("li",null,P(e.$t("Site.Config.index_91")),1)])),_:1})])}}}),gi={class:"p-20px"},ki={class:"mt-12px"},Ci=S({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:a}){const t=e,{row:i,siteName:s,getList:o}=t.data,d=a,u=r(),c=g(""),p=g(""),_=g(""),m=async()=>{const{message:e}=await La({path:_.value,data:c.value,encoding:p.value});n(e)&&l.success(e.msg),null==o||o(),d("close")};return(async()=>{const{message:e}=await $a({sitename:s,proxyname:i.proxyname,webserver:u.webserver});n(e)&&(_.value=e.file,c.value=e.data,p.value=e.encoding)})(),(e,a)=>{const t=Na,l=oe;return k(),C("div",gi,[w(it,{value:R(c),"onUpdate:value":a[0]||(a[0]=e=>U(c)?c.value=e:null),height:350,"show-tips":!1},null,8,["value"]),$("div",ki,[w(t,{type:"primary",onClick:m},{default:L((()=>[E(P(e.$t("Site.Cert.index_60")),1)])),_:1})]),w(l,{class:"mt-24px"},{default:L((()=>[$("li",null,P(e.$t("Site.Config.index_83")),1)])),_:1})])}}}),$i=S({__name:"index",setup(e,{expose:l}){const{t:i}=b(),{data:n}=kt(),s=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime}),{keys:o,table:d,columns:r}=te([{type:"selection",width:40},{key:"proxyname",title:i("Site.TableRow.index_2"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:i("Site.TableRow.index_17"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:i("Site.Lable.index_33"),ellipsis:{tooltip:{width:"trigger"}},render:e=>w("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:i("Site.Lable.index_31"),width:90,render:e=>w(a,{type:1===e.cache?"primary":"error",onClick:async()=>{await Ca({...s(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:i("Site.TableRow.index_14"),width:90,render:e=>w(re,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async a=>{await Ca({...s(e),type:a,cache:e.cache}),e.type=a}},null)},se({width:120,options:e=>[{label:i("Site.TableOP.index_2"),onClick:()=>{f(e)}},{label:i("Site.TableOP.index_7"),class:"edit-btn",onClick:()=>{h(e)}},{label:i("Public.Btn.Del"),class:"delete-btn",onClick:()=>{ee({title:i("Site.Config.Proxy.index_1",[e.proxyname]),content:i("Site.Config.Proxy.index_2"),onConfirm:async()=>{await Pa({sitename:n.name,proxyname:e.proxyname}),_()}})}}]})]),u=[{key:"del",type:"confirm",label:i("Site.Batch.index_20"),confirm:{title:i("Site.Batch.index_21"),desc:i("Site.Batch.index_11"),api:e=>Pa({sitename:n.name,proxyname:e.proxyname},!1),done:()=>{_()},columns:[{key:"proxyname",title:i("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:c,setLoading:p}=le(),_=async()=>{try{p(!0);const{message:e}=await Ra({sitename:n.name});d.data=t(e)?e:[]}finally{o.value=[],p(!1)}},m=ne(i("Site.Config.index_86"),{row:void 0,siteName:n.name,isEdit:!1,getList:_}),v=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=i("Site.Config.index_86"),m.show=!0},h=e=>{m.data.row=e,m.data.isEdit=!0,m.title="".concat(i("Site.Config.index_75")," [").concat(e.proxyname,"]"),m.show=!0},x=ne("",{row:void 0,siteName:n.name,getList:_}),f=e=>{x.data.row=e,x.title="".concat(i("Site.Config.index_76")," [").concat(e.proxyname,"]"),x.show=!0};return _(),l({init:_}),(e,a)=>{const t=Na,l=ie,i=Z,n=Q,s=et;return k(),C("div",null,[w(n,null,{toolsLeft:L((()=>[w(t,{class:"add-btn",type:"primary",onClick:v},{default:L((()=>[E(P(e.$t("Site.Config.index_85")),1)])),_:1})])),table:L((()=>[w(l,{"checked-row-keys":R(o),"onUpdate:checkedRowKeys":a[0]||(a[0]=e=>U(o)?o.value=e:null),"row-key":"proxyname",loading:R(c),"max-height":440,data:R(d).data,columns:R(r)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:L((()=>[w(i,{"checked-row-keys":R(o),"onUpdate:checkedRowKeys":a[1]||(a[1]=e=>U(o)?o.value=e:null),"row-key":"proxyname",data:R(d).data,options:u},null,8,["checked-row-keys","data"])])),_:1}),w(s,{show:R(m).show,"onUpdate:show":a[2]||(a[2]=e=>R(m).show=e),title:R(m).title,data:R(m).data,width:660,footer:!0,component:bi},null,8,["show","title","data"]),w(s,{show:R(x).show,"onUpdate:show":a[3]||(a[3]=e=>R(x).show=e),title:R(x).title,data:R(x).data,width:580,component:Ci},null,8,["show","title","data"])])}}}),Li={class:"pt-8px"},Pi=S({__name:"index",setup(e,{expose:a}){const{data:t}=kt(),l=g();return a({init:()=>{l.value.init()}}),(e,a)=>(k(),C("div",Li,[w(pt,{ref_key:"formRef",ref:l,site:R(t)},null,8,["site"])]))}}),Ri=S({__name:"index",setup(e,{expose:a}){const{data:t}=kt(),l=g("None"),{loading:i,setLoading:s}=le(),o=async()=>{try{s(!0);const{message:e}=await Ua({siteName:t.name});n(e)&&(l.value=d(e.result)?e.result:"None")}finally{s(!1)}};return o(),a({init:o}),(e,a)=>{const t=_t,n=m;return k(),I(n,{class:"h-560px",show:R(i)},{default:L((()=>[w(t,{log:R(l)},null,8,["log"])])),_:1},8,["show"])}}}),Ui=S({__name:"index",setup(e,{expose:a}){const{data:t}=kt(),l=g("None"),{loading:i,setLoading:s}=le(),o=async()=>{try{s(!0);const{message:e}=await Ea({siteName:t.name});n(e)&&(l.value=d(e.result)?e.result:"None")}finally{s(!1)}};return o(),a({init:o}),(e,a)=>{const t=_t,n=m;return k(),I(n,{class:"h-560px",show:R(i)},{default:L((()=>[w(t,{log:R(l)},null,8,["log"])])),_:1},8,["show"])}}}),Ei={class:"text-error"},Ti={class:"w-400px p-20px"},Bi={class:"mb-16px"},ji=S({__name:"index",setup(e,{expose:t}){const{t:i}=b(),s=r(),{data:o}=kt(),d=H((()=>{let e="";switch(s.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return"/www/wwwlogs/".concat(o.name).concat(e)})),u=H((()=>{const e=d.value.split("/");return e[e.length-1]})),c=()=>{ee({title:i("Site.Config.index_104"),content:"".concat(i("Site.Config.index_105")," [").concat(u.value,"] ").concat(i("Site.Config.index_106")),onConfirm:async({hide:e})=>{await Ta({path:d.value}),e(),m()}})},p=g(!1),_=g(0),m=async()=>{p.value=!0,v()},v=(e=0)=>{let a=setTimeout((async()=>{const{message:e}=await Ba({path:d.value});n(e)&&(_.value=e.result,_.value>=100?(l.success(i("Site.Config.index_107")),p.value=!1,_.value=0,T(),clearTimeout(a)):v(1e3))}),e)},h=e=>{ue({title:"[".concat(e,"] ").concat(i("Site.Config.index_103")),data:{type:e,path:d.value},component:mt})},{table:x,columns:f}=te([{key:"start_time",title:i("Site.Cert.index_68")},{key:"time",title:i("Site.DelSite.index_6"),render:e=>"".concat(e.time.substring(0,4)," s")},{key:"xss",title:i("Site.TableRow.index_4"),render:e=>e.xss>0?w("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:i("Site.TableRow.index_5"),render:e=>e.sql>0?w("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:i("Site.TableRow.index_6"),render:e=>e.san>0?w("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:i("Site.TableRow.index_27"),render:e=>e.php>0?w("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:i("Site.TableRow.index_7"),render:e=>e.ip>0?w(a,{onClick:()=>{h("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:i("Site.TableRow.index_8"),render:e=>e.url>0?w(a,{onClick:()=>{h("url")}},{default:()=>[e.url]}):e.url}]),{loading:y,setLoading:S}=le(),T=async()=>{try{S(!0);const{message:e}=await ja({path:d.value});n(e)&&(x.data=[e])}finally{S(!1)}},B=()=>{T()};return B(),t({init:B}),(e,t)=>{const l=Na,i=ie,n=Q,s=oe,o=Wa,d=et;return k(),C("div",null,[w(n,null,{toolsLeft:L((()=>[w(l,{type:"primary",onClick:c},{default:L((()=>[E(P(e.$t("Site.Config.index_104")),1)])),_:1})])),table:L((()=>[w(i,{loading:R(y),"loading-num":1,data:R(x).data,columns:R(f)},null,8,["loading","data","columns"])])),_:1}),w(s,{class:"mt-16px"},{default:L((()=>[$("li",null,[E(P(e.$t("Site.Config.index_108"))+" ",1),$("span",Ei,P(e.$t("Site.Config.index_109")),1)]),$("li",null,P(e.$t("Site.Config.index_110")),1),$("li",null,P(e.$t("Site.Config.index_111")),1),$("li",null,P(e.$t("Site.Config.index_112")),1),$("li",null,[w(a,{href:"https://www.aapanel.com/forum/d/3351-nginx-waf-instructions",target:"_blank"},{default:L((()=>[E(P(e.$t("Site.Config.index_113")),1)])),_:1}),E(" "+P(e.$t("Site.Config.index_114")),1)])])),_:1}),w(d,{show:R(p),"onUpdate:show":t[0]||(t[0]=e=>U(p)?p.value=e:null)},{default:L((()=>[$("div",Ti,[$("div",Bi,P(e.$t("Site.Config.index_115")),1),w(o,{type:"line",status:"success",height:24,percentage:R(_),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])])),_:1},8,["show"])])}}}),Ni=S({__name:"index",setup(e,{expose:a}){const{t:t}=b(),{config:l}=kt(),i=g("access"),n=g(),s=[{key:"access",label:t("Site.Config.index_100"),component:Ri},{key:"error",label:t("Site.Config.index_101"),component:Ui},{key:"security",label:t("Site.Config.index_102"),component:ji}];return i.value=l.subMenu||"access",l.subMenu="",a({init:()=>{i.value="access",z((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,a)=>{const t=lt;return k(),I(t,{value:R(i),"onUpdate:value":a[0]||(a[0]=e=>U(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),Di={class:"cert-info"},Ii={class:"cert-label"},Oi={class:"cert-value"},Ai={class:"cert-info"},Mi={class:"cert-label"},Hi={class:"cert-value"},zi={class:"cert-info"},qi={class:"cert-label"},Vi={class:"cert-value"},Fi={class:"cert-info"},Ki={class:"cert-label"},Wi={class:"cert-value"},Xi={key:0,class:"text-primary"},Gi={key:1,class:"text-error"},Ji={class:"cert-info"},Yi={class:"cert-label"},Qi={class:"cert-value"},Zi={class:"w-48%"},en={class:"mb-8px"},an={class:"w-48%"},tn={class:"mb-8px"},ln=c(S({__name:"index",props:{info:{default:null},isRenew:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{expose:t,emit:s}){const o=B((()=>i((()=>import("./ssl-log.js?v=1747989938512")),__vite__mapDeps([12,13,2,3,4,5,6,1,8,7,14])))),d=e,u=s,{t:c}=b(),{data:p}=kt(),_=ne(c("SSL.index_43")),h=r(),x=g(-1),f=g(!1),y=g(!1),S=g(""),T=g("");let j="";const D=g("");let O="";const A=g({issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),M=H((()=>x.value===rt.LetsEncryptDeploy?c("Site.Cert.index_65"):x.value===rt.BusinessDeploy?c("Site.Cert.index_64"):x.value===rt.TestDeploy?c("Site.Cert.index_38"):c("Site.Cert.index_37"))),z=H((()=>!!D.value)),V=H((()=>d.isRenew||x.value===rt.LetsEncryptDeploy)),F=H((()=>!1)),K=H((()=>f.value)),W=async e=>{e?(await ht({siteName:p.name}),u("refresh")):ee({title:c("Site.Cert.index_12"),content:c("Site.Cert.index_13"),onConfirm:async()=>{await vt({siteName:p.name}),u("refresh")},onPublicClose:()=>{y.value=!0}})},X=()=>{""!==T.value.trim()&&""!==D.value.trim()?T.value!==j&&j||D.value!==O&&O?ee({title:c("Site.Cert.index_10"),content:c("Site.Cert.index_11"),onConfirm:async()=>{await G()}}):G():l.error(c("Site.Cert.index_9"))},G=async()=>{const{message:e}=await ce({key:T.value,cert:D.value});n(e)&&e.hash&&(await pe({hash:e.hash,domains:JSON.stringify([p.name]),append:1}),l.success(c("SSL.index_32"))),Q()},J=async()=>{var e;const{message:a}=await _e({hash:(null==(e=d.info)?void 0:e.hash)||""});n(a)&&(_.data.path=a.result,_.show=!0)},Y=async()=>{await xt({updateOf:1,siteName:p.name}),Q()},Q=()=>{u("refresh"),h.setRefresh(!0)};return q((()=>{const{info:e}=d;e&&(x.value=e.type,f.value=e.status,y.value=e.httpTohttps,T.value=e.key||"",j=e.key||"",D.value=e.csr||"",O=e.csr||"",A.value=e.cert_data,S.value=e.index)})),t({init:u("refresh")}),(e,t)=>{const l=a,i=Xa,n=Ga,s=Ha,d=v,r=Ja,u=$e,c=Oa,p=Na,h=oe,x=et,S=m;return k(),I(S,{show:e.loading},{default:L((()=>[R(z)?(k(),I(r,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:L((()=>[w(d,{"x-gap":12,cols:"15"},{default:L((()=>[w(i,{span:"8"},{default:L((()=>[$("div",Di,[$("div",Ii,P(e.$t("Site.Cert.index_44"))+P(e.$t("Public.Punctuation.Colon")),1),$("div",Oi,[w(l,null,{default:L((()=>[E(P(R(M)),1)])),_:1})])])])),_:1}),w(i,{span:"7"},{default:L((()=>[$("div",Ai,[$("div",Mi,P(e.$t("Site.Cert.index_45"))+P(e.$t("Public.Punctuation.Colon")),1),$("div",Hi,[w(n,null,{default:L((()=>[E(P(R(A).issuer),1)])),_:1})])])])),_:1}),w(i,{span:"8"},{default:L((()=>[$("div",zi,[$("div",qi,P(e.$t("Site.Cert.index_46"))+P(e.$t("Public.Punctuation.Colon")),1),$("div",Vi,[w(n,null,{default:L((()=>[E(P(R(A).dns.join(e.$t("Public.Punctuation.Comma"))),1)])),_:1})])])])),_:1}),w(i,{span:"7"},{default:L((()=>[$("div",Fi,[$("div",Ki,P(e.$t("Site.Cert.index_47"))+P(e.$t("Public.Punctuation.Colon")),1),$("div",Wi,[R(A).endtime>0?(k(),C("span",Xi,P(e.$t("Site.Cert.index_48",{date:R(A).notAfter,days:R(A).endtime})),1)):(k(),C("span",Gi,P(e.$t("Site.Cert.index_47")),1))])])])),_:1}),w(i,{span:"8"},{default:L((()=>[$("div",Ji,[$("div",Yi,P(e.$t("Site.Cert.index_49"))+P(e.$t("Public.Punctuation.Colon")),1),$("div",Qi,[w(s,{value:R(y),"onUpdate:value":[t[0]||(t[0]=e=>U(y)?y.value=e:null),W],size:"small"},null,8,["value"])])])])),_:1})])),_:1})])),_:1})):N("",!0),w(c,{class:"mb-16px",size:10,justify:"space-between"},{default:L((()=>[$("div",Zi,[$("div",en,P(e.$t("Site.Cert.index_50")),1),w(u,{value:R(T),"onUpdate:value":t[1]||(t[1]=e=>U(T)?T.value=e:null),rows:10},null,8,["value"])]),$("div",an,[$("div",tn,P(e.$t("Site.Cert.index_51")),1),w(u,{value:R(D),"onUpdate:value":t[2]||(t[2]=e=>U(D)?D.value=e:null),rows:10},null,8,["value"])])])),_:1}),w(c,{class:"mb-12px"},{default:L((()=>[w(p,{type:"primary",onClick:X},{default:L((()=>[E(P(R(f)?e.$t("Public.Btn.Save"):e.$t("Site.Cert.index_52")),1)])),_:1}),R(V)?(k(),I(p,{key:0,type:"primary",onClick:J},{default:L((()=>[E(P(e.$t("Site.Cert.index_53")),1)])),_:1})):N("",!0),R(F)?(k(),I(p,{key:1},{default:L((()=>[E(P(e.$t("Site.Cert.index_54")),1)])),_:1})):N("",!0),R(K)?(k(),I(p,{key:2,onClick:Y},{default:L((()=>[E(P(e.$t("Site.Cert.index_55")),1)])),_:1})):N("",!0)])),_:1}),w(h,null,{default:L((()=>[$("li",null,P(e.$t("Site.Cert.index_33")),1),$("li",null,P(e.$t("Site.Cert.index_34")),1),$("li",null,P(e.$t("Site.Cert.index_35")),1),$("li",null,P(e.$t("Site.Cert.index_36")),1)])),_:1}),w(x,{show:R(_).show,"onUpdate:show":t[3]||(t[3]=e=>R(_).show=e),title:R(_).title,data:R(_).data,width:650,"min-height":450,component:R(o)},null,8,["show","title","data","component"])])),_:1},8,["show"])}}}),[["__scopeId","data-v-5a8d1fd6"]]),nn={class:"flex flex-wrap bg-#dff0d8 border-#d6e9c6 border-1px rounded-5px p-12px"},sn={class:"text-#3c763d w-100%"},on=S({__name:"top-tips",setup(e){const{t:a}=b(),t=[a("SSL.SiteSSL.index_5"),a("SSL.SiteSSL.index_6"),a("SSL.SiteSSL.index_7"),a("SSL.SiteSSL.index_8"),a("SSL.SiteSSL.index_9"),a("SSL.SiteSSL.index_10"),a("SSL.SiteSSL.index_11")];return(e,a)=>{const l=h,i=Oa;return k(),C("div",nn,[(k(),C(j,null,M(t,((e,a)=>w(i,{size:5,key:e,class:V(["flex-nowrap! leading-20px",{"w-33%":a!==t.length-1}])},{default:L((()=>[w(l,{name:"base-tick",size:16,color:"#ff8d00"}),$("span",sn,P(e),1)])),_:2},1032,["class"]))),64))])}}}),dn={class:"my-10px"},rn=S({__name:"table",setup(e){const a=B((()=>i((()=>import("./index197.js?v=1747989938512")),__vite__mapDeps([15,16,3,4,6,1,2,5,7,8,17,18,19,20])))),t=B((()=>i((()=>import("./index198.js?v=1747989938512")),__vite__mapDeps([21,22,3,4,5,6,2,1,8,7,23,24])))),l=B((()=>i((()=>import("./dns-verification.js?v=1747989938512")),__vite__mapDeps([25,1,2,3,4,5,6,7,8,18])))),s=r(),o=p(),{userInfo:d}=F(o),{t:u}=b(),c=T({p:1,limit:9999}),_=ne(u("SSL.Business.index_41"),{onRefresh:(e,a)=>{h.data.request=!0,h.data.uc_id=a,h.data.verify=e,h.show=!0,S()}}),m=ne(u("SSL.index_44")),v=ne(u("SSL.index_49"),{onRefresh:()=>{S(),s.setRefresh(!0)}}),h=ne(u("SSL.Business.index_42"),{onRefresh:()=>{S()}}),{table:x,columns:f}=te([{key:"verify_domains",title:u("Layout.Sider.mail_3"),render:e=>w("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:u("Site.Cert.index_44"),render:e=>e.order_info.title,ellipsis:{tooltip:!0}},wt({title:u("SSL.index_54")}),{key:"order_status",title:u("SSL.Business.index_43"),render:e=>{const a=e.order_info;return a.certId||a.domains.length?!a.certId&&a.domains.length?w("span",{class:"color-warning"},[E(" "),u("SSL.Business.index_45"),E(" ")]):"PENDING"===a.order_status&&1===a.status?w("span",{class:"color-warning"},[E(" "),u("SSL.Business.index_46"),E(" ")]):"COMPLETE"===a.order_status&&1===a.status?w("span",{class:"color-#20a53a"},[E(" "),u("SSL.Business.index_47"),E(" ")]):"CANCELLED"===a.order_status&&1===a.status||-1===a.status?w("span",{class:"color-warning"},[E(" "),u("SSL.Business.index_48"),E(" ")]):"FAILED"===a.order_status&&1===a.status?w("span",{class:"color-error"},[E(" "),u("SSL.Business.index_49"),E(" ")]):"EXPIRED"===a.order_status&&1===a.status?w("span",{class:"color-warning"},[E(" "),u("SSL.Business.index_50"),E(" ")]):1!==a.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(a.order_status)?0===a.status?w("span",{class:"color-warning"},[E(" "),u("SSL.Business.index_52"),E(" ")]):void 0:w("span",{class:"color-warning"},[E(" "),u("SSL.Business.index_51"),E(" ")]):w("span",{class:"color-warning cursor-pointer",onClick:()=>y(e)},[" ",u("SSL.Business.index_44")," "])}},se({width:140,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:u("SSL.Business.index_53"),onClick:()=>{y(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:u("SSL.Business.index_54"),onClick:async()=>{const{message:a}=await me({uc_id:e.order_info.uc_id});n(a)&&(h.data.uc_id=e.order_info.uc_id,h.data.verify=a.data,h.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:u("SSL.index_58"),onClick:async()=>{v.data.row=e,v.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:u("Ftp.Label.index_11"),onClick:async()=>{const a=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(a)}},{show:!1,label:u("Public.Btn.Del"),onClick:()=>{ee({title:u("SSL.index_59"),content:u("SSL.index_60"),onConfirm:async()=>{await ve({hash:e.hash}),S()}})}}]})]),y=e=>{_.data.row=e,_.show=!0},S=async()=>{try{x.loading=!0;const{message:e}=await he(c);n(e)&&(x.data=e.data,x.total=e.total)}finally{x.loading=!1}};return d.value.status&&S(),(e,i)=>{const n=Na,s=ie,o=Q,r=et,c=nt;return k(),C("div",dn,[w(c,{install:R(d).status},{desc:L((()=>[i[5]||(i[5]=$("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),w(n,{type:"primary",onClick:R(xe)},{default:L((()=>[E(P(e.$t("Login.index_3")),1)])),_:1},8,["onClick"])])),default:L((()=>[w(o,null,{toolsLeft:L((()=>[w(n,{type:"primary",onClick:i[0]||(i[0]=e=>R(m).show=!0)},{default:L((()=>[E(P(R(u)("SSL.index_44")),1)])),_:1})])),table:L((()=>[w(s,{loading:R(x).loading,data:R(x).data,columns:R(f),"max-height":220},null,8,["loading","data","columns"])])),_:1}),w(r,{show:R(m).show,"onUpdate:show":i[1]||(i[1]=e=>R(m).show=e),title:R(m).title,data:R(m).data,"min-height":250,component:St},null,8,["show","title","data"]),w(r,{show:R(_).show,"onUpdate:show":i[2]||(i[2]=e=>R(_).show=e),title:R(_).title,data:R(_).data,width:650,"min-height":450,component:R(a)},null,8,["show","title","data","component"]),w(r,{show:R(v).show,"onUpdate:show":i[3]||(i[3]=e=>R(v).show=e),title:R(v).title,data:R(v).data,width:720,height:530,component:R(t)},null,8,["show","title","data","component"]),w(r,{show:R(h).show,"onUpdate:show":i[4]||(i[4]=e=>R(h).show=e),title:R(h).title,data:R(h).data,width:650,"min-height":450,component:R(l)},null,8,["show","title","data","component"])])),_:1},8,["install"])])}}}),un={class:"text-error"};const cn=c({},[["render",function(e,t){const l=a,i=oe;return k(),I(i,null,{default:L((()=>[$("li",un,P(e.$t("SSL.SiteSSL.index_1")),1),$("li",null,P(e.$t("SSL.SiteSSL.index_2")),1),$("li",null,P(e.$t("SSL.SiteSSL.index_3")),1),$("li",null,[E(P(e.$t("SSL.SiteSSL.index_4"))+" ",1),w(l,{href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html",target:"_blank"},{default:L((()=>[E(P(e.$t("SSL.Business.index_20")),1)])),_:1})])])),_:1})}]]),pn=S({__name:"index",setup:e=>(e,a)=>(k(),C("div",null,[w(on),w(rn),w(cn)]))}),_n={class:"cert-info"},mn={class:"cert-label"},vn={class:"cert-value"},hn={class:"cert-info"},xn={class:"cert-label"},fn={class:"cert-value"},yn={class:"cert-info"},wn={class:"cert-label"},Sn={class:"cert-value"},bn={class:"cert-info"},gn={class:"cert-label"},kn={class:"cert-value"},Cn={key:0,class:"text-primary"},$n={key:1,class:"text-error"},Ln={class:"w-48%"},Pn={class:"mb-8px"},Rn={class:"w-48%"},Un={class:"mb-8px"},En=c(S({__name:"cert",emits:["update"],setup(e,{emit:a}){const t=B((()=>i((()=>import("./ssl-log.js?v=1747989938512")),__vite__mapDeps([12,13,2,3,4,5,6,1,8,7,14])))),l=a,{t:s}=b(),{data:o}=kt(),d=ne(s("SSL.index_43")),u=r(),c=g(!1),p=g(1),_=g(""),h=g(""),x=T({hash:"",issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),f=async()=>{const{message:e}=await _e({hash:x.hash});n(e)&&(d.data.path=e.result,d.show=!0)},y=async()=>{await xt({updateOf:1,siteName:o.name}),l("update"),u.setRefresh(!0)},{loading:S,setLoading:j}=le();return(async()=>{try{j(!0);const{message:e}=await ft({siteName:o.name});n(e)&&(c.value=e.status,x.hash=e.hash,x.issuer=e.cert_data.issuer,x.notAfter=e.cert_data.notAfter,x.notBefore=e.cert_data.notBefore,x.dns=e.cert_data.dns,x.subject=e.cert_data.subject,x.endtime=e.cert_data.endtime,_.value=e.key,h.value=e.csr,p.value=e.auto_renew)}finally{j(!1)}})(),(e,a)=>{const l=Xa,i=Ga,n=v,s=Ja,o=$e,r=Oa,u=Na,c=oe,b=et,g=m;return k(),I(g,{show:R(S)},{default:L((()=>[w(s,{class:"mb-16px",type:"success","show-icon":!1},{default:L((()=>[w(n,{"x-gap":12,cols:"15"},{default:L((()=>[R(p)?(k(),I(l,{key:0,span:"16"},{default:L((()=>[$("div",_n,[$("div",mn,P(e.$t("SSL.SiteSSL.index_22"))+"： ",1),$("div",vn,P(e.$t("SSL.SiteSSL.index_23")),1)])])),_:1})):N("",!0),w(l,{span:"7"},{default:L((()=>[$("div",hn,[$("div",xn,P(e.$t("Site.Cert.index_45"))+"： ",1),$("div",fn,[w(i,null,{default:L((()=>[E(P(R(x).issuer),1)])),_:1})])])])),_:1}),w(l,{span:"8"},{default:L((()=>[$("div",yn,[$("div",wn,P(e.$t("Site.Cert.index_46"))+"： ",1),$("div",Sn,[w(i,null,{default:L((()=>[E(P(R(x).dns.join(e.$t("Public.Punctuation.Comma"))),1)])),_:1})])])])),_:1}),w(l,{span:"7"},{default:L((()=>[$("div",bn,[$("div",gn,P(e.$t("Site.Cert.index_47"))+P(e.$t("Public.Punctuation.Colon")),1),$("div",kn,[R(x).endtime>0?(k(),C("span",Cn,P(e.$t("Site.Cert.index_48",{date:R(x).notAfter,days:R(x).endtime})),1)):(k(),C("span",$n,P(e.$t("Site.Cert.index_47")),1))])])])),_:1})])),_:1})])),_:1}),w(r,{class:"mb-16px",size:10,justify:"space-between"},{default:L((()=>[$("div",Ln,[$("div",Pn,P(e.$t("Site.Cert.index_50")),1),w(o,{readonly:"",value:R(_),"onUpdate:value":a[0]||(a[0]=e=>U(_)?_.value=e:null),rows:14},null,8,["value"])]),$("div",Rn,[$("div",Un,P(e.$t("Site.Cert.index_51")),1),w(o,{readonly:"",value:R(h),"onUpdate:value":a[1]||(a[1]=e=>U(h)?h.value=e:null),rows:14},null,8,["value"])])])),_:1}),w(r,{class:"mb-12px"},{default:L((()=>[w(u,{type:"primary",onClick:f},{default:L((()=>[E(P(e.$t("Site.Cert.index_53")),1)])),_:1}),w(u,{onClick:y},{default:L((()=>[E(P(e.$t("Site.Cert.index_55")),1)])),_:1})])),_:1}),w(c,null,{default:L((()=>[$("li",null,P(e.$t("SSL.SiteSSL.index_24")),1),$("li",null,P(e.$t("SSL.SiteSSL.index_25")),1)])),_:1}),w(b,{show:R(d).show,"onUpdate:show":a[2]||(a[2]=e=>R(d).show=e),title:R(d).title,data:R(d).data,width:650,"min-height":450,component:R(t)},null,8,["show","title","data","component"])])),_:1},8,["show"])}}}),[["__scopeId","data-v-5f5bde40"]]),Tn={class:"flex items-center"},Bn={class:"leading-17px"},jn={class:"w-full"},Nn={class:"w-full"},Dn={class:"text-error"},In=S({__name:"apply",emits:["update"],setup(e,{emit:a}){const i=K(),{t:s}=b(),{data:o}=kt(),d=r(),c=a,p=T({auth_type:"http",dns_manual:0,auto_wildcard:0,domains:[],all:!1}),_={domains:{required:!0,trigger:"change",type:"array",message:s("SSL.SiteSSL.index_16")}},v=g(null),x=g([]),f=e=>{var a;return null==(a=x.value.find((a=>a.name===e)))?void 0:a.auto},y=()=>{i.push("/ssl_domain/domain")},S=H((()=>p.domains.length>0&&p.domains.length<x.value.length));W((()=>p.domains),(e=>{e.length===x.value.length?p.all=!0:e.length||(p.all=!1)})),W((()=>p.all),(e=>{var a;e?(p.domains=x.value.map((e=>e.name)),null==(a=v.value)||a.validate()):p.domains=[]})),W((()=>p.auth_type),(e=>{var a;"dns"===e?(p.domains=x.value.filter((e=>e.auto)).map((e=>e.name)),null==(a=v.value)||a.validate()):p.domains=[]}));const U=H((()=>p.domains.filter((e=>!f(e))))),B=async()=>{var e;if(await(null==(e=v.value)?void 0:e.validate()),"dns"===p.auth_type&&U.value.length&&!p.dns_manual)return void l.error({content:()=>J("span",{innerHTML:"".concat(U.value.join("<br/>")).concat(s("SSL.SiteSSL.index_14"))})});let a={auth_type:p.dns_manual?"dns_manual":p.auth_type,auto_wildcard:p.auto_wildcard,domains:JSON.stringify(p.domains),site_id:p.dns_manual?o.id:void 0,deploy:p.dns_manual?0:1};if(p.dns_manual){const{message:e}=await fe({site_id:o.id,domains:JSON.stringify(p.domains)});if(n(e)&&Object.keys(e).length)return void ye(e.auths,o.id,(()=>{c("update"),d.setRefresh(!0)}),!0);const t=ue({width:500,height:300,hideClose:!0,component:we});try{const{message:e}=await Se(a,!1);n(e)&&(e.deploy?(l.success(e.result||s("SSL.index_32")),c("update"),d.setRefresh(!0)):Array.isArray(e.auths)&&e.auths.length&&ye(e.auths,o.id,(()=>{c("update"),d.setRefresh(!0)})))}catch(i){be(Da(i,"message",""))}finally{t.hide()}return}const{message:t}=await Se(a);n(t)&&ue({hideClose:!0,data:{isJump:!1,task_id:t.task_id,onFinish:()=>{c("update"),d.setRefresh(!0)}},component:bt})},{loading:N,setLoading:D}=le();return O((()=>{(async()=>{try{D(!0);const{message:e}=await Pe({id:o.id});if(t(e)){const a=e.map((async e=>{const{message:a}=await ge({domain:e.name});n(a)&&x.value.push({name:e.name,auto:!!a.hash})}));await Promise.all(a)}}finally{D(!1)}})()})),(e,a)=>{const t=h,l=Ja,i=Ya,n=u,s=Qa,o=Ma,d=za,r=Oa,c=Va,b=Za,g=m,T=Na,D=at,O=oe;return k(),C("div",null,[X(w(l,{"show-icon":!1,class:"mb-10px"},{default:L((()=>[$("div",Tn,[w(t,{name:"base-info",size:"17",class:"mr-8px"}),$("span",Bn,P(e.$t("SSL.SiteSSL.index_12")),1)])])),_:1},512),[[G,"dns"===R(p).auth_type]]),w(D,{ref_key:"formRef",ref:v,model:R(p),rules:_,"label-width":"140"},{default:L((()=>[w(o,{label:e.$t("Config.Safe.Ssl.index_2")},{default:L((()=>[w(s,{value:R(p).auth_type,"onUpdate:value":a[0]||(a[0]=e=>R(p).auth_type=e)},{default:L((()=>[w(n,null,{default:L((()=>[w(i,{value:"http"},{default:L((()=>[E(P(e.$t("SSL.SiteSSL.index_17")),1)])),_:1}),w(i,{value:"dns"},{default:L((()=>[E(P(e.$t("SSL.index_12"))+" (Wildcard support) ",1)])),_:1})])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),X(w(o,{label:" ","show-feedback":!1},{default:L((()=>[w(d,{checked:R(p).dns_manual,"onUpdate:checked":a[1]||(a[1]=e=>R(p).dns_manual=e),"checked-value":1,"unchecked-value":0},{default:L((()=>[E(P(e.$t("SSL.index_2")),1)])),_:1},8,["checked"])])),_:1},512),[[G,"dns"===R(p).auth_type]]),X(w(o,{label:" "},{default:L((()=>[w(d,{checked:R(p).auto_wildcard,"onUpdate:checked":a[2]||(a[2]=e=>R(p).auto_wildcard=e),"checked-value":1,"unchecked-value":0},{default:L((()=>[E(P(e.$t("SSL.SiteSSL.index_20")),1)])),_:1},8,["checked"])])),_:1},512),[[G,"dns"===R(p).auth_type]]),w(o,{label:e.$t("Mail.Domain.index_3"),path:"domains"},{default:L((()=>[w(g,{show:R(N),class:"p-12px w-300px max-h-300px min-h-100px overflow-auto border border-solid border-#ccc"},{default:L((()=>[w(d,{class:"mb-12px",checked:R(p).all,"onUpdate:checked":a[3]||(a[3]=e=>R(p).all=e),label:e.$t("Public.SelectAll"),indeterminate:R(S)},null,8,["checked","label","indeterminate"]),R(x).length?(k(),I(c,{key:0,value:R(p).domains,"onUpdate:value":a[4]||(a[4]=e=>R(p).domains=e)},{default:L((()=>[w(r,{class:"flex-col!",size:12},{default:L((()=>[(k(!0),C(j,null,M(R(x),(e=>(k(),I(d,{key:e.name,value:e.name,label:e.name},null,8,["value","label"])))),128))])),_:1})])),_:1},8,["value"])):(k(),I(b,{key:1,description:"No domain name"}))])),_:1},8,["show"])])),_:1},8,["label"]),X(w(o,{label:" "},{default:L((()=>[w(l,{"show-icon":!1,type:R(U).length?"warning":"success"},{default:L((()=>[(k(!0),C(j,null,M(R(p).domains,(a=>(k(),I(r,{key:a},{default:L((()=>[f(a)?(k(),I(r,{key:0,class:"flex-nowrap! py-3px"},{default:L((()=>[w(t,{name:"base-success",size:"17",color:"#20a53a"}),$("span",jn,"["+P(a)+"] "+P(e.$t("SSL.SiteSSL.index_13")),1)])),_:2},1024)):(k(),I(r,{key:1,class:"flex-nowrap! py-3px"},{default:L((()=>[w(t,{name:"base-error",size:"17",color:"#E85445"}),$("span",Nn,"["+P(a)+"] "+P(e.$t("SSL.SiteSSL.index_14")),1),w(T,{type:"primary",size:"tiny",onClick:y},{default:L((()=>[E(P(e.$t("SSL.SiteSSL.index_21")),1)])),_:1})])),_:2},1024))])),_:2},1024)))),128))])),_:1},8,["type"])])),_:1},512),[[G,"dns"===R(p).auth_type&&R(p).domains.length&&!R(p).dns_manual]]),w(o,{label:" "},{default:L((()=>[w(T,{type:"primary",onClick:B},{default:L((()=>[E(P(e.$t("Public.Btn.Apply")),1)])),_:1})])),_:1})])),_:1},8,["model"]),X(w(O,{class:"mt-16px"},{default:L((()=>[$("li",Dn,P(e.$t("SSL.SiteSSL.index_15")),1),$("li",null,P(e.$t("Site.Cert.index_21")),1),$("li",null,P(e.$t("Site.Cert.index_23")),1),$("li",null,P(e.$t("Site.Cert.index_24")),1)])),_:1},512),[[G,"http"===R(p).auth_type]]),X(w(O,{class:"mt-24px"},{default:L((()=>[a[5]||(a[5]=$("li",null,"Manually resolved certificates do not support auto-renewal",-1)),$("li",null,P(e.$t("Site.Cert.index_25")),1),$("li",null,P(e.$t("Site.Cert.index_26")),1),$("li",null,P(e.$t("Site.Cert.index_27")),1),$("li",null,P(e.$t("Site.Cert.index_28")),1)])),_:1},512),[[G,"dns"===R(p).auth_type]])])}}}),On=S({__name:"index",props:{isOpen:{type:Boolean},type:{},onRefresh:{type:Function}},setup(e){const a=e,t=()=>{a.onRefresh()};return(e,l)=>(k(),C("div",null,[a.isOpen&&"Let's Encrypt"===a.type?(k(),I(En,{key:0,onUpdate:t})):(k(),I(In,{key:1}))]))}}),An=S({__name:"index",props:{onMenuChange:{type:Function}},setup(e,{expose:a}){const{data:t}=kt(),{t:i}=b(),s=T({p:1,limit:99999}),{columns:o,table:d}=te([{key:"domain",title:i("Site.Cert.index_29"),render:e=>w("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},wt({title:i("SSL.index_54"),width:140}),{key:"issuer",title:i("Site.Cert.index_30"),ellipsis:{tooltip:!0}},se({width:150,options:a=>[{label:i("Public.Btn.Deploy"),onClick:async()=>{try{await pe({hash:a.hash,domains:JSON.stringify([t.name]),append:1}),l.success(i("SSL.index_32")),setTimeout((()=>{e.onMenuChange()}),500)}catch(n){console.log(n)}}},{show:"Let's Encrypt"===a.provider,label:i("Public.Btn.Del"),onClick:()=>{(e=>{ke({title:i("Site.Cert.index_31"),content:i("Site.Cert.index_32"),onConfirm:async()=>{await ve({hash:e.hash}),c()}})})(a)}}]})]),{loading:r,setLoading:u}=le(!0),c=async()=>{try{u(!0);const{message:e}=await Ce(s);n(e)&&(d.data=e.data)}finally{u(!1)}};return c(),a({init:c}),(e,a)=>{const t=ie;return k(),C("div",null,[w(t,{loading:R(r),columns:R(o),data:R(d).data,"max-height":510},null,8,["loading","columns","data"])])}}}),Mn={class:"mr-12px"},Hn={key:0,class:"mr-12px"},zn={key:1,class:"mr-12px"},qn=S({__name:"index",setup(e,{expose:a}){const t=B((()=>i((()=>import("./ssl-log.js?v=1747989938512")),__vite__mapDeps([12,13,2,3,4,5,6,1,8,7,14])))),l=r(),{data:s}=kt(),{t:o}=b(),d=g("current"),u=g(""),c=ne(o("SSL.index_43")),p=g(rt.NotDeploy),_=g(""),m=g(!1),v=g(0),h=g(""),x=g(!1),f=async()=>{const{message:e}=await _e({hash:u.value});n(e)&&(c.data.path=e.result,c.show=!0)},y=e=>{T.value[0].data&&(T.value[0].data.loading=e)},S=async()=>{try{y(!0);const{message:t}=await yt({siteName:s.name});n(t)&&(p.value=t.type,m.value=t.status,v.value=Da(t,"cert_data.endtime",0),h.value=t.cert_data.issuer_O,x.value=(()=>{let e=!1;return v.value<=30&&(e=!0),p.value===rt.TestDeploy&&v.value<0&&(e=!0),p.value!==rt.SaveOrHolderDeploy&&p.value!==rt.NotDeploy||(e=!1),e})(),_.value=t.cert_data.dns.join(","),u.value=t.hash,a=t,T.value[0].data&&(T.value[0].data.info=a),e=x.value,T.value[0].data&&(T.value[0].data.isRenew=e))}catch(t){m.value=!1,x.value=!1}finally{y(!1)}var e,a},T=g([{key:"current",label:()=>w("div",null,[w("span",null,[E("Current Certs - ")]),w("span",{class:m.value?"text-#1d9534":"text-red-500"},[E("["),m.value?"Deployed":"Not Deployed",E("]")])]),data:{info:null,isRenew:!1,loading:!0,onRefresh:S},component:Y(ln)},{key:"business",label:o("Site.Cert.index_64"),component:Y(pn)},{key:"let",label:o("Site.Cert.index_65"),data:{isOpen:H((()=>m.value)),type:H((()=>h.value)),onRefresh:S},component:Y(On)},{key:"holder",label:o("Site.Cert.index_66"),component:Y(An),data:{onMenuChange:()=>{d.value="current",S(),l.setRefresh(!0)}}}]);return a({init:()=>{S()}}),(e,a)=>{const l=Na,i=Ja,n=lt,s=et;return k(),C("div",null,[R(m)?N("",!0):(k(),I(i,{key:0,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:L((()=>[$("span",Mn,P(e.$t("Site.Cert.index_41")),1),w(l,{size:"tiny",type:"primary",onClick:a[0]||(a[0]=e=>d.value="business")},{default:L((()=>[E(P(e.$t("Site.Cert.index_43")),1)])),_:1})])),_:1})),R(m)&&R(x)?(k(),I(i,{key:1,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:L((()=>[R(v)>0?(k(),C("span",Hn,P(e.$t("SSL.SiteSSL.index_26",[R(_),R(v)])),1)):(k(),C("span",zn,P(e.$t("SSL.SiteSSL.index_19",[R(_)])),1)),w(l,{size:"tiny",type:"primary",onClick:f},{default:L((()=>[E(P(e.$t("Site.Cert.index_53")),1)])),_:1})])),_:1})):N("",!0),w(n,{value:R(d),"onUpdate:value":a[1]||(a[1]=e=>U(d)?d.value=e:null),options:R(T)},null,8,["value","options"]),w(s,{show:R(c).show,"onUpdate:show":a[2]||(a[2]=e=>R(c).show=e),title:R(c).title,data:R(c).data,width:650,"min-height":450,component:R(t)},null,8,["show","title","data","component"])])}}}),Vn={class:"h-full"},Fn=S({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:a}=b(),t=r(),{siteName:l}=F(t),n=B((()=>i((()=>import("./index251.js?v=1747989938512")),__vite__mapDeps([26,16,3,4,6,1,2,5,7,8,17,18,9,27,10,11,22,23,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,13,14,44,45,46,47,48,49,50,51])))),s=e,{siteInfo:o,config:d}=s;l.value=s.siteInfo.name;const u=g();o&&f(gt,{data:o,config:d});const c=g("domain"),p=[{key:"domain",label:a("Site.Config.index_1"),component:Ut},{key:"subdirectory",label:a("Site.Config.index_3"),component:Bt},{key:"directory",label:a("Site.Config.index_4"),component:Wt},{key:"access",label:a("Site.Config.index_5"),component:ol},{key:"traffic",label:a("Site.Config.index_6"),component:yl},{key:"rewrite",label:a("Site.Config.index_7"),component:n},{key:"document",label:a("Site.Config.index_9"),component:bl},{key:"config",label:a("Site.Config.index_10"),component:kl},{key:"ssl",label:()=>w(j,null,[a("Site.Config.index_11")]),component:qn},{key:"php",label:a("Site.Config.index_12"),component:Al},{key:"wordpress",label:"Wordpress Setting",show:"WP"===(null==o?void 0:o.project_type),component:Vl},{key:"composer",label:a("Site.Config.index_20"),component:ti},{key:"redirect",label:a("Site.Config.index_21"),component:_i},{key:"proxy",label:a("Site.Config.index_23"),component:$i},{key:"hotlink",label:a("Site.Config.index_24"),component:Pi},{key:"logs",label:a("Site.Config.index_25"),component:Ni}];return c.value=d.menu||"domain",d.menu="",O((()=>{window.siteConfigInit=u.value.init})),(e,a)=>{const t=x;return k(),C("div",Vn,[w(t,{value:R(c),"onUpdate:value":a[0]||(a[0]=e=>U(c)?c.value=e:null),ref_key:"tabsRef",ref:u,data:p},null,8,["value"])])}}}),Kn=Object.freeze(Object.defineProperty({__proto__:null,default:Fn},Symbol.toStringTag,{value:"Module"}));export{Kn as i,kt as u};
