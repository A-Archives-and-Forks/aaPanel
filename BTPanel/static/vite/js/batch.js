import{_ as a}from"./index.vue_vue_type_script_setup_true_lang.js?v=1747989938512";import{cr as e,N as s,m as n}from"./page_layout.js?v=1747989938512";import{d as l}from"./public.js?v=1747989938512";import{g as o,o as t}from"./planned.js?v=1747989938512";import{d as r,O as i,r as u,R as d,S as p,P as m,a1 as _,U as c,V as v,aj as f}from"./vue.js?v=1747989938512";import{cp as j,cj as b}from"./naive.js?v=1747989938512";import"./common.js?v=1747989938512";import"./__commonjsHelpers__.js?v=1747989938512";const g={class:"p-20px"},x={class:"w-150px"},w=r({__name:"batch",props:{data:{}},setup(r,{expose:w}){const{t:y}=i(),h=r,{rows:C}=h.data,P=e(),N=u(null),O=u([]),{loading:R,setLoading:S}=l();(async()=>{try{S(!0);const{message:a}=await o();s(a)&&a.length>0?(O.value=a.map((a=>({label:a.name,value:a.id}))),N.value=a[0].id):(N.value=null,O.value=[])}finally{S(!1)}})();return w({onConfirm:async({hide:a})=>{await t((()=>{if(null===N.value)throw n.error(y("Crontab.Planned.index_28")),new Error(y("Crontab.Planned.index_28"));return{id:N.value,crontab_ids:JSON.stringify(C.map((a=>a.id)))}})()),P.setRefresh(!0),a()}}),(e,s)=>{const n=j,l=b,o=a;return d(),p("div",g,[m(o,null,{default:_((()=>[m(l,{label:e.$t("Crontab.Planned.index_27"),"show-feedback":!1},{default:_((()=>[c("div",x,[m(n,{value:v(N),"onUpdate:value":s[0]||(s[0]=a=>f(N)?N.value=a:null),loading:v(R),options:v(O)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1})])}}});export{w as default};
