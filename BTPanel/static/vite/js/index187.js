import{_ as e}from"./index104.js?v=1742891699271";import{_ as s}from"./index95.js?v=1742891699271";import{_ as a}from"./index99.js?v=1742891699271";import{ae as l,af as t}from"./mail.js?v=1742891699271";import{s as i}from"./index48.js?v=1742891699271";import{c as n,a as o}from"./public.js?v=1742891699271";import{m as r,k as u}from"./page_layout.js?v=1742891699271";import{bU as c,b$ as _,cq as p,T as d}from"./naive.js?v=1742891699271";import{d as m,O as v,r as f,e as x,R as b,S as j,V as y,a0 as w,a1 as C,P as $,U as h,a2 as S,ap as k,af as g,c as P}from"./vue.js?v=1742891699271";import"./index.js?v=1742891699271";import"./common.js?v=1742891699271";import"./__commonjsHelpers__.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1742891699271";const D={class:"cert-info"},U={class:"cert-label"},M={class:"cert-value"},z={class:"cert-info"},B={class:"cert-label"},L={class:"cert-value"},R={class:"cert-info mt-10px"},q={class:"cert-label mr-10px"},H={class:"w-48%"},I={class:"mb-8px"},O={class:"w-48%"},T={class:"mb-8px"},V=u(m({__name:"index",props:{row:{}},emits:["close","refresh"],setup(e,{emit:u}){const m=e,V=u,{row:A}=m,{t:E}=v(),F=f(A.ssl_info.key||""),G=f(A.ssl_info.src||""),J=x((()=>(A.ssl_info.dns||[]).join(", "))),K=async()=>{""!==F.value&&""!==G.value?(await l({domain:A.domain,key:F.value,csr:G.value}),V("refresh"),V("close")):r.error(E("Mail.Domain.index_31"))},N=()=>{o({title:E("Mail.Domain.index_32"),content:E("Mail.Domain.index_33"),onConfirm:async()=>{await t({domain:A.domain,key:F.value,csr:G.value}),V("refresh"),V("close")}})},{loading:Q,setLoading:W}=n(),X=async e=>{try{W(!0),await i({domain:A.domain,open:e}),A.ssl_alarm=e}catch(s){A.ssl_alarm=1===e?0:1}finally{W(!1)}};return(e,l)=>{const t=c,i=_,n=p,o=a,r=d,u=s;return b(),j("div",null,[y(A).ssl_status?(b(),w(n,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:C((()=>[$(t,{class:"items-center"},{default:C((()=>[h("div",D,[h("span",U,S(e.$t("Site.Cert.index_30"))+S(e.$t("Public.Punctuation.Colon")),1),h("span",M,S(y(A).ssl_info.issuer),1)]),h("div",z,[h("span",B,S(e.$t("Site.Cert.index_46"))+S(e.$t("Public.Punctuation.Colon")),1),h("span",L,S(y(J)),1)])])),_:1}),h("div",R,[h("span",q,S(e.$t("SSL.Domain.index_26")),1),$(i,{size:"small",loading:y(Q),"rubber-band":!1,value:y(A).ssl_alarm,"onUpdate:value":X,"checked-value":1,"unchecked-value":0},null,8,["loading","value"])])])),_:1})):k("",!0),$(t,{class:"mb-16px",size:10,justify:"space-between"},{default:C((()=>[h("div",H,[h("div",I,S(e.$t("Site.Cert.index_50")),1),$(o,{value:y(F),"onUpdate:value":l[0]||(l[0]=e=>g(F)?F.value=e:null),rows:10},null,8,["value"])]),h("div",O,[h("div",T,S(e.$t("Site.Cert.index_51")),1),$(o,{value:y(G),"onUpdate:value":l[1]||(l[1]=e=>g(G)?G.value=e:null),rows:10},null,8,["value"])])])),_:1}),$(t,{class:"mb-12px"},{default:C((()=>[$(r,{type:"primary",onClick:K},{default:C((()=>[P(S(e.$t("Public.Btn.Save")),1)])),_:1}),$(r,{onClick:N},{default:C((()=>[P(S(e.$t("Public.Btn.Delete")),1)])),_:1})])),_:1}),$(u,null,{default:C((()=>[h("li",null,S(e.$t("Site.Cert.index_33")),1),h("li",null,S(e.$t("Site.Cert.index_34")),1),h("li",null,S(e.$t("Site.Cert.index_35")),1),h("li",null,S(e.$t("Site.Cert.index_36")),1)])),_:1})])}}}),[["__scopeId","data-v-ec749ad6"]]),A={class:"h-full p-16px"},E=m({__name:"index",props:{row:{}},emits:["close","refresh"],setup(s,{emit:a}){const l=s,t=a,{row:i}=l,{t:n}=v(),o={row:i,onClose:()=>{t("close")},onRefresh:()=>{t("refresh")}},r=f("other"),u=[{key:"other",label:n("Mail.Domain.index_30"),component:V}];return(s,a)=>{const l=e;return b(),j("div",A,[$(l,{value:y(r),"onUpdate:value":a[0]||(a[0]=e=>g(r)?r.value=e:null),data:o,options:u},null,8,["value"])])}}});export{E as default};
