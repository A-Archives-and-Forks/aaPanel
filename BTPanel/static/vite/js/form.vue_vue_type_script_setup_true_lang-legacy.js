System.register(["./index-legacy95.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1741416570306","./vue-legacy.js?v=1741416570306","./page_layout-legacy.js?v=1741416570306","./index-legacy240.js?v=1741416570306","./naive-legacy.js?v=1741416570306"],(function(e,a){"use strict";var t,s,l,o,d,r,p,n,u,_,b,i,c,v,x,h,m,g,w,f,D,$,y,j,q,k;return{setters:[e=>{t=e._},e=>{s=e._},e=>{l=e.d,o=e.M,d=e.Y,r=e.r,p=e.j,n=e.P,u=e.Q,_=e.N,b=e.$,i=e.R,c=e.S,v=e._,x=e.ao,h=e.a0,m=e.a7},e=>{g=e.aA,w=e.d8,f=e.cc,D=e.d9,$=e.da},e=>{y=e.v},e=>{j=e._,q=e.cb,k=e.bS}],execute:function(){const a={class:"p-20px"},U={class:"w-260px"},E={class:"w-260px"},R={class:"w-260px"},S={class:"w-260px"},C={class:"w-260px"},M={key:0};e("_",l({__name:"form",props:{data:{}},setup(e,{expose:l}){const{t:N}=o(),A=e,{row:P,isEdit:Q}=A.data,Y=g(),{type:z}=d(Y),B=r(null),F=p({db_host:"",db_port:null,db_user:"root",db_password:"",db_ps:""}),G={db_host:{trigger:["blur","change"],validator:(e,a)=>""===a?new Error(N("Database.tools.index_53")):!(!w(a)&&!f(a))||new Error(N("Database.tools.index_54"))},db_port:y(),db_user:{required:!0,message:N("Database.tools.index_55"),trigger:["blur","change"]},db_password:{required:!0,message:N("Database.tools.index_56"),trigger:["blur","change"]}},H=e=>{F.db_ps=e},I=new Map([["mysql",{port:3306,username:"root"}],["sqlserver",{port:1433,username:"sa"}],["redis",{port:6379,username:"root"}],["mongodb",{port:27017,username:"root"}],["pgsql",{port:5432,username:"postgres"}]]);return(()=>{if(Q&&P)F.db_host=`${P.db_host}`,F.db_port=P.db_port,F.db_user=`${P.db_user}`,F.db_password=`${P.db_password}`,F.db_ps=`${P.ps}`;else{const e=I.get(z.value);e&&(F.db_port=e.port,F.db_user=e.username)}})(),l({onConfirm:async({hide:e})=>{await(B.value?.validate());const a=(()=>{const{db_port:e}=F;if(null===e)throw new Error(N("Database.tools.index_57"));return{...m(F),db_port:e,type:z.value}})();Q&&P&&await D(z.value,{id:P.id,...a}),Q||await $(z.value,a),Y.getRemote(),e()}}),(e,l)=>{const o=j,d=q,r=k,p=s,m=t;return n(),u("div",a,[_(p,{ref_key:"formRef",ref:B,model:c(F),rules:G},{default:b((()=>[_(d,{label:e.$t("Database.tools.index_42"),path:"db_host"},{default:b((()=>[i("div",U,[_(o,{value:c(F).db_host,"onUpdate:value":[l[0]||(l[0]=e=>c(F).db_host=e),H],placeholder:e.$t("Database.tools.index_43"),"input-props":{name:"host"}},null,8,["value","placeholder"])])])),_:1},8,["label"]),_(d,{label:e.$t("Docker.Container.create.index_7"),path:"db_port"},{default:b((()=>[i("div",E,[_(r,{value:c(F).db_port,"onUpdate:value":l[1]||(l[1]=e=>c(F).db_port=e),min:1,max:65535,"show-button":!1,"input-props":{name:"port"},placeholder:e.$t("Database.tools.index_44")},null,8,["value","placeholder"])])])),_:1},8,["label"]),"redis"!==c(z)?(n(),v(d,{key:0,label:e.$t("Database.index_13"),path:"db_user"},{default:b((()=>[i("div",R,[_(o,{value:c(F).db_user,"onUpdate:value":l[2]||(l[2]=e=>c(F).db_user=e),placeholder:e.$t("Database.tools.index_45"),"input-props":{name:"username"}},null,8,["value","placeholder"])])])),_:1},8,["label"])):x("",!0),_(d,{label:e.$t("Database.index_14"),path:"db_password"},{default:b((()=>[i("div",S,[_(o,{value:c(F).db_password,"onUpdate:value":l[3]||(l[3]=e=>c(F).db_password=e),placeholder:e.$t("Database.tools.index_46"),"input-props":{name:"password"}},null,8,["value","placeholder"])])])),_:1},8,["label"]),_(d,{label:"Notes",path:"db_ps","show-feedback":!1},{default:b((()=>[i("div",C,[_(o,{value:c(F).db_ps,"onUpdate:value":l[4]||(l[4]=e=>c(F).db_ps=e),placeholder:e.$t("Database.tools.index_48"),"input-props":{name:"ps"}},null,8,["value","placeholder"])])])),_:1})])),_:1},8,["model"]),_(m,{class:"mt-24px"},{default:b((()=>["mysql"===c(z)?(n(),u("li",M,h(e.$t("Database.tools.index_49")),1)):x("",!0),i("li",null,h(e.$t("Database.tools.index_50")),1),i("li",null,h(e.$t("Database.tools.index_51")),1),i("li",null,h(e.$t("Database.tools.index_52")),1)])),_:1})])}}}))}}}));
