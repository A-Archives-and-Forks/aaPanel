const __vite__fileDeps=["js/index122.js?v=1721298337096","js/index.js?v=1721298337096","js/vue.js?v=1721298337096","js/pinia.js?v=1721298337096","css/index34.css?v=1721298337096","css/index28.css?v=1721298337096"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{M as a,g as t,h as e,j as s,k as i,m as l,q as n,r as o,v as r}from"./index.js?v=1721298337096";import{_ as m}from"./index.vue_vue_type_script_setup_true_lang.js?v=1721298337096";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1721298337096";import{u,_ as d}from"./useTableData.js?v=1721298337096";import{b as _}from"./useTableColumns.js?v=1721298337096";import{m as c,l as h,n as f}from"./mail.js?v=1721298337096";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1721298337096";import{l as g,ad as x,r as w,f as b,P as y,q as E,x as k,S as v,U as M,V as C,a3 as T,W as D,a1 as L}from"./vue.js?v=1721298337096";import{_ as P}from"./InputGroupLabel.js?v=1721298337096";import{_ as R}from"./InputGroup.js?v=1721298337096";import"./pinia.js?v=1721298337096";import"./DataTable.js?v=1721298337096";import"./Checkbox.js?v=1721298337096";import"./Ellipsis.js?v=1721298337096";import"./Select.js?v=1721298337096";import"./Tag.js?v=1721298337096";import"./Empty.js?v=1721298337096";import"./omit.js?v=1721298337096";import"./Skeleton.js?v=1721298337096";import"./Progress.js?v=1721298337096";const U=g({__name:"index",setup(g){const U=L((()=>r((()=>import("./index122.js?v=1721298337096")),__vite__mapDeps([0,1,2,3,4,5])))),{t:W}=x(),I=w(),S=b({p:1,username:null}),{table:q,columns:G}=u([{key:"from",title:W("Mail.Email.index_2"),width:"25%",minWidth:140,ellipsis:{tooltip:!0}},{key:"theme",title:W("Mail.Email.index_3"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:a=>{const t=a.html.replace(/[^\u4e00-\u9fa5]/g,"");return y("span",{class:"cursor-pointer",onClick:()=>{A(a)}},[y("a",{class:"bt-link"},[a.subject]),y("span",{class:"text-desc"},[E(" - "),t||a.body])])}},{key:"time",title:W("Mail.Email.index_4"),width:"12%",minWidth:140,render:t=>a(t.time)},_({width:150,options:a=>[{label:W("Mail.Email.index_5"),onClick:()=>{A(a)}},{label:W("Mail.Email.index_6"),onClick:()=>{B(a)}},{label:W("Public.Btn.Del"),onClick:()=>{O(a)}}]})]),V=t(),A=a=>{V.data.row=a,V.title=W("Mail.Email.index_7",[a.subject]),V.show=!0},B=a=>{e({title:W("Mail.Email.index_8"),content:W("Mail.Email.index_9"),onConfirm:async()=>{await c({path:a.path,username:S.username||""}),$()}})},O=async a=>{await h({path:a.path}),$()},$=async()=>{try{q.loading=!0;const{message:a}=await f({p:S.p,username:S.username||""});s(a)&&(q.data=i(a.data)?a.data:[],q.total=l(a.page))}finally{q.loading=!1}},z=()=>{S.p=1,$()};return k((async()=>{await I.value.getList()})),(a,t)=>{const e=P,s=R,i=d,l=p,r=m,u=n,_=o;return v(),M(_,{class:"p-16px"},{default:C((()=>[y(r,null,{toolsLeft:C((()=>[y(s,{class:"w-460px"},{default:C((()=>[y(e,null,{default:C((()=>[E(T(a.$t("Mail.Email.index_1")),1)])),_:1}),y(j,{ref_key:"senderRef",ref:I,value:D(S).username,"onUpdate:value":[t[0]||(t[0]=a=>D(S).username=a),z]},null,8,["value"])])),_:1})])),table:C((()=>[y(i,{loading:D(q).loading,data:D(q).data,columns:D(G)},null,8,["loading","data","columns"])])),pageRight:C((()=>[y(l,{page:D(S).p,"onUpdate:page":t[1]||(t[1]=a=>D(S).p=a),"item-count":D(q).total,onRefresh:$},null,8,["page","item-count"])])),_:1}),y(u,{show:D(V).show,"onUpdate:show":t[2]||(t[2]=a=>D(V).show=a),title:D(V).title,data:D(V).data,width:850,height:680,component:D(U)},null,8,["show","title","data","component"])])),_:1})}}});export{U as default};
