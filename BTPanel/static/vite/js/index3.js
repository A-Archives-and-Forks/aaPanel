import{_ as a}from"./index100.js?v=1742891699271";import{d as t,_ as e,j as n,e as s,f as i,R as o,a0 as r,a1 as c,V as l,c as p,a2 as u,P as m,U as d,ap as _}from"./vue.js?v=1742891699271";import{a4 as f,a5 as y,b as g,a6 as x,a7 as v}from"./page_layout.js?v=1742891699271";import{T as j,bZ as w,cq as b}from"./naive.js?v=1742891699271";import"./index101.js?v=1742891699271";import"./public.js?v=1742891699271";import"./common.js?v=1742891699271";import"./__commonjsHelpers__.js?v=1742891699271";const A=["innerHTML"],$=t({__name:"index",setup(t){const{getUpdateVersion:$,getInfo:k}=f(),{version:I,newVersionInfo:V,hasNewVersion:H,isInstall:M}=e(f());function S(a){return parseInt(a.replace(/\./g,""))}const T=n({open:!0,limit_addr:""}),U=s((()=>T.open&&T.limit_addr.includes("127.0.0.1")));async function h(){const{message:a}=await y();g(a)&&(T.open=a.open,T.limit_addr=a.limit_addr)}async function C(){if(!M.value)return;await $();const a=S(V.value.version),t=S(I.value);H.value=a>t}async function L(){await x(),await k(),C()}const P=async()=>{T.open||await v({t_type:2}),await v({t_type:3,limit_addr:T.limit_addr+"\n127.0.0.1"}),h()};return i((()=>{C(),h()})),(t,e)=>{const n=j,s=w,i=b,f=a;return o(),r(f,null,{"public-exam":c((()=>[l(M)&&l(H)?(o(),r(i,{key:0,type:"warning",class:"mb-16px"},{default:c((()=>[p(u(t.$t("Account.Settings.index_17",[l(V).version]))+" "+u(t.$t("Account.Settings.index_19"))+u(l(V).uptime)+" ",1),m(n,{type:"primary",onClick:L,class:"ml-6"},{default:c((()=>[p(u(t.$t("Public.Btn.Update")),1)])),_:1}),m(s,{placement:"bottom",trigger:"hover"},{trigger:c((()=>[m(n,{size:"small",text:"",type:"primary",class:"ml-6"},{default:c((()=>[p(u(t.$t("Account.Settings.index_20")),1)])),_:1})])),default:c((()=>[d("div",{class:"large-text",innerHTML:l(V).updateMsg},null,8,A)])),_:1})])),_:1})):_("",!0),!l(U)&&l(M)?(o(),r(i,{key:1,type:"warning",class:"mb-16px"},{default:c((()=>[d("span",null,u(t.$t("Account.Account.account_533924-11")),1),m(n,{type:"primary",onClick:P,class:"ml-6"},{default:c((()=>[p(u(t.$t("Account.Account.account_533924-12")),1)])),_:1})])),_:1})):_("",!0)])),_:1})}}});export{$ as default};
