import{_ as t}from"./index100.js?v=1741416570306";import{d as a,Y as e,j as n,e as s,f as i,P as o,_ as r,$ as c,S as l,c as p,a0 as u,N as m,R as d,ao as _}from"./vue.js?v=1741416570306";import{a2 as f,b as g,a3 as y}from"./page_layout.js?v=1741416570306";import{g as x,b as j}from"./global.js?v=1741416570306";import{T as v,bT as b,ck as w}from"./naive.js?v=1741416570306";import"./index101.js?v=1741416570306";import"./public.js?v=1741416570306";import"./common.js?v=1741416570306";import"./__commonjsHelpers__.js?v=1741416570306";const A=["innerHTML"],$=a({__name:"index",setup(a){const{getUpdateVersion:$,getInfo:k}=f(),{version:I,newVersionInfo:S,hasNewVersion:T,isInstall:H}=e(f());function M(t){return parseInt(t.replace(/\./g,""))}const V=n({open:!0,limit_addr:""}),h=s((()=>V.open&&V.limit_addr.includes("127.0.0.1")));async function C(){const{message:t}=await x();g(t)&&(V.open=t.open,V.limit_addr=t.limit_addr)}async function L(){if(!H.value)return;await $();const t=M(S.value.version),a=M(I.value);T.value=t>a}async function N(){await y(),await k(),L()}const P=async()=>{V.open||await j({t_type:2}),await j({t_type:3,limit_addr:V.limit_addr+"\n127.0.0.1"}),C()};return i((()=>{L(),C()})),(a,e)=>{const n=v,s=b,i=w,f=t;return o(),r(f,null,{"public-exam":c((()=>[l(H)&&l(T)?(o(),r(i,{key:0,type:"warning",class:"mb-16px"},{default:c((()=>[p(u(a.$t("Account.Settings.index_17",[l(S).version]))+" "+u(a.$t("Account.Settings.index_19"))+u(l(S).uptime)+" ",1),m(n,{type:"primary",onClick:N,class:"ml-6"},{default:c((()=>[p(u(a.$t("Public.Btn.Update")),1)])),_:1}),m(s,{placement:"bottom",trigger:"hover"},{trigger:c((()=>[m(n,{size:"small",text:"",type:"primary",class:"ml-6"},{default:c((()=>[p(u(a.$t("Account.Settings.index_20")),1)])),_:1})])),default:c((()=>[d("div",{class:"large-text",innerHTML:l(S).updateMsg},null,8,A)])),_:1})])),_:1})):_("",!0),!l(h)&&l(H)?(o(),r(i,{key:1,type:"warning",class:"mb-16px"},{default:c((()=>[d("span",null,u(a.$t("Account.Account.account_533924-11")),1),m(n,{type:"primary",onClick:P,class:"ml-6"},{default:c((()=>[p(u(a.$t("Account.Account.account_533924-12")),1)])),_:1})])),_:1})):_("",!0)])),_:1})}}});export{$ as default};
