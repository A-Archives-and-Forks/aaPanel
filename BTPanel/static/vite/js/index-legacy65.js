System.register(["./index-legacy104.js?v=1744703330658","./page_layout-legacy.js?v=1744703330658","./index-legacy.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1744703330658","./public-legacy.js?v=1744703330658","./ssl-legacy.js?v=1744703330658","./transition-legacy.js?v=1744703330658","./naive-legacy.js?v=1744703330658","./vue-legacy.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1744703330658","./common-legacy.js?v=1744703330658","./__commonjsHelpers__-legacy.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1744703330658"],(function(e,a){"use strict";var t,l,n,i,o,s,d,u,c,r,p,m,_,g,h,v,y,x,w,f,S,b,k,L,D,C,j,U,z,P,R,T,$,E,M,B,V,F,H,I,N,q,O,W,Y,Z,A,G,J,K,Q,X,ee,ae,te,le,ne,ie,oe,se,de,ue,ce,re,pe,me,_e,ge;return{setters:[e=>{t=e._},e=>{l=e.d,n=e.a,i=e._,o=e.k,s=e.j,d=e.u},e=>{u=e._},e=>{c=e._},e=>{r=e._},e=>{p=e._},e=>{m=e.d,_=e.b,g=e.f,h=e.a},e=>{v=e.e,y=e.d,x=e.a,w=e.b,f=e.c,S=e.f,b=e.h,k=e.i},e=>{L=e.h,D=e.a,C=e.m,j=e.r,U=e.b,z=e.d,P=e.l,R=e.c,T=e.e,$=e.g,E=e.u,M=e.f,B=e.T},e=>{V=e.b$,F=e.cq,H=e.T,I=e.cn,N=e.cp,q=e.bU,O=e.bZ,W=e.ck},e=>{Y=e.d,Z=e.O,A=e.j,G=e.r,J=e.P,K=e.f,Q=e.o,X=e.R,ee=e.S,ae=e.a0,te=e.V,le=e.U,ne=e.c,ie=e.a1,oe=e.Y,se=e.ar,de=e.as,ue=e.$,ce=e.u,re=e.af,pe=e.ap,me=e.F,_e=e._},e=>{ge=e._},null,null,null],execute:function(){var he=document.createElement("style");he.textContent=".select-box[data-v-3257b060]{margin-bottom:16px;padding:8px;flex-direction:column!important;border-radius:4px;border:1px solid #dddddd}\n",document.head.appendChild(he);const ve={class:"flex items-center"},ye=Y({__name:"index",setup(e){const t=oe((()=>n((()=>a.import("./form-legacy7.js?v=1744703330658")),void 0))),o=oe((()=>n((()=>a.import("./ssl-log-legacy.js?v=1744703330658")),void 0))),{t:s}=Z(),d=A({p:1,limit:10}),w=m("",{isEdit:!1,onRefresh:()=>{R()}}),f=m(s("SSL.Domain.index_5")),S=()=>{w.data.isEdit=!1,w.title=s("SSL.Domain.index_4"),w.show=!0},b=G(!1),{table:k,columns:U}=_([{key:"alias",title:s("Config.Panel.index_36"),render:e=>e.alias?J("span",{class:"bt-link",onClick:()=>{L.value=e.id,D.value=e.name,C.value="manage"}},[e.alias]):"--"},{key:"api_user",title:s("Home.index_2"),render:e=>e.api_user?e.api_user:"--"},j((e=>{f.data.path=e,f.show=!0})),{key:"status",title:s("Public.Table.Status"),render:e=>J(V,{uncheckedValue:0,checkedValue:1,value:e.status,"onUpdate:value":[a=>e.status=a,async a=>{try{await v({id:e.id,status:a})}catch{e.status=1===a?0:1}}]},null)},{key:"permission",title:s("Database.index_21"),align:"center",render:e=>e.permission?e.permission:"--"},{key:"domains",title:s("Layout.Sider.domain_1"),align:"center",render:e=>e.domains.length},g({width:250,options:e=>[{label:s("SSL.Domain.index_7"),onClick:()=>{L.value=e.id,D.value=e.name,C.value="manage"}},{label:s("Public.Btn.Edit"),onClick:()=>{z(e)}},{label:s("Public.Btn.Del"),onClick:()=>{h({title:s("SSL.Domain.index_8"),content:s("SSL.Domain.index_9"),onConfirm:async()=>{await y({id:e.id}),R()}})}}]})]),z=e=>{w.data.isEdit=!0,w.data.row=e,w.title=s("SSL.Domain.index_10"),w.show=!0};let P=null;const R=async()=>{try{b.value||(k.loading=!0);const{message:e}=await x(d);l(e)&&(b.value=e.data.some((e=>e.task.some((e=>100!==e.task_status)))),b.value?T():P&&clearTimeout(P),k.data=e.data,k.total=e.total)}finally{k.loading=!1}},T=async()=>{P=window.setTimeout((()=>{R()}),5e3)};return K((()=>{R()})),Q((()=>{P&&clearTimeout(P)})),(e,a)=>{const l=i,n=F,s=H,m=p,_=r,g=c,h=u;return X(),ee("div",null,[J(n,{"show-icon":!1,class:"mb-10px"},{default:ae((()=>[le("div",ve,[J(l,{name:"base-info",size:17,class:"mr-8px"}),a[4]||(a[4]=le("span",{class:"leading-17px"},"aaPanel Domain Name Management Center, allowing you to unify accounts across multiple domain providers without switching DNS platforms",-1))])])),_:1}),J(g,null,{toolsLeft:ae((()=>[J(s,{type:"primary",onClick:S},{default:ae((()=>[ne(ie(e.$t("SSL.Domain.index_4")),1)])),_:1})])),table:ae((()=>[J(m,{loading:te(k).loading,data:te(k).data,columns:te(U)},null,8,["loading","data","columns"])])),pageRight:ae((()=>[J(_,{page:te(d).p,"onUpdate:page":a[0]||(a[0]=e=>te(d).p=e),"page-size":te(d).limit,"onUpdate:pageSize":a[1]||(a[1]=e=>te(d).limit=e),"item-count":te(k).total,onRefresh:R},null,8,["page","page-size","item-count"])])),_:1}),J(h,{show:te(w).show,"onUpdate:show":a[2]||(a[2]=e=>te(w).show=e),title:te(w).title,data:te(w).data,width:540,"min-height":300,footer:!0,component:te(t)},null,8,["show","title","data","component"]),J(h,{show:te(f).show,"onUpdate:show":a[3]||(a[3]=e=>te(f).show=e),title:te(f).title,data:te(f).data,width:700,height:450,footer:!1,component:te(o)},null,8,["show","title","data","component"])])}}}),xe=Y({__name:"host-select",props:{value:{},valueModifiers:{}},emits:se(["change"],["update:value"]),setup(e,{emit:a}){const t=de(e,"value"),l=a,n=(e,a)=>{l("change",e,a.label)},i=e=>e.label+" ("+e.alias+")";return(e,a)=>{const l=I;return X(),ue(l,ce({class:"w-300px"},e.$attrs,{filterable:"",value:t.value,"onUpdate:value":[a[0]||(a[0]=e=>t.value=e),n],options:te(U),"consistent-menu-width":!1,"render-label":i}),null,16,["value","options"])}}}),we=Y({__name:"domain-select",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const a=de(e,"value"),{t:t}=Z(),l=e=>J(q,{class:"items-center justify-between!"},{default:()=>[J("span",{class:"w-225px truncate"},[t("Mail.Mass.index_45"),ne("ï¼š"),e.label]),e.ssl_info&&-1!==e.ssl_info?J(N,{type:e.ssl_info>30?"success":e.ssl_info>0?"warning":"error",class:"px-10px"},{default:()=>[e.ssl_info?e.ssl_info+" "+t("Crontab.arrange.index_41"):t("Config.Safe.index_166")]}):""]});return(e,t)=>{const n=I;return X(),ue(n,ce(e.$attrs,{class:"w-350px",size:"large",filterable:"",value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),options:te(z),"consistent-menu-width":!1,loading:te(P),disabled:!te(z).length,"render-label":l}),null,16,["value","options","loading","disabled"])}}}),fe=o(Y({__name:"domain",emits:["change"],setup(e,{emit:t}){const o=oe((()=>n((()=>a.import("./domain-form-legacy.js?v=1744703330658")),void 0))),s=t,{t:d}=Z(),v=A({p:1,limit:10,domain:R,search:""}),y=m("",{isEdit:!1,onRefresh:()=>{E()}}),x=()=>{y.data.isEdit=!1,y.title=d("SSL.Domain.index_17"),y.show=!0},b=()=>{s("change"),T.value=!1},k=()=>{v.p=1,E()},C=async()=>{E()},j=async(e,a)=>{D.value=a,L.value=e,R.value="",v.p=1,await $(),E()},{table:U,columns:z}=_([{key:"record",title:d("SSL.Domain.index_11"),width:"20%"},{key:"record_type",title:d("Ftp.Table.index_3"),width:"10%"},{key:"record_value",title:d("SSL.Domain.index_13"),width:"20%",ellipsis:{tooltip:!0}},{key:"ttl",title:"TTL",width:100,render:e=>1===e.ttl?d("Mail.Mass.index_34"):e.ttl},{key:"proxy",title:d("SSL.Domain.index_16"),render:e=>-1===e.proxy?"--":J(V,{"checked-value":1,"unchecked-value":0,value:e.proxy,"onUpdate:value":[a=>e.proxy=a,async a=>{const t={id:e.id,pid:L.value,domain:R.value,record:e.record,record_type:e.record_type,record_value:e.record_value,ttl:e.ttl,proxy:a,ps:e.ps};try{await w(t)}catch{e.proxy=1===a?0:1}}]},null)},{key:"ps",title:d("Public.Table.Ps")},g({width:150,options:e=>[{label:d("Public.Btn.Edit"),onClick:()=>{P(e)}},{label:d("Public.Btn.Del"),onClick:()=>{h({title:d("SSL.Domain.index_19"),content:d("SSL.Domain.index_20"),onConfirm:async()=>{await f({id:e.id}),E(),s("change")}})}}]})]),P=e=>{y.data.isEdit=!0,y.data.row=e,y.title=d("SSL.Domain.index_21"),y.show=!0},E=async()=>{try{if(""===R.value)return void(U.data=[]);U.loading=!0;const{message:e}=await S({...v,search_pid:L.value});l(e)&&(U.data=e.data,U.total=e.total)}finally{U.loading=!1}};return(async()=>{await $(),await E()})(),(e,a)=>{const t=i,l=H,n=O,s=q,d=ge,m=p,_=r,g=c,h=u;return X(),ee("div",null,[J(s,{class:"select-box"},{default:ae((()=>[J(xe,{value:te(L),"onUpdate:value":a[0]||(a[0]=e=>re(L)?L.value=e:null),onChange:j},null,8,["value"]),J(s,null,{default:ae((()=>[J(we,{value:te(v).domain,"onUpdate:value":[a[1]||(a[1]=e=>te(v).domain=e),k]},null,8,["value"]),J(n,{trigger:"hover"},{trigger:ae((()=>[J(l,{onClick:C,class:"h-40px w-40px"},{default:ae((()=>[J(t,{name:"base-refresh"})])),_:1})])),default:ae((()=>[le("span",null,ie(e.$t("SSL.Domain.index_22")),1)])),_:1})])),_:1})])),_:1}),J(g,null,{toolsLeft:ae((()=>[J(l,{type:"primary",onClick:x},{default:ae((()=>[ne(ie(e.$t("SSL.Domain.index_17")),1)])),_:1}),J(l,{onClick:b},{default:ae((()=>[ne(ie(e.$t("SSL.Domain.index_18")),1)])),_:1})])),toolsRight:ae((()=>[J(d,{value:te(v).search,"onUpdate:value":a[2]||(a[2]=e=>te(v).search=e),onSearch:k},null,8,["value"])])),table:ae((()=>[J(m,{loading:te(U).loading,data:te(U).data,columns:te(z)},null,8,["loading","data","columns"])])),pageRight:ae((()=>[J(_,{page:te(v).p,"onUpdate:page":a[3]||(a[3]=e=>te(v).p=e),"page-size":te(v).limit,"onUpdate:pageSize":a[4]||(a[4]=e=>te(v).limit=e),"item-count":te(U).total,onRefresh:E},null,8,["page","page-size","item-count"])])),_:1}),J(h,{show:te(y).show,"onUpdate:show":a[5]||(a[5]=e=>te(y).show=e),title:te(y).title,data:te(y).data,width:540,"min-height":300,footer:!0,component:te(o)},null,8,["show","title","data","component"])])}}}),[["__scopeId","data-v-3257b060"]]),Se=Y({__name:"index",setup(e){const t=oe((()=>n((()=>a.import("./ssl-log-legacy.js?v=1744703330658")),void 0))),{t:i}=Z(),o=A({p:1,limit:10,domain:"",id:L}),d=async()=>{await k({id:o.id}),S(),h.show=!0},h=m(i("SSL.Domain.index_23"),{path:"/www/server/panel/logs/dns_sync.log"}),v=e=>{R.value=e,T.value=!0},y=(e,a)=>{D.value=a,L.value=e,o.p=1,S()},x=()=>{o.p=1,S()},{table:w,columns:f}=_([{key:"name",title:i("Mail.Mass.index_45"),render:e=>J(s,{onClick:()=>v(e.name)},{default:()=>[e.name]})},E({key:"ssl_info.end_time",title:"SSL Days"}),{key:"ssl_info.end_date",title:"SSL Expiration Time",render:e=>e.ssl_info.end_date?e.ssl_info.end_date:"--"},{key:"records",title:i("SSL.Domain.index_24"),align:"center"},g({width:150,options:e=>[{label:i("SSL.index_58"),onClick:()=>{v(e.name)}}]})]),S=async()=>{if(L.value)try{w.loading=!0;const{message:e}=await b(o);l(e)&&(e.data.length>0?(w.data=e.data,w.total=e.total):(w.data=[],w.total=0))}finally{w.loading=!1}};return K((async()=>{await M(),S()})),(e,a)=>{const l=H,n=ge,i=p,s=r,m=c,_=u;return X(),ee(me,null,[te(T)?pe("",!0):(X(),ue(m,{key:0},{toolsLeft:ae((()=>[J(xe,{value:te(o).id,"onUpdate:value":a[0]||(a[0]=e=>te(o).id=e),onChange:y},null,8,["value"]),J(l,{onClick:d,type:"primary",ghost:""},{default:ae((()=>[ne(ie(e.$t("SSL.Domain.index_22")),1)])),_:1}),J(l,{onClick:a[1]||(a[1]=e=>te(h).show=!0)},{default:ae((()=>[ne(ie(e.$t("SSL.Domain.index_23")),1)])),_:1})])),toolsRight:ae((()=>[J(n,{value:te(o).domain,"onUpdate:value":a[2]||(a[2]=e=>te(o).domain=e),onSearch:x,placeholder:e.$t("WP.index_4")},null,8,["value","placeholder"])])),table:ae((()=>[J(i,{loading:te(w).loading,data:te(w).data,columns:te(f)},null,8,["loading","data","columns"])])),pageRight:ae((()=>[J(s,{page:te(o).p,"onUpdate:page":a[3]||(a[3]=e=>te(o).p=e),"page-size":te(o).limit,"onUpdate:pageSize":a[4]||(a[4]=e=>te(o).limit=e),"item-count":te(w).total,onRefresh:S},null,8,["page","page-size","item-count"])])),_:1})),te(T)?(X(),ue(fe,{key:1,onChange:S})):pe("",!0),J(_,{show:te(h).show,"onUpdate:show":a[5]||(a[5]=e=>te(h).show=e),title:te(h).title,data:te(h).data,width:650,"min-height":450,component:te(t)},null,8,["show","title","data","component"])],64)}}});e("default",Y({__name:"index",setup(e){const a=d(),{userInfo:l}=_e(a),{t:n}=Z(),i=[{key:"host",label:n("SSL.Domain.index_27"),component:ye},{key:"manage",label:n("SSL.Domain.index_7"),component:Se}],o=e=>{"host"===e&&(T.value=!1)};return(e,a)=>{const n=t,s=W;return te(l).status?(X(),ue(s,{key:0,class:"p-16px"},{default:ae((()=>[J(n,{value:te(C),"onUpdate:value":[a[0]||(a[0]=e=>re(C)?C.value=e:null),o],options:i},null,8,["value"])])),_:1})):(X(),ue(B,{key:1}))}}}))}}}));
