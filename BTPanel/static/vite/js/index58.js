import{b as e,c as t,f as a,a as s,d as n}from"./public.js?v=1742891699271";import{_ as o}from"./index.js?v=1742891699271";import{_ as l}from"./index95.js?v=1742891699271";import{_ as i}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1742891699271";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1742891699271";import{_ as u}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1742891699271";import{b as c,m as d,b7 as p}from"./page_layout.js?v=1742891699271";import{g as m,a as _,d as y,b as f,s as g}from"./compiler.js?v=1742891699271";import{d as x,O as h,R as w,S as v,P as b,a1 as C,c as S,a2 as j,V as I,af as k,j as $,M as U,U as L,F as R,r as z}from"./vue.js?v=1742891699271";import{cq as T,T as F,ck as O,b$ as P,bU as q}from"./naive.js?v=1742891699271";import"./common.js?v=1742891699271";import"./__commonjsHelpers__.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1742891699271";const B={class:"p-20px"},D=x({__name:"user",props:{data:{}},setup(a,{expose:s}){const{t:n}=h(),o=a,{getList:l}=o.data,{keys:i,table:r,columns:p}=e([{type:"selection",width:40},{key:"id",title:n("Site.TableRow.index_2")}]),{loading:y,setLoading:f}=t();(async()=>{try{f(!0);const{message:e}=await m();c(e)&&(r.data=e.data.map((e=>({id:e}))))}finally{i.value=[],f(!1)}})();return s({onConfirm:async()=>{if(!i.value.length)return d.error(n("Security.Compiler.Index_5")),!1;await _({users:JSON.stringify(i.value)}),null==l||l()}}),(e,t)=>{const a=T,s=u;return w(),v("div",B,[b(a,{"show-icon":!1,class:"mb-15px"},{default:C((()=>[S(j(e.$t("Security.Compiler.Index_3")),1)])),_:1}),b(s,{"checked-row-keys":I(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>k(i)?i.value=e:null),"row-key":"id",loading:I(y),data:I(r).data,"max-height":250,columns:I(p)},null,8,["checked-row-keys","loading","data","columns"])])}}}),H=x({__name:"index",setup(d){const{t:m}=h(),_=()=>{P.show=!0},g=$({p:1,limit:10}),{table:x,columns:k}=e([{key:"name",title:m("Site.TableRow.index_2")},a({width:130,options:e=>[{label:m("Public.Btn.Del"),onClick:()=>{s({title:"".concat(m("Ftp.Table.index_10")," ").concat(e.name),content:m("Security.Compiler.Index_6"),onConfirm:async()=>{await y({user:e.name}),O()}})}}]})]),{loading:z,setLoading:T}=t(),O=async()=>{try{T(!0);const{message:e}=await f(U(g));c(e)&&(x.data=e.data.map((e=>({name:e}))),x.total=p(e.page))}finally{T(!1)}};O();const P=n(m("Security.Compiler.Index_1"),{getList:O});return(e,t)=>{const a=F,s=u,n=r,c=i,d=l,p=o;return w(),v(R,null,[b(c,null,{toolsLeft:C((()=>[b(a,{type:"primary",onClick:_},{default:C((()=>[S(j(e.$t("Security.Compiler.Index_1")),1)])),_:1})])),table:C((()=>[b(s,{loading:I(z),data:I(x).data,columns:I(k)},null,8,["loading","data","columns"])])),pageRight:C((()=>[b(n,{page:I(g).p,"onUpdate:page":t[0]||(t[0]=e=>I(g).p=e),"page-size":I(g).limit,"onUpdate:pageSize":t[1]||(t[1]=e=>I(g).limit=e),"item-count":I(x).total,onRefresh:O},null,8,["page","page-size","item-count"])])),_:1}),b(d,null,{default:C((()=>[L("li",null,j(e.$t("Security.Compiler.Index_2")),1)])),_:1}),b(p,{show:I(P).show,"onUpdate:show":t[2]||(t[2]=e=>I(P).show=e),title:I(P).title,data:I(P).data,width:600,"min-height":350,footer:!0,component:D},null,8,["show","title","data"])],64)}}}),J=x({__name:"index",setup(e){const{t:a}=h(),n=z(!1),o=async e=>{n.value=!e;const t=a("Security.Conf.Index_35"),o=a("Security.Conf.Index_36");s({title:t,content:o,onConfirm:async({hide:t})=>{try{await g({status:e?1:0}),d.success(a("Security.Compiler.Index_4")),t(),n.value=e}catch(s){console.error(s)}}})},{loading:l,setLoading:i}=t(!0);return(async()=>{i(!0);const{message:e}=await g(null,!1);c(e)&&(n.value=e.result),i(!1)})(),(e,t)=>{const a=P,s=q,i=O,r=T;return w(),v(R,null,[b(i,null,{default:C((()=>[b(s,{class:"p-15px items-center"},{default:C((()=>[L("span",null,j(e.$t("Security.Conf.Index_30")),1),b(a,{value:I(n),"onUpdate:value":[t[0]||(t[0]=e=>k(n)?n.value=e:null),o],loading:I(l),"rubber-band":!1,size:"small"},null,8,["value","loading"])])),_:1})])),_:1}),b(i,{class:"mt-15px p-15px"},{default:C((()=>[L("h3",null,j(e.$t("Security.Conf.Index_31",[I(n)?e.$t("Security.Conf.Index_33"):e.$t("Security.Conf.Index_34")])),1),b(r,{"show-icon":!1,class:"my-15px"},{default:C((()=>[S(j(e.$t("Security.Conf.Index_32")),1)])),_:1}),b(H)])),_:1})],64)}}});export{J as default};
