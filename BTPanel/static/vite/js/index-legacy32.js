System.register(["./index-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1721298337096","./useTableData-legacy.js?v=1721298337096","./useTableColumns-legacy.js?v=1721298337096","./mail-legacy.js?v=1721298337096","./vue-legacy.js?v=1721298337096","./pinia-legacy.js?v=1721298337096","./Skeleton-legacy.js?v=1721298337096","./DataTable-legacy.js?v=1721298337096","./Checkbox-legacy.js?v=1721298337096","./Ellipsis-legacy.js?v=1721298337096","./Select-legacy.js?v=1721298337096","./Tag-legacy.js?v=1721298337096","./Empty-legacy.js?v=1721298337096","./omit-legacy.js?v=1721298337096","./Progress-legacy.js?v=1721298337096"],(function(e,l){"use strict";var a,t,i,n,s,o,u,d,c,r,m,y,g,p,b,h,_,j,w,k,v,f,x,C,E,q,M,A,T;return{setters:[e=>{a=e.g,t=e.L,i=e.j,n=e.k,s=e.m,o=e.h,u=e.B,d=e.q,c=e.r,r=e.v},e=>{m=e._},e=>{y=e.u,g=e._},e=>{p=e._,b=e.b},e=>{h=e.e,_=e.b,j=e.c},e=>{w=e.l,k=e.ad,v=e.f,f=e.P,x=e.t,C=e.S,E=e.U,q=e.V,M=e.q,A=e.W,T=e.a1},null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",w({__name:"index",setup(e){const w=T((()=>r((()=>l.import("./index-legacy116.js?v=1721298337096")),void 0))),{t:D}=k(),P=v({p:1,size:10}),S=a("Add Mailbox",{isEdit:!1,row:void 0,onRefresh:()=>{L()}}),U=()=>{S.data.isEdit=!1,S.data.row=void 0,S.title="Add Mailbox",S.show=!0},{table:V,columns:B}=y([{key:"username",title:"Username",ellipsis:{tooltip:!0}},{key:"quota",title:"Quota",render:e=>t(e.quota)},{key:"domain",title:"Message",ellipsis:{tooltip:!0}},{key:"is_admin",title:"Type",render:e=>1===e.is_admin?"Admin":"General user"},{key:"active",title:"Active",render:e=>f(p,{value:e.active,size:"small",checkedValue:1,uncheckedValue:0,onUpdateValue:async l=>{await h({username:e.username,full_name:e.full_name,quota:t(e.quota),active:l,is_admin:e.is_admin}),e.active=l}},null)},b({width:150,options:e=>[{label:"WebMail",onClick:()=>{console.log(e)}},{label:D("Public.Btn.Edit"),onClick:()=>{W(e)}},{label:D("Public.Btn.Del"),onClick:()=>{z(e)}}]})]),W=e=>{S.data.isEdit=!0,S.data.row=e,S.title="Edit Mailbox",S.show=!0},z=async e=>{o({title:"Delete mailbox",content:`Whether to delete the [${e.username}] member?`,onConfirm:async()=>{await j({username:e.username}),L()}})},L=async()=>{try{V.loading=!0;const{message:e}=await _(x(P));i(e)&&(V.data=n(e.data)?e.data:[],V.total=s(e.page))}finally{V.loading=!1}};return L(),(e,l)=>{const a=u,t=g,i=m,n=d,s=c;return C(),E(s,{class:"p-16px"},{default:q((()=>[f(i,null,{toolsLeft:q((()=>[f(a,{type:"primary",onClick:U},{default:q((()=>[M("Add Mailbox")])),_:1})])),toolsRight:q((()=>[])),table:q((()=>[f(t,{loading:A(V).loading,data:A(V).data,columns:A(B)},null,8,["loading","data","columns"])])),_:1}),f(n,{show:A(S).show,"onUpdate:show":l[0]||(l[0]=e=>A(S).show=e),title:A(S).title,data:A(S).data,width:480,"min-height":236,footer:!0,component:A(w)},null,8,["show","title","data","component"])])),_:1})}}}))}}}));
