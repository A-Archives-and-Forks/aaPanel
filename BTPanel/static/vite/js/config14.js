import{_ as a}from"./index95.js?v=1742891699271";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1742891699271";import{d as e,O as n,r as o,R as l,S as i,U as s,P as r,V as c,af as u,an as f,a1 as p,c as d,a2 as m}from"./vue.js?v=1742891699271";import{b as _,m as g,ft as v}from"./page_layout.js?v=1742891699271";import{b as x,f as y,u as b,a as w}from"./public.js?v=1742891699271";import{P as j,g as S,Q as W,R as h,S as C}from"./setting.js?v=1742891699271";import{_ as P}from"./index99.js?v=1742891699271";import{_ as $,T as k,bU as B}from"./naive.js?v=1742891699271";import"./__commonjsHelpers__.js?v=1742891699271";import"./common.js?v=1742891699271";const U={class:"p-20px"},E={class:"flex mb-16px"},R={class:"flex-1 mr-16px"},A=e({__name:"config",setup(e){const{t:A}=n(),D=o(""),H=async()=>{""!==D.value.trim()?(await W({text:D.value}),D.value="",V()):g.error(A("Waf.Setting.config_176"))},I=()=>{const a=o("");b({title:A("Waf.Setting.config_187"),width:440,footer:!0,content:()=>r("div",{class:"p-20px"},[r(P,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,placeholder:A("Waf.Setting.config_188")},null)]),onConfirm:async()=>{if(""===a.value.trim())return g.error(A("Waf.Setting.config_179")),!1;await h({text:a.value}),V()}})},K=()=>{const a=o(O.data.map((a=>a.word)).join("\n"));b({title:A("Waf.Setting.config_177"),width:440,footer:!0,content:()=>r("div",{class:"p-20px"},[r(P,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,readonly:!0},null)]),onConfirm:()=>(v(a.value,"".concat("body_intercept",".json")),!1)})},L=()=>{w({title:A("Waf.Setting.config_180"),content:A("Waf.Setting.config_181"),onConfirm:async()=>{await C(),V()}})},{table:O,columns:Q,setLoading:T}=x([{key:"word",title:A("Waf.Setting.config_184")},y({width:80,options:a=>[{label:A("Public.Btn.Del"),onClick:async()=>{await j({text:a.word}),V()}}]})]),V=async()=>{try{T(!0);const{message:a}=await S();_(a)&&(O.data=a.body_intercept.map((a=>({word:a}))))}finally{T(!1)}};return V(),(e,n)=>{const o=$,_=k,g=t,v=B,x=a;return l(),i("div",U,[s("div",E,[s("div",R,[r(o,{value:c(D),"onUpdate:value":n[0]||(n[0]=a=>u(D)?D.value=a:null),placeholder:e.$t("Waf.Setting.config_184"),onKeyup:f(H,["enter"])},null,8,["value","placeholder"])]),r(_,{type:"primary",onClick:H},{default:p((()=>[d(m(e.$t("Public.Btn.Add")),1)])),_:1})]),r(g,{"max-height":258,loading:c(O).loading,data:c(O).data,columns:c(Q)},null,8,["loading","data","columns"]),r(v,{class:"mt-16px"},{default:p((()=>[r(_,{onClick:I},{default:p((()=>[d(m(e.$t("Public.Btn.Import")),1)])),_:1}),r(_,{onClick:K},{default:p((()=>[d(m(e.$t("Public.Btn.Export")),1)])),_:1}),r(_,{onClick:L},{default:p((()=>[d(m(e.$t("Public.Btn.Empty")),1)])),_:1})])),_:1}),r(x,{class:"mt-16px"},{default:p((()=>[s("li",null,m(e.$t("Waf.Setting.config_185")),1),s("li",null,m(e.$t("Waf.Setting.config_186")),1)])),_:1})])}}});export{A as default};
