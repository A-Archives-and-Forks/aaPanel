import{c as a,f as t,u as n,a as e,h as o,_ as l}from"./public.js?v=1747989938512";import{d as i,O as s,r as c,R as r,S as u,U as f,P as d,V as p,aj as m,as as g,a1 as _,c as v,a2 as x}from"./vue.js?v=1747989938512";import{c as y,m as w,fw as S}from"./page_layout.js?v=1747989938512";import{P as b,g as j,Q as W,R as h,S as C}from"./setting.js?v=1747989938512";import{_ as P}from"./index97.js?v=1747989938512";import{_ as $,T as k,bU as B}from"./naive.js?v=1747989938512";import"./common.js?v=1747989938512";import"./__commonjsHelpers__.js?v=1747989938512";const U={class:"p-20px"},E={class:"flex mb-16px"},R={class:"flex-1 mr-16px"},A=i({__name:"config",setup(i){const{t:A}=s(),D=c(""),H=async()=>{""!==D.value.trim()?(await W({text:D.value}),D.value="",V()):w.error(A("Waf.Setting.config_176"))},I=()=>{const a=c("");n({title:A("Waf.Setting.config_187"),width:440,footer:!0,content:()=>d("div",{class:"p-20px"},[d(P,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,placeholder:A("Waf.Setting.config_188")},null)]),onConfirm:async()=>{if(""===a.value.trim())return w.error(A("Waf.Setting.config_179")),!1;await h({text:a.value}),V()}})},K=()=>{const a=c(O.data.map((a=>a.word)).join("\n"));n({title:A("Waf.Setting.config_177"),width:440,footer:!0,content:()=>d("div",{class:"p-20px"},[d(P,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,readonly:!0},null)]),onConfirm:()=>(S(a.value,"".concat("body_intercept",".json")),!1)})},L=()=>{e({title:A("Waf.Setting.config_180"),content:A("Waf.Setting.config_181"),onConfirm:async()=>{await C(),V()}})},{table:O,columns:Q,setLoading:T}=a([{key:"word",title:A("Waf.Setting.config_184")},t({width:80,options:a=>[{label:A("Public.Btn.Del"),onClick:async()=>{await b({text:a.word}),V()}}]})]),V=async()=>{try{T(!0);const{message:a}=await j();y(a)&&(O.data=a.body_intercept.map((a=>({word:a}))))}finally{T(!1)}};return V(),(a,t)=>{const n=$,e=k,i=o,s=B,c=l;return r(),u("div",U,[f("div",E,[f("div",R,[d(n,{value:p(D),"onUpdate:value":t[0]||(t[0]=a=>m(D)?D.value=a:null),placeholder:a.$t("Waf.Setting.config_184"),onKeyup:g(H,["enter"])},null,8,["value","placeholder"])]),d(e,{type:"primary",onClick:H},{default:_((()=>[v(x(a.$t("Public.Btn.Add")),1)])),_:1})]),d(i,{"max-height":258,loading:p(O).loading,data:p(O).data,columns:p(Q)},null,8,["loading","data","columns"]),d(s,{class:"mt-16px"},{default:_((()=>[d(e,{onClick:I},{default:_((()=>[v(x(a.$t("Public.Btn.Import")),1)])),_:1}),d(e,{onClick:K},{default:_((()=>[v(x(a.$t("Public.Btn.Export")),1)])),_:1}),d(e,{onClick:L},{default:_((()=>[v(x(a.$t("Public.Btn.Empty")),1)])),_:1})])),_:1}),d(c,{class:"mt-16px"},{default:_((()=>[f("li",null,x(a.$t("Waf.Setting.config_185")),1),f("li",null,x(a.$t("Waf.Setting.config_186")),1)])),_:1})])}}});export{A as default};
