import{b as e,G as a,al as s,k as t}from"./page_layout.js?v=1741416570306";import{c as u,Q as o,R as i,S as n,T as l}from"./global.js?v=1741416570306";import{r as c,d as p,ar as r,au as d,P as m,Q as v,N as _,$ as f,m as b,R as h,a0 as k,S as y,H as w,F as g}from"./vue.js?v=1741416570306";import{a2 as x,bT as I}from"./naive.js?v=1741416570306";const S=c({listenIpv6:!1,offlineMode:!1,debugMode:!1,apiInterface:!1,lang:null,langList:[],webname:"",session_timeout:"",session_timeout_source:0,sites_path:"",backup_path:"",serverIp:"",systemDate:"",username:"",account:"",backup_info:{auto_backup:0,backup_number:0,total_size:0}}),C=c({panelSSL:!1,basicAuth:!1,dynamicPwd:!1,pwdComplexity:!1,domain:"",limitIp:"",port:"7800",adminPath:"/",statusCode:404,pwdSetDay:0,pwdExpireDay:0,pwdExpireTime:0,uaAstrict:!1}),D=c([]);async function P(){const{message:a}=await u();e(a)&&(function(a){S.value.listenIpv6="checked"===a.ipv6,S.value.offlineMode="checked"===a.is_local,S.value.debugMode="checked"===a.debug,S.value.apiInterface="checked"===a.api,S.value.lang=a.language,S.value.langList=a.language_list.map((e=>({label:e.title,value:e.name}))),S.value.webname=a.webname||"",S.value.session_timeout=a.session_timeout||"",S.value.session_timeout_source=a.session_timeout_source||86400,S.value.sites_path=a.sites_path||"",S.value.backup_path=a.backup_path||"",S.value.systemDate=a.systemdate||"",S.value.username=a.username||"";const{panel:s,user_info:t}=a;e(s)&&(S.value.serverIp=s.address||"",S.value.backup_info=s.backup_info);e(t)&&(S.value.account=t.data.username)}(a),function(a){var s;const{panel:t,SSL:u}=a;C.value.panelSSL=u||location.protocol.indexOf("https:")>-1,C.value.basicAuth=(null==(s=a.basic_auth)?void 0:s.open)||!1,C.value.statusCode=a.status_code||404,e(t)&&(C.value.domain=t.domain||"",C.value.limitIp=t.limitip||"",C.value.port=t.listen_port||"7800",C.value.adminPath=t.admin_path||"/")}(a))}async function L(){const{message:e}=await o();D.value=a(e)?e:[]}async function M(){const{message:a}=await i();e(a)&&(C.value.dynamicPwd=a.result)}async function A(){const{message:a}=await n();e(a)&&(C.value.pwdSetDay=a.expire,C.value.pwdExpireDay=a.expire_day,C.value.pwdExpireTime=a.expire_time,C.value.pwdComplexity=a.password_safe)}async function E(){const{message:a}=await l();e(a)&&(C.value.uaAstrict="0"!==a.status)}function T(){return{webname:S.value.webname||"",session_timeout:S.value.session_timeout_source||86400,domain:C.value.domain,limitip:C.value.limitIp,sites_path:S.value.sites_path,backup_path:S.value.backup_path,address:S.value.serverIp,systemdate:S.value.systemDate,port:C.value.port,backup_number:S.value.backup_info.backup_number,auto_backup:S.value.backup_info.auto_backup}}function $(){S.value={listenIpv6:!1,offlineMode:!1,debugMode:!1,apiInterface:!1,lang:null,langList:[],webname:"",session_timeout:"",session_timeout_source:0,sites_path:"",backup_path:"",serverIp:"",systemDate:"",username:"",account:"",backup_info:{auto_backup:0,backup_number:0,total_size:0}},C.value={panelSSL:!1,basicAuth:!1,dynamicPwd:!1,pwdComplexity:!1,domain:"",limitIp:"",port:"7800",adminPath:"/",statusCode:404,pwdSetDay:0,pwdExpireDay:0,pwdExpireTime:0,uaAstrict:!1},D.value=[]}function j(){S.value=null,C.value=null,D.value=[]}const R=p({__name:"index",props:{checked:{type:[String,Number,Boolean]},checkedModifiers:{}},emits:["update:checked"],setup(e,{expose:a}){const t=r(e,"checked"),u=s(),o=c(0),i=c(0),n=c(!1),l=c(),p=()=>{const e=l.value.$el.getClientRects(),{x:a,y:s}=e[0];o.value=a-5,i.value=s-3,n.value=!0,S()},S=d((()=>{n.value=!1}),2500);return a({validate:()=>new Promise(((e,a)=>{t.value?e(!0):(p(),a(!1))})),showTips:p}),(e,a)=>{const s=x,c=I;return m(),v(g,null,[_(s,{ref_key:"checkboxRef",ref:l,checked:t.value,"onUpdate:checked":a[0]||(a[0]=e=>t.value=e)},{default:f((()=>[b(e.$slots,"default")])),_:3},8,["checked"]),_(c,{show:y(n),x:y(o),y:y(i),trigger:"manual",placement:"top-start",style:w({backgroundColor:y(u).errorColor,color:"#fff"}),"arrow-style":{backgroundColor:y(u).errorColor}},{default:f((()=>[h("span",null,k(e.$t("Config.Safe.index_169")),1)])),_:1},8,["show","x","y","style","arrow-style"])],64)}}}),z={class:"confirm-tips"};const N=t({},[["render",function(e,a){return m(),v("ul",z,[b(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-afc54be1"]]);export{N as _,L as a,M as b,A as c,E as d,j as e,R as f,P as g,T as h,$ as i,D as m,S as p,C as s};
