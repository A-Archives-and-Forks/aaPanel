System.register(["./index-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1721298337096","./useTableData-legacy.js?v=1721298337096","./useTableColumns-legacy.js?v=1721298337096","./mail-legacy.js?v=1721298337096","./vue-legacy.js?v=1721298337096","./pinia-legacy.js?v=1721298337096","./Skeleton-legacy.js?v=1721298337096","./DataTable-legacy.js?v=1721298337096","./Checkbox-legacy.js?v=1721298337096","./Ellipsis-legacy.js?v=1721298337096","./Select-legacy.js?v=1721298337096","./Tag-legacy.js?v=1721298337096","./Empty-legacy.js?v=1721298337096","./omit-legacy.js?v=1721298337096","./Progress-legacy.js?v=1721298337096"],(function(e,t){"use strict";var l,a,i,s,n,o,r,c,d,u,y,p,g,h,m,f,j,w,C,_,v,k,b,x;return{setters:[e=>{l=e.g,a=e.j,i=e.k,s=e.h,n=e.B,o=e.q,r=e.r,c=e.v},e=>{d=e._},e=>{u=e.u,y=e._},e=>{p=e.b},e=>{g=e.f,h=e.h},e=>{m=e.l,f=e.ad,j=e.f,w=e.P,C=e.S,_=e.U,v=e.V,k=e.q,b=e.W,x=e.a1},null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",m({__name:"index",setup(e){const m=x((()=>c((()=>t.import("./index-legacy117.js?v=1721298337096")),void 0))),{t:B}=f(),E=j({p:1,size:10}),D=l("Add BCC",{isEdit:!1,row:void 0,onRefresh:()=>{q()}}),T=()=>{D.data.isEdit=!1,D.title="Add BCC",D.show=!0},A=new Map([["sender","When sending"],["recipient","When receiving"]]),{table:P,columns:S}=u([{key:"user",title:"Need Copy",ellipsis:{tooltip:!0}},{key:"forward_user",title:"Copy to",ellipsis:{tooltip:!0}},{key:"domain",title:"Domain",ellipsis:{tooltip:!0}},{key:"type",title:"BCC Type",render:e=>A.get(e.type)},{key:"active",title:"Active",render:e=>w("div",{class:[1===e.active?"text-primary":"text-error"]},[w("span",{class:["glyphicon","glyphicon-"+(1===e.active?"ok":"remove")]},null)])},p({width:150,options:e=>[{label:B("Public.Btn.Edit"),onClick:()=>{W(e)}},{label:B("Public.Btn.Del"),onClick:()=>{R(e)}}]})]),W=e=>{D.data.isEdit=!0,D.data.row=e,D.title="Edit BCC",D.show=!0},R=async e=>{s({title:"Delete forward",content:"Whether to delete the forward setting",onConfirm:async()=>{await h({type:e.type,user:e.user,forward_user:e.forward_user}),q()}})},q=async()=>{try{P.loading=!0;const{message:e}=await g();P.data=[],a(e)&&Object.entries(e).forEach((([e,t])=>{i(t)&&P.data.push(...t.map((t=>({...t,type:e}))))}))}finally{P.loading=!1}},U=()=>{E.p=1,q()};return q(),(e,t)=>{const l=n,a=y,i=d,s=o,c=r;return C(),_(c,{class:"p-16px"},{default:v((()=>[w(i,null,{toolsLeft:v((()=>[w(l,{type:"primary",onClick:T},{default:v((()=>[k("Add BCC")])),_:1})])),toolsRight:v((()=>[w(l,{onClick:U},{default:v((()=>[k("Refresh")])),_:1})])),table:v((()=>[w(a,{loading:b(P).loading,data:b(P).data,columns:b(S)},null,8,["loading","data","columns"])])),_:1}),w(s,{show:b(D).show,"onUpdate:show":t[0]||(t[0]=e=>b(D).show=e),title:b(D).title,data:b(D).data,width:540,"min-height":228,footer:!0,component:b(m)},null,8,["show","title","data","component"])])),_:1})}}}))}}}));
