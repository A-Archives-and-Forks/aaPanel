import{_ as t}from"./index.js?v=1749179669910";import{q as e,c as a,f as s,a as o,d as i,h as l,_ as n}from"./public.js?v=1749179669910";import{_ as d}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1749179669910";import{O as _,P as r,d as u,_ as p,j as c,e as m,R as b,S as y,a1 as x,c as f,a2 as w,V as D,ao as h,U as v}from"./vue.js?v=1749179669910";import{b7 as j,eS as k,eT as g}from"./page_layout.js?v=1749179669910";import{_ as C}from"./form.vue_vue_type_script_setup_true_lang.js?v=1749179669910";import{T as R}from"./naive.js?v=1749179669910";import"./common.js?v=1749179669910";import"./__commonjsHelpers__.js?v=1749179669910";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1749179669910";import"./index.vue_vue_type_script_setup_true_lang.js?v=1749179669910";import"./index245.js?v=1749179669910";function $(){const{t:t}=_();return{key:"db_password",title:t("Database.index_14"),width:160,render:t=>r(e,{value:t.db_password},null)}}function q(){const{t:t}=_();return{key:"ps",title:t("Database.tools.index_62")}}const E={class:"p-20px"},B={key:0},L=u({__name:"index",setup(e){const{t:u}=_(),L=j(),{type:P,remoteList:S}=p(L),T=c({show:!1,title:u("Database.tools.index_41"),data:{row:void 0,isEdit:!1}}),U=()=>{T.data.row=void 0,T.data.isEdit=!1,T.title=u("Database.tools.index_41"),T.show=!0},G=m((()=>S.value.filter((t=>0!==t.id)))),{columns:H}=a([{key:"db_host",title:u("Database.tools.index_42")},{key:"db_port",title:u("Docker.Container.create.index_7")},{key:"db_type",title:u("Database.tools.index_59")},{key:"db_user",title:u("Database.index_13")},$(),q(),s({width:"mysql"===L.type?150:100,options:t=>[{label:"Get DB",show:"mysql"===t.db_type,onClick:()=>{(async t=>{await k(P.value,{sid:t.id}),L.setRefresh(!0)})(t)}},{label:u("Public.Btn.Edit"),onClick:()=>{(t=>{T.data.row=t,T.data.isEdit=!0,T.title=u("Database.tools.index_58"),T.show=!0})(t)}},{label:u("Public.Btn.Del"),onClick:()=>{o({title:"".concat(u("Database.tools.index_60")," [").concat(t.db_host,"]"),content:u("Database.tools.index_61"),onConfirm:async({hide:e})=>{await(async t=>{await g(P.value,{id:t.id}),L.getRemote(),L.setRefresh(!0),L.setDelRemoteId(t.id)})(t),e()}})}}]})]),{loading:I,setLoading:O}=i();return(async()=>{try{O(!0),L.getRemote()}finally{O(!1)}})(),(e,a)=>{const s=R,o=l,i=d,_=n,u=t;return b(),y("div",E,[r(i,null,{toolsLeft:x((()=>[r(s,{type:"primary",onClick:U},{default:x((()=>[f(w(e.$t("Database.tools.index_41")),1)])),_:1})])),table:x((()=>[r(o,{loading:D(I),columns:D(H),data:D(G)},null,8,["loading","columns","data"])])),_:1}),r(_,{class:"mt-24px"},{default:x((()=>["mysql"===D(P)?(b(),y("li",B,w(e.$t("Database.tools.index_49")),1)):h("",!0),v("li",null,w(e.$t("Database.tools.index_50")),1),v("li",null,w(e.$t("Database.tools.index_51")),1),v("li",null,w(e.$t("Database.tools.index_52")),1)])),_:1}),r(u,{show:D(T).show,"onUpdate:show":a[0]||(a[0]=t=>D(T).show=t),title:D(T).title,width:460,footer:!0,data:D(T).data,component:C},null,8,["show","title","data"])])}}});export{L as default};
