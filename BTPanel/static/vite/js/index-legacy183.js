System.register(["./vue-legacy.js?v=1741416570306","./index-legacy47.js?v=1741416570306","./page_layout-legacy.js?v=1741416570306","./__commonjsHelpers__-legacy.js?v=1741416570306","./naive-legacy.js?v=1741416570306","./public-legacy.js?v=1741416570306","./index-legacy104.js?v=1741416570306","./campaign-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy17.js?v=1741416570306","./mail-legacy.js?v=1741416570306","./common-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy16.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1741416570306","./index-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1741416570306","./index-legacy95.js?v=1741416570306","./upload-legacy.js?v=1741416570306","./index-legacy103.js?v=1741416570306","./file-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1741416570306","./index-legacy99.js?v=1741416570306"],(function(e,t){"use strict";var r,n,a,o,i,l,u,s,c,d,v,p,g,f,h,m,y,b,w,x,D,S,_,O,I,T,C,E,k,P,N,U,K,j,M,A,R,L,H,$,z,B,F,W,q,G,X,V,Y,J,Q,Z,ee,te,re,ne,ae,oe,ie,le,ue,se,ce,de,ve,pe,ge,fe,he,me,ye,be,we,xe,De,Se,_e,Oe,Ie,Te,Ce,Ee,ke,Pe,Ne,Ue,Ke,je,Me,Ae,Re,Le,He,$e,ze,Be;return{setters:[e=>{r=e.p,n=e.a,a=e.d,o=e.G,i=e.ae,l=e.S,u=e.e,s=e.y,c=e.r,d=e.j,v=e.aF,p=e.P,g=e.Q,f=e.N,h=e.R,m=e.a0,y=e.F,b=e.L,w=e._,x=e.ao,D=e.w,S=e.af,_=e.a3,O=e.H,I=e.W,T=e.aG,C=e.n,E=e.m,k=e.ar,P=e.$,N=e.c,U=e.aq,K=e.i,j=e.o},e=>{M=e.v,A=e.g,R=e.c,L=e.i,H=e.a,$=e.e,z=e.D,B=e.d,F=e.b,W=e.f,q=e.h,G=e.j,X=e.k,V=e.l,Y=e.m,J=e.n,Q=e.o,Z=e.p,ee=e.q,te=e.r,re=e.s,ne=e.t,ae=e.u,oe=e.w,ie=e.x,le=e.y,ue=e.z,se=e.A,ce=e.B,de=e.C,ve=e.E,pe=e.F,ge=e.G,fe=e.H,he=e.I,me=e.J,ye=e.K},e=>{be=e._,we=e.k,xe=e.a,De=e.eH,Se=e.ef,_e=e.bG,Oe=e.bB,Ie=e.bE},e=>{Te=e.g},e=>{Ce=e.bR,Ee=e.cK,ke=e.cm,Pe=e.cf,Ne=e.bV,Ue=e.bS,Ke=e.cl,je=e.y,Me=e.ch,Ae=e.cu,Re=e.T,Le=e.cc,He=e.cd,$e=e._,ze=e.cb},e=>{Be=e.u},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var Fe=document.createElement("style");Fe.textContent='.comp-box[data-v-16cbe900]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:70px;border:1px solid #dfdada;border-radius:4px;text-align:center;font-weight:500;cursor:grab}.comp-box .text[data-v-16cbe900]{margin-top:4px}.comp-title[data-v-2280172b]{display:flex;align-items:center;justify-content:center;height:32px;margin-bottom:8px;font-size:14px;color:#666}.comp-list[data-v-2280172b]{display:grid;grid-template-columns:repeat(3,1fr);padding:0 16px;grid-gap:12px}.editor-tools[data-v-0f9442c6]{display:flex;align-items:center;justify-content:space-between;height:40px;min-height:40px;padding:0 16px;border-bottom:2px solid #d8dee8}.tools-view[data-v-0f9442c6]{display:flex;align-items:center;gap:4px;height:28px;padding:2px;border:1px solid #d9d9d9;border-radius:4px}.tools-view .view-item[data-v-0f9442c6]{display:flex;align-items:center;transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;height:24px;padding:0 4px;border-radius:2px;cursor:pointer}.tools-view .view-item.checked[data-v-0f9442c6]{background-color:#f8f8f8;color:#3e8bf2}.comp-wrapper[data-v-8ad98d11]{position:relative;width:100%}.indicator[data-v-8ad98d11]{height:80px;box-sizing:border-box;border:2px dashed #bdc3c7;background-color:#f4f7fa}.viewer-selector[data-v-8ad98d11]{--primary-color: #4eaef8;position:absolute;top:0;left:0;right:0;bottom:0;width:100%}.viewer-selector.active[data-v-8ad98d11]{--primary-color: #0871c2}.viewer-selector.active .viewer-drag[data-v-8ad98d11]{z-index:111}.viewer-selector.active .viewer-action[data-v-8ad98d11]{z-index:121}.viewer-selector[data-v-8ad98d11]:after{content:" ";opacity:0;position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:auto;z-index:100}.viewer-selector .viewer-action[data-v-8ad98d11],.viewer-selector .viewer-drag[data-v-8ad98d11],.viewer-selector .viewer-type[data-v-8ad98d11]{visibility:hidden;position:absolute;display:flex;align-items:center;justify-content:center;background-color:var(--primary-color)}.viewer-selector .viewer-drag[data-v-8ad98d11]{top:50%;right:0;height:30px;padding:0 7px;margin-top:-15px;border-radius:4px 0 0 4px;color:#fff;z-index:110;cursor:grab}.viewer-selector .viewer-action[data-v-8ad98d11]{right:0;bottom:-30px;height:30px;padding:0 7px 2px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;color:#fff;z-index:120}.viewer-selector .viewer-action .text[data-v-8ad98d11]{padding:0 4px}.viewer-selector .viewer-action .action-btn[data-v-8ad98d11]{display:flex;align-items:center;height:26px;padding:0 5px;cursor:pointer}.viewer-selector .viewer-type[data-v-8ad98d11]{right:0;bottom:-24px;height:24px;padding:0 12px;border-bottom-left-radius:2px;border-bottom-right-radius:2px;color:#fff;z-index:105}.viewer-selector[data-v-8ad98d11]:hover:not(.no-hover):not(.active):after{background-color:rgba(8,113,194,.2)}.viewer-selector[data-v-8ad98d11]:hover:not(.no-hover):after,.viewer-selector.active[data-v-8ad98d11]:after{opacity:1;border:2px solid var(--primary-color)}.viewer-selector:hover:not(.no-hover) .viewer-drag[data-v-8ad98d11],.viewer-selector.active .viewer-drag[data-v-8ad98d11]{visibility:visible}.viewer-selector:hover:not(.no-hover) .viewer-type[data-v-8ad98d11]{visibility:visible}.viewer-selector.active .viewer-action[data-v-8ad98d11]{visibility:visible}.viewer-selector.active .viewer-type[data-v-8ad98d11]{visibility:hidden!important}.viewer-empty[data-v-af09e1d6]{display:flex;align-items:center;justify-content:center;flex-direction:column;min-height:80px;padding:20px;background-color:rgba(62,158,212,.15);border:1px dashed rgba(62,158,212,.5);border-radius:2px;font-size:13px;color:#0079d6}.column-item[data-v-d4d19ef1]{position:relative;margin-right:1px}.column-item .resize-handle[data-v-d4d19ef1]{position:absolute;top:0;width:2px;height:100%;background-color:#0871c2;cursor:col-resize;z-index:102}.column-item .resize-handle[data-v-d4d19ef1]:hover{width:4px}.viewer-columns[data-v-8a721d89]{position:relative}.indicator[data-v-8a721d89]{height:100px;box-sizing:border-box;border:2px dashed #bdc3c7;background-color:#f4f7fa}.columns-container[data-v-8a721d89]{position:relative;display:flex;margin:0 auto;z-index:100}.viewer-selector[data-v-8a721d89]{--primary-color: #4eaef8;position:absolute;top:0;left:0;right:0;bottom:0;width:100%}.viewer-selector.active[data-v-8a721d89]{--primary-color: #0871c2}.viewer-selector[data-v-8a721d89]:after{content:" ";opacity:0;position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:auto;z-index:100}.viewer-selector .viewer-action[data-v-8a721d89],.viewer-selector .viewer-drag[data-v-8a721d89],.viewer-selector .viewer-type[data-v-8a721d89]{visibility:hidden;position:absolute;display:flex;align-items:center;justify-content:center;background-color:var(--primary-color)}.viewer-selector .viewer-action[data-v-8a721d89]{right:0;bottom:-30px;height:30px;padding:0 7px 2px;border-bottom-left-radius:4px;border-bottom-right-radius:4px;color:#fff;z-index:120}.viewer-selector .viewer-action .text[data-v-8a721d89]{padding:0 4px}.viewer-selector .viewer-action .action-btn[data-v-8a721d89]{display:flex;align-items:center;height:26px;padding:0 5px;cursor:pointer}.viewer-selector .viewer-drag[data-v-8a721d89]{top:50%;right:0;height:30px;padding:0 7px;margin-top:-15px;border-radius:4px 0 0 4px;color:#fff;z-index:110;cursor:grab}.viewer-selector .viewer-type[data-v-8a721d89]{right:0;bottom:-24px;height:24px;padding:0 12px;border-bottom-left-radius:2px;border-bottom-right-radius:2px;color:#fff;z-index:105}.viewer-selector[data-v-8a721d89]:hover:not(.no-hover):not(.active):after{background-color:rgba(8,113,194,.2)}.viewer-selector[data-v-8a721d89]:hover:not(.no-hover):after,.viewer-selector.active[data-v-8a721d89]:after{opacity:1;border:2px solid var(--primary-color)}.viewer-selector:hover:not(.no-hover) .viewer-drag[data-v-8a721d89],.viewer-selector.active .viewer-drag[data-v-8a721d89]{visibility:visible}.viewer-selector:hover:not(.no-hover) .viewer-type[data-v-8a721d89]{visibility:visible}.viewer-selector.active .viewer-type[data-v-8a721d89]{visibility:hidden!important}.viewer-selector.active .viewer-action[data-v-8a721d89]{visibility:visible}.sort-sign[data-v-8a721d89]{position:absolute;bottom:0;height:2px;background:#1973da;width:100%}.editor-container[data-v-ce509aab]{position:relative;flex:1;background-color:#f8f8f8}.editor-container .editor-draggable[data-v-ce509aab]{position:absolute;top:20px;left:20px;right:20px;bottom:20px;box-shadow:0 4px 12px #ebedf0;overflow-y:auto}.editor-container .drag-empty[data-v-ce509aab]{display:flex;justify-content:center;align-items:center;height:100%;color:#bbb;font-size:18px}.editor-container .drag-empty-box[data-v-ce509aab]{width:100%;height:100px;border:2px dashed #bdc3c7;background-color:#f4f7fa}.style-container[data-v-213c8ded]{padding:16px 0;border-top:1px solid #EEEEEE}.style-container[data-v-213c8ded]:first-child{padding-top:0;border-top:none}.style-container[data-v-213c8ded]:last-of-type{padding-bottom:0}.style-container .style-rows[data-v-213c8ded]{display:flex;align-items:flex-start;justify-content:space-between}.style-container .style-rows .style-label[data-v-213c8ded]{display:flex;align-items:center;min-height:32px;line-height:24px;font-weight:500}.style-container .style-rows .style-value[data-v-213c8ded]{display:flex;align-items:center;min-height:32px}.n-collapse[data-v-405bbf77]{--n-title-padding: 0;--n-item-margin: 0;--n-text-color: #444;--n-arrow-color: #d4d4d4;--n-title-text-color: #333;--n-divider-color: #D4D4D4;border-top:1px solid #D4D4D4;border-bottom:1px solid #D4D4D4}.n-collapse[data-v-405bbf77] .n-collapse-item{background-color:#fff}.n-collapse[data-v-405bbf77] .n-collapse-item>.n-collapse-item__header:hover{background-color:#f9f9f9}.n-collapse[data-v-405bbf77] .n-collapse-item>.n-collapse-item__header .n-collapse-item__header-main{justify-content:space-between;padding:12px 16px;font-weight:700}.n-collapse[data-v-405bbf77] .n-collapse-item .n-collapse-item__content-inner{padding:16px}.columns-tools[data-v-8bb925d2]{display:flex;width:100%;height:36px;background-color:#f4f4f4;border:1px solid #D4D4D4;border-radius:2px;cursor:pointer}.columns-tools.active[data-v-8bb925d2],.columns-tools[data-v-8bb925d2]:hover{background-color:#fff;border-color:#a8a8a8}.columns-tools.active .columns-item[data-v-8bb925d2],.columns-tools:hover .columns-item[data-v-8bb925d2]{border-right-color:#a8a8a8}.columns-tools.active .columns-item .text[data-v-8bb925d2],.columns-tools:hover .columns-item .text[data-v-8bb925d2]{visibility:visible}.columns-tools .columns-item[data-v-8bb925d2]{display:flex;align-items:center;justify-content:center;height:100%;border-right:1px solid #D4D4D4;color:#333}.columns-tools .columns-item .text[data-v-8bb925d2]{visibility:hidden}.columns-tools .columns-item[data-v-8bb925d2]:last-of-type{border-right:none}.n-tabs[data-v-f1a281a5]{--n-tab-gap: 12px;--n-tab-padding: 10px 12px}.link-items[data-v-3d608e71]{display:flex;align-items:center;padding:12px;gap:8px;border:1px solid #e5e7eb;border-top:none}.link-items[data-v-3d608e71]:first-child{border-top:1px solid #e5e7eb;border-top-left-radius:4px;border-top-right-radius:4px}.link-items[data-v-3d608e71]:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.link-group[data-v-ac667732]{display:flex;flex-direction:column}.n-tabs[data-v-6ec3f7d6]{--n-tab-padding: 9px 0;--n-tab-font-size: 14px;height:100%}.n-tabs[data-v-6ec3f7d6] .n-tabs-nav.n-tabs-nav--line-type.n-tabs-nav--top{line-height:1.4}.n-tabs[data-v-6ec3f7d6] .n-tabs-nav.n-tabs-nav--line-type.n-tabs-nav--top .n-tabs-nav-scroll-content{border-bottom:2px solid #d8dee8}.n-tabs[data-v-6ec3f7d6] .n-tabs-nav.n-tabs-nav--line-type.n-tabs-nav--top .n-tabs-bar{bottom:-2px}.n-tabs .n-tab-pane[data-v-6ec3f7d6]{height:100%;overflow:auto}.editor-content[data-v-83f72cb9]{display:flex;width:100%;height:720px;border:1px solid #d8dee8}.editor-left[data-v-83f72cb9]{width:280px;min-width:280px;height:100%;background-color:#fff}.editor-center[data-v-83f72cb9]{flex:1;height:100%;border-left:2px solid #d8dee8;border-right:2px solid #d8dee8}.editor-right[data-v-83f72cb9]{width:320px;min-width:320px;height:100%;background-color:#fff;overflow:hidden}\n',document.head.appendChild(Fe);var We=Symbol.for("DndContextType");function qe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ge="function"==typeof Symbol&&Symbol.observable||"@@observable",Xe=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ve={INIT:"@@redux/INIT"+Xe(),REPLACE:"@@redux/REPLACE"+Xe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Xe()}};function Ye(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(qe(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(qe(1));return r(Ye)(e,t)}if("function"!=typeof e)throw new Error(qe(2));var a=e,o=t,i=[],l=i,u=!1;function s(){l===i&&(l=i.slice())}function c(){if(u)throw new Error(qe(3));return o}function d(e){if("function"!=typeof e)throw new Error(qe(4));if(u)throw new Error(qe(5));var t=!0;return s(),l.push(e),function(){if(t){if(u)throw new Error(qe(6));t=!1,s();var r=l.indexOf(e);l.splice(r,1),i=null}}}function v(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(qe(7));if(void 0===e.type)throw new Error(qe(8));if(u)throw new Error(qe(9));try{u=!0,o=a(o,e)}finally{u=!1}for(var t=i=l,r=0;r<t.length;r++)(0,t[r])();return e}return v({type:Ve.INIT}),(n={dispatch:v,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error(qe(10));a=e,v({type:Ve.REPLACE})}})[Ge]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(qe(11));function r(){e.next&&e.next(c())}return r(),{unsubscribe:t(r)}}})[Ge]=function(){return this},e},n}function Je(e,t,...r){if("undefined"!=typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;e=new Error(t.replace(/%s/g,(function(){return r[n++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function Qe(e){return"object"==typeof e}const Ze="dnd-core/INIT_COORDS",et="dnd-core/BEGIN_DRAG",tt="dnd-core/PUBLISH_DRAG_SOURCE",rt="dnd-core/HOVER",nt="dnd-core/DROP",at="dnd-core/END_DRAG";function ot(e,t){return{type:Ze,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const it={type:Ze,payload:{clientOffset:null,sourceClientOffset:null}};function lt(e){return function(t=[],r={publishSource:!0}){const{publishSource:n=!0,clientOffset:a,getSourceClientOffset:o}=r,i=e.getMonitor(),l=e.getRegistry();e.dispatch(ot(a)),function(e,t,r){Je(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Je(r.getSource(e),"Expected sourceIds to be registered.")}))}(t,i,l);const u=function(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}(t,i);if(null==u)return void e.dispatch(it);let s=null;if(a){if(!o)throw new Error("getSourceClientOffset must be defined");!function(e){Je("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),s=o(u)}e.dispatch(ot(a,s));const c=l.getSource(u).beginDrag(i,u);if(null==c)return;!function(e){Je(Qe(e),"Item must be an object.")}(c),l.pinSource(u);const d=l.getSourceType(u);return{type:et,payload:{itemType:d,item:c,sourceId:u,clientOffset:a||null,sourceClientOffset:s||null,isSourcePublic:!!n}}}}function ut(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ut(e,t,r[t])}))}return e}function ct(e){return function(t={}){const r=e.getMonitor(),n=e.getRegistry();!function(e){Je(e.isDragging(),"Cannot call drop while not dragging."),Je(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(r);const a=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(r);a.forEach(((a,o)=>{const i=function(e,t,r,n){const a=r.getTarget(e);let o=a?a.drop(n,e):void 0;return function(e){Je(void 0===e||Qe(e),"Drop result must either be an object or undefined.")}(o),void 0===o&&(o=0===t?{}:n.getDropResult()),o}(a,o,n,r),l={type:nt,payload:{dropResult:st({},t,i)}};e.dispatch(l)}))}}function dt(e){return function(){const t=e.getMonitor(),r=e.getRegistry();!function(e){Je(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const n=t.getSourceId();return null!=n&&(r.getSource(n,!0).endDrag(t,n),r.unpinSource()),{type:at}}}function vt(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function pt(e){return function(t,{clientOffset:r}={}){!function(e){Je(Array.isArray(e),"Expected targetIds to be an array.")}(t);const n=t.slice(0),a=e.getMonitor(),o=e.getRegistry();return function(e,t,r){for(let n=e.length-1;n>=0;n--){const a=e[n];vt(t.getTargetType(a),r)||e.splice(n,1)}}(n,o,a.getItemType()),function(e,t,r){Je(t.isDragging(),"Cannot call hover while not dragging."),Je(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const t=e[n];Je(e.lastIndexOf(t)===n,"Expected targetIds to be unique in the passed array."),Je(r.getTarget(t),"Expected targetIds to be registered.")}}(n,a,o),function(e,t,r){e.forEach((function(e){r.getTarget(e).hover(t,e)}))}(n,a,o),{type:rt,payload:{targetIds:n,clientOffset:r||null}}}}function gt(e){return function(){if(e.getMonitor().isDragging())return{type:tt}}}class ft{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store,r=function(e){return{beginDrag:lt(e),publishDragSource:gt(e),hover:pt(e),drop:ct(e),endDrag:dt(e)}}(this);return Object.keys(r).reduce(((n,a)=>{const o=r[a];var i;return n[a]=(i=o,(...r)=>{const n=i.apply(e,r);void 0!==n&&t(n)}),n}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function ht(e,t){return{x:e.x-t.x,y:e.y-t.y}}const mt=[],yt=[];mt.__IS_NONE__=!0,yt.__IS_ALL__=!0;class bt{subscribeToStateChange(e,t={}){const{handlerIds:r}=t;Je("function"==typeof e,"listener must be a function."),Je(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),a=t.stateId;try{const o=a===n||a===n+1&&!function(e,t){return e!==mt&&(e===yt||void 0===t||(r=e,t.filter((e=>r.indexOf(e)>-1))).length>0);var r}(t.dirtyHandlerIds,r);o||e()}finally{n=a}}))}subscribeToOffsetChange(e){Je("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const r=this.store.getState().dragOffset;r!==t&&(t=r,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return Je(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);return Je(t,`Expected to find a valid target. targetId=${e}`),!(!this.isDragging()||this.didDrop())&&(vt(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e))}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);return Je(t,`Expected to find a valid source. sourceId=${e}`),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:r}=t;if(!this.isDragging())return!1;const n=this.registry.getTargetType(e),a=this.getItemType();if(a&&!vt(n,a))return!1;const o=this.getTargetIds();if(!o.length)return!1;const i=o.indexOf(e);return r?i===o.length-1:i>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return t&&r&&n?ht((o=n,{x:(a=t).x+o.x,y:a.y+o.y}),r):null;var a,o}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:r}=e;return t&&r?ht(t,r):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const wt="undefined"!=typeof global?global:self,xt=wt.MutationObserver||wt.WebKitMutationObserver;function Dt(e){return function(){const t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}const St="function"==typeof xt?function(e){let t=1;const r=new xt(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:Dt;class _t{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const Ot=new class{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=St(this.flush),this.requestErrorThrow=Dt((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},It=new class{create(e){const t=this.freeTasks,r=t.length?t.pop():new _t(this.onError,(e=>t[t.length]=e));return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(Ot.registerPendingError),Tt="dnd-core/ADD_SOURCE",Ct="dnd-core/ADD_TARGET",Et="dnd-core/REMOVE_SOURCE",kt="dnd-core/REMOVE_TARGET";function Pt(e,t){t&&Array.isArray(e)?e.forEach((e=>Pt(e,!1))):Je("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Nt;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Nt||(Nt={}));let Ut=0;function Kt(e){const t=(Ut++).toString();switch(e){case Nt.SOURCE:return`S${t}`;case Nt.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function jt(e){switch(e[0]){case"S":return Nt.SOURCE;case"T":return Nt.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Mt(e,t){const r=e.entries();let n=!1;do{const{done:e,value:[,a]}=r.next();if(a===t)return!0;n=!!e}while(!n);return!1}class At{addSource(e,t){Pt(e),function(e){Je("function"==typeof e.canDrag,"Expected canDrag to be a function."),Je("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),Je("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);const r=this.addHandler(Nt.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Tt,payload:{sourceId:e}}}(r)),r}addTarget(e,t){Pt(e,!0),function(e){Je("function"==typeof e.canDrop,"Expected canDrop to be a function."),Je("function"==typeof e.hover,"Expected hover to be a function."),Je("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);const r=this.addHandler(Nt.TARGET,e,t);return this.store.dispatch(function(e){return{type:Ct,payload:{targetId:e}}}(r)),r}containsHandler(e){return Mt(this.dragSources,e)||Mt(this.dropTargets,e)}getSource(e,t=!1){return Je(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Je(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Je(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Je(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return jt(e)===Nt.SOURCE}isTargetId(e){return jt(e)===Nt.TARGET}removeSource(e){var t;Je(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Et,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},Ot.enqueueTask(It.create(t))}removeTarget(e){Je(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:kt,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);Je(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){Je(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,r){const n=Kt(e);return this.types.set(n,t),e===Nt.SOURCE?this.dragSources.set(n,r):e===Nt.TARGET&&this.dropTargets.set(n,r),n}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Rt=(e,t)=>e===t;function Lt(e=mt,t){switch(t.type){case rt:break;case Tt:case Ct:case kt:case Et:return mt;default:return yt}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,a=function(e,t){const r=new Map,n=e=>{r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(n),t.forEach(n);const a=[];return r.forEach(((e,t)=>{1===e&&a.push(t)})),a}(r,n);if(!(a.length>0)&&function(e,t,r=Rt){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}(r,n))return mt;const o=n[n.length-1],i=r[r.length-1];return o!==i&&(o&&a.push(o),i&&a.push(i)),a}function Ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $t={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function zt(e=$t,t){const{payload:r}=t;switch(t.type){case Ze:case et:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case rt:return n=e.clientOffset,a=r.clientOffset,!n&&!a||n&&a&&n.x===a.x&&n.y===a.y?e:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ht(e,t,r[t])}))}return e}({},e,{clientOffset:r.clientOffset});case at:case nt:return $t;default:return e}var n,a}function Bt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Bt(e,t,r[t])}))}return e}const Wt={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function qt(e=Wt,t){const{payload:r}=t;switch(t.type){case et:return Ft({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case tt:return Ft({},e,{isSourcePublic:!0});case rt:return Ft({},e,{targetIds:r.targetIds});case kt:return-1===e.targetIds.indexOf(r.targetId)?e:Ft({},e,{targetIds:(n=e.targetIds,a=r.targetId,n.filter((e=>e!==a)))});case nt:return Ft({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case at:return Ft({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var n,a}function Gt(e=0,t){switch(t.type){case Tt:case Ct:return e+1;case Et:case kt:return e-1;default:return e}}function Xt(e=0){return e+1}function Vt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Vt(e,t,r[t])}))}return e}function Jt(e={},t){return{dirtyHandlerIds:Lt(e.dirtyHandlerIds,{type:t.type,payload:Yt({},t.payload,{prevTargetIds:(r=e,n="dragOperation.targetIds",a=[],n.split(".").reduce(((e,t)=>e&&e[t]?e[t]:a||null),r))})}),dragOffset:zt(e.dragOffset,t),refCount:Gt(e.refCount,t),dragOperation:qt(e.dragOperation,t),stateId:Xt(e.stateId)};var r,n,a}function Qt(e,t=void 0,r={},n=!1){const a=function(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Ye(Jt,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n),o=new bt(a,new At(a)),i=new ft(a,o),l=e(i,t,r);return i.receiveBackend(l),i}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(u){l=!0,a=u}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tr=0,rr=Symbol.for("__VUE_DND_CONTEXT_INSTANCE__");function nr(e){if(function(e){return"manager"in e&&e.manager}(e))return[e.manager,!1];var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ar(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=t;return a[rr]||(a[rr]=Qt(e,t,r,n)),a[rr]}(e.backend,e.context,e.options,e.debugMode);return[t,!e.context]}function ar(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:window}const or=a({name:"DndProvider",props:{manager:{type:Object},backend:{type:Function},context:{type:Object},options:{type:Object},debugMode:{type:Boolean}},setup:function(e,t){var n,a=t.slots,i=er(nr(e),2),l=i[0],u=i[1];return u&&++tr,o((function(){if(u){var e=ar();0==--tr&&(e[rr]=null)}})),r(We,l),function(){var e;return null!==(n=null===(e=a.default)||void 0===e?void 0:e.call(a))&&void 0!==n?n:null}}});var ir=!1,lr=!1,ur=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t=e.prototype;return t.receiveHandlerId=function(e){this.sourceId=e},t.getHandlerId=function(){return this.sourceId},t.canDrag=function(){Je(!ir,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ir=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ir=!1}},t.isDragging=function(){if(!this.sourceId)return!1;Je(!lr,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return lr=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{lr=!1}},t.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},t.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},t.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},t.getTargetIds=function(){return this.internalMonitor.getTargetIds()},t.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},t.getSourceId=function(){return this.internalMonitor.getSourceId()},t.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},t.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},t.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},t.getItemType=function(){return this.internalMonitor.getItemType()},t.getItem=function(){return this.internalMonitor.getItem()},t.getDropResult=function(){return this.internalMonitor.getDropResult()},t.didDrop=function(){return this.internalMonitor.didDrop()},t.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},t.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},t.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},t.getClientOffset=function(){return this.internalMonitor.getClientOffset()},t.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}(),sr=!1,cr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t=e.prototype;return t.receiveHandlerId=function(e){this.targetId=e},t.getHandlerId=function(){return this.targetId},t.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},t.canDrop=function(){if(!this.targetId)return!1;Je(!sr,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return sr=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{sr=!1}},t.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},t.getItemType=function(){return this.internalMonitor.getItemType()},t.getItem=function(){return this.internalMonitor.getItem()},t.getDropResult=function(){return this.internalMonitor.getDropResult()},t.didDrop=function(){return this.internalMonitor.didDrop()},t.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},t.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},t.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},t.getClientOffset=function(){return this.internalMonitor.getClientOffset()},t.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();function dr(e){return!!(r=e)&&!0===r.__v_isVNode&&"symbol"!=((t=e.type)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t);var t,r}function vr(e){return function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((t=r)&&t.__v_skip&&function(){throw new Error("Only native element nodes can now be passed to Vue DnD connectors.You can either wrap Component into a <div>, or turn it into a drag source or a drop target itself.")}(),!dr(r)){var a=r;return e(a,n),a}}}function pr(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{var a=vr(n);t[r]=function(){return a}}})),t}function gr(e,t,r,n){let a;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;const o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;const l=Object.prototype.hasOwnProperty.bind(t);for(let u=0;u<o.length;u++){const r=o[u];if(!l(r))return!1;const n=e[r],i=t[r];if(a=void 0,!1===a||void 0===a&&n!==i)return!1}return!0}function fr(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}var hr=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=pr({dragSource:function(e,t){r.clearDragSource(),r.dragSourceOptions=t||null,r.dragSourceNode=e,r.reconnectDragSource()},dragPreview:function(e,t){r.clearDragPreview(),r.dragPreviewOptions=t||null,r.dragPreviewNode=e,r.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceOptionsInternal=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t=e.prototype;return t.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},t.reconnect=function(){var e=this.reconnectDragSource();this.reconnectDragPreview(e)},t.reconnectDragSource=function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t},t.reconnectDragPreview=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();r&&this.disconnectDragPreview(),this.handlerId&&(t?r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)},t.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},t.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},t.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},t.didDragSourceOptionsChange=function(){return!gr(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},t.didDragPreviewOptionsChange=function(){return!gr(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},t.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)},t.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null)},t.clearDragSource=function(){this.dragSourceNode=null},t.clearDragPreview=function(){this.dragPreviewNode=null},fr(e,[{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode}},{key:"dragPreview",get:function(){return this.dragPreviewNode}}]),e}();function mr(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}var yr=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=pr({dropTarget:function(e,t){r.clearDropTarget(),r.dropTargetOptions=t,i(e)?r.dropTargetRef=e:r.dropTargetNode=e,r.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t=e.prototype;return t.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)},t.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},t.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},t.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},t.didOptionsChange=function(){return!gr(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},t.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},t.clearDropTarget=function(){this.dropTargetRef=null,this.dropTargetNode=null},mr(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.value}}]),e}(),br=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.spec=t,this.monitor=r,this.connector=n}var t=e.prototype;return t.beginDrag=function(){var e=this.spec,t=this.monitor,r=null;return null!=(r="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{})?r:null},t.canDrag=function(){var e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)},t.isDragging=function(e,t){var r=this.spec,n=this.monitor,a=r.isDragging;return a?a(n):t===e.getSourceId()},t.endDrag=function(){var e=this.spec,t=this.monitor,r=this.connector,n=e.end;n&&n(t.getItem(),t),r.reconnect()},e}();function wr(){var e=n(We);return Je(null!=e,"Expected drag drop context"),e}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(u){l=!0,a=u}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t,r){var n=wr(),a=function(e,t,r){var n=u((function(){return new br(l(e),l(t),l(r))}));return s((function(){n.value.spec=l(e)})),n}(e,t,r),o=function(e){return u((function(){var t=l(e).type;return Je(null!=t,"spec.type must be defined"),t}))}(e);s((function(e){if(null!=l(o)){var i=Dr(function(e,t,r){var n=r.getRegistry(),a=n.addSource(e,t);return[a,function(){return n.removeSource(a)}]}(l(o),l(a),l(n)),2),u=i[0],s=i[1];l(t).receiveHandlerId(u),l(r).receiveHandlerId(u),e(s)}}))}function _r(e){return u((function(){return"function"==typeof e?e():e}))}var Or=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,a,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;0!=a--;)if(!Object.prototype.hasOwnProperty.call(r,o[a]))return!1;for(a=n;0!=a--;){var i=o[a];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r};const Ir=Te(Or);function Tr(e,t,r){var n=c(l(t)(l(e))),a=function(){var a=l(t)(l(e));Ir(n.value,a)||(n.value=a,r&&r())};return s(a),[n,a]}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(u){l=!0,a=u}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t,r){return function(e,t,r){var n=Er(Tr(e,t,r),2),a=n[0],o=n[1];return s((function(t){var r=l(e).getHandlerId();null!=r&&t(l(e).subscribeToStateChange(o,{handlerIds:[r]}))})),a}(t,e||function(){return{}},(function(){return l(r).reconnect()}))}function Pr(e,t){var r=d({el:null,options:l(t)});return s((function(){e(r)}),{flush:"post"}),function(e,n){v(r,"el",e);var a=l(t)||n;return Ir(r.options,a)||v(r,"options",a),l(e)}}function Nr(e,t){return Pr((function(t){l(e).hooks.dragSource()(t.el,t.options)}),u((function(){return l(t).options})))}function Ur(e,t){return Pr((function(t){l(e).hooks.dragPreview()(t.el,t.options)}),u((function(){return l(t).previewOptions})))}function Kr(e){var t,r=_r(e),n=(t=wr(),u((function(){return new ur(l(t))}))),a=function(e,t){var r=wr(),n=u((function(){return new hr(l(r).getBackend())}));return s((function(t){n.value.dragSourceOptions=l(e)||null,l(n).reconnect(),t((function(){n.value.disconnectDragSource()}))})),s((function(e){n.value.dragPreviewOptions=l(t)||null,l(n).reconnect(),e((function(){n.value.disconnectDragPreview()}))})),n}(u((function(){return l(r).options})),u((function(){return l(r).previewOptions})));return Sr(r,n,a),[kr(u((function(){return l(r).collect||function(){return{}}})),n,a),Nr(a,r),Ur(a,r)]}var jr=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.spec=t,this.monitor=r}var t=e.prototype;return t.canDrop=function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)},t.hover=function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)},t.drop=function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)},e}();function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(u){l=!0,a=u}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t,r){var n=wr(),a=function(e,t){var r=u((function(){return new jr(l(e),l(t))}));return s((function(){r.value.spec=l(e)})),r}(e,t),o=function(e){return u((function(){var t=l(e).accept;return Je(null!=t,"accept must be defined"),Array.isArray(t)?t:[t]}))}(e);s((function(e){var i=Ar(function(e,t,r){var n=l(r).getRegistry(),a=n.addTarget(l(e),l(t));return[a,function(){return n.removeTarget(a)}]}(o,a,n),2),u=i[0],s=i[1];l(t).receiveHandlerId(u),l(r).receiveHandlerId(u),e(s)}))}function Lr(e,t){return Pr((function(t){l(e).hooks.dropTarget()(t.el,t.options)}),u((function(){return l(t).options})))}function Hr(e){var t,r=_r(e),n=(t=wr(),u((function(){return new cr(l(t))}))),a=function(e){var t=wr(),r=u((function(){return new yr(l(t).getBackend())}));return s((function(t){r.value.dropTargetOptions=l(e)||null,r.value.reconnect(),t((function(){return r.value.disconnectDropTarget()}))})),r}(u((function(){return l(r).options})));return Rr(r,n,a),[kr(u((function(){return l(r).collect||function(){return{}}})),n,a),Lr(a,r)]}function $r(e){let t=null;return()=>(null==t&&(t=e()),t)}class zr{enter(e){const t=this.entered.length;return this.entered=function(e,t){const r=new Set,n=e=>r.add(e);e.forEach(n),t.forEach(n);const a=[];return r.forEach((e=>a.push(e))),a}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var r,n;return this.entered=(r=this.entered.filter(this.isNodeInDocument),n=e,r.filter((e=>e!==n))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Br{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((r=>{const n=this.config.exposeProperties[r];null!=n&&(t[r]={value:n(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Fr="__NATIVE_FILE__",Wr="__NATIVE_URL__",qr="__NATIVE_TEXT__",Gr="__NATIVE_HTML__",Xr=Object.freeze(Object.defineProperty({__proto__:null,FILE:Fr,HTML:Gr,TEXT:qr,URL:Wr},Symbol.toStringTag,{value:"Module"}));function Vr(e,t,r){const n=t.reduce(((t,r)=>t||e.getData(r)),"");return null!=n?n:r}const Yr={[Fr]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Gr]:{exposeProperties:{html:(e,t)=>Vr(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Wr]:{exposeProperties:{urls:(e,t)=>Vr(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[qr]:{exposeProperties:{text:(e,t)=>Vr(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Jr(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Yr).filter((e=>{const r=Yr[e];return!!(null==r?void 0:r.matchesTypes)&&r.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const Qr=$r((()=>/firefox/i.test(navigator.userAgent))),Zr=$r((()=>Boolean(window.safari)));class en{interpolate(e){const{xs:t,ys:r,c1s:n,c2s:a,c3s:o}=this;let i=t.length-1;if(e===t[i])return r[i];let l,u=0,s=o.length-1;for(;u<=s;){l=Math.floor(.5*(u+s));const n=t[l];if(n<e)u=l+1;else{if(!(n>e))return r[l];s=l-1}}i=Math.max(0,s);const c=e-t[i],d=c*c;return r[i]+n[i]*c+a[i]*d+o[i]*c*d}constructor(e,t){const{length:r}=e,n=[];for(let v=0;v<r;v++)n.push(v);n.sort(((t,r)=>e[t]<e[r]?-1:1));const a=[],o=[];let i,l;for(let v=0;v<r-1;v++)i=e[v+1]-e[v],l=t[v+1]-t[v],a.push(i),o.push(l/i);const u=[o[0]];for(let v=0;v<a.length-1;v++){const e=o[v],t=o[v+1];if(e*t<=0)u.push(0);else{i=a[v];const r=a[v+1],n=i+r;u.push(3*n/((n+r)/e+(n+i)/t))}}u.push(o[o.length-1]);const s=[],c=[];let d;for(let v=0;v<u.length-1;v++){d=o[v];const e=u[v],t=1/a[v],r=e+u[v+1]-d-d;s.push((d-e-r)*t),c.push(r*t*t)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=s,this.c3s=c}}function tn(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function rn(e){return{x:e.clientX,y:e.clientY}}function nn(e,t,r,n,a){const o=function(e){var t;return"IMG"===e.nodeName&&(Qr()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),i=tn(o?e:t),l={x:r.x-i.x,y:r.y-i.y},{offsetWidth:u,offsetHeight:s}=e,{anchorX:c,anchorY:d}=n,{dragPreviewWidth:v,dragPreviewHeight:p}=function(e,t,r,n){let a=e?t.width:r,o=e?t.height:n;return Zr()&&e&&(o/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:o}}(o,t,u,s),{offsetX:g,offsetY:f}=a,h=0===f||f;return{x:0===g||g?g:new en([0,.5,1],[l.x,l.x/u*v,l.x+v-u]).interpolate(c),y:h?f:(()=>{let e=new en([0,.5,1],[l.y,l.y/s*p,l.y+p-s]).interpolate(d);return Zr()&&o&&(e+=(window.devicePixelRatio-1)*p),e})()}}class an{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function on(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){on(e,t,r[t])}))}return e}class un{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);const n=t=>this.handleDragStart(t,e),a=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",n),t.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",n),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const r=t=>this.handleDragEnter(t,e),n=t=>this.handleDragOver(t,e),a=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",n),t.addEventListener("drop",a),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",n),t.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return ln({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return ln({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Xr).some((t=>Xr[t]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const r=Yr[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new Br(r);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&tn(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const r=rn(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});const{dataTransfer:n}=e,a=Jr(n);if(this.monitor.isDragging()){if(n&&"function"==typeof n.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),a=this.sourcePreviewNodes.get(e)||t;if(a){const{anchorX:e,anchorY:o,offsetX:i,offsetY:l}=this.getCurrentSourcePreviewNodeOptions(),u=nn(t,a,r,{anchorX:e,anchorY:o},{offsetX:i,offsetY:l});n.setDragImage(a,u.x,u.y)}}try{null==n||n.setData("application/json",{})}catch(o){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(a)this.beginDragNativeItem(a);else{if(n&&!n.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)),!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:r}=e,n=Jr(r);n&&this.beginDragNativeItem(n,r)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:rn(e)}),t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=e=>{var t;this.dragOverTargetIds=[],this.isDraggingNativeItem()&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=rn(e),this.scheduleHover(t),(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;this.dropTargetIds=[],this.isDraggingNativeItem()?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Jr(e.dataTransfer)&&e.preventDefault(),this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:rn(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new an(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new zr(this.isNodeInDocument)}}const sn=function(e,t,r){return new un(e,t,r)},cn={class:"text"},dn=we(a({__name:"MenuItem",props:{itemConfig:{}},setup(e){const t=e,[,r]=Kr((()=>({type:t.itemConfig.type,item:Ce(t.itemConfig),end(e,t){if(M.value&&t.getDropResult()){const t=A();R.value[M.value].children=R.value[M.value].children.filter((e=>"indicator"!==e)),L(M.value,t,e.type)}},collect:e=>({isDragging:e.isDragging()})})));return(e,t)=>{const n=be;return p(),g("div",{ref:l(r),class:"comp-box"},[f(n,{name:`drag-${e.itemConfig.type}`,size:"24"},null,8,["name"]),h("div",cn,m(e.itemConfig.name),1)],512)}}}),[["__scopeId","data-v-16cbe900"]]),vn={class:"pt-8px"},pn={class:"comp-list"},gn=we(a({__name:"index",setup:e=>(e,t)=>(p(),g("div",vn,[t[0]||(t[0]=h("div",{class:"comp-title"},"Basic content",-1)),h("div",pn,[(p(!0),g(y,null,b(l(H),(e=>(p(),w(dn,{key:e.type,"item-config":e},null,8,["item-config"])))),128))])]))}),[["__scopeId","data-v-2280172b"]]),fn=["innerHTML"],hn=a({__name:"index",setup:e=>(e,t)=>(p(),g("div",{innerHTML:l($)},null,8,fn))}),mn={class:"editor-tools"},yn=we(a({__name:"index",setup(e){const t=()=>{Be({title:"Preview",width:800,height:600,component:hn})};return(e,r)=>{const n=be;return p(),g("div",mn,[h("div",null,[h("span",{class:"cursor-pointer",onClick:t},[f(n,{name:"drag-preview",size:"18"})])]),h("div",null,[x("",!0)])])}}}),[["__scopeId","data-v-0f9442c6"]]),bn=["data-handler-id"],wn={class:"viewer-action"},xn={key:0,class:"viewer-type"},Dn=a({__name:"Comp",props:{compKey:{},cellKey:{}},setup(e,{expose:r}){const n=e,a=I((()=>xe((()=>t.import("./Button-legacy.js?v=1741416570306")),void 0))),o=I((()=>xe((()=>t.import("./Divider-legacy.js?v=1741416570306")),void 0))),i=I((()=>xe((()=>t.import("./Header-legacy.js?v=1741416570306")),void 0))),s=I((()=>xe((()=>t.import("./Text-legacy.js?v=1741416570306")),void 0))),d=I((()=>xe((()=>t.import("./Image-legacy.js?v=1741416570306")),void 0))),v=I((()=>xe((()=>t.import("./Menu-legacy.js?v=1741416570306")),void 0))),b=I((()=>xe((()=>t.import("./Html-legacy.js?v=1741416570306")),void 0))),T=I((()=>xe((()=>t.import("./Other-legacy.js?v=1741416570306")),void 0))),C=c(""),[E,k,P]=Kr({type:z.commonComp,item:{key:n.compKey},collect:e=>({isDragging:e.isDragging()})});D((()=>E.value.isDragging),(e=>{e&&(C.value=n.compKey)}));const[N,U]=Hr({accept:B.filter((e=>"columns"!==e)),hover(e,t){K(),"0"!=e.key?M(e.key,t):M("indicator",t)},drop(){j()},collect:e=>({handlerId:e.getHandlerId()})}),K=()=>{document.querySelectorAll(".comp-wrapper").forEach((e=>{e.querySelector(".viewer-selector")?.classList.add("no-hover")}))},j=()=>{document.querySelectorAll(".comp-wrapper").forEach((e=>{e.querySelector(".viewer-selector")?.classList.remove("no-hover")}))};function M(e,t){if(e==n.compKey)return;const r=A.value?.getBoundingClientRect(),a=r.top+(r.bottom-r.top)/2,o=t.getClientOffset();o.y<a&&F(n.cellKey,n.compKey,e),o.y>a&&W(n.cellKey,n.compKey,e)}const A=c();function R(e){A.value=P(U(e))}r({compSort:M,key:n.compKey});const L=u((()=>q(G.value[n.compKey],"general"))),H=u((()=>{switch(X.value&&X.value[n.compKey]?X.value[n.compKey].type:""){case"button":return a;case"divider":return o;case"header":return i;case"text":return s;case"image":return d;case"menu":return v;case"html":return b;default:return T}}));function $(){J.value=!0,Q.value=X.value[n.compKey].type,Y.value=n.compKey;for(let e in Z.value)Z.value[e].children.includes(n.cellKey)&&(ee.value=e)}function re(e){te(n.compKey,n.cellKey),e.stopPropagation()}return(e,t)=>{const r=be;return p(),g("div",{ref:R,class:S(["comp-wrapper",{indicator:l(E).isDragging||"indicator"==e.compKey}]),onClick:$,"data-handler-id":l(N).handlerId,style:O(l(L))},[l(E).isDragging?x("",!0):(p(),g(y,{key:0},[h("div",{class:S(["viewer-selector",{active:l(Y)===e.compKey}])},[h("div",{class:"viewer-drag",ref:l(k)},[f(r,{name:"drag-drag",size:"20"})],512),h("div",wn,[h("div",{class:"action-btn",onClick:t[0]||(t[0]=()=>l(V)(e.compKey,e.cellKey))},[f(r,{name:"drag-copy",size:"16",color:"#fff"})]),h("div",{class:"action-btn",onClick:re},[f(r,{name:"drag-remove",size:"16",color:"#fff"})])]),l(X)[e.compKey]?(p(),g("div",xn,m((n=l(X)[e.compKey].type,n.charAt(0).toUpperCase()+n.slice(1))),1)):x("",!0)],2),(p(),w(_(l(H)),{"comp-key":e.compKey},null,8,["comp-key"]))],64))],14,bn);var n}}}),Sn=we(Dn,[["__scopeId","data-v-8ad98d11"]]),_n={class:"viewer-empty"},On=we({},[["render",function(e,t){return p(),g("div",_n,t[0]||(t[0]=[h("div",null,"No content here. Drag content from left.",-1)]))}],["__scopeId","data-v-af09e1d6"]]),In=we(a({__name:"CellContainer",props:{cellKey:{},columnKey:{}},setup(e){const t=e,r=c(!1),n=u((()=>!r.value&&0===R.value[t.cellKey].children.length)),a=u((()=>({...q(re.value[t.cellKey]),width:R.value[t.cellKey].width}))),[o,i]=Hr({accept:B,collect:e=>({isShallowOver:e.isOver()}),drop:e=>{const n=R.value[t.cellKey].children.indexOf("indicator");if(n>-1&&R.value[t.cellKey].children.splice(n,1),"0"==e.key){r.value=!1;const a=A();ae(t.cellKey,a,e.type,n)}},hover:e=>{"0"==e.key&&(r.value=!0,R.value[t.cellKey].children.includes("indicator")||R.value[t.cellKey].children.push("indicator"))}}),{isShallowOver:s}=T(o);D((()=>s.value),(e=>{e||(r.value=!1,R.value[t.cellKey].children=R.value[t.cellKey].children.filter((e=>"indicator"!=e)))}));const d=c(null),v=e=>{e&&(d.value=i(e))},f=u((()=>Z.value[t.columnKey].children.findIndex((e=>e==t.cellKey))!==Z.value[t.columnKey].children.length-1)),h=u((()=>{const e=Z.value[t.columnKey].children.findIndex((e=>e==t.cellKey));return-1!==e&&e<Z.value[t.columnKey].children.length-1?Z.value[t.columnKey].children[e+1]:""})),m=c(-1),S=c(0);let _,I,E=0,k=0;function P(e){S.value=e.clientX,E=d.value.getBoundingClientRect().width,document.addEventListener("mousemove",N)}function N(e){_=document.querySelector(`#cell_${t.cellKey}`),I=document.querySelector(`#cell_${h.value}`),k=e.clientX-S.value;let r=`calc(${R.value[t.cellKey].width} + ${k}px)`,n=`calc(${R.value[h.value].width} - ${k}px)`;_.offsetWidth<=50||I.offsetWidth<=50||(_.style.width=r,I.style.width=n,e.preventDefault())}function U(e){e&&(e.addEventListener("mousedown",P),document.addEventListener("mouseup",(()=>{if(0==S.value)return;document.removeEventListener("mousemove",N);let e=k/E*(Number(R.value[t.cellKey].width.split("%")[0])/100);R.value[t.cellKey].width=Number((100*(Number(R.value[t.cellKey].width.split("%")[0])/100+e)).toFixed(2))+"%",R.value[h.value].width=Number((100*(Number(R.value[h.value].width.split("%")[0])/100-e)).toFixed(2))+"%",C((()=>{E=0,k=0,S.value=0,ne.$emit("makeDom")}))})))}return(e,t)=>(p(),g("div",{ref:v,class:"column-item",style:O(l(a))},[l(n)?(p(),w(On,{key:0})):x("",!0),(p(!0),g(y,null,b(l(R)[e.cellKey].children,(t=>(p(),w(Sn,{key:t,"comp-key":t,"cell-key":e.cellKey},null,8,["comp-key","cell-key"])))),128)),l(f)?(p(),g("div",{key:1,ref:U,class:"resize-handle",style:O({right:l(m)+"px"})},null,4)):x("",!0)],4))}}),[["__scopeId","data-v-d4d19ef1"]]),Tn=["data-handler-id","id"],Cn={class:"viewer-action"},En={key:0,class:"viewer-type"},kn=we(a({__name:"Columns",props:{columnKey:{}},setup(e){const t=e,r=u((()=>q(oe.value[t.columnKey]))),n=u((()=>ie.value.maxWidth)),[a,o,i]=Kr({type:"Drag_Columns",item:()=>({key:t.columnKey}),collect:e=>({isDragging:e.isDragging()})}),{isDragging:s}=T(a),[d,v]=Hr({accept:"Drag_Columns",hover(e,r){if(D(),e.key==t.columnKey)return;const n=C.value.getBoundingClientRect(),a=n.top+(n.bottom-n.top)/2,o=r.getClientOffset();o.y<a&&ue(t.columnKey,e.key),o.y>a&&se(t.columnKey,e.key)},drop(){_()},collect:e=>({handlerId:e.getHandlerId()})}),D=()=>{document.querySelectorAll(".viewer-columns").forEach((e=>{e.querySelector(".viewer-selector")?.classList.add("no-hover")}))},_=()=>{document.querySelectorAll(".viewer-columns").forEach((e=>{e.querySelector(".viewer-selector")?.classList.remove("no-hover")}))},{handlerId:I}=T(d),C=c(),E=e=>{C.value=i(v(e))};function k(){const{columnKey:e}=t,{key:r,type:n}=Z.value[e];Q.value=n,Y.value=r,J.value=!0}return(e,t)=>{const a=be;return p(),g("div",{ref:E,class:S(["viewer-columns",{indicator:l(s)}]),"data-handler-id":l(I),onClickCapture:k,id:`column_${e.columnKey}`},[l(s)?x("",!0):(p(),g(y,{key:0},[h("div",{class:S(["viewer-selector",{active:l(Y)===e.columnKey}])},[h("div",{ref:l(o),class:"viewer-drag"},[f(a,{name:"drag-drag",size:"20"})],512),h("div",Cn,[x("",!0),h("div",{class:"action-btn",onClick:t[0]||(t[0]=()=>l(le)(e.columnKey))},[f(a,{name:"drag-remove",size:"16",color:"#fff"})])]),l(Z)[e.columnKey]?(p(),g("div",En,m((i=l(Z)[e.columnKey].type,i.charAt(0).toUpperCase()+i.slice(1))),1)):x("",!0)],2),h("div",{class:"columns-container",style:O({...l(r),maxWidth:l(n),zIndex:l(ee)==e.columnKey?2e3:100})},[(p(!0),g(y,null,b(l(Z)[e.columnKey].children,(t=>(p(),w(In,{key:t,"cell-key":t,"column-key":e.columnKey,id:`cell_${t}`},null,8,["cell-key","column-key","id"])))),128))],4)],64))],42,Tn);var i}}}),[["__scopeId","data-v-8a721d89"]]),Pn={class:"editor-container"},Nn={key:0,class:"drag-empty"},Un={key:1,class:"drag-empty-box"},Kn={key:0,class:"drag-empty-box"},jn=we(a({__name:"index",emits:["columnDrag"],setup(e,{emit:t}){const r=t,n=c(null),a=c(!1),o=c(0),i=u((()=>({backgroundColor:ie.value.backgroundColor}))),[s,d]=Hr({accept:[...B,z.Columns],collect:e=>({isShallowOver:e.isOver({shallow:!0})}),drop:e=>{e.type==z.Columns&&(r("columnDrag",e,o.value),o.value=0,a.value=!1)},hover:(e,t)=>{if(e.type==z.Columns)Ee((()=>{const e=t.getSourceClientOffset(),r=document.querySelectorAll(".editor-container .viewer-columns");if(e&&r.length>0){const{y:t}=e;let n=!0;for(let e=r.length-1;e>=0;e--){const a=r[e],{top:i,height:l}=a.getBoundingClientRect();if(t>i+l/2){n=!1,o.value=e+1;break}}n&&(o.value=0)}a.value=v.value}),150)();else if(v.value){if(ce.value.length&&"0"==e.key){const e=ce.value.at(-1),r={};Z.value[e].children.forEach((e=>r[e]=document.querySelector(`#cell_${e}`)));const n={};for(let t in r)n[t]=r[t].getBoundingClientRect();const a=t.getClientOffset();M.value="";for(let t in n)if(a.x>n[t].left&&a.x<n[t].right){for(let e in n)R.value[e].children=R.value[e].children.filter((e=>"indicator"!==e));R.value[t].children.push("indicator"),M.value=t}else R.value[t].children=R.value[t].children.filter((e=>"indicator"!==e))}}else M.value=""}}),{isShallowOver:v}=T(s),m=e=>{e&&(n.value=d(e))},w=()=>{Q.value="",Y.value=""};return(e,t)=>(p(),g("div",{class:"flex flex-col h-full",onClickCapture:w},[f(yn),h("div",Pn,[h("div",{ref:m,class:"editor-draggable",style:O(l(i))},[l(a)||0!==l(ce).length?x("",!0):(p(),g("div",Nn," No content here. Drag content from left. ")),l(a)&&0===l(o)?(p(),g("div",Un)):x("",!0),(p(!0),g(y,null,b(l(ce),((e,t)=>(p(),g(y,{key:e},[f(kn,{"column-key":e},null,8,["column-key"]),l(a)&&t+1===l(o)?(p(),g("div",Kn)):x("",!0)],64)))),128))],4)])],32))}}),[["__scopeId","data-v-ce509aab"]]),Mn={class:"style-container"},An={class:"style-rows"},Rn={class:"style-label"},Ln={class:"style-value"},Hn=we(a({__name:"BaseContainer",props:{label:{type:String,default:""}},setup:e=>(t,r)=>(p(),g("div",Mn,[h("div",An,[h("div",Rn,m(e.label),1),h("div",Ln,[E(t.$slots,"value",{},void 0,!0)])]),E(t.$slots,"options",{},void 0,!0)]))}),[["__scopeId","data-v-213c8ded"]]),$n=a({__name:"Head",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>{const n=ke,a=Pe;return p(),w(Hn,{label:"Heading Type"},{value:P((()=>[f(a,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e)},{default:P((()=>[f(n,{value:"22px"},{default:P((()=>r[1]||(r[1]=[N("H1")]))),_:1}),f(n,{value:"20px"},{default:P((()=>r[2]||(r[2]=[N("H2")]))),_:1}),f(n,{value:"18px"},{default:P((()=>r[3]||(r[3]=[N("H3")]))),_:1}),f(n,{value:"16px"},{default:P((()=>r[4]||(r[4]=[N("H4")]))),_:1})])),_:1},8,["value"])])),_:1})}}}),zn={class:"w-32px"},Bn=a({__name:"Color",props:U({label:{default:""}},{value:{default:""},valueModifiers:{}}),emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>{const n=De;return p(),w(Hn,{label:e.label},{value:P((()=>[h("div",zn,[f(n,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e),modes:["hex"]},{label:P((()=>r[1]||(r[1]=[h("span",null,null,-1)]))),_:1},8,["value"])])])),_:1},8,["label"])}}}),Fn={class:"w-180px"},Wn=a({__name:"Width",props:{value:{default:""},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value"),r=c(100);D((()=>t.value),(e=>{r.value=Number.parseFloat(e)}),{immediate:!0});const n=e=>{t.value=`${e}%`};return(e,t)=>{const a=Se;return p(),w(Hn,{label:"Width"},{value:P((()=>[h("div",Fn,[f(a,{value:r.value,"onUpdate:value":[t[0]||(t[0]=e=>r.value=e),n],step:1},null,8,["value"])])])),_:1})}}}),qn={class:"flex items-center h-32px"},Gn={key:0,class:"ml-8px whitespace-nowrap"},Xn=a({__name:"WidthAuto",props:{value:{default:""},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value"),r=c(!0),n=c(100);D((()=>t.value),(e=>{"auto"===e?r.value=!0:(r.value=!1,n.value=Number.parseFloat(e)),r.value||(n.value=Number.parseFloat(e))}),{immediate:!0});const a=e=>{n.value=100,t.value=e?"100%":`${n.value}%`},o=e=>{t.value=`${e}%`};return(e,t)=>{const i=Ne,l=Se;return p(),w(Hn,{label:"Width"},{value:P((()=>[t[2]||(t[2]=h("span",{class:"mr-12px"},"Auto On",-1)),f(i,{value:r.value,"onUpdate:value":[t[0]||(t[0]=e=>r.value=e),a]},null,8,["value"])])),options:P((()=>[h("div",qn,[f(l,{value:n.value,"onUpdate:value":[t[1]||(t[1]=e=>n.value=e),o],step:1,disabled:r.value},null,8,["value","disabled"]),r.value?x("",!0):(p(),g("span",Gn,m(n.value)+"%",1))])])),_:1})}}}),Vn=a({__name:"BaseNumber",props:U({unit:{type:String,default:"px"},step:{type:Number,default:1}},{value:{default:""},valueModifiers:{}}),emits:["update:value"],setup(e){const t=k(e,"value"),r=c(0);D((()=>t.value),(e=>{r.value=e?Number.parseFloat(e):0}),{immediate:!0});const n=r=>{t.value=`${r||0}${e.unit}`};return(t,a)=>{const o=Ue,i=Ke,l=je;return p(),w(l,{class:"w-auto"},{default:P((()=>[f(o,{value:r.value,"onUpdate:value":[a[0]||(a[0]=e=>r.value=e),n],min:0,step:e.step,placeholder:"",style:{width:"92px"}},null,8,["value","step"]),f(i,null,{default:P((()=>[N(m(e.unit),1)])),_:1})])),_:1})}}}),Yn=a({__name:"WidthNumber",props:{value:{default:"500px"},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>(p(),w(Hn,{label:"Width"},{value:P((()=>[f(Vn,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e)},null,8,["value"])])),_:1}))}}),Jn={class:"w-100px"},Qn=a({__name:"FontWeight",props:U({label:{default:""}},{value:{default:""},valueModifiers:{}}),emits:["update:value"],setup(e){const t=k(e,"value"),r=[{label:"Normal",value:"normal"},{label:"Bold",value:"bold"}];return t.value||(t.value=r[0].value),(e,n)=>{const a=Me;return p(),w(Hn,{label:"Font Weight"},{value:P((()=>[h("div",Jn,[f(a,{value:t.value,"onUpdate:value":n[0]||(n[0]=e=>t.value=e),options:r},null,8,["value"])])])),_:1})}}}),Zn=a({__name:"FontSize",props:{value:{default:"14px"},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>(p(),w(Hn,{label:"Font Size"},{value:P((()=>[f(Vn,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e)},null,8,["value"])])),_:1}))}}),ea=a({__name:"LineHeight",props:{value:{default:"120%"},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>(p(),w(Hn,{label:"Line Height"},{value:P((()=>[f(Vn,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e),unit:"%",step:10},null,8,["value"])])),_:1}))}}),ta=a({__name:"LetterSpacing",props:{value:{default:"0px"},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>(p(),w(Hn,{label:"Letter Spacing"},{value:P((()=>[f(Vn,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e)},null,8,["value"])])),_:1}))}}),ra=a({__name:"TextAlign",props:U({label:{default:""}},{value:{},valueModifiers:{}}),emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>{const n=ke,a=Pe;return p(),w(Hn,{label:e.label||"Text Align"},{value:P((()=>[f(a,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e)},{default:P((()=>[f(n,{value:"left"},{default:P((()=>r[1]||(r[1]=[N("Left")]))),_:1}),f(n,{value:"center"},{default:P((()=>r[2]||(r[2]=[N("Center")]))),_:1}),f(n,{value:"right"},{default:P((()=>r[3]||(r[3]=[N("Right")]))),_:1})])),_:1},8,["value"])])),_:1},8,["label"])}}}),na={class:"flex flex-col gap-8px"},aa={class:"w-92px"},oa={class:"w-32px"},ia=a({__name:"BaseBorder",props:{value:{default:""},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value"),r=[{label:"Solid",value:"solid"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"}],n=c("solid"),a=c(""),o=c(""),i=()=>{t.value=`${a.value} ${n.value} ${o.value||"transparent"}`};return D((()=>t.value),(e=>{const[t,r,i]=e.split(" ");a.value=t||"",n.value=r||"solid",o.value=i||""}),{immediate:!0}),(e,t)=>{const l=Me,u=De;return p(),g("div",na,[f(Vn,{value:a.value,"onUpdate:value":[t[0]||(t[0]=e=>a.value=e),i],placeholder:""},null,8,["value"]),h("div",aa,[f(l,{value:n.value,"onUpdate:value":[t[1]||(t[1]=e=>n.value=e),i],options:r,placeholder:""},null,8,["value"])]),h("div",oa,[f(u,{value:o.value,"onUpdate:value":[t[2]||(t[2]=e=>o.value=e),i],modes:["hex"]},{label:P((()=>t[3]||(t[3]=[h("span",null,null,-1)]))),_:1},8,["value"])])])}}}),la=a({__name:"Line",props:{value:{default:""},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>(p(),w(Hn,{label:"Line"},{value:P((()=>[f(ia,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e)},null,8,["value"])])),_:1}))}}),ua={class:"flex items-center h-32px"},sa=we({},[["render",function(e,t){return p(),g("div",ua,[E(e.$slots,"default")])}]]),ca=a({__name:"MoreOptions",props:{show:{type:Boolean,default:!1}},setup:e=>(e,t)=>{const r=Ae,n=_e;return e.show?(p(),w(n,{key:1,"x-gap":"8","y-gap":"8",cols:2},{default:P((()=>[f(r,null,{default:P((()=>[f(sa,null,{default:P((()=>t[1]||(t[1]=[N("Top")]))),_:1}),E(e.$slots,"top")])),_:3}),f(r,null,{default:P((()=>[f(sa,null,{default:P((()=>t[2]||(t[2]=[N("Right")]))),_:1}),E(e.$slots,"right")])),_:3}),f(r,null,{default:P((()=>[f(sa,null,{default:P((()=>t[3]||(t[3]=[N("Left")]))),_:1}),E(e.$slots,"left")])),_:3}),f(r,null,{default:P((()=>[f(sa,null,{default:P((()=>t[4]||(t[4]=[N("Bottom")]))),_:1}),E(e.$slots,"bottom")])),_:3})])),_:3})):(p(),g(y,{key:0},[f(sa,null,{default:P((()=>t[0]||(t[0]=[N("All Sides")]))),_:1}),E(e.$slots,"all")],64))}}),da=a({__name:"Border",props:U({label:{default:""}},{value:{default:()=>({more:!1,all:"",top:"",left:"",right:"",bottom:""})},valueModifiers:{}}),emits:["update:value"],setup(e){const t=k(e,"value"),r=e=>{e?(t.value.top=t.value.all,t.value.right=t.value.all,t.value.bottom=t.value.all,t.value.left=t.value.all):t.value.all=t.value.top};return(e,n)=>{const a=Ne;return p(),w(Hn,{label:e.label||"Border"},{value:P((()=>[n[6]||(n[6]=h("span",{class:"mr-12px"},"More Options",-1)),f(a,{value:t.value.more,"onUpdate:value":[n[0]||(n[0]=e=>t.value.more=e),r]},null,8,["value"])])),options:P((()=>[f(ca,{show:t.value.more},{all:P((()=>[f(ia,{value:t.value.all,"onUpdate:value":n[1]||(n[1]=e=>t.value.all=e)},null,8,["value"])])),top:P((()=>[f(ia,{value:t.value.top,"onUpdate:value":n[2]||(n[2]=e=>t.value.top=e)},null,8,["value"])])),left:P((()=>[f(ia,{value:t.value.left,"onUpdate:value":n[3]||(n[3]=e=>t.value.left=e)},null,8,["value"])])),right:P((()=>[f(ia,{value:t.value.right,"onUpdate:value":n[4]||(n[4]=e=>t.value.right=e)},null,8,["value"])])),bottom:P((()=>[f(ia,{value:t.value.bottom,"onUpdate:value":n[5]||(n[5]=e=>t.value.bottom=e)},null,8,["value"])])),_:1},8,["show"])])),_:1},8,["label"])}}}),va=a({__name:"Padding",props:U({label:{default:""}},{value:{default:()=>({more:!1,all:"",top:"",left:"",right:"",bottom:""})},valueModifiers:{}}),emits:["update:value"],setup(e){const t=k(e,"value"),r=e=>{e?(t.value.top=t.value.all,t.value.right=t.value.all,t.value.bottom=t.value.all,t.value.left=t.value.all):t.value.all=t.value.top};return(e,n)=>{const a=Ne;return p(),w(Hn,{label:e.label||"Padding"},{value:P((()=>[n[6]||(n[6]=h("span",{class:"mr-12px"},"More Options",-1)),f(a,{value:t.value.more,"onUpdate:value":[n[0]||(n[0]=e=>t.value.more=e),r]},null,8,["value"])])),options:P((()=>[f(ca,{show:t.value.more},{all:P((()=>[f(Vn,{value:t.value.all,"onUpdate:value":n[1]||(n[1]=e=>t.value.all=e)},null,8,["value"])])),top:P((()=>[f(Vn,{value:t.value.top,"onUpdate:value":n[2]||(n[2]=e=>t.value.top=e)},null,8,["value"])])),left:P((()=>[f(Vn,{value:t.value.left,"onUpdate:value":n[3]||(n[3]=e=>t.value.left=e)},null,8,["value"])])),right:P((()=>[f(Vn,{value:t.value.right,"onUpdate:value":n[4]||(n[4]=e=>t.value.right=e)},null,8,["value"])])),bottom:P((()=>[f(Vn,{value:t.value.bottom,"onUpdate:value":n[5]||(n[5]=e=>t.value.bottom=e)},null,8,["value"])])),_:1},8,["show"])])),_:1},8,["label"])}}}),pa=a({__name:"Rounded",props:{value:{default:()=>({more:!1,all:"",top:"",left:"",right:"",bottom:""})},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value"),r=e=>{e?(t.value.top=t.value.all,t.value.right=t.value.all,t.value.bottom=t.value.all,t.value.left=t.value.all):t.value.all=t.value.top};return(e,n)=>{const a=Ne;return p(),w(Hn,{label:"Rounded Border"},{value:P((()=>[n[6]||(n[6]=h("span",{class:"mr-12px"},"More Options",-1)),f(a,{value:t.value.more,"onUpdate:value":[n[0]||(n[0]=e=>t.value.more=e),r]},null,8,["value"])])),options:P((()=>[f(ca,{show:t.value.more},{all:P((()=>[f(Vn,{value:t.value.all,"onUpdate:value":n[1]||(n[1]=e=>t.value.all=e)},null,8,["value"])])),top:P((()=>[f(Vn,{value:t.value.top,"onUpdate:value":n[2]||(n[2]=e=>t.value.top=e)},null,8,["value"])])),left:P((()=>[f(Vn,{value:t.value.left,"onUpdate:value":n[3]||(n[3]=e=>t.value.left=e)},null,8,["value"])])),right:P((()=>[f(Vn,{value:t.value.right,"onUpdate:value":n[4]||(n[4]=e=>t.value.right=e)},null,8,["value"])])),bottom:P((()=>[f(Vn,{value:t.value.bottom,"onUpdate:value":n[5]||(n[5]=e=>t.value.bottom=e)},null,8,["value"])])),_:1},8,["show"])])),_:1})}}}),ga={class:"w-140px"},fa=a({__name:"Layout",props:U({label:{default:""}},{value:{default:""},valueModifiers:{}}),emits:["update:value"],setup(e){const t=k(e,"value"),r=[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"}];return t.value||(t.value=r[0].value),(e,n)=>{const a=Me;return p(),w(Hn,{label:"Layout"},{value:P((()=>[h("div",ga,[f(a,{value:t.value,"onUpdate:value":n[0]||(n[0]=e=>t.value=e),options:r},null,8,["value"])])])),_:1})}}});function ha(e){return[a({setup:(t,{slots:r})=>()=>{return f(ma,{options:e},"function"==typeof(t=r)||"[object Object]"===Object.prototype.toString.call(t)&&!K(t)?r:{default:()=>[r]});var t}})]}const ma=a({props:{value:{type:Object,default:()=>({})},options:{type:Array,default:()=>[]}},setup:(e,{slots:t})=>()=>f(y,null,[e.options.map((r=>function(e,t,r){const{key:n,attrKey:a,label:o}=e,i=n||a;switch(a){case"color":case"backgroundColor":return f(Bn,{value:t[i],"onUpdate:value":e=>t[i]=e,label:o},null);case"head":return f($n,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"padding":return f(va,{value:t[i],"onUpdate:value":e=>t[i]=e,label:o},null);case"border":return f(da,{value:t[i],"onUpdate:value":e=>t[i]=e,label:o},null);case"borderTop":return f(la,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"width":return f(Wn,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"widthAuto":return f(Xn,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"widthNumber":return f(Yn,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"fontWeight":return f(Qn,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"fontSize":return f(Zn,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"lineHeight":return f(ea,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"letterSpacing":return f(ta,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"textAlign":return f(ra,{value:t[i],"onUpdate:value":e=>t[i]=e,label:o},null);case"borderRadius":return f(pa,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"layout":return f(fa,{value:t[i],"onUpdate:value":e=>t[i]=e},null);case"custom":return function(e,t){return e.render?f(y,null,[e.render()]):e.key?t[e.key]?.():void 0}(e,r)}}(r,e.value,t)))])}),ya=we({},[["render",function(e,t){const r=Oe;return p(),w(r,{"arrow-placement":"right","display-directive":"show"},{default:P((()=>[E(e.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-405bbf77"]]),ba={class:"text"},wa=a({__name:"ColumnItem",props:{active:{type:Boolean,default:!1},options:{default:()=>[100]}},setup:e=>(e,t)=>(p(),g("div",{class:S(["columns-tools",{active:e.active}])},[(p(!0),g(y,null,b(e.options,((e,t)=>{return p(),g("div",{key:`${t+1}`,class:"columns-item",style:O({flex:`0 0 ${e}%`})},[h("div",ba,m((r=e,`${Math.floor(r)}%`)),1)],4);var r})),128))],2))}),xa=we(wa,[["__scopeId","data-v-8bb925d2"]]),Da={class:"mt-8px"},Sa=we(a({__name:"ColumnsConfig",setup(e){const t=[[100],[50,50],[33.33,33.33,33.34],[25,25,25,25],[33,67],[67,33]],r=c(Z.value[Y.value].children[0]),n=u((()=>{const e=Z.value[Y.value];return e?e.children:[]})),a=u((()=>n.value.map((e=>Number.parseFloat(R.value[e].width))))),o=e=>JSON.stringify(e)===JSON.stringify(a.value),s=u({get:()=>oe.value[Y.value],set(e){oe.value[Y.value]=e}});D(s,(()=>{ne.$emit("makeDom")}),{deep:!0}),D(re,(()=>{ne.$emit("makeDom")}),{deep:!0});const[d]=ha([{attrKey:"backgroundColor",label:"Background Color"},{attrKey:"padding",label:"Padding"},{attrKey:"border",label:"Border"}]),[v]=ha([{attrKey:"custom",render:()=>f(Bn,{value:oe.value[Y.value].style.backgroundColor,"onUpdate:value":e=>oe.value[Y.value].style.backgroundColor=e,label:"Background Color"},null)},{attrKey:"custom",render:()=>f(va,{value:oe.value[Y.value].style.padding,"onUpdate:value":e=>oe.value[Y.value].style.padding=e,label:"Container Padding"},null)}]);function m(){pe(r.value,Y.value),C((()=>{r.value=Z.value[Y.value].children[0]}))}return(e,n)=>{const a=Ae,u=_e,c=Ie,D=Re,S=Le,_=He;return p(),w(ya,{"default-expanded-names":["1","2","3"]},{default:P((()=>[f(c,{title:"Columns Item",name:"1"},{default:P((()=>[f(u,{"x-gap":"16","y-gap":"16",cols:"2"},{default:P((()=>[(p(),g(y,null,b(t,((e,t)=>f(a,{key:`${t+1}`},{default:P((()=>[f(xa,{active:o(e),options:e,onClick:t=>l(de)(e,l(Y))},null,8,["active","options","onClick"])])),_:2},1024))),64))])),_:1})])),_:1}),f(c,{title:"Columns Item Style",name:"2"},{default:P((()=>[f(D,{size:"small",onClick:n[0]||(n[0]=()=>l(ve)(l(Y)))},{default:P((()=>n[4]||(n[4]=[N(" Add ")]))),_:1}),l(Z)[l(Y)].children.length>1?(p(),w(D,{key:0,class:"ml-8px",size:"small",onClick:m},{default:P((()=>n[5]||(n[5]=[N(" Delete ")]))),_:1})):x("",!0),f(_,{value:l(r),"onUpdate:value":n[1]||(n[1]=e=>i(r)?r.value=e:null),type:"line"},{default:P((()=>[(p(!0),g(y,null,b(l(Z)[l(Y)].children,((e,t)=>(p(),w(S,{key:e,name:e,tab:`Column ${t+1}`},null,8,["name","tab"])))),128))])),_:1},8,["value"]),h("div",Da,[f(l(d),{value:l(re)[l(r)].style,"onUpdate:value":n[2]||(n[2]=e=>l(re)[l(r)].style=e)},null,8,["value"])])])),_:1}),f(c,{title:"Columns Style",name:"3"},{default:P((()=>[f(l(v),{value:l(s).style,"onUpdate:value":n[3]||(n[3]=e=>l(s).style=e)},null,8,["value"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-f1a281a5"]]),_a={class:"mt-12px"},Oa=a({__name:"Link",props:{value:{},valueModifiers:{},target:{},targetModifiers:{}},emits:["update:value","update:target"],setup(e){const t=k(e,"value"),r=k(e,"target");return(e,n)=>{const a=$e,o=Ne;return p(),w(Hn,{label:"Image Link"},{options:P((()=>[h("div",null,[f(a,{value:t.value,"onUpdate:value":n[0]||(n[0]=e=>t.value=e)},null,8,["value"])]),h("div",_a,[f(o,{value:r.value,"onUpdate:value":n[1]||(n[1]=e=>r.value=e),"checked-value":"_blank","unchecked-value":"_self"},null,8,["value"]),n[2]||(n[2]=h("span",{class:"ml-8px"},"Open link in new tab",-1))])])),_:1})}}}),Ia=a({__name:"ContentText",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>{const n=$e;return p(),w(Hn,{label:"Content"},{options:P((()=>[h("div",null,[f(n,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e)},null,8,["value"])])])),_:1})}}}),Ta={class:"p-20px"},Ca=a({__name:"ButtonConfig",setup(e){const t=u({get:()=>G.value[Y.value],set(e){console.log("测试"),G.value[Y.value]=e}});D(t,(()=>{ne.$emit("makeDom")}),{deep:!0});const[r]=ha([{attrKey:"custom",render:()=>f(Ia,{value:t.value.content,"onUpdate:value":e=>t.value.content=e},null)},{attrKey:"custom",render:()=>f(Oa,{value:t.value.info.href,"onUpdate:value":e=>t.value.info.href=e,target:t.value.info.target,"onUpdate:target":e=>t.value.info.target=e,label:"Link"},null)},{attrKey:"backgroundColor",label:"Background Color"},{attrKey:"color",label:"Text Color"},{attrKey:"widthAuto",key:"width"},{attrKey:"fontWeight"},{attrKey:"fontSize"},{attrKey:"lineHeight"},{attrKey:"letterSpacing"},{attrKey:"custom",render:()=>f(ra,{value:t.value.general.textAlign,"onUpdate:value":e=>t.value.general.textAlign=e,label:"Alignment"},null)},{attrKey:"padding"},{attrKey:"border"},{attrKey:"borderRadius"},{attrKey:"custom",render:()=>f(va,{value:t.value.general.padding,"onUpdate:value":e=>t.value.general.padding=e,label:"Container Padding"},null)}]);return(e,n)=>(p(),g("div",Ta,[f(l(r),{value:l(t).style,"onUpdate:value":n[0]||(n[0]=e=>l(t).style=e)},null,8,["value"])]))}}),Ea={class:"p-20px"},ka=a({__name:"DividerConfig",setup(e){const t=u({get:()=>G.value[Y.value],set(e){G.value[Y.value]=e}});D(t,(()=>{ne.$emit("makeDom")}),{deep:!0});const[r]=ha([{attrKey:"width"},{attrKey:"borderTop"},{attrKey:"custom",render:()=>f(ra,{value:t.value.general.textAlign,"onUpdate:value":e=>t.value.general.textAlign=e,label:"Align"},null)},{attrKey:"custom",render:()=>f(va,{value:t.value.general.padding,"onUpdate:value":e=>t.value.general.padding=e,label:"Container Padding"},null)}]);return(e,n)=>(p(),g("div",Ea,[f(l(r),{value:l(t).style,"onUpdate:value":n[0]||(n[0]=e=>l(t).style=e)},null,8,["value"])]))}}),Pa={class:"p-20px"},Na=a({__name:"HeaderConfig",setup(e){const t=u({get:()=>G.value[Y.value],set(e){G.value[Y.value]=e}});D(t,(()=>{ne.$emit("makeDom")}),{deep:!0});const[r]=ha([{attrKey:"custom",render:()=>f(Ia,{value:t.value.content,"onUpdate:value":e=>t.value.content=e},null)},{attrKey:"head",key:"fontSize"},{attrKey:"fontWeight"},{attrKey:"fontSize"},{attrKey:"color",label:"Color"},{attrKey:"custom",render:()=>f(ra,{value:t.value.general.textAlign,"onUpdate:value":e=>t.value.general.textAlign=e,label:"Align"},null)},{attrKey:"lineHeight"},{attrKey:"letterSpacing"},{attrKey:"custom",render:()=>f(va,{value:t.value.general.padding,"onUpdate:value":e=>t.value.general.padding=e,label:"Container Padding"},null)}]);return(e,n)=>(p(),g("div",Pa,[f(l(r),{value:l(t).style,"onUpdate:value":n[0]||(n[0]=e=>l(t).style=e)},null,8,["value"])]))}}),Ua={class:"p-16px"},Ka=a({__name:"TextConfig",setup(e){const t=u({get:()=>G.value[Y.value],set(e){G.value[Y.value]=e}});D(t,(()=>{ne.$emit("makeDom")}),{deep:!0});const[r]=ha([{attrKey:"custom",render:()=>f(Ia,{value:t.value.content,"onUpdate:value":e=>t.value.content=e},null)},{attrKey:"fontWeight"},{attrKey:"fontSize"},{attrKey:"color",label:"Text Color"},{attrKey:"textAlign"},{attrKey:"lineHeight"},{attrKey:"letterSpacing"},{attrKey:"custom",render:()=>f(va,{value:t.value.general.padding,"onUpdate:value":e=>t.value.general.padding=e,label:"Container Padding"},null)}]);return(e,n)=>(p(),g("div",Ua,[f(l(r),{value:l(t).style,"onUpdate:value":n[0]||(n[0]=e=>l(t).style=e)},null,8,["value"])]))}}),ja=a({__name:"Image",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>{const n=$e;return p(),w(Hn,{label:"Image URL"},{options:P((()=>[f(n,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e)},null,8,["value"])])),_:1})}}}),Ma=a({__name:"Title",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const t=k(e,"value");return(e,r)=>{const n=$e;return p(),w(Hn,{label:"Alternate Text"},{options:P((()=>[f(n,{value:t.value,"onUpdate:value":r[0]||(r[0]=e=>t.value=e)},null,8,["value"])])),_:1})}}}),Aa={class:"p-20px"},Ra=a({__name:"ImageConfig",setup(e){const t=u({get:()=>G.value[Y.value],set(e){G.value[Y.value]=e}});D(t,(()=>{ne.$emit("makeDom")}),{deep:!0});const[r]=ha([{attrKey:"custom",render:()=>f(ja,{value:t.value.info.src,"onUpdate:value":e=>t.value.info.src=e},null)},{attrKey:"widthAuto",key:"width"},{attrKey:"custom",render:()=>f(ra,{value:t.value.general.textAlign,"onUpdate:value":e=>t.value.general.textAlign=e,label:"Align"},null)},{attrKey:"custom",render:()=>f(Ma,{value:t.value.info.alt,"onUpdate:value":e=>t.value.info.alt=e},null)},{attrKey:"custom",render:()=>f(Oa,{value:t.value.info.href,"onUpdate:value":e=>t.value.info.href=e,target:t.value.info.target,"onUpdate:target":e=>t.value.info.target=e},null)},{attrKey:"custom",render:()=>f(va,{value:t.value.general.padding,"onUpdate:value":e=>t.value.general.padding=e,label:"Container Padding"},null)}]);return(e,n)=>(p(),g("div",Aa,[f(l(r),{value:l(t).style,"onUpdate:value":n[0]||(n[0]=e=>l(t).style=e)},null,8,["value"])]))}}),La={class:"w-100px"},Ha={class:"w-100px"},$a=we(a({__name:"MenuLinkItem",props:U({id:{},index:{},moveLink:{type:Function},findLink:{type:Function}},{label:{},labelModifiers:{},href:{},hrefModifiers:{}}),emits:U(["del"],["update:label","update:href"]),setup(e,{emit:t}){const r=e,n=t,a=k(e,"label"),o=k(e,"href"),i=()=>{n("del")},[s,c,d]=Kr({type:"MenuLink",item:()=>({id:r.id,index:r.index}),collect:e=>({isDragging:e.isDragging()}),end:(e,t)=>{const{id:n,index:a}=e;t.didDrop()||r.moveLink(n,a)}}),[,v]=Hr((()=>({accept:"MenuLink",hover({id:e}){if(e!==r.id){const{index:t}=r.findLink(r.id);r.moveLink(e,t)}}}))),m=e=>{e&&d(v(e))},{isDragging:y}=T(s),b=u((()=>l(y)?0:1));return(e,t)=>{const r=$e,n=be;return p(),g("li",{ref:m,class:"link-items",style:O({opacity:l(b)})},[h("div",La,[f(r,{value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e)},null,8,["value"])]),h("div",Ha,[f(r,{value:o.value,"onUpdate:value":t[1]||(t[1]=e=>o.value=e)},null,8,["value"])]),h("div",{class:"w-auto cursor-pointer",onClick:i},[f(n,{name:"drag-remove",size:"13"})]),h("div",{ref:l(c),class:"w-auto cursor-grab"},[f(n,{name:"drag-sort",size:"16"})],512)],4)}}}),[["__scopeId","data-v-3d608e71"]]),za={class:"flex-1"},Ba={class:"link-group"},Fa=we(a({__name:"MenuLink",setup(e){const t=u({get:()=>G.value[Y.value].links,set(e){G.value[Y.value].links=e}}),r=()=>{t.value.push({id:A(6),label:"",href:""})},n=e=>{const r=t.value.filter((t=>`${t.id}`===e))[0];return{link:r,index:t.value.indexOf(r)}},a=(e,r)=>{const{link:a,index:o}=n(e);t.value.splice(o,1),t.value.splice(r,0,a)};return(e,o)=>{const i=Re,u=ze;return p(),w(u,{label:"Links"},{default:P((()=>[h("div",za,[h("ul",Ba,[(p(!0),g(y,null,b(l(t),((e,r)=>(p(),w($a,{label:e.label,"onUpdate:label":t=>e.label=t,href:e.href,"onUpdate:href":t=>e.href=t,id:e.id,index:r,key:e.id,item:e,"find-link":n,"move-link":a,onDel:e=>(e=>{t.value.splice(e,1)})(r)},null,8,["label","onUpdate:label","href","onUpdate:href","id","index","item","onDel"])))),128))]),f(i,{block:"",class:"mt-12px",onClick:r},{default:P((()=>[N(m(e.$t("Public.Btn.Add")),1)])),_:1})])])),_:1})}}}),[["__scopeId","data-v-ac667732"]]),Wa={class:"p-16px"},qa=a({__name:"MenuConfig",setup(e){const t=u({get:()=>G.value[Y.value],set(e){G.value[Y.value]=e}});D((()=>t.value),(()=>{ne.$emit("makeDom")}),{deep:!0});const[r]=ha([{attrKey:"fontWeight"},{attrKey:"fontSize"},{attrKey:"letterSpacing"},{attrKey:"color",label:"Text Color"},{attrKey:"color",key:"linkColor",label:"Link Color"},{attrKey:"custom",render:()=>f(ra,{value:t.value.general.textAlign,"onUpdate:value":e=>t.value.general.textAlign=e,label:"Align"},null)},{attrKey:"custom",render:()=>f(fa,{value:t.value.info.layout,"onUpdate:value":e=>t.value.info.layout=e},null)},{attrKey:"padding"},{attrKey:"custom",render:()=>f(va,{value:t.value.general.padding,"onUpdate:value":e=>t.value.general.padding=e,label:"Container Padding"},null)}]);return(e,n)=>(p(),g("div",Wa,[f(Fa),f(l(r),{value:l(t).style,"onUpdate:value":n[0]||(n[0]=e=>l(t).style=e)},null,8,["value"])]))}}),Ga=a({__name:"ConfigComponent",setup:e=>(e,t)=>(p(),g("div",null,["columns"==l(Q)?(p(),w(Sa,{key:0})):"button"==l(Q)?(p(),w(Ca,{key:1})):"divider"==l(Q)?(p(),w(ka,{key:2})):"header"==l(Q)?(p(),w(Na,{key:3})):"text"==l(Q)?(p(),w(Ka,{key:4})):"image"==l(Q)?(p(),w(Ra,{key:5})):"menu"==l(Q)?(p(),w(qa,{key:6})):x("",!0)]))}),Xa={class:"p-20px"},Va=a({__name:"ConfigPage",setup(e){D(ie,(()=>{ne.$emit("makeDom")}),{deep:!0});const[t]=ha([{attrKey:"color",key:"backgroundColor",label:"Background"},{attrKey:"widthNumber",key:"maxWidth"}]);return(e,r)=>(p(),g("div",Xa,[f(l(t),{value:l(ie),"onUpdate:value":r[0]||(r[0]=e=>i(ie)?ie.value=e:null)},null,8,["value"])]))}}),Ya=we(a({__name:"index",setup:e=>(e,t)=>{const r=Le,n=He;return p(),w(n,{type:"line","justify-content":"space-evenly",animated:""},{default:P((()=>[f(r,{name:"component",tab:"Content Config"},{default:P((()=>[f(Ga)])),_:1}),f(r,{name:"page",tab:"Page Config"},{default:P((()=>[f(Va)])),_:1})])),_:1})}}),[["__scopeId","data-v-6ec3f7d6"]]),Ja={class:"editor-content"},Qa={class:"editor-left"},Za={class:"editor-center"},eo={class:"editor-right"};e("default",we(a({__name:"index",props:{save:{}},setup(e,{expose:t}){const r=e;return r.save&&(ge.value=r.save),j((()=>{fe()})),t({setEmailData:he,getEmailData:()=>me.value,getEmailHTML:()=>$.value}),(e,t)=>(p(),w(l(or),{backend:l(sn)},{default:P((()=>[h("div",Ja,[h("div",Qa,[f(gn)]),h("div",Za,[f(jn,{onColumnDrag:l(ye)},null,8,["onColumnDrag"])]),h("div",eo,[f(Ya)])])])),_:1},8,["backend"]))}}),[["__scopeId","data-v-83f72cb9"]]))}}}));
