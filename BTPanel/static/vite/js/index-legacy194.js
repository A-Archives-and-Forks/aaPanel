System.register(["./index-legacy102.js?v=1753954525509","./public-legacy.js?v=1753954525509","./index-legacy100.js?v=1753954525509","./mail-legacy2.js?v=1753954525509","./index-legacy50.js?v=1753954525509","./page_layout-legacy.js?v=1753954525509","./naive-legacy.js?v=1753954525509","./vue-legacy.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1753954525509","./common-legacy.js?v=1753954525509","./__commonjsHelpers__-legacy.js?v=1753954525509","./index-legacy.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1753954525509"],(function(e,l){"use strict";var a,t,s,n,i,o,c,d,r,u,_,p,m,f,y,v,h,x,b,g,w,k,j,C,S,$,D,P,L,z,U,A,M,B,V,G,N,O;return{setters:[e=>{a=e._},e=>{t=e.c,s=e.d,n=e._,i=e.b,o=e.ao,c=e.ap,d=e.f},e=>{r=e._},e=>{u=e.ae,_=e.af},e=>{p=e.s},e=>{m=e.m,f=e.e,y=e.c},e=>{v=e.bY,h=e.c5,x=e.c6,b=e.ay,g=e.cA},e=>{w=e.k,k=e.P,j=e.r,C=e.c,S=e.U,$=e.V,D=e.X,P=e.a1,L=e.a2,z=e.Q,U=e.W,A=e.a3,M=e.al,B=e.ah,V=e.j,G=e.aj,N=e.e},e=>{O=e._},null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".n-alert[data-v-ec749ad6]{--n-color: #dff0d8;--n-border: 1px solid #d6e9c6;--n-font-size: 12px}.cert-info[data-v-ec749ad6]{color:#3c763d}.cert-info+.cert-info[data-v-ec749ad6]{margin-top:2px}.cert-info .cert-label[data-v-ec749ad6]{font-weight:700}.cert-info .cert-value[data-v-ec749ad6]{flex:1;width:0}\n",document.head.appendChild(l);const R={class:"cert-info"},Y={class:"cert-label"},q={class:"cert-value"},E={class:"cert-info"},H={class:"cert-label"},I={class:"cert-value"},Q={class:"cert-info mt-10px"},T={class:"cert-label mr-10px"},W={class:"w-48%"},X={class:"mb-8px"},F={class:"w-48%"},J={class:"mb-8px"},K=f(w({__name:"index",props:{row:{}},emits:["close","refresh"],setup(e,{emit:l}){const a=e,i=l,{row:o}=a,{t:c}=k(),d=j(o.ssl_info.key||""),f=j(o.ssl_info.src||""),y=C((()=>(o.ssl_info.dns||[]).join(", "))),g=async()=>{""!==d.value&&""!==f.value?(await u({domain:o.domain,key:d.value,csr:f.value}),i("refresh"),i("close")):m.error(c("Mail.Domain.index_31"))},w=()=>{s({title:c("Mail.Domain.index_32"),content:c("Mail.Domain.index_33"),onConfirm:async()=>{await _({domain:o.domain,key:d.value,csr:f.value}),i("refresh"),i("close")}})},{loading:G,setLoading:N}=t(),O=async e=>{try{N(!0),await p({domain:o.domain,open:e}),o.ssl_alarm=e}catch{o.ssl_alarm=1===e?0:1}finally{N(!1)}};return(e,l)=>{const a=v,t=h,s=x,i=r,c=b,u=n;return S(),$("div",null,[D(o).ssl_status?(S(),P(s,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:L((()=>[z(a,{class:"items-center"},{default:L((()=>[U("div",R,[U("span",Y,A(e.$t("Site.Cert.index_30"))+A(e.$t("Public.Punctuation.Colon")),1),U("span",q,A(D(o).ssl_info.issuer),1)]),U("div",E,[U("span",H,A(e.$t("Site.Cert.index_46"))+A(e.$t("Public.Punctuation.Colon")),1),U("span",I,A(D(y)),1)])])),_:1}),U("div",Q,[U("span",T,A(e.$t("SSL.Domain.index_26")),1),z(t,{size:"small",loading:D(G),"rubber-band":!1,value:D(o).ssl_alarm,"onUpdate:value":O,"checked-value":1,"unchecked-value":0},null,8,["loading","value"])])])),_:1})):M("",!0),z(a,{class:"mb-16px",size:10,justify:"space-between"},{default:L((()=>[U("div",W,[U("div",X,A(e.$t("Site.Cert.index_50")),1),z(i,{value:D(d),"onUpdate:value":l[0]||(l[0]=e=>B(d)?d.value=e:null),rows:10},null,8,["value"])]),U("div",F,[U("div",J,A(e.$t("Site.Cert.index_51")),1),z(i,{value:D(f),"onUpdate:value":l[1]||(l[1]=e=>B(f)?f.value=e:null),rows:10},null,8,["value"])])])),_:1}),z(a,{class:"mb-12px"},{default:L((()=>[z(c,{type:"primary",onClick:g},{default:L((()=>[V(A(e.$t("Public.Btn.Save")),1)])),_:1}),z(c,{onClick:w},{default:L((()=>[V(A(e.$t("Public.Btn.Delete")),1)])),_:1})])),_:1}),z(u,null,{default:L((()=>[U("li",null,A(e.$t("Site.Cert.index_33")),1),U("li",null,A(e.$t("Site.Cert.index_34")),1),U("li",null,A(e.$t("Site.Cert.index_35")),1),U("li",null,A(e.$t("Site.Cert.index_36")),1)])),_:1})])}}}),[["__scopeId","data-v-ec749ad6"]]),Z={key:0},ee={key:1},le={class:"color-#3c763d"},ae={class:"color-#3c763d"},te=w({__name:"index",props:{row:{}},emits:["refresh"],setup(e,{emit:l}){const a=e,t=l,{row:s}=a,n=G(),r=N({ssl_method:"2"}),u=j({}),_=C((()=>s.ssl_hash&&Object.keys(u.value).length>0)),{table:p,columns:m}=i([{key:"type",title:"Type",width:50},{key:"record",title:"Record",width:120,ellipsis:{tooltip:!0}},{key:"value",title:"Value",ellipsis:{tooltip:!0}},{key:"necessary",title:"Necessary"}]),f=()=>{n.push("/ssl_domain/domain")},h=async()=>{},w=async()=>{await o({hash:s.ssl_hash,domain:s.domain}),t("refresh")};return(async()=>{if(s.ssl_hash){const{message:e}=await c({hash:s.ssl_hash});y(e)&&(u.value=e,r.ssl_method="2")}})(),(e,l)=>{const a=x,t=g,n=b,i=v,o=d,c=O;return S(),P(c,{model:D(r),"label-width":"180px"},{default:L((()=>[z(t,{label:"Domain name"},{default:L((()=>[z(a,{class:"min-w-250px h-36px",type:"default","show-icon":!1},{default:L((()=>[U("span",null,A(D(s).domain),1)])),_:1})])),_:1}),z(t,{label:"SSL to be applied for"},{default:L((()=>[z(a,{class:"min-w-250px h-36px",type:"default","show-icon":!1},{default:L((()=>[D(u).dns?(S(),$("span",Z,A(D(u).dns.join(",")),1)):(S(),$("span",ee,"--"))])),_:1})])),_:1}),"1"===D(r).ssl_method?(S(),P(t,{key:0,label:" "},{default:L((()=>[z(i,{class:"flex-col!"},{default:L((()=>[z(a,{type:"warning"},{default:L((()=>[z(i,{class:"items-center flex-nowrap!"},{default:L((()=>[l[1]||(l[1]=U("span",null,"After clicking Generate, the system will submit a verification request to Lets encrypt for you, please follow the prompts to your domain name hosting provider to add the corresponding resolution",-1)),z(n,{type:"primary",size:"small",ghost:"",onClick:h},{default:L((()=>l[0]||(l[0]=[V("Generate")]))),_:1,__:[0]})])),_:1,__:[1]})])),_:1}),z(o,{columns:D(m),data:D(p).data},null,8,["columns","data"])])),_:1})])),_:1})):(S(),P(t,{key:1,label:" "},{default:L((()=>[z(i,{class:"flex-col!"},{default:L((()=>[D(_)?(S(),P(a,{key:1,type:"success"},{default:L((()=>l[4]||(l[4]=[U("span",{class:"color-#3c763d font-bold"},"Does the system find a matching certificate for you and deploy it immediately?",-1)]))),_:1,__:[4]})):(S(),P(a,{key:0,type:"error"},{default:L((()=>[z(i,{class:"items-center flex-nowrap!"},{default:L((()=>[l[3]||(l[3]=U("span",null,"Your domain has not yet been integrated with the domain management center.",-1)),z(n,{type:"primary",size:"small",ghost:"",onClick:f},{default:L((()=>l[2]||(l[2]=[V("Add Now")]))),_:1,__:[2]})])),_:1,__:[3]})])),_:1})),D(_)?(S(),P(i,{key:2,class:"flex-col!"},{default:L((()=>[l[7]||(l[7]=U("div",null,"Valid certificate",-1)),z(a,{type:"success","show-icon":!1},{default:L((()=>[U("div",le,[l[5]||(l[5]=U("span",{class:"font-bold"},"Brand：",-1)),V(A(D(u).info.issuer_O+" "+D(u).info.issuer),1)]),U("div",ae,[l[6]||(l[6]=U("span",{class:"font-bold"},"Certificate domain(s)：",-1)),V(" "+A(D(u).dns.join(",")),1)])])),_:1})])),_:1,__:[7]})):M("",!0)])),_:1})])),_:1})),z(t,{label:" "},{default:L((()=>[z(n,{type:"primary",onClick:w,disabled:!D(_)},{default:L((()=>[V(A(e.$t("SSL.index_29")),1)])),_:1},8,["disabled"])])),_:1})])),_:1},8,["model"])}}}),se={class:"h-full p-16px"};e("default",w({__name:"index",props:{row:{}},emits:["close","refresh"],setup(e,{emit:l}){const t=e,s=l,{row:n}=t,{t:i}=k(),o={row:n,onClose:()=>{s("close")},onRefresh:()=>{s("refresh")}},c=j("other"),d=[{key:"other",label:i("Mail.Domain.index_30"),component:K},{key:"apply",label:"Apply for SSL",component:te}];return(e,l)=>{const t=a;return S(),$("div",se,[z(t,{value:D(c),"onUpdate:value":l[0]||(l[0]=e=>B(c)?c.value=e:null),data:o,options:d},null,8,["value"])])}}}))}}}));
