import{_ as a}from"./index.js?v=1741416570306";import{_ as e}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1741416570306";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1741416570306";import{cC as n,cD as s,cE as l,cF as i,b as o}from"./page_layout.js?v=1741416570306";import{b as r,f as d,a as _,c as p,d as u}from"./public.js?v=1741416570306";import{_ as m}from"./index.vue_vue_type_script_setup_true_lang.js?v=1741416570306";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang15.js?v=1741416570306";import{d as g,M as f,r as x,j as v,P as h,Q as b,N as w,$ as y,S,a7 as j,c as k,a0 as $}from"./vue.js?v=1741416570306";import{_ as C,cb as U,bV as T,T as D}from"./naive.js?v=1741416570306";const L={class:"p-20px"},P=g({__name:"form",props:{data:{}},setup(a,{expose:e}){const{t:t}=f(),s=a,{getList:l,name:i}=s.data,o=x(null),r=v({name:i,args_name:"",ps:"",args:"",init:t("Soft.index_48")}),d={args_name:{required:!0,message:t("Soft.index_43"),trigger:["blur","input"]},args:{required:!0,message:t("Soft.index_46"),trigger:["blur","input"]}};return e({onConfirm:async({hide:a})=>{var e;await(null==(e=o.value)?void 0:e.validate()),await n(j(r)),null==l||l(),a()}}),(a,e)=>{const t=C,n=U,s=m;return h(),b("div",L,[w(s,{ref_key:"formRef",ref:o,model:S(r),rules:d},{default:y((()=>[w(n,{label:a.$t("Site.TableRow.index_2"),path:"args_name"},{default:y((()=>[w(t,{class:"w-280px!",value:S(r).args_name,"onUpdate:value":e[0]||(e[0]=a=>S(r).args_name=a),placeholder:a.$t("Soft.index_43")},null,8,["value","placeholder"])])),_:1},8,["label"]),w(n,{label:a.$t("Docker.Container.config.image.index_11"),path:"ps"},{default:y((()=>[w(t,{class:"w-280px!",maxlength:"30","show-count":"",value:S(r).ps,"onUpdate:value":e[1]||(e[1]=a=>S(r).ps=a),placeholder:a.$t("Soft.index_44")},null,8,["value","placeholder"])])),_:1},8,["label"]),w(n,{label:a.$t("Soft.index_45"),path:"args"},{default:y((()=>[w(t,{class:"w-280px!",value:S(r).args,"onUpdate:value":e[2]||(e[2]=a=>S(r).args=a),placeholder:a.$t("Soft.index_46")},null,8,["value","placeholder"])])),_:1},8,["label"]),w(n,{label:a.$t("Soft.index_47"),path:"init"},{default:y((()=>[w(c,{value:S(r).init,"onUpdate:value":e[3]||(e[3]=a=>S(r).init=a),height:300,"show-tips":!1,class:"w-350px"},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),R={class:"p-20px"},q=g({__name:"index",props:{data:{}},setup(n,{expose:m}){const{t:c}=f(),g=n,{name:x,callback:j}=g.data,C=()=>{V.show=!0},U=v({args_names:""}),{keys:L,table:q,columns:B}=r([{key:"name",title:c("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:c("Docker.Container.config.image.index_11"),ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:c("WP.TableRow.index_8"),render:a=>w(T,{value:E(a.name),"onUpdate:value":e=>F(a.name,e)},null)},d({width:100,align:"center",options:a=>[{label:c("Public.Btn.Del"),onClick:()=>{_({title:"".concat(c("Site.TableOP.index_6")," [").concat(a.name,"]"),content:c("Soft.index_50",[a.name]),onConfirm:async({hide:e})=>{await s({name:x,args_name:a.name}),Q(),e()}})}}]})]),E=a=>U.args_names.split("\n").includes(a),F=async(a,e)=>{let t;t=e?U.args_names.trim().length>0?U.args_names+"\n"+a:a:M(a),await l({name:x,args_names:t}),Q()},M=a=>U.args_names.split("\n").filter((e=>e!==a)).join("\n"),{loading:N,setLoading:O}=p(),Q=async()=>{try{O(!0);const{message:a}=await i({name:x});o(a)&&(q.data=a.args,U.args_names=a.config)}finally{L.value=[],O(!1)}},V=u(c("Soft.index_49"),{getList:Q,name:x});Q();return m({onConfirm:async()=>{null==j||j()}}),(n,s)=>{const l=D,i=t,o=e,r=a;return h(),b("div",R,[w(o,null,{toolsLeft:y((()=>[w(l,{type:"primary",onClick:C},{default:y((()=>[k($(n.$t("Soft.index_49")),1)])),_:1})])),table:y((()=>[w(i,{"max-height":250,loading:S(N),data:S(q).data,columns:S(B)},null,8,["loading","data","columns"])])),_:1}),w(r,{show:S(V).show,"onUpdate:show":s[0]||(s[0]=a=>S(V).show=a),title:S(V).title,data:S(V).data,width:550,footer:!0,component:P},null,8,["show","title","data"])])}}});export{q as _};
