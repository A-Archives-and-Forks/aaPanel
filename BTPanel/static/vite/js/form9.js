import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.js?v=1758789124250";import{a,g as l}from"./index70.js?v=1758789124250";import{d4 as r,d as t}from"./page_layout.js?v=1758789124250";import"./public.js?v=1758789124250";import{k as s,P as p,r as o,e as u,w as d,R as n,V as i,W as m,a3 as _,a2 as c,U as v}from"./vue.js?v=1758789124250";import{da as y,dR as x,au as f,df as w,dT as k,dZ as b}from"./naive.js?v=1758789124250";import"./index108.js?v=1758789124250";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1758789124250";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1758789124250";import"./index.js?v=1758789124250";import"./common.js?v=1758789124250";import"./__commonjsHelpers__.js?v=1758789124250";import"./terminal2.js?v=1758789124250";import"./xterm.js?v=1758789124250";import"./xterm-addon-canvas.js?v=1758789124250";const h={class:"p-20px"},g={key:1},j=s({__name:"form",props:{data:{}},setup(s,{expose:j}){const $=r(),{t:T}=p(),U=s,{isEdit:C,row:P}=U.data,q=o(null),I=u({ip:"",port:22,account:"root",type:1,password:"",key:"",keyPassword:"",remark:""});d(()=>I.ip,e=>{C||(I.remark=e)});const R={ip:{required:!0,message:T("Security.Conf.Index_28"),trigger:["blur","input"]},port:{required:!0,type:"number",message:T("Security.Conf.Index_28"),trigger:["blur","input"]},account:{required:!0,message:T("Security.Conf.Index_28"),trigger:["blur","input"]},password:{required:!0,message:T("Security.Conf.Index_28"),trigger:["blur","input"]},key:{required:!0,message:T("Security.Conf.Index_28"),trigger:["blur","input"]}};return(async()=>{if(C&&P){const{message:e}=await l({host:P.host});t(e)&&(I.ip=e.host,I.port=e.port,I.account=e.username,I.type=e.password?1:2,I.password=e.password,I.key=e.pkey,I.keyPassword=e.pkey_passwd,I.remark=e.ps)}})(),j({onConfirm:async({hide:e})=>{var l;await(null==(l=q.value)?void 0:l.validate()),await a({host:I.ip,port:I.port,username:I.account,password:1===I.type?I.password:"",pkey:2===I.type?I.key:"",pkey_passwd:2===I.type?I.keyPassword:"",ps:I.remark}),$.setRefresh(!0),e()}}),(a,l)=>{const r=f,t=x,s=w,p=y,o=b,u=k,d=e;return i(),n("div",h,[m(d,{ref_key:"formRef",ref:q,model:v(I),rules:R},{default:_(()=>[m(p,null,{default:_(()=>[m(t,{label:a.$t("Term.index_8"),path:"ip"},{default:_(()=>[m(r,{class:"w-190px!",value:v(I).ip,"onUpdate:value":l[0]||(l[0]=e=>v(I).ip=e),placeholder:a.$t("Term.index_9")},null,8,["value","placeholder"])]),_:1},8,["label"]),m(t,{path:"port"},{default:_(()=>[m(s,{"show-button":!1,class:"w-80px!",value:v(I).port,"onUpdate:value":l[1]||(l[1]=e=>v(I).port=e),placeholder:a.$t("Docker.Container.create.index_7")},null,8,["value","placeholder"])]),_:1})]),_:1}),m(t,{label:a.$t("Term.index_10"),path:"account"},{default:_(()=>[m(r,{class:"w-280px!",value:v(I).account,"onUpdate:value":l[2]||(l[2]=e=>v(I).account=e),placeholder:a.$t("Term.index_11")},null,8,["value","placeholder"])]),_:1},8,["label"]),m(t,{label:a.$t("Term.index_12")},{default:_(()=>[m(u,{value:v(I).type,"onUpdate:value":l[3]||(l[3]=e=>v(I).type=e)},{default:_(()=>[m(o,{label:a.$t("Database.index_14"),value:1},null,8,["label"]),m(o,{label:a.$t("Term.index_13"),value:2},null,8,["label"])]),_:1},8,["value"])]),_:1},8,["label"]),1===v(I).type?(i(),c(t,{key:0,label:a.$t("Database.index_14"),path:"password"},{default:_(()=>[m(r,{class:"w-280px!",value:v(I).password,"onUpdate:value":l[4]||(l[4]=e=>v(I).password=e),placeholder:a.$t("Term.index_14")},null,8,["value","placeholder"])]),_:1},8,["label"])):(i(),n("div",g,[m(t,{label:a.$t("Term.index_13"),path:"key"},{default:_(()=>[m(r,{class:"w-280px!",type:"textarea",value:v(I).key,"onUpdate:value":l[5]||(l[5]=e=>v(I).key=e),placeholder:a.$t("Term.index_15")},null,8,["value","placeholder"])]),_:1},8,["label"]),m(t,{label:a.$t("Term.index_16")},{default:_(()=>[m(r,{class:"w-280px!",value:v(I).keyPassword,"onUpdate:value":l[6]||(l[6]=e=>v(I).keyPassword=e),placeholder:a.$t("Term.index_17")},null,8,["value","placeholder"])]),_:1},8,["label"])])),m(t,{label:"Remarks"},{default:_(()=>[m(r,{class:"w-280px!",value:v(I).remark,"onUpdate:value":l[7]||(l[7]=e=>v(I).remark=e),placeholder:a.$t("Term.index_18")},null,8,["value","placeholder"])]),_:1})]),_:1},8,["model"])])}}});export{j as default};
