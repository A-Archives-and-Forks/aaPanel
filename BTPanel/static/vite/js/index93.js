import{_ as e}from"./index.js?v=1742891699271";import{_ as t}from"./index95.js?v=1742891699271";import{u as a,cR as s,b as l,m as n,c6 as i,f as o,l as p,k as r}from"./page_layout.js?v=1742891699271";import{d as u}from"./public.js?v=1742891699271";import{c as m}from"./soft.js?v=1742891699271";import{g as _}from"./soft2.js?v=1742891699271";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang19.js?v=1742891699271";import{bZ as d,bU as v,cn as f,T as x}from"./naive.js?v=1742891699271";import{d as h,O as j,r as g,V as y,R as w,S as b,P as k,a1 as $,U as H,ag as S,a2 as I,af as P,a0 as T,c as U,ap as C,l as R}from"./vue.js?v=1742891699271";import"./common.js?v=1742891699271";import"./__commonjsHelpers__.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1742891699271";import"./theme-chrome.js?v=1742891699271";import"./file.js?v=1742891699271";const L={key:0,class:"p-30px"},M=["src"],N=["title"],O={class:"font-600 mt-30px"},W=["innerHTML"],q=r(h({__name:"index",props:{name:{},callback:{},hide:{}},setup(r){const{t:h}=j(),q=a(),V=r,Z=["nginx","apache","mysql","php"],z=e=>Z.includes(e)||e.startsWith("php-"),A=g(),B=g(""),D=g(),E=(e,t)=>{B.value=t.ps},F=e=>R(d,{trigger:"hover",placement:"top-start"},{trigger:()=>R("span",e.label),default:()=>R("span",e.label)}),G=g(),J=async(e=1)=>{var t;if(G.value){const{message:a}=await s({sName:G.value.name,version:A.value,type:e});if(l(a)){if(a.result)return n.success(a.result),q.taskCount+=1,null==(t=V.callback)||t.call(V),V.hide(),void i();await m({name:a.name,tmp_path:a.tmp_path,title:h("Soft.index_21")},(()=>{var e;null==(e=V.callback)||e.call(V)}))}V.hide()}},K=()=>{Q.show=!0},Q=u(h("Home.Install.index_7"),{name:V.name,callback:()=>{J(0)}});return(async()=>{const{message:e}=await o({sName:V.name},!0);l(e)&&(G.value=e,D.value=e.versions.map((t=>{const a=t.m_version+"."+t.version;return{label:5===e.type?t.m_version:a||t.m_version,value:5===e.type?t.m_version:a||t.m_version,ps:t.update_msg}})),A.value=D.value[0].value,B.value=D.value[0].ps)})(),(a,s)=>{const l=v,n=f,i=x,o=p,r=t,u=e;return y(G)?(w(),b("div",L,[k(l,{class:"justify-between! items-center"},{default:$((()=>[k(l,{class:"items-center"},{default:$((()=>[H("img",{class:"w-40px",src:y(_)(y(G).name)},null,8,M),H("div",null,[H("p",{class:S(["font-600 text-18px max-w-290px",{"max-w-190px!":z(y(G).name)}]),title:"".concat(y(G).title," ").concat(y(A))},I(y(G).title)+" "+I(y(G).title.indexOf("PHP-")>-1?"":y(A)),11,N)])])),_:1}),k(l,null,{default:$((()=>[k(n,{class:"w-100px!",value:y(A),"onUpdate:value":[s[0]||(s[0]=e=>P(A)?A.value=e:null),E],options:y(D),"consistent-menu-width":!1,"render-label":F},null,8,["value","options"]),z(y(G).name)?(w(),T(i,{key:0,onClick:K},{default:$((()=>[U(I(a.$t("Home.Install.index_7")),1)])),_:1})):C("",!0),k(i,{type:"primary",onClick:s[1]||(s[1]=e=>J(1))},{default:$((()=>[U(I(z(y(G).name)?a.$t("Home.Install.index_5"):a.$t("Soft.index_34")),1)])),_:1})])),_:1}),k(o)])),_:1}),H("div",O,I(a.$t("Soft.index_39"))+"ï¼š",1),H("span",{class:"py-10px inline-block leading-20px color-#777777",innerHTML:y(B)},null,8,W),k(r,null,{default:$((()=>[H("li",null,I(a.$t("Soft.index_35")),1),H("li",null,I(a.$t("Soft.index_36")),1),H("li",null,I(a.$t("Soft.index_37")),1)])),_:1}),k(u,{show:y(Q).show,"onUpdate:show":s[2]||(s[2]=e=>y(Q).show=e),title:y(Q).title,data:y(Q).data,width:480,footer:!0,"confirm-text":a.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):C("",!0)}}}),[["__scopeId","data-v-ff9d47ce"]]);export{q as default};
