import{a}from"./index.js?v=1741416570306";import{_ as s}from"./index.vue_vue_type_script_setup_true_lang.js?v=1741416570306";import{b as l}from"./page_layout.js?v=1741416570306";import{a as t}from"./public.js?v=1741416570306";import{aa as e,ab as i,ac as o}from"./mail.js?v=1741416570306";import{ch as n,_ as p,y as u,cb as c,T as r}from"./naive.js?v=1741416570306";import{d as m,M as d,j as _,r as f,P as x,Q as v,R as b,N as h,$ as M,a0 as j,S as y,c as $}from"./vue.js?v=1741416570306";import"./common.js?v=1741416570306";import"./__commonjsHelpers__.js?v=1741416570306";const C={class:"px-20px pt-24px pb-8px"},g={class:"mb-20px"},w={class:"mb-20px text-desc"},P={class:"mb-6px"},k={class:"leading-18px"},z={class:"w-260px"},D=m({__name:"unsubscribe",emits:["close"],setup(m,{expose:D,emit:B}){const U=B,{t:H}=d(),N=_({http:"https://",url:""}),O=f(""),Q=f([{label:"http://",value:"http://"},{label:"https://",value:"https://"}]),R=a=>{const{clipboardData:s}=a;if(s){const a=s.getData("text");if(a)if(-1===a.indexOf("://"))console.log(1),N.url=a;else{const s=a.split("://")[0]+"://";N.http=s,N.url=a.replace(s,"")}}a.preventDefault()},S=async()=>{t({title:H("Mail.Mass.index_59"),content:H("Mail.Mass.index_60"),onConfirm:async()=>{await e(),T()}})},T=async()=>{const{message:a}=await i();if(l(a)){if(O.value=a.panel_url,O.value){const a=O.value.split("://")[0]+"://";N.http=a}if(a.url){const s=a.url.split("://")[0]+"://";N.http=s,N.url=a.url.replace(s,"")}}},q=()=>{U("close")},A=async()=>{await o({url:N.http+N.url}),U("close")};return T(),D({onConfirm:A}),(l,t)=>{const e=n,i=p,o=u,m=c,d=s,_=r,f=a;return x(),v("div",null,[b("div",C,[h(d,{model:y(N),"label-width":"auto"},{default:M((()=>[b("div",g,j(l.$t("Mail.Mass.index_55"))+j(y(O)||"--"),1),b("div",w,[b("div",P,j(l.$t("Mail.Mass.index_56")),1),b("div",k,j(l.$t("Mail.Mass.index_57")),1)]),h(m,{label:l.$t("Mail.Mass.index_58"),path:"url"},{default:M((()=>[b("div",z,[h(o,null,{default:M((()=>[h(e,{value:y(N).http,"onUpdate:value":t[0]||(t[0]=a=>y(N).http=a),style:{width:"90px"},options:y(Q)},null,8,["value","options"]),h(i,{value:y(N).url,"onUpdate:value":t[1]||(t[1]=a=>y(N).url=a),class:"flex-1",placeholder:"",onPaste:R},null,8,["value"])])),_:1})])])),_:1},8,["label"])])),_:1},8,["model"])]),h(f,null,{default:M((()=>[h(_,{size:"small",onClick:S},{default:M((()=>[$(j(l.$t("Mail.Mass.index_59")),1)])),_:1}),h(_,{class:"cancel-btn",size:"small",color:"#cbcbcb",onClick:q},{default:M((()=>[$(j(l.$t("Public.Btn.Cancel")),1)])),_:1}),h(_,{type:"primary",size:"small",onClick:A},{default:M((()=>[$(j(l.$t("Public.Btn.Confirm")),1)])),_:1})])),_:1})])}}});export{D as default};
