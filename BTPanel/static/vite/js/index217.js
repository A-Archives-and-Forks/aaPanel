import{b as a,h as e,f as s,_ as t}from"./public.js?v=1753954525509";import{k as l,P as i,r as n,U as o,V as m,W as r,Q as u,X as p,ah as d,at as c,a2 as f,j as _,a3 as x}from"./vue.js?v=1753954525509";import{w as g,m as v}from"./page_layout.js?v=1753954525509";import{w as y,x as N,y as h}from"./site3.js?v=1753954525509";import{aq as j,ay as b}from"./naive.js?v=1753954525509";import"./common.js?v=1753954525509";import"./__commonjsHelpers__.js?v=1753954525509";const C={class:"p-20px"},w={class:"flex mb-16px"},W={class:"flex-1 mr-16px"},S="disable_php_path",k=l({__name:"index",props:{siteName:{default:""}},setup(l){const k=l,{t:$}=i(),P=n(""),B=async()=>{""!==P.value.trim()?(await h({siteName:k.siteName,ruleName:S,ruleValue:P.value}),P.value="",A()):v.error($("Waf.Site.Config.index_70"))},{table:U,columns:V,setLoading:q}=a([{key:"rule",title:$("Waf.Site.Config.index_66")},e({width:80,options:(a,e)=>[{label:$("Public.Btn.Del"),onClick:async()=>{await y({index:e,siteName:k.siteName,ruleName:S}),A()}}]})]),A=async()=>{try{q(!0);const{siteName:a}=k,{message:e}=await N({siteName:a,ruleName:S});g(e)&&(U.data=e.map((a=>({rule:a}))))}finally{q(!1)}};return A(),(a,e)=>{const l=j,i=b,n=s,g=t;return o(),m("div",C,[r("div",w,[r("div",W,[u(l,{value:p(P),"onUpdate:value":e[0]||(e[0]=a=>d(P)?P.value=a:null),placeholder:a.$t("Waf.Site.Config.index_67"),onKeyup:c(B,["enter"])},null,8,["value","placeholder"])]),u(i,{type:"primary",onClick:B},{default:f((()=>[_(x(a.$t("Public.Btn.Add")),1)])),_:1})]),u(n,{"max-height":368,loading:p(U).loading,data:p(U).data,columns:p(V)},null,8,["loading","data","columns"]),u(g,{class:"mt-16px"},{default:f((()=>[r("li",null,x(a.$t("Waf.Site.Config.index_68")),1),r("li",null,x(a.$t("Waf.Site.Config.index_69")),1)])),_:1})])}}});export{k as default};
