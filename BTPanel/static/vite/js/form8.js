import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.js?v=1741416570306";import{a,g as l}from"./index67.js?v=1741416570306";import{c6 as r,b as t}from"./page_layout.js?v=1741416570306";import{d as s,M as p,r as o,j as u,w as d,P as n,Q as i,N as _,$ as c,S as m,_ as v}from"./vue.js?v=1741416570306";import{_ as y,cb as x,bS as b,bO as f,cm as w,cf as k}from"./naive.js?v=1741416570306";import"./index104.js?v=1741416570306";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1741416570306";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1741416570306";import"./public.js?v=1741416570306";import"./common.js?v=1741416570306";import"./__commonjsHelpers__.js?v=1741416570306";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1741416570306";import"./index.js?v=1741416570306";import"./xterm.js?v=1741416570306";import"./xterm-addon-canvas.js?v=1741416570306";const h={class:"p-20px"},g={key:1},j=s({__name:"form",props:{data:{}},setup(s,{expose:j}){const $=r(),{t:T}=p(),U=s,{isEdit:C,row:S}=U.data,P=o(null),q=u({ip:"",port:22,account:"root",type:1,password:"",key:"",keyPassword:"",remark:""});d((()=>q.ip),(e=>{C||(q.remark=e)}));const I={ip:{required:!0,message:T("Security.Conf.Index_28"),trigger:["blur","input"]},port:{required:!0,type:"number",message:T("Security.Conf.Index_28"),trigger:["blur","input"]},account:{required:!0,message:T("Security.Conf.Index_28"),trigger:["blur","input"]},password:{required:!0,message:T("Security.Conf.Index_28"),trigger:["blur","input"]},key:{required:!0,message:T("Security.Conf.Index_28"),trigger:["blur","input"]}};return(async()=>{if(C&&S){const{message:e}=await l({host:S.host});t(e)&&(q.ip=e.host,q.port=e.port,q.account=e.username,q.type=e.password?1:2,q.password=e.password,q.key=e.pkey,q.keyPassword=e.pkey_passwd,q.remark=e.ps)}})(),j({onConfirm:async({hide:e})=>{var l;await(null==(l=P.value)?void 0:l.validate()),await a({host:q.ip,port:q.port,username:q.account,password:1===q.type?q.password:"",pkey:2===q.type?q.key:"",pkey_passwd:2===q.type?q.keyPassword:"",ps:q.remark}),$.setRefresh(!0),e()}}),(a,l)=>{const r=y,t=x,s=b,p=f,o=w,u=k,d=e;return n(),i("div",h,[_(d,{ref_key:"formRef",ref:P,model:m(q),rules:I},{default:c((()=>[_(p,null,{default:c((()=>[_(t,{label:a.$t("Term.index_8"),path:"ip"},{default:c((()=>[_(r,{class:"w-190px!",value:m(q).ip,"onUpdate:value":l[0]||(l[0]=e=>m(q).ip=e),placeholder:a.$t("Term.index_9")},null,8,["value","placeholder"])])),_:1},8,["label"]),_(t,{path:"port"},{default:c((()=>[_(s,{"show-button":!1,class:"w-80px!",value:m(q).port,"onUpdate:value":l[1]||(l[1]=e=>m(q).port=e),placeholder:a.$t("Docker.Container.create.index_7")},null,8,["value","placeholder"])])),_:1})])),_:1}),_(t,{label:a.$t("Term.index_10"),path:"account"},{default:c((()=>[_(r,{class:"w-280px!",value:m(q).account,"onUpdate:value":l[2]||(l[2]=e=>m(q).account=e),placeholder:a.$t("Term.index_11")},null,8,["value","placeholder"])])),_:1},8,["label"]),_(t,{label:a.$t("Term.index_12")},{default:c((()=>[_(u,{value:m(q).type,"onUpdate:value":l[3]||(l[3]=e=>m(q).type=e)},{default:c((()=>[_(o,{label:a.$t("Database.index_14"),value:1},null,8,["label"]),_(o,{label:a.$t("Term.index_13"),value:2},null,8,["label"])])),_:1},8,["value"])])),_:1},8,["label"]),1===m(q).type?(n(),v(t,{key:0,label:a.$t("Database.index_14"),path:"password"},{default:c((()=>[_(r,{class:"w-280px!",value:m(q).password,"onUpdate:value":l[4]||(l[4]=e=>m(q).password=e),placeholder:a.$t("Term.index_14")},null,8,["value","placeholder"])])),_:1},8,["label"])):(n(),i("div",g,[_(t,{label:a.$t("Term.index_13"),path:"key"},{default:c((()=>[_(r,{class:"w-280px!",type:"textarea",value:m(q).key,"onUpdate:value":l[5]||(l[5]=e=>m(q).key=e),placeholder:a.$t("Term.index_15")},null,8,["value","placeholder"])])),_:1},8,["label"]),_(t,{label:a.$t("Term.index_16")},{default:c((()=>[_(r,{class:"w-280px!",value:m(q).keyPassword,"onUpdate:value":l[6]||(l[6]=e=>m(q).keyPassword=e),placeholder:a.$t("Term.index_17")},null,8,["value","placeholder"])])),_:1},8,["label"])])),_(t,{label:"Remarks"},{default:c((()=>[_(r,{class:"w-280px!",value:m(q).remark,"onUpdate:value":l[7]||(l[7]=e=>m(q).remark=e),placeholder:a.$t("Term.index_18")},null,8,["value","placeholder"])])),_:1})])),_:1},8,["model"])])}}});export{j as default};
