const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/backup-info.js?v=1753954525509","js/public.js?v=1753954525509","js/page_layout.js?v=1753954525509","js/vue.js?v=1753954525509","js/__commonjsHelpers__.js?v=1753954525509","js/naive.js?v=1753954525509","js/common.js?v=1753954525509","css/page_layout.css?v=1753954525509","css/public.css?v=1753954525509","js/utils.js?v=1753954525509","js/soft.js?v=1753954525509","css/backup-info.css?v=1753954525509"])))=>i.map(i=>d[i]);
import{n as a,V as e,W as t,a as l,c as s,O as i}from"./page_layout.js?v=1753954525509";import{_ as o}from"./index.js?v=1753954525509";import{_ as u}from"./index102.js?v=1753954525509";import{k as p,ad as n,U as r,a1 as _,a2 as c,Q as d,X as f,j as m,a3 as b,P as k,r as v,c as x,ah as g,W as h,_ as y}from"./vue.js?v=1753954525509";import{e as C,c as j}from"./public.js?v=1753954525509";import{u as B,H as w}from"./utils.js?v=1753954525509";import{ay as $}from"./naive.js?v=1753954525509";import"./common.js?v=1753954525509";import"./__commonjsHelpers__.js?v=1753954525509";import"./soft.js?v=1753954525509";const D=p({__name:"detail",props:{backupDetail:{default:()=>({type:"backup",done_time:"-",backup_file_size:"-",backup_file:"-",backup_file_sha256:"-",total_time:"-"})},type:{}},setup(l){const s=l,{backupDetail:i,type:o}=n(s);return(l,s)=>{const u=e,p=t;return r(),_(p,{column:1,bordered:"","label-placement":"left","label-style":{width:"150px"}},{default:c((()=>[d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_70"):l.$t("Config.Backup.index_71")},{default:c((()=>{var a;return[m(b(null==(a=f(i))?void 0:a.done_time),1)]})),_:1},8,["label"]),d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_72"):l.$t("Config.Backup.index_73")},{default:c((()=>{var e;return[m(b(f(a)(Number((null==(e=f(i))?void 0:e.backup_file_size)||0))),1)]})),_:1},8,["label"]),d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_74"):l.$t("Config.Backup.index_75")},{default:c((()=>{var a;return[m(b(null==(a=f(i))?void 0:a.backup_file),1)]})),_:1},8,["label"]),d(u,{label:l.$t("Config.Backup.index_63")},{default:c((()=>{var a;return[m(b(null==(a=f(i))?void 0:a.backup_file_sha256),1)]})),_:1},8,["label"]),d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_76"):l.$t("Config.Backup.index_77")},{default:c((()=>{var a;return[m(b((null==(a=f(i))?void 0:a.total_time)?"backup"===f(o)?f(i).total_time+" s":f(i).restore_total_time+" s":"-"),1)]})),_:1},8,["label"])])),_:1})}}}),U={class:"mt-16px text-right"},z=p({__name:"index",props:{data:{}},setup(a){const{t:e}=k(),t=y((()=>l((()=>import("./backup-info.js?v=1753954525509")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])))),p=B(),z=a,{data:E}=n(z),H=C(e("Config.Backup.index_89")),L=v({}),O=v("backup"),P=v(),R=[{key:"backup",label:e("Config.Backup.index_19"),component:D,data:{backupDetail:x((()=>L.value)),type:"backup"}},{key:"restore",label:e("Config.Backup.index_90"),component:D,data:{backupDetail:x((()=>L.value)),type:"restore"},show:0!==E.value.restore_status}],V=()=>{N()},W=()=>{H.show=!0,p.getData(L.value.data_status)},{loading:A,setLoading:I}=j(),N=async()=>{try{I(!0);const{message:a}=await w({timestamp:E.value.timestamp,type:O.value});s(a)&&(L.value=a)}finally{I(!1)}};return N(),(a,l)=>{const s=u,p=$,n=o,k=i;return r(),_(k,{class:"p-16px",show:f(A)},{default:c((()=>[d(s,{value:f(O),"onUpdate:value":[l[0]||(l[0]=a=>g(O)?O.value=a:null),V],ref_key:"tabsRef",ref:P,options:R},null,8,["value"]),h("div",U,[d(p,{type:"primary",class:"mr-16px",onClick:W},{default:c((()=>[m(b(f(e)("Config.Backup.index_88")),1)])),_:1})]),d(n,{show:f(H).show,"onUpdate:show":l[1]||(l[1]=a=>f(H).show=a),title:f(H).title,data:f(H).data,width:"750","min-height":250},{default:c((()=>[d(f(t),{class:"p-16px"})])),_:1},8,["show","title","data"])])),_:1},8,["show"])}}});export{z as default};
