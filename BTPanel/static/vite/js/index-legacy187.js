System.register(["./index-legacy104.js?v=1744703330658","./index-legacy95.js?v=1744703330658","./index-legacy99.js?v=1744703330658","./mail-legacy.js?v=1744703330658","./index-legacy48.js?v=1744703330658","./public-legacy.js?v=1744703330658","./page_layout-legacy.js?v=1744703330658","./naive-legacy.js?v=1744703330658","./vue-legacy.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1744703330658","./ssl-legacy.js?v=1744703330658","./index-legacy.js?v=1744703330658","./common-legacy.js?v=1744703330658","./__commonjsHelpers__-legacy.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1744703330658"],(function(e,l){"use strict";var a,t,s,n,i,o,c,d,r,u,p,_,m,f,y,v,h,x,g,b,w,k,j,C,S,$,D,P,L,U,z,M,A,B,O,R,V,q;return{setters:[e=>{a=e._},e=>{t=e._},e=>{s=e._},e=>{n=e.ae,i=e.af},e=>{o=e.s},e=>{c=e.c,d=e.a,r=e.b},e=>{u=e.m,p=e.k,_=e.d},e=>{m=e.bU,f=e.b$,y=e.cq,v=e.T,h=e.ch},e=>{x=e.d,g=e.O,b=e.r,w=e.e,k=e.R,j=e.S,C=e.V,S=e.$,$=e.a0,D=e.P,P=e.U,L=e.a1,U=e.ap,z=e.af,M=e.c,A=e.ai,B=e.j},e=>{O=e._},e=>{R=e._},e=>{V=e.o,q=e.p},null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".n-alert[data-v-ec749ad6]{--n-color: #dff0d8;--n-border: 1px solid #d6e9c6;--n-font-size: 12px}.cert-info[data-v-ec749ad6]{color:#3c763d}.cert-info+.cert-info[data-v-ec749ad6]{margin-top:2px}.cert-info .cert-label[data-v-ec749ad6]{font-weight:700}.cert-info .cert-value[data-v-ec749ad6]{flex:1;width:0}\n",document.head.appendChild(l);const G={class:"cert-info"},N={class:"cert-label"},T={class:"cert-value"},E={class:"cert-info"},H={class:"cert-label"},I={class:"cert-value"},Y={class:"cert-info mt-10px"},F={class:"cert-label mr-10px"},J={class:"w-48%"},K={class:"mb-8px"},Q={class:"w-48%"},W={class:"mb-8px"},X=p(x({__name:"index",props:{row:{}},emits:["close","refresh"],setup(e,{emit:l}){const a=e,r=l,{row:p}=a,{t:_}=g(),h=b(p.ssl_info.key||""),x=b(p.ssl_info.src||""),A=w((()=>(p.ssl_info.dns||[]).join(", "))),B=async()=>{""!==h.value&&""!==x.value?(await n({domain:p.domain,key:h.value,csr:x.value}),r("refresh"),r("close")):u.error(_("Mail.Domain.index_31"))},O=()=>{d({title:_("Mail.Domain.index_32"),content:_("Mail.Domain.index_33"),onConfirm:async()=>{await i({domain:p.domain,key:h.value,csr:x.value}),r("refresh"),r("close")}})},{loading:R,setLoading:V}=c(),q=async e=>{try{V(!0),await o({domain:p.domain,open:e}),p.ssl_alarm=e}catch{p.ssl_alarm=1===e?0:1}finally{V(!1)}};return(e,l)=>{const a=m,n=f,i=y,o=s,c=v,d=t;return k(),j("div",null,[C(p).ssl_status?(k(),S(i,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:$((()=>[D(a,{class:"items-center"},{default:$((()=>[P("div",G,[P("span",N,L(e.$t("Site.Cert.index_30"))+L(e.$t("Public.Punctuation.Colon")),1),P("span",T,L(C(p).ssl_info.issuer),1)]),P("div",E,[P("span",H,L(e.$t("Site.Cert.index_46"))+L(e.$t("Public.Punctuation.Colon")),1),P("span",I,L(C(A)),1)])])),_:1}),P("div",Y,[P("span",F,L(e.$t("SSL.Domain.index_26")),1),D(n,{size:"small",loading:C(R),"rubber-band":!1,value:C(p).ssl_alarm,"onUpdate:value":q,"checked-value":1,"unchecked-value":0},null,8,["loading","value"])])])),_:1})):U("",!0),D(a,{class:"mb-16px",size:10,justify:"space-between"},{default:$((()=>[P("div",J,[P("div",K,L(e.$t("Site.Cert.index_50")),1),D(o,{value:C(h),"onUpdate:value":l[0]||(l[0]=e=>z(h)?h.value=e:null),rows:10},null,8,["value"])]),P("div",Q,[P("div",W,L(e.$t("Site.Cert.index_51")),1),D(o,{value:C(x),"onUpdate:value":l[1]||(l[1]=e=>z(x)?x.value=e:null),rows:10},null,8,["value"])])])),_:1}),D(a,{class:"mb-12px"},{default:$((()=>[D(c,{type:"primary",onClick:B},{default:$((()=>[M(L(e.$t("Public.Btn.Save")),1)])),_:1}),D(c,{onClick:O},{default:$((()=>[M(L(e.$t("Public.Btn.Delete")),1)])),_:1})])),_:1}),D(d,null,{default:$((()=>[P("li",null,L(e.$t("Site.Cert.index_33")),1),P("li",null,L(e.$t("Site.Cert.index_34")),1),P("li",null,L(e.$t("Site.Cert.index_35")),1),P("li",null,L(e.$t("Site.Cert.index_36")),1)])),_:1})])}}}),[["__scopeId","data-v-ec749ad6"]]),Z={key:0},ee={key:1},le={class:"color-#3c763d"},ae={class:"color-#3c763d"},te=x({__name:"index",props:{row:{}},emits:["refresh"],setup(e,{emit:l}){const a=e,t=l,{row:s}=a,n=A(),i=B({ssl_method:"2"}),o=b({}),c=w((()=>s.ssl_hash&&Object.keys(o.value).length>0)),{table:d,columns:u}=r([{key:"type",title:"Type",width:50},{key:"record",title:"Record",width:120,ellipsis:{tooltip:!0}},{key:"value",title:"Value",ellipsis:{tooltip:!0}},{key:"necessary",title:"Necessary"}]),p=()=>{n.push("/ssl_domain/domain")},f=async()=>{},x=async()=>{await V({hash:s.ssl_hash,domain:s.domain}),t("refresh")};return(async()=>{if(s.ssl_hash){const{message:e}=await q({hash:s.ssl_hash});_(e)&&(o.value=e,i.ssl_method="2")}})(),(e,l)=>{const a=y,t=h,n=v,r=m,_=R,g=O;return k(),S(g,{model:C(i),"label-width":"180px"},{default:$((()=>[D(t,{label:"Domain name"},{default:$((()=>[D(a,{class:"min-w-250px h-36px",type:"default","show-icon":!1},{default:$((()=>[P("span",null,L(C(s).domain),1)])),_:1})])),_:1}),D(t,{label:"SSL to be applied for"},{default:$((()=>[D(a,{class:"min-w-250px h-36px",type:"default","show-icon":!1},{default:$((()=>[C(o).dns?(k(),j("span",Z,L(C(o).dns.join(",")),1)):(k(),j("span",ee,"--"))])),_:1})])),_:1}),"1"===C(i).ssl_method?(k(),S(t,{key:0,label:" "},{default:$((()=>[D(r,{class:"flex-col!"},{default:$((()=>[D(a,{type:"warning"},{default:$((()=>[D(r,{class:"items-center flex-nowrap!"},{default:$((()=>[l[1]||(l[1]=P("span",null,"After clicking Generate, the system will submit a verification request to Lets encrypt for you, please follow the prompts to your domain name hosting provider to add the corresponding resolution",-1)),D(n,{type:"primary",size:"small",ghost:"",onClick:f},{default:$((()=>l[0]||(l[0]=[M("Generate")]))),_:1})])),_:1})])),_:1}),D(_,{columns:C(u),data:C(d).data},null,8,["columns","data"])])),_:1})])),_:1})):(k(),S(t,{key:1,label:" "},{default:$((()=>[D(r,{class:"flex-col!"},{default:$((()=>[C(c)?(k(),S(a,{key:1,type:"success"},{default:$((()=>l[4]||(l[4]=[P("span",{class:"color-#3c763d font-bold"},"Does the system find a matching certificate for you and deploy it immediately?",-1)]))),_:1})):(k(),S(a,{key:0,type:"error"},{default:$((()=>[D(r,{class:"items-center flex-nowrap!"},{default:$((()=>[l[3]||(l[3]=P("span",null,"Your domain has not yet been integrated with the domain management center.",-1)),D(n,{type:"primary",size:"small",ghost:"",onClick:p},{default:$((()=>l[2]||(l[2]=[M("Add Now")]))),_:1})])),_:1})])),_:1})),C(c)?(k(),S(r,{key:2,class:"flex-col!"},{default:$((()=>[l[7]||(l[7]=P("div",null,"Valid certificate",-1)),D(a,{type:"success","show-icon":!1},{default:$((()=>[P("div",le,[l[5]||(l[5]=P("span",{class:"font-bold"},"Brand：",-1)),M(L(C(o).info.issuer_O+" "+C(o).info.issuer),1)]),P("div",ae,[l[6]||(l[6]=P("span",{class:"font-bold"},"Certificate domain(s)：",-1)),M(" "+L(C(o).dns.join(",")),1)])])),_:1})])),_:1})):U("",!0)])),_:1})])),_:1})),D(t,{label:" "},{default:$((()=>[D(n,{type:"primary",onClick:x,disabled:!C(c)},{default:$((()=>[M(L(e.$t("SSL.index_29")),1)])),_:1},8,["disabled"])])),_:1})])),_:1},8,["model"])}}}),se={class:"h-full p-16px"};e("default",x({__name:"index",props:{row:{}},emits:["close","refresh"],setup(e,{emit:l}){const t=e,s=l,{row:n}=t,{t:i}=g(),o={row:n,onClose:()=>{s("close")},onRefresh:()=>{s("refresh")}},c=b("other"),d=[{key:"other",label:i("Mail.Domain.index_30"),component:X},{key:"apply",label:"Apply for SSL",component:te}];return(e,l)=>{const t=a;return k(),j("div",se,[D(t,{value:C(c),"onUpdate:value":l[0]||(l[0]=e=>z(c)?c.value=e:null),data:o,options:d},null,8,["value"])])}}}))}}}));
