import{_ as e}from"./index.js?v=1741416570306";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1741416570306";import{_ as l}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1741416570306";import{_ as o}from"./index.vue_vue_type_script_setup_true_lang12.js?v=1741416570306";import{aR as t,bg as r,U as s,bh as i,bi as n,G as d,bj as u}from"./page_layout.js?v=1741416570306";import{d as m,b as c,f as p,c as _,w as k}from"./public.js?v=1741416570306";import{_ as f}from"./index.vue_vue_type_script_setup_true_lang.js?v=1741416570306";import{_ as v}from"./index99.js?v=1741416570306";import{d as x,M as h,r as w,j as y,P as b,Q as D,N as V,$ as g,R as j,S as $,a7 as N,w as U,_ as C,c as R,a0 as L,ae as P}from"./vue.js?v=1741416570306";import{_ as W,cb as M,ce as A,T as K}from"./naive.js?v=1741416570306";import"./common.js?v=1741416570306";import"./__commonjsHelpers__.js?v=1741416570306";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1741416570306";const S={class:"px-20px py-24px"},z={class:"w-350px"},B={class:"w-350px"},E={class:"w-350px"},G={class:"w-350px"},H=x({__name:"index",setup(e,{expose:a}){const{t:l}=h(),o=t(),s=w(null),i=y({name:"",driver:"local",driver_opts:"",labels:"",remark:""}),n={name:{trigger:["blur"],validator:()=>""!==i.name||new Error(l("Docker.Volume.form.index_2"))}};return a({onConfirm:async()=>{var e;await(null==(e=s.value)?void 0:e.validate()),await r(N(i)),o.setRefresh(!0)}}),(e,a)=>{const l=W,o=M,t=v,r=f;return b(),D("div",S,[V(r,{ref_key:"formRef",ref:s,model:$(i),rules:n},{default:g((()=>[V(o,{label:e.$t("Docker.Volume.form.index_1"),path:"name"},{default:g((()=>[j("div",z,[V(l,{value:$(i).name,"onUpdate:value":a[0]||(a[0]=e=>$(i).name=e),placeholder:e.$t("Docker.Volume.form.index_2")},null,8,["value","placeholder"])])])),_:1},8,["label"]),V(o,{label:e.$t("Docker.Volume.form.index_3"),path:"driver_opts"},{default:g((()=>[j("div",B,[V(t,{value:$(i).driver_opts,"onUpdate:value":a[1]||(a[1]=e=>$(i).driver_opts=e),rows:3,placeholder:e.$t("Docker.Volume.form.index_3")},null,8,["value","placeholder"])])])),_:1},8,["label"]),V(o,{label:e.$t("Docker.Volume.form.index_4"),path:"labels"},{default:g((()=>[j("div",E,[V(t,{value:$(i).labels,"onUpdate:value":a[2]||(a[2]=e=>$(i).labels=e),rows:3,placeholder:e.$t("Docker.Volume.form.index_5")},null,8,["value","placeholder"])])])),_:1},8,["label"]),V(o,{label:e.$t("Docker.Volume.form.index_6"),path:"remark"},{default:g((()=>[j("div",G,[V(t,{value:$(i).remark,"onUpdate:value":a[3]||(a[3]=e=>$(i).remark=e),rows:3,placeholder:e.$t("Docker.Volume.form.index_6")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),O=x({__name:"index",setup(r){const{t:f}=h(),v=m(f("Docker.Volume.index_1")),x=t(),w=()=>{v.show=!0},D=()=>{k({title:f("Docker.Volume.index_2"),width:400,content:()=>V("span",{class:"text-error"},[f("Docker.Volume.index_13")]),onConfirm:async()=>{await u(),G()}})},j=y({page:1,pageSize:10}),{keys:N,table:W,columns:M}=c([{type:"selection",width:40},{key:"Name",title:f("Docker.Volume.index_3"),ellipsis:{tooltip:!0},render:e=>e.Name||"--"},{key:"Mountpoint",title:f("Docker.Volume.index_4"),ellipsis:{tooltip:!0},render:e=>e.Mountpoint||"--"},{key:"container",title:f("Docker.Volume.index_5"),width:"16%",minWidth:120,ellipsis:{tooltip:!0},render:e=>e.container||"--"},{key:"Driver",title:f("Docker.Volume.index_6"),width:"10%",minWidth:100,render:e=>e.Driver||"--"},{key:"CreatedAt",title:f("Docker.Volume.index_7"),width:"12%",minWidth:140,render:e=>s(e.CreatedAt)},{key:"Labels",title:f("Docker.Volume.index_8"),width:"16%",minWidth:140,ellipsis:{tooltip:!0},render:e=>{if(!e.Labels)return"--";return(Object.entries(e.Labels)||[]).map((e=>"".concat(e[0],":").concat(e[1]))).join("\n")}},p({width:80,options:e=>[{label:f("Public.Btn.Del"),onClick:()=>{S(e)}}]})]),S=e=>{k({title:f("Docker.Volume.index_10",[e.Name]),content:()=>V("span",{class:"text-error"},[f("Docker.Volume.index_14",[e.Name])]),onConfirm:async()=>{await i({name:e.Name}),G()}})},z=[{key:"del",type:"confirm",label:"Please choose del",confirm:{title:f("Docker.Volume.index_11"),desc:f("Docker.Volume.index_12"),api:e=>i({name:e.Name},!1),done:()=>{G()},columns:[M.value[1]]}}],{loading:B,setLoading:E}=_(),G=async()=>{try{E(!0);const{message:e}=await n();W.data=d(e)?e:[]}finally{N.value=[],E(!1)}};return U((()=>x.isRefresh),(e=>{e&&(x.setRefresh(!1),G())})),G(),(t,r)=>{const s=K,i=o,n=l,d=a,u=e,m=A;return b(),C(m,{class:"p-16px"},{default:g((()=>[V(d,null,{toolsLeft:g((()=>[V(s,{type:"primary",onClick:w},{default:g((()=>[R(L(t.$t("Docker.Volume.index_1")),1)])),_:1}),V(s,{onClick:D},{default:g((()=>[R(L(t.$t("Docker.Volume.index_2")),1)])),_:1})])),table:g((()=>[V(n,{page:$(j),"onUpdate:page":r[1]||(r[1]=e=>P(j)?j.value=e:null),"checked-row-keys":$(N),"onUpdate:checkedRowKeys":r[2]||(r[2]=e=>P(N)?N.value=e:null),"row-key":"Name","is-page":!0,loading:$(B),data:$(W).data,columns:$(M)},{pagePrefix:g((()=>[V(i,{"checked-row-keys":$(N),"onUpdate:checkedRowKeys":r[0]||(r[0]=e=>P(N)?N.value=e:null),"row-key":"Name",data:$(W).data,options:z},null,8,["checked-row-keys","data"])])),_:1},8,["page","checked-row-keys","loading","data","columns"])])),_:1}),V(u,{show:$(v).show,"onUpdate:show":r[3]||(r[3]=e=>$(v).show=e),title:$(v).title,width:580,footer:!0,component:H},null,8,["show","title"])])),_:1})}}});export{O as default};
