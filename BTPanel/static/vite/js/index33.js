const __vite__fileDeps=["js/index117.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang6.js?v=1721298337096","js/vue.js?v=1721298337096","js/index.js?v=1721298337096","js/pinia.js?v=1721298337096","css/index34.css?v=1721298337096","js/mail.js?v=1721298337096","js/Select.js?v=1721298337096","js/Tag.js?v=1721298337096","js/Empty.js?v=1721298337096","js/useTableColumns.js?v=1721298337096","js/Progress.js?v=1721298337096","css/useTableColumns.css?v=1721298337096"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{g as t,j as e,k as a,h as s,B as i,q as o,r as l,v as r}from"./index.js?v=1721298337096";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang.js?v=1721298337096";import{u as p,_ as d}from"./useTableData.js?v=1721298337096";import{b as m}from"./useTableColumns.js?v=1721298337096";import{f as c,h as u}from"./mail.js?v=1721298337096";import{l as h,ad as y,f,P as _,S as j,U as w,V as C,q as g,W as k,a1 as b}from"./vue.js?v=1721298337096";import"./pinia.js?v=1721298337096";import"./Skeleton.js?v=1721298337096";import"./DataTable.js?v=1721298337096";import"./Checkbox.js?v=1721298337096";import"./Ellipsis.js?v=1721298337096";import"./Select.js?v=1721298337096";import"./Tag.js?v=1721298337096";import"./Empty.js?v=1721298337096";import"./omit.js?v=1721298337096";import"./Progress.js?v=1721298337096";const v=h({__name:"index",setup(h){const v=b((()=>r((()=>import("./index117.js?v=1721298337096")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])))),{t:E}=y(),x=f({p:1,size:10}),B=t("Add BCC",{isEdit:!1,row:void 0,onRefresh:()=>{S()}}),D=()=>{B.data.isEdit=!1,B.title="Add BCC",B.show=!0},T=new Map([["sender","When sending"],["recipient","When receiving"]]),{table:A,columns:P}=p([{key:"user",title:"Need Copy",ellipsis:{tooltip:!0}},{key:"forward_user",title:"Copy to",ellipsis:{tooltip:!0}},{key:"domain",title:"Domain",ellipsis:{tooltip:!0}},{key:"type",title:"BCC Type",render:t=>T.get(t.type)},{key:"active",title:"Active",render:t=>_("div",{class:[1===t.active?"text-primary":"text-error"]},[_("span",{class:["glyphicon","glyphicon-".concat(1===t.active?"ok":"remove")]},null)])},m({width:150,options:t=>[{label:E("Public.Btn.Edit"),onClick:()=>{R(t)}},{label:E("Public.Btn.Del"),onClick:()=>{W(t)}}]})]),R=t=>{B.data.isEdit=!0,B.data.row=t,B.title="Edit BCC",B.show=!0},W=async t=>{s({title:"Delete forward",content:"Whether to delete the forward setting",onConfirm:async()=>{await u({type:t.type,user:t.user,forward_user:t.forward_user}),S()}})},S=async()=>{try{A.loading=!0;const{message:t}=await c();A.data=[],e(t)&&Object.entries(t).forEach((([t,e])=>{a(e)&&A.data.push(...e.map((e=>({...e,type:t}))))}))}finally{A.loading=!1}},q=()=>{x.p=1,S()};return S(),(t,e)=>{const a=i,s=d,r=n,p=o,m=l;return j(),w(m,{class:"p-16px"},{default:C((()=>[_(r,null,{toolsLeft:C((()=>[_(a,{type:"primary",onClick:D},{default:C((()=>[g("Add BCC")])),_:1})])),toolsRight:C((()=>[_(a,{onClick:q},{default:C((()=>[g("Refresh")])),_:1})])),table:C((()=>[_(s,{loading:k(A).loading,data:k(A).data,columns:k(P)},null,8,["loading","data","columns"])])),_:1}),_(p,{show:k(B).show,"onUpdate:show":e[0]||(e[0]=t=>k(B).show=t),title:k(B).title,data:k(B).data,width:540,"min-height":228,footer:!0,component:k(v)},null,8,["show","title","data","component"])])),_:1})}}});export{v as default};
