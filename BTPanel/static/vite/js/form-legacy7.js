System.register(["./index-legacy95.js?v=1741416570306","./page_layout-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1741416570306","./vue-legacy.js?v=1741416570306","./index-legacy65.js?v=1741416570306","./public-legacy.js?v=1741416570306","./naive-legacy.js?v=1741416570306","./common-legacy.js?v=1741416570306","./__commonjsHelpers__-legacy.js?v=1741416570306","./index-legacy104.js?v=1741416570306","./index-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1741416570306"],(function(e,a){"use strict";var l,s,u,t,n,i,r,p,_,d,o,c,m,y,g,v,f,h,b,j,k,w,x,I,P,A,U;return{setters:[e=>{l=e._},e=>{s=e.G,u=e.j,t=e.I},e=>{n=e._},e=>{i=e.d,r=e.M,p=e.r,_=e.e,d=e.j,o=e.P,c=e._,m=e.$,y=e.N,g=e.S,v=e.R,f=e.k,h=e.v,b=e.c},e=>{j=e.e,k=e.a,w=e.g},e=>{x=e.c},e=>{I=e.bV,P=e.cb,A=e.ch,U=e._},null,null,null,null,null,null,null,null],execute:function(){const a={class:"w-300px"},C={class:"w-300px"};e("default",i({__name:"form",props:{row:{},isEdit:{type:Boolean}},emits:["refresh"],setup(e,{expose:i,emit:E}){const K=e,q=E,{isEdit:D,row:F}=K;r();const N=p(null),L=p([]),R=_((()=>"CloudFlareDns"===S.name)),S=d({name:"",api_user:"",api_key:"",permission:"global",status:1}),B={name:{required:!0,trigger:"change",message:"请选择Name"},api_user:{required:!0,trigger:"blur",validator:(e,a)=>!("CloudFlareDns"!==S.name&&!a)||new Error("请输入API User")},api_key:{required:!0,trigger:"blur",message:"请输入API Key"}},G=()=>({id:D&&F?F.id:null,name:S.name,api_user:S.api_user,api_key:S.api_key,permission:"CloudFlareDns"===S.name?S.permission:"",status:S.status}),{loading:H,setLoading:M}=x();return(async()=>{try{M(!0);const{message:e}=await w();s(e)&&e.length>0&&(S.name=e[0],L.value=e.map((e=>({label:e,value:e}))))}finally{(()=>{const{row:e,isEdit:a}=K;a&&e&&(S.name=e.name,S.api_user=e.api_user,S.api_key=e.api_key,S.permission=e.permission,S.status=e.status)})(),M(!1)}})(),i({onConfirm:async()=>{await(N.value?.validate()),D&&F?await j(G()):await k(G()),q("refresh")}}),(e,s)=>{const i=I,r=P,p=A,_=U,d=n,j=u,k=l,w=t;return o(),c(w,{class:"p-20px",show:g(H)},{default:m((()=>[y(d,{ref_key:"formRef",ref:N,model:g(S),rules:B},{default:m((()=>[y(r,{label:"状态",path:"status"},{default:m((()=>[y(i,{value:g(S).status,"onUpdate:value":s[0]||(s[0]=e=>g(S).status=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1}),y(r,{label:"Name",path:"name"},{default:m((()=>[y(p,{class:"w-300px",value:g(S).name,"onUpdate:value":s[1]||(s[1]=e=>g(S).name=e),options:g(L),disabled:g(D)},null,8,["value","options","disabled"])])),_:1}),y(r,{label:"API User",path:"api_user"},{default:m((()=>[v("div",a,[y(_,{value:g(S).api_user,"onUpdate:value":s[2]||(s[2]=e=>g(S).api_user=e),disabled:g(D),placeholder:"请输入API User"},null,8,["value","disabled"])])])),_:1}),y(r,{label:"API Key",path:"api_key"},{default:m((()=>[v("div",C,[y(_,{value:g(S).api_key,"onUpdate:value":s[3]||(s[3]=e=>g(S).api_key=e),placeholder:"请输入API Key"},null,8,["value"])])])),_:1}),f(y(r,{label:"API-Limit",path:"permission"},{default:m((()=>[y(i,{value:g(S).permission,"onUpdate:value":s[4]||(s[4]=e=>g(S).permission=e),"checked-value":"limit","unchecked-value":"global"},null,8,["value"])])),_:1},512),[[h,g(R)]])])),_:1},8,["model"]),y(k,null,{default:m((()=>[v("li",null,[y(j,{target:"_blank",href:"https://www.aapanel.com/forum/d/3375-3375-set-the-clouldflare-apt-token-for-dns-editing-permissions"},{default:m((()=>s[5]||(s[5]=[b("如何获取API Key")]))),_:1})])])),_:1})])),_:1},8,["show"])}}}))}}}));
