System.register(["./index-legacy95.js?v=1744703330658","./page_layout-legacy.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1744703330658","./vue-legacy.js?v=1744703330658","./ssl-legacy.js?v=1744703330658","./public-legacy.js?v=1744703330658","./naive-legacy.js?v=1744703330658","./common-legacy.js?v=1744703330658","./__commonjsHelpers__-legacy.js?v=1744703330658"],(function(e,a){"use strict";var l,s,i,n,t,u,r,o,p,d,_,m,c,v,y,h,f,g,b,k,w,x,S,j,P,D,L,$,I;return{setters:[e=>{l=e._},e=>{s=e.I,i=e.j,n=e.K},e=>{t=e._},e=>{u=e.d,r=e.O,o=e.r,p=e.e,d=e.j,_=e.R,m=e.$,c=e.a0,v=e.P,y=e.V,h=e.U,f=e.ap,g=e.k,b=e.v,k=e.c,w=e.a1},e=>{x=e.e,S=e.q,j=e.t},e=>{P=e.c},e=>{D=e.b$,L=e.ch,$=e.cn,I=e._},null,null],execute:function(){const a={class:"w-300px"},U={class:"w-300px"},A={class:"w-300px"};e("default",u({__name:"form",props:{row:{},isEdit:{type:Boolean}},emits:["refresh"],setup(e,{expose:u,emit:C}){const q=e,E=C,{isEdit:F,row:B}=q,{t:K}=r(),N=o(null),R=o([]),T=p((()=>"CloudFlareDns"===V.name)),V=d({name:"",api_user:"",api_key:"",alias:"",permission:"global",status:1}),W={api_user:{required:!0,trigger:"blur",validator:(e,a)=>!("CloudFlareDns"!==V.name&&!a)||new Error(K("SSL.Domain.index_1"))},api_key:{required:!0,trigger:"blur",message:K("SSL.Domain.index_2")},alias:{required:!0,trigger:"blur",message:K("SSL.Domain.index_6")}},H=()=>{N.value?.restoreValidation()},O=o(""),z=o(!0),G=()=>{z.value&&(V.api_user="")},J=()=>{!V.api_user&&z.value?V.api_user=O.value:V.api_user&&(z.value=!1)},M=()=>({id:F&&B?B.id:null,name:F&&B&&V.name===B.name?null:V.name,api_user:F&&B&&V.api_user===B.api_user?null:"limit"===V.permission?"":V.api_user,api_key:F&&B&&V.api_key===B.api_key?null:V.api_key,permission:F&&B&&V.permission===B.permission?null:"CloudFlareDns"===V.name?V.permission:"",status:F&&B&&V.status===B.status?null:V.status,alias:F&&B&&V.alias===B.alias?null:V.alias}),{loading:Q,setLoading:X}=P();return(async()=>{try{X(!0);const{message:e}=await j();s(e)&&e.length>0&&(V.name=e[0],R.value=e.map((e=>({label:e,value:e}))))}finally{(()=>{const{row:e,isEdit:a}=q;a&&e&&(V.name=e.name,V.api_user=e.api_user,O.value=e.api_user,V.api_key=e.api_key,V.permission=e.permission,V.status=e.status,V.alias=e.alias)})(),X(!1)}})(),u({onConfirm:async()=>{await(N.value?.validate()),F&&B?await x(M()):await S(M()),E("refresh")}}),(e,s)=>{const u=D,r=L,o=$,p=I,d=t,x=i,S=l,j=n;return _(),m(j,{class:"p-20px",show:y(Q)},{default:c((()=>[v(d,{ref_key:"formRef",ref:N,model:y(V),rules:W},{default:c((()=>[v(r,{label:e.$t("Public.Table.Status"),path:"status"},{default:c((()=>[v(u,{value:y(V).status,"onUpdate:value":s[0]||(s[0]=e=>y(V).status=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),v(r,{label:e.$t("Config.Alarm.index_43"),path:"name"},{default:c((()=>[v(o,{class:"w-300px",value:y(V).name,"onUpdate:value":[s[1]||(s[1]=e=>y(V).name=e),H],options:y(R),disabled:y(F)},null,8,["value","options","disabled"])])),_:1},8,["label"]),"global"===y(V).permission?(_(),m(r,{key:0,label:"API User",path:"api_user"},{default:c((()=>[h("div",a,[v(p,{value:y(V).api_user,"onUpdate:value":s[2]||(s[2]=e=>y(V).api_user=e),placeholder:e.$t("SSL.Domain.index_1"),onFocus:G,onBlur:J},null,8,["value","placeholder"])])])),_:1})):f("",!0),v(r,{label:"API Key",path:"api_key"},{default:c((()=>[h("div",U,[v(p,{value:y(V).api_key,"onUpdate:value":s[3]||(s[3]=e=>y(V).api_key=e),placeholder:e.$t("SSL.Domain.index_2")},null,8,["value","placeholder"])])])),_:1}),v(r,{label:e.$t("Config.Panel.index_36"),path:"alias"},{default:c((()=>[h("div",A,[v(p,{value:y(V).alias,"onUpdate:value":s[4]||(s[4]=e=>y(V).alias=e),placeholder:e.$t("SSL.Domain.index_6")},null,8,["value","placeholder"])])])),_:1},8,["label"]),g(v(r,{label:"API-Limit",path:"permission"},{default:c((()=>[v(u,{value:y(V).permission,"onUpdate:value":s[5]||(s[5]=e=>y(V).permission=e),"checked-value":"limit","unchecked-value":"global"},null,8,["value"])])),_:1},512),[[b,y(T)]])])),_:1},8,["model"]),y(T)?(_(),m(S,{key:0},{default:c((()=>[h("li",null,[v(x,{target:"_blank",href:"https://www.aapanel.com/forum/d/3375-3375-set-the-clouldflare-apt-token-for-dns-editing-permissions"},{default:c((()=>[k(w(e.$t("SSL.Domain.index_3")),1)])),_:1})])])),_:1})):(_(),m(S,{key:1},{default:c((()=>[s[6]||(s[6]=h("li",null," Namecheap API needs added in Whitelisted IPs (only IPv4): Profile > Tools menu > Namecheap API Access > Whitelisted IPs, please check: ",-1)),h("li",null,[v(x,{target:"_blank",href:"https://www.namecheap.com/support/api/intro/"},{default:c((()=>[k(w(e.$t("SSL.Domain.index_3")),1)])),_:1})])])),_:1}))])),_:1},8,["show"])}}}))}}}));
