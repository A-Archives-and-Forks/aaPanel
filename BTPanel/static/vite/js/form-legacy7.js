System.register(["./public-legacy.js?v=1749179669910","./page_layout-legacy.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1749179669910","./vue-legacy.js?v=1749179669910","./naive-legacy.js?v=1749179669910","./common-legacy.js?v=1749179669910","./__commonjsHelpers__-legacy.js?v=1749179669910"],(function(e,a){"use strict";var l,s,i,n,t,u,r,o,p,d,m,_,c,v,h,f,y,g,k,b,S,w,x,D,P,L,j,I,U;return{setters:[e=>{l=e.d,s=e.U,i=e.ao,n=e.ap,t=e._},e=>{u=e.N,r=e.o,o=e.O},e=>{p=e._},e=>{d=e.d,m=e.O,_=e.r,c=e.e,v=e.j,h=e.R,f=e.a0,y=e.a1,g=e.P,k=e.V,b=e.U,S=e.ao,w=e.k,x=e.v,D=e.c,P=e.a2},e=>{L=e.c0,j=e.cj,I=e.cp,U=e._},null,null],execute:function(){const a={class:"w-300px"},$={class:"w-300px"},A={class:"w-300px"};e("default",d({__name:"form",props:{row:{},isEdit:{type:Boolean}},emits:["refresh"],setup(e,{expose:d,emit:C}){const N=e,F=C,{isEdit:B,row:E}=N,{t:T}=m(),q=_(null),K=_([]),O=c((()=>"CloudFlareDns"===W.name)),R=c((()=>"NameSiloDns"!==W.name&&"global"===W.permission)),V=c((()=>"PorkBunDns"===W.name)),W=v({name:"",api_user:"",api_key:"",alias:"",permission:"global",status:1}),H={api_user:{required:!0,trigger:"blur",validator:(e,a)=>!("CloudFlareDns"!==W.name&&!a)||new Error(T("SSL.Domain.index_1"))},api_key:{required:!0,trigger:"blur",message:T("SSL.Domain.index_2")},alias:{required:!0,trigger:"blur",message:T("SSL.Domain.index_6")}},z=e=>{"CloudFlareDns"!==e&&"limit"===W.permission&&(W.permission="global"),q.value?.restoreValidation()},G=_(""),J=_(!0),M=()=>{J.value&&(W.api_user="")},Q=()=>{!W.api_user&&J.value?W.api_user=G.value:W.api_user&&(J.value=!1)},X=()=>({id:B&&E?E.id:null,name:B&&E&&W.name===E.name?null:W.name,api_user:B&&E&&W.api_user===E.api_user?null:R.value?W.api_user:"",api_key:B&&E&&W.api_key===E.api_key?null:W.api_key,permission:B&&E&&W.permission===E.permission?null:"CloudFlareDns"===W.name?W.permission:"",status:B&&E&&W.status===E.status?null:W.status,alias:B&&E&&W.alias===E.alias?null:W.alias}),{loading:Y,setLoading:Z}=l();return(async()=>{try{Z(!0);const{message:e}=await n();u(e)&&e.length>0&&(W.name=e[0],K.value=e.map((e=>({label:e,value:e}))))}finally{(()=>{const{row:e,isEdit:a}=N;a&&e&&(W.name=e.name,W.api_user=e.api_user,G.value=e.api_user,W.api_key=e.api_key,W.permission=e.permission,W.status=e.status,W.alias=e.alias)})(),Z(!1)}})(),d({onConfirm:async()=>{await(q.value?.validate()),B&&E?await s(X()):await i(X()),F("refresh")}}),(e,l)=>{const s=L,i=j,n=I,u=U,d=p,m=r,_=t,c=o;return h(),f(c,{class:"p-20px",show:k(Y)},{default:y((()=>[g(d,{ref_key:"formRef",ref:q,model:k(W),rules:H},{default:y((()=>[g(i,{label:e.$t("Public.Table.Status"),path:"status"},{default:y((()=>[g(s,{value:k(W).status,"onUpdate:value":l[0]||(l[0]=e=>k(W).status=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),g(i,{label:e.$t("Config.Alarm.index_43"),path:"name"},{default:y((()=>[g(n,{class:"w-300px",value:k(W).name,"onUpdate:value":[l[1]||(l[1]=e=>k(W).name=e),z],options:k(K),disabled:k(B)},null,8,["value","options","disabled"])])),_:1},8,["label"]),k(R)?(h(),f(i,{key:0,label:k(V)?"Secret Key":"API User",path:"api_user"},{default:y((()=>[b("div",a,[g(u,{value:k(W).api_user,"onUpdate:value":l[2]||(l[2]=e=>k(W).api_user=e),placeholder:k(V)?"Please enter Secret Key":e.$t("SSL.Domain.index_1"),onFocus:M,onBlur:Q},null,8,["value","placeholder"])])])),_:1},8,["label"])):S("",!0),g(i,{label:"API Key",path:"api_key"},{default:y((()=>[b("div",$,[g(u,{value:k(W).api_key,"onUpdate:value":l[3]||(l[3]=e=>k(W).api_key=e),placeholder:e.$t("SSL.Domain.index_2")},null,8,["value","placeholder"])])])),_:1}),g(i,{label:e.$t("Config.Panel.index_36"),path:"alias"},{default:y((()=>[b("div",A,[g(u,{value:k(W).alias,"onUpdate:value":l[4]||(l[4]=e=>k(W).alias=e),placeholder:e.$t("SSL.Domain.index_6")},null,8,["value","placeholder"])])])),_:1},8,["label"]),w(g(i,{label:"API-Limit",path:"permission"},{default:y((()=>[g(s,{value:k(W).permission,"onUpdate:value":l[5]||(l[5]=e=>k(W).permission=e),"checked-value":"limit","unchecked-value":"global"},null,8,["value"])])),_:1},512),[[x,k(O)]])])),_:1},8,["model"]),k(O)?(h(),f(_,{key:0},{default:y((()=>[b("li",null,[g(m,{target:"_blank",href:"https://www.aapanel.com/forum/d/3375-3375-set-the-clouldflare-apt-token-for-dns-editing-permissions"},{default:y((()=>[D(P(e.$t("SSL.Domain.index_3")),1)])),_:1})])])),_:1})):S("",!0),"NameCheapDns"===k(W).name?(h(),f(_,{key:1},{default:y((()=>[l[6]||(l[6]=b("li",null," Namecheap API needs added in Whitelisted IPs (only IPv4): Profile > Tools menu > Namecheap API Access > Whitelisted IPs, please check: ",-1)),b("li",null,[g(m,{target:"_blank",href:"https://www.namecheap.com/support/api/intro/"},{default:y((()=>[D(P(e.$t("SSL.Domain.index_3")),1)])),_:1})])])),_:1})):S("",!0),"NameSiloDns"===k(W).name||"PorkBunDns"===k(W).name?(h(),f(_,{key:2},{default:y((()=>[b("li",null,[g(m,{target:"_blank",href:"https://www.aapanel.com/docs/Function/Tutorial/DNS_API_Tutorial.html"},{default:y((()=>[D(P(e.$t("SSL.Domain.index_3")),1)])),_:1})])])),_:1})):S("",!0)])),_:1},8,["show"])}}}))}}}));
