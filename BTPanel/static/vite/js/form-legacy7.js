System.register(["./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1742891699271","./vue-legacy.js?v=1742891699271","./ssl-legacy.js?v=1742891699271","./page_layout-legacy.js?v=1742891699271","./public-legacy.js?v=1742891699271","./naive-legacy.js?v=1742891699271","./__commonjsHelpers__-legacy.js?v=1742891699271","./common-legacy.js?v=1742891699271"],(function(e,a){"use strict";var l,s,i,u,n,t,r,o,p,d,_,m,c,v,y,g,f,h,b,k,x,w,S,j;return{setters:[e=>{l=e._},e=>{s=e.d,i=e.O,u=e.r,n=e.e,t=e.j,r=e.R,o=e.a0,p=e.a1,d=e.P,_=e.V,m=e.U,c=e.k,v=e.v},e=>{y=e.e,g=e.l,f=e.m},e=>{h=e.I,b=e.K},e=>{k=e.c},e=>{x=e.b$,w=e.ch,S=e.cn,j=e._},null,null],execute:function(){const a={class:"w-300px"},D={class:"w-300px"},L={class:"w-300px"};e("default",s({__name:"form",props:{row:{},isEdit:{type:Boolean}},emits:["refresh"],setup(e,{expose:s,emit:U}){const $=e,C=U,{isEdit:P,row:A}=$,{t:E}=i(),F=u(null),I=u([]),q=n((()=>"CloudFlareDns"===B.name)),B=t({name:"",api_user:"",api_key:"",alias:"",permission:"global",status:1}),K={api_user:{required:!0,trigger:"blur",validator:(e,a)=>!("CloudFlareDns"!==B.name&&!a)||new Error(E("SSL.Domain.index_1"))},api_key:{required:!0,trigger:"blur",message:E("SSL.Domain.index_2")},alias:{required:!0,trigger:"blur",message:E("SSL.Domain.index_6")}},R=()=>{F.value?.restoreValidation()},V=u(""),H=u(!0),O=()=>{H.value&&(B.api_user="")},T=()=>{!B.api_user&&H.value?B.api_user=V.value:B.api_user&&(H.value=!1)},z=()=>({id:P&&A?A.id:null,name:P&&A&&B.name===A.name?null:B.name,api_user:P&&A&&B.api_user===A.api_user?null:B.api_user,api_key:P&&A&&B.api_key===A.api_key?null:B.api_key,permission:P&&A&&B.permission===A.permission?null:"CloudFlareDns"===B.name?B.permission:"",status:P&&A&&B.status===A.status?null:B.status,alias:P&&A&&B.alias===A.alias?null:B.alias}),{loading:G,setLoading:J}=k();return(async()=>{try{J(!0);const{message:e}=await f();h(e)&&e.length>0&&(B.name=e[0],I.value=e.map((e=>({label:e,value:e}))))}finally{(()=>{const{row:e,isEdit:a}=$;a&&e&&(B.name=e.name,B.api_user=e.api_user,V.value=e.api_user,B.api_key=e.api_key,B.permission=e.permission,B.status=e.status,B.alias=e.alias)})(),J(!1)}})(),s({onConfirm:async()=>{await(F.value?.validate()),P&&A?await y(z()):await g(z()),C("refresh")}}),(e,s)=>{const i=x,u=w,n=S,t=j,y=l,g=b;return r(),o(g,{class:"p-20px",show:_(G)},{default:p((()=>[d(y,{ref_key:"formRef",ref:F,model:_(B),rules:K},{default:p((()=>[d(u,{label:e.$t("Public.Table.Status"),path:"status"},{default:p((()=>[d(i,{value:_(B).status,"onUpdate:value":s[0]||(s[0]=e=>_(B).status=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),d(u,{label:e.$t("Config.Alarm.index_43"),path:"name"},{default:p((()=>[d(n,{class:"w-300px",value:_(B).name,"onUpdate:value":[s[1]||(s[1]=e=>_(B).name=e),R],options:_(I),disabled:_(P)},null,8,["value","options","disabled"])])),_:1},8,["label"]),d(u,{label:"API User",path:"api_user"},{default:p((()=>[m("div",a,[d(t,{value:_(B).api_user,"onUpdate:value":s[2]||(s[2]=e=>_(B).api_user=e),placeholder:e.$t("SSL.Domain.index_1"),onFocus:O,onBlur:T},null,8,["value","placeholder"])])])),_:1}),d(u,{label:"API Key",path:"api_key"},{default:p((()=>[m("div",D,[d(t,{value:_(B).api_key,"onUpdate:value":s[3]||(s[3]=e=>_(B).api_key=e),placeholder:e.$t("SSL.Domain.index_2")},null,8,["value","placeholder"])])])),_:1}),d(u,{label:e.$t("Config.Panel.index_36"),path:"alias"},{default:p((()=>[m("div",L,[d(t,{value:_(B).alias,"onUpdate:value":s[4]||(s[4]=e=>_(B).alias=e),placeholder:e.$t("SSL.Domain.index_6")},null,8,["value","placeholder"])])])),_:1},8,["label"]),c(d(u,{label:"API-Limit",path:"permission"},{default:p((()=>[d(i,{value:_(B).permission,"onUpdate:value":s[5]||(s[5]=e=>_(B).permission=e),"checked-value":"limit","unchecked-value":"global"},null,8,["value"])])),_:1},512),[[v,_(q)]])])),_:1},8,["model"])])),_:1},8,["show"])}}}))}}}));
