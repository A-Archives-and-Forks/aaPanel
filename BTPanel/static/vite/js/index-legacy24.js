System.register(["./page_layout-legacy.js?v=1747989938512","./index-legacy.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy13.js?v=1747989938512","./public-legacy.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy9.js?v=1747989938512","./index-legacy121.js?v=1747989938512","./hooks-legacy.js?v=1747989938512","./vue-legacy.js?v=1747989938512","./naive-legacy.js?v=1747989938512","./common-legacy.js?v=1747989938512","./__commonjsHelpers__-legacy.js?v=1747989938512","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1747989938512","./index-legacy122.js?v=1747989938512","./soft-legacy.js?v=1747989938512"],(function(e,a){"use strict";var t,n,l,i,s,d,o,c,u,p,_,r,y,g,b,m,h,k,x,f,w,v,j,D,C,R,U,$,B,q,P,S,W,z,L,O,I,K,H,M,N,T,V,Y,A,E,F,G,J,Q,X,Z,ee,ae;return{setters:[e=>{t=e.i,n=e.o,l=e.b6,i=e.b9,s=e.ba,d=e.bd,o=e.c,c=e.N,u=e.b3,p=e.bc,_=e.a,r=e.q},e=>{y=e._},e=>{g=e._},e=>{b=e._},e=>{m=e._},e=>{h=e.q,k=e.e,x=e.c,f=e.s,w=e.f,v=e.a,j=e.d,D=e.t,C=e.h},e=>{R=e._},e=>{U=e.a,$=e.b,B=e.c,q=e.u,P=e.d,S=e._,W=e.e,z=e.f,L=e.g},e=>{O=e.g},e=>{I=e.P,K=e.c,H=e.i,M=e.d,N=e.O,T=e.j,V=e.w,Y=e.R,A=e.a0,E=e.a1,F=e.V,G=e.M,J=e.U,Q=e.a2,X=e.aj,Z=e.Y},e=>{ee=e.T,ae=e.cm},null,null,null,null,null],execute:function(){const{t:te}=t.global;function ne(){return{key:"password",title:te("Database.index_14"),minWidth:150,render:e=>I(h,{value:e.password},null)}}function le(){return{key:"backup_count",title:te("Database.index_16"),width:"12%",render:e=>{let a;return I("div",{class:"flex items-center"},[I(n,{type:e.backup_count>0?"primary":"warning",onClick:()=>{U(e)}},{default:()=>[e.backup_count>0?`${te("Database.mongo.index_7")}(${e.backup_count})`:te("Database.index_18")]}),I("span",{class:"mx-4px"},[K("|")]),I(n,{onClick:()=>{$(e)}},(t=a=te("Public.Btn.Import"),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!H(t)?a:{default:()=>[a]}))]);var t}}}function ie(){return{key:"sid",title:te("Database.mongo.index_8"),width:"12%",minWidth:120,render:e=>O(e)}}const se={class:"p-16px"};e("default",M({__name:"index",setup(e){const t=Z((()=>_((()=>a.import("./index-legacy128.js?v=1747989938512")),void 0))),{t:n}=N(),h=l(),U=k(),$=()=>{U.show=!0},O=()=>{z()},H=()=>{L()},M=async()=>{await i(h.type,{ids:[]}),re()},te=T({p:1,limit:10,sid:-1,search:""}),{keys:de,table:oe,columns:ce}=x([{type:"selection",width:40},{key:"name",title:n("Database.index_12"),width:"12%",minWidth:120},{key:"username",title:n("Database.index_13"),width:"12%",minWidth:120},ne(),le(),ie(),f({onBlur:async(e,a)=>{await p({id:a.id,ps:e})}}),w({width:100,options:e=>[{label:"Password",onClick:()=>{q(e)}},{label:n("Public.Btn.Del"),onClick:()=>{B([e])}}]})]),ue=[{key:"sync",label:n("Database.index_24"),onBatch:e=>{v({title:n("Database.index_25"),content:n("Database.index_26"),onConfirm:async({hide:a})=>{await i(h.type,{ids:e.map((e=>e.id))}),a()}})}},{key:"backup",type:"confirm",label:n("Database.index_27"),confirm:{title:n("Database.index_28"),desc:n("Database.index_29"),api:e=>s(h.type,{id:e.id},!1),done:()=>{re()},columns:[{key:"name",title:n("Database.index_12")}]}},{key:"delete",label:n("Database.index_30"),onBatch:e=>{B(e)}}],{loading:pe,setLoading:_e}=j(),re=async()=>{try{_e(!0);const{message:e}=await d(h.type,(()=>{const e={...G(te)};return-1===e.sid&&delete e.sid,e})());o(e)?(oe.data=c(e.data)?e.data:[],oe.total=u(e.page)):(oe.data=[],oe.total=0)}finally{de.value=[],_e(!1)}};return V((()=>h.isRefresh),(e=>{e&&(h.setRefresh(!1),h.delRemoteId===te.sid&&(te.sid=-1),re())})),(async()=>{await h.getRemote(),h.install?re():D()})(),(e,a)=>{const n=ee,l=r,i=R,s=C,d=m,o=b,c=g,u=y,p=ae;return Y(),A(F(W),null,{default:E((()=>[I(p,null,{default:E((()=>[J("div",se,[I(c,null,{toolsLeft:E((()=>[I(n,{type:"primary",onClick:$},{default:E((()=>[K(Q(e.$t("Database.index_1")),1)])),_:1}),I(n,{onClick:O},{default:E((()=>[K(Q(e.$t("Database.index_2")),1)])),_:1}),I(n,{onClick:H},{default:E((()=>[K(Q(e.$t("Database.index_4")),1)])),_:1}),I(l,{class:"mx-0!",vertical:""}),I(n,{onClick:M},{default:E((()=>[K(Q(e.$t("Database.index_5")),1)])),_:1}),I(n,{onClick:F(P)},{default:E((()=>[K(Q(e.$t("Database.index_6")),1)])),_:1},8,["onClick"])])),toolsRight:E((()=>[I(F(S),{value:F(te).sid,"onUpdate:value":a[0]||(a[0]=e=>F(te).sid=e),"store-key":"database-pgsql-page",onChange:re},null,8,["value"]),I(i,{value:F(te).search,"onUpdate:value":a[1]||(a[1]=e=>F(te).search=e),placeholder:"Database search",onSearch:re},null,8,["value"])])),table:E((()=>[I(s,{"checked-row-keys":F(de),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>X(de)?de.value=e:null),loading:F(pe),data:F(oe).data,columns:F(ce)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:E((()=>[I(d,{"checked-row-keys":F(de),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>X(de)?de.value=e:null),data:F(oe).data,options:ue},null,8,["checked-row-keys","data"])])),pageRight:E((()=>[I(o,{page:F(te).p,"onUpdate:page":a[4]||(a[4]=e=>F(te).p=e),"page-size":F(te).limit,"onUpdate:pageSize":a[5]||(a[5]=e=>F(te).limit=e),"store-key":"database-pgsql-page","item-count":F(oe).total,onRefresh:re},null,8,["page","page-size","item-count"])])),_:1}),I(u,{show:F(U).show,"onUpdate:show":a[6]||(a[6]=e=>F(U).show=e),title:e.$t("Database.mongo.index_4"),width:540,"min-height":280,footer:!0,component:F(t)},null,8,["show","title","component"])])])),_:1})])),_:1})}}}))}}}));
