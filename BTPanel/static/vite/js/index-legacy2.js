System.register(["./index-legacy223.js?v=1741416570306","./page_layout-legacy.js?v=1741416570306","./public-legacy.js?v=1741416570306","./naive-legacy.js?v=1741416570306","./vue-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1741416570306","./index-legacy103.js?v=1741416570306","./common-legacy.js?v=1741416570306","./__commonjsHelpers__-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1741416570306"],(function(e,t){"use strict";var a,n,s,l,o,u,i,c,p,g,r,d,A,_,x,y,m,b,v,h,f,k,C,w,j,B,L,M,Q,R,E,I,D,z,F,S,N,O,U,H,P,$,T,V,G;return{setters:[e=>{a=e._},e=>{n=e.u,s=e.l,l=e.cu,o=e.cv,u=e.n,i=e.cw,c=e.k,p=e.cx,g=e.b,r=e.I},e=>{d=e.i,A=e.s,_=e.c},e=>{x=e.ae,y=e.bO,m=e.T},e=>{b=e.d,v=e.M,h=e.N,f=e.F,k=e.i,C=e.r,w=e.w,j=e.o,B=e.aj,L=e.P,M=e._,Q=e.$,R=e.R,E=e.Q,I=e.L,D=e.S,z=e.a0,F=e.c,S=e.k,N=e.ao,O=e.Y,U=e.j,H=e.x,P=e.ae},e=>{$=e._},e=>{T=e._},e=>{V=e._},e=>{G=e._},null,null,null],execute:function(){var t=document.createElement("style");t.textContent='.install[data-v-7b9da2ab]:before{content:"";margin-right:8px;display:inline-block;width:8px;height:8px;border-radius:50%;--un-bg-opacity:1;background-color:rgb(32 165 58 / var(--un-bg-opacity))}.cmd[data-v-7b9da2ab]{margin-top:10px;margin-bottom:10px;height:200px;overflow:auto;white-space:pre-line;--un-bg-opacity:1;background-color:rgb(66 66 81 / var(--un-bg-opacity));padding:5px;--un-text-opacity:1;color:rgb(255 255 255 / var(--un-text-opacity));line-height:22px}[data-v-8405edde] .bt-log .hljs{padding:5px 0 5px 5px!important}\n',document.head.appendChild(t);const J=b({name:"EmptyBox",setup(e,{slots:t}){const a=n(),{t:l}=v(),o=()=>{d()};return()=>{let e;return h(f,null,[0===a.taskCount?h(x,{class:"pt-80px",size:"huge",description:l("Layout.MessageBox.index_1")},null):h(f,null,[h(y,{class:"justify-between! flex-nowrap!"},{default:()=>{return[h("span",null,[l("Layout.MessageBox.index_2")]),h(m,{text:!0,type:"primary",onClick:o},(t=e=l("Public.Status.Restart"),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!k(t)?e:{default:()=>[e]}))];var t}}),h(s,{class:"mt-12px! mb-16px!"},null),t.default?.()])])}}}),K={class:"h-460px overflow-auto"},Y={class:"install"},q={key:0,class:"cmd"},W=c(b({__name:"index",setup(e,{expose:t}){const a=n(),s=l(),c=o(),p=C(""),{send:g,close:r}=A("/sock_shell",{onMessage:(e,t)=>{const a=t.data;u(a)&&(p.value+=a)}}),d=()=>{if(c.taskList.length){const{type:e,status:t}=c.taskList[0];"execshell"===e&&("-1"===t?(p.value="",g("tail -n 100 -f /tmp/panelExec.log")):setTimeout((async()=>{await c.getList(),d()}),2e3))}};w((()=>a.taskCount),(e=>{e&&d(),s.getMessageCount()})),j((()=>{r()}));const _=async()=>{await c.getList(),0!==a.taskCount&&(d(),c.onRepetion())};return _(),t({init:_}),(e,t)=>{const a=m,n=y,s=B("scroll-bottom");return L(),M(D(J),null,{default:Q((()=>[R("div",K,[(L(!0),E(f,null,I(D(c).taskList,(l=>(L(),E("div",{key:l.id},["execshell"===l.type?(L(),E(f,{key:0},[h(n,{class:"justify-between! mb-8px"},{default:Q((()=>[R("span",Y,z(l.name),1),R("div",null,[F(z("0"===l.status?"waiting":e.$t("Soft.index_40"))+" ",1),t[0]||(t[0]=R("img",{src:"data:image/gif;base64,R0lGODlhDgACAIAAAHNzcwAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFDgABACwAAAAAAgACAAACAoRRACH5BAUOAAEALAQAAAACAAIAAAIChFEAIfkEBQ4AAQAsCAAAAAIAAgAAAgKEUQAh+QQJDgABACwAAAAADgACAAACBoyPBpu9BQA7"},null,-1)),t[1]||(t[1]=R("span",{class:"px-5px"},"|",-1)),h(a,{text:"",color:"#20a53a",onClick:e=>(async e=>{r(),await i({id:e}),await c.getList()})(l.id)},{default:Q((()=>[F(z(e.$t("Public.Btn.Del")),1)])),_:2},1032,["onClick"])])])),_:2},1024),"-1"===l.status?S((L(),E("pre",q,[F(z(D(p)),1)])),[[s]]):N("",!0)],64)):N("",!0)])))),128))])])),_:1})}}}),[["__scopeId","data-v-7b9da2ab"]]),X=b({__name:"index",setup(e,{expose:t}){const a=l(),{loading:n,table:s,columns:o,search:u}=O(a),i=()=>{a.getMessageCount()};return t({init:i}),(e,t)=>{const a=V,l=T,c=$;return L(),M(c,null,{table:Q((()=>[h(a,{loading:D(n),data:D(s).data,columns:D(o)},null,8,["loading","data","columns"])])),pageRight:Q((()=>[h(l,{page:D(u).p,"onUpdate:page":t[0]||(t[0]=e=>D(u).p=e),"page-size":D(u).limit,"onUpdate:pageSize":t[1]||(t[1]=e=>D(u).limit=e),"item-count":D(s).total,"page-slot":5,"show-size-picker":!1,onRefresh:i},null,8,["page","page-size","item-count"])])),_:1})}}}),Z=c(b({__name:"index",setup(e,{expose:t}){const a=C("None"),{loading:n,setLoading:s}=_(),l=async()=>{try{s(!0);const{message:e}=await p();g(e)&&(a.value=u(e.result)?e.result:"None")}finally{s(!1)}};return l(),t({init:l}),(e,t)=>{const s=G,l=r;return L(),M(l,{class:"h-full",show:D(n)},{default:Q((()=>[h(s,{log:D(a)},null,8,["log"])])),_:1},8,["show"])}}}),[["__scopeId","data-v-8405edde"]]),ee={class:"h-550px"};e("default",b({__name:"index",setup(e){const{t:t}=v(),s=n(),o=l(),u=C("task"),i=U([{key:"task",label:()=>h("span",null,[t("Layout.MessageBox.index_3"),F(" ("),s.taskCount,F(")")]),component:H(W)},{key:"message",label:()=>h("span",null,[t("Layout.MessageBox.index_4"),F(" ("),o.listConut,F(")")]),component:H(X)},{key:"log",label:t("Layout.MessageBox.index_5"),component:H(Z)}]);return o.getMessageCount(),(e,t)=>{const n=a;return L(),E("div",ee,[h(n,{value:D(u),"onUpdate:value":t[0]||(t[0]=e=>P(u)?u.value=e:null),ref:"tabsRef",data:D(i)},null,8,["value","data"])])}}}))}}}));
