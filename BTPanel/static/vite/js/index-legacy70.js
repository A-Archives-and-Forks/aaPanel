System.register(["./vue-legacy.js?v=1758789124250","./page_layout-legacy.js?v=1758789124250","./public-legacy.js?v=1758789124250","./index-legacy108.js?v=1758789124250","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1758789124250","./naive-legacy.js?v=1758789124250","./index-legacy.js?v=1758789124250","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1758789124250","./terminal-legacy2.js?v=1758789124250"],function(e,t){"use strict";var a,n,l,o,i,d,r,s,c,u,p,m,v,g,h,x,b,_,y,f,k,w,C,T,j,S,E,I,L,O,U,q,R,$,P,z,D,F,M,A,B,K,Y,H,V,W,X,G,J,N,Q,Z,ee;return{setters:[e=>{a=e._,n=e.k,l=e.P,o=e.W,i=e.w,d=e.R,r=e.V,s=e.a3,c=e.U,u=e.ak,p=e.j,m=e.a4,v=e.r,g=e.e,h=e.a0,x=e.a2,b=e.S,_=e.F,y=e.O,f=e.au,k=e.H,w=e.an,C=e.I,T=e.l,j=e.v,S=e.o,E=e.b},e=>{I=e.t,L=e.i,O=e.a,U=e.d4,q=e.w,R=e._,$=e.e,P=e.p},e=>{z=e.u,D=e.c,F=e.f,M=e.a,A=e.d,B=e.h,K=e.i,Y=e.e},e=>{H=e._},e=>{V=e._},e=>{W=e.aC,X=e.dR,G=e.au,J=e.da,N=e.dS},e=>{Q=e._},e=>{Z=e._},e=>{ee=e.T}],execute:function(){var te=document.createElement("style");te.textContent='.terminal[data-v-5115dd54]{position:relative;height:100%}.head[data-v-5115dd54]{background:var(--terminal-head-bg);position:relative;height:40px;align-items:center}.head .item[data-v-5115dd54]{width:160px;height:100%;display:flex;cursor:pointer;align-items:center;justify-content:space-between;padding-left:8px;padding-right:8px;border-right:1px solid rgb(231,225,225)}.head .item .close-terminal[data-v-5115dd54]{--un-text-opacity:1;color:rgb(239 8 8 / var(--un-text-opacity))}.head .item .close-terminal[data-v-5115dd54]:hover{background:var(--terminal-head-item-close-hover)}.head .item .text[data-v-5115dd54]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.head .item .icon[data-v-5115dd54]{margin-right:5px;width:10px;height:10px;--un-bg-opacity:1;background-color:rgb(32 165 58 / var(--un-bg-opacity));display:inline-block;border-radius:50%}.head .item .icon-active[data-v-5115dd54]{--un-bg-opacity:1;background-color:rgb(247 11 60 / var(--un-bg-opacity))}.head .item[data-v-5115dd54]:hover{background:var(--terminal-head-item-hover)}.head .item-active[data-v-5115dd54]{--un-text-opacity:1;color:rgb(255 255 255 / var(--un-text-opacity));background:#424242!important}.head .add-terminal[data-v-5115dd54]{width:40px;height:40px;text-align:center;line-height:50px}.head .add-terminal[data-v-5115dd54]:hover{--un-bg-opacity:1;background-color:rgb(204 204 204 / var(--un-bg-opacity))}.context-menu[data-v-5115dd54]{position:absolute;z-index:9999;--un-bg-opacity:1;background-color:rgb(255 255 255 / var(--un-bg-opacity));--un-text-opacity:1;color:rgb(102 102 102 / var(--un-text-opacity));border-radius:5px}.context-menu ul[data-v-5115dd54]{width:150px;padding-top:5px;padding-bottom:5px;list-style:none}.context-menu ul li[data-v-5115dd54]{cursor:pointer;padding:8px 10px}.context-menu ul li[data-v-5115dd54]:hover{--un-bg-opacity:1;background-color:rgb(231 245 233 / var(--un-bg-opacity));--un-text-opacity:1;color:rgb(29 149 52 / var(--un-text-opacity))}.terminal-contract-tool[data-v-5115dd54]{position:absolute;right:0;top:50%;z-index:50;height:4rem;width:2rem;display:flex;cursor:pointer;align-items:center;justify-content:center;border-bottom-left-radius:9999px;border-top-left-radius:9999px;--un-bg-opacity:1;background-color:rgb(55 65 81 / var(--un-bg-opacity));background-color:#555;transform:translateY(-50%)}.terminal-contract-tool[data-v-5115dd54]:after{content:"";--un-border-opacity:1;border-color:rgb(255 255 255 / var(--un-border-opacity));border:2px solid rgb(255,255,255);transform:rotate(45deg);border-left-width:0;border-bottom-width:0;height:1rem;width:1rem}.terminal-contract-tool[data-v-5115dd54]:hover{--un-bg-opacity:1;background-color:rgb(107 114 128 / var(--un-bg-opacity))}.active[data-v-5115dd54]:after{transform:rotate(-135deg)!important}.box[data-v-57762b9d]{height:calc(100vh - 52px)}\n/*$vite$:1*/',document.head.appendChild(te);const{t:ae}=L.global,ne=(e("a",e=>I.post("/xterm?action=create_host",e,{requestOptions:{loading:ae("Security.Api.Index_4"),successMessage:!0}})),e("g",e=>I.post("/xterm?action=get_host_find",e)),e=>I.post("/xterm?action=remove_host",e,{requestOptions:{loading:ae("Security.Api.Index_3"),successMessage:!0}})),le=e=>I.post("/xterm?action=create_command",e,{requestOptions:{loading:ae("Security.Api.Index_4"),successMessage:!0}}),oe=e=>I.post("/xterm?action=modify_command",e,{requestOptions:{loading:ae("Crontab.Api.index_5"),successMessage:!0}}),ie=e=>I.post("/xterm?action=remove_command",e,{requestOptions:{loading:ae("Security.Api.Index_3"),successMessage:!0}}),de=e=>{z({title:e.title,width:600,footer:!0,data:e.data,component:a(()=>O(()=>t.import("./form-legacy9.js?v=1758789124250"),void 0))})},re=n({__name:"index",setup(e,{expose:t}){const{t:a}=l(),n=U(),{keys:v,table:g,columns:h}=D([{key:"host",title:a("Term.index_8"),ellipsis:{tooltip:{width:"trigger"}},render:e=>o("span",{class:"cursor-pointer w-100%",onClick:()=>b(e)},[e.host])},F({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{const t={title:a("Term.index_22"),data:{isEdit:!0,row:e}};de(t)}},{label:a("Public.Btn.Del"),onClick:()=>{M({title:a("Term.index_6"),content:a("Term.index_7",[e.host]),onConfirm:async({hide:t})=>{await ne({host:e.host}),f(),t()}})}}]})]),x=()=>{const e={title:a("Term.index_19"),data:{isEdit:!1}};de(e)},b=e=>{n.server={...e,time:new Date}},{loading:_,setLoading:y}=A(),f=async()=>{try{y(!0);const{message:e}=await I.post("/xterm?action=get_host_list");q(e)&&(g.data=e)}finally{v.value=[],y(!1)}};return f(),i(()=>n.isRefresh,e=>{e&&(n.setRefresh(!1),f())}),t({init:f}),(e,t)=>{const a=W,n=B,l=V;return r(),d("div",null,[o(l,null,{toolsLeft:s(()=>[o(a,{type:"primary",onClick:x},{default:s(()=>[p(m(e.$t("Term.index_19")),1)]),_:1})]),table:s(()=>[o(n,{"checked-row-keys":c(v),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>u(v)?v.value=e:null),loading:c(_),"max-height":"calc(100vh - 250px)",data:c(g).data,columns:c(h)},null,8,["checked-row-keys","loading","data","columns"])]),_:1})])}}}),se={class:"p-20px"},ce=n({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=l(),n=e,{isEdit:i,row:u,getList:p}=n.data,m=v(null),h=g({name:"",content:""}),x={name:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]},content:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]}};return i&&u&&(h.name=u.title,h.content=u.shell),t({onConfirm:async({hide:e})=>{await(m.value?.validate()),i?await oe({shell:h.content,title:u?u.title:"",new_title:h.name}):await le({shell:h.content,title:h.name}),p?.(),e()}}),(e,t)=>{const a=G,n=X,l=Z;return r(),d("div",se,[o(l,{ref_key:"formRef",ref:m,model:c(h),rules:x},{default:s(()=>[o(n,{label:e.$t("Docker.Compose.form.index_3"),path:"name"},{default:s(()=>[o(a,{class:"w-280px!",value:c(h).name,"onUpdate:value":t[0]||(t[0]=e=>c(h).name=e),placeholder:e.$t("Term.idnex_1")},null,8,["value","placeholder"])]),_:1},8,["label"]),o(n,{label:e.$t("Docker.LocalImage.build_5"),path:"content"},{default:s(()=>[o(a,{class:"w-280px!",type:"textarea",rows:6,value:c(h).content,"onUpdate:value":t[1]||(t[1]=e=>c(h).content=e),placeholder:e.$t("Term.index_2")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"])])}}}),ue=n({__name:"index",setup(e,{expose:t}){const{t:a}=l(),{keys:n,table:i,columns:v}=D([{key:"title",title:a("Term.index_4"),ellipsis:{tooltip:{width:"trigger"}},render:e=>o("span",{class:"cursor-pointer w-100%",onClick:()=>{g(e.shell)}},[e.title])},F({width:130,options:e=>[{label:a("Public.Btn.Copy"),onClick:()=>{g(e.shell)}},{label:a("Public.Btn.Edit"),onClick:()=>{f(e)}},{label:a("Public.Btn.Del"),onClick:()=>{M({title:a("Term.index_20"),content:a("Term.index_21",[e.title]),onConfirm:async({hide:t})=>{await ie({title:e.title}),b(),t()}})}}]})]),g=e=>{K(e)},{loading:h,setLoading:x}=A(),b=async()=>{try{x(!0);const{message:e}=await I.post("/xterm?action=get_command_list");q(e)&&(i.data=e)}finally{n.value=[],x(!1)}},_=Y(a("Term.index_3"),{isEdit:!1,getList:b}),y=()=>{_.data.isEdit=!1,_.title=a("Term.index_3"),_.show=!0},f=e=>{_.data.row=e,_.data.isEdit=!0,_.title=a("Term.index_5"),_.show=!0};return b(),t({init:b}),(e,t)=>{const a=W,l=B,g=V,x=Q;return r(),d("div",null,[o(g,null,{toolsLeft:s(()=>[o(a,{type:"primary",onClick:y},{default:s(()=>[p(m(e.$t("Term.index_3")),1)]),_:1})]),table:s(()=>[o(l,{"checked-row-keys":c(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>u(n)?n.value=e:null),loading:c(h),"max-height":"calc(100vh - 250px)",data:c(i).data,columns:c(v)},null,8,["checked-row-keys","loading","data","columns"])]),_:1}),o(x,{show:c(_).show,"onUpdate:show":t[1]||(t[1]=e=>c(_).show=e),title:c(_).title,data:c(_).data,width:480,footer:!0,component:ce},null,8,["show","title","data"])])}}}),pe=n({__name:"index",setup(e){const{t:t}=l(),a=v("server"),n=[{key:"server",label:t("Term.index_23"),component:re},{key:"command",label:t("Term.index_24"),component:ue}];return(e,t)=>{const l=H;return r(),d("div",null,[o(l,{class:"w-300px!",value:c(a),"onUpdate:value":t[0]||(t[0]=e=>u(a)?a.value=e:null),options:n},null,8,["value"])])}}}),me=["onClick","onContextmenu"],ve=["title"],ge=["onClick"],he={class:"terminal bg-#333333"},xe=n({__name:"index",setup(e){const{t:t}=l(),a=U(),{isFull:n,server:u,isShow:g}=h(a),S=v([{id:"aaaaaaaaa",host:"127.0.0.1",port:22,ps:t("Database.form.index_12"),state:!0}]),E=["Copy session","Close session","Close to right","Close other"],I=v("aaaaaaaaa"),L=()=>{const e={title:t("Term.index_19"),data:{isEdit:!1}};de(e)},O=e=>{const t=$(9,"letter");S.value.push({id:t,host:e.host,port:e.port,ps:e.ps,state:!0}),setTimeout(()=>{q(t)},20)},q=e=>{I.value=e},P=(e,t)=>{S.value=S.value.map(a=>a.id===e?{...a,state:t}:a)},z=e=>{S.value=S.value.filter(t=>t.id!==e),I.value=S.value.length>0?S.value[S.value.length-1].id:"aaaaaaaaa"},D=v(!1),F=v(0),M=v(0),A=v({id:"",host:"",port:0,ps:"",state:!1});return document.addEventListener("click",()=>{D.value=!1}),i(()=>u.value,e=>{null!==e&&O(e)},{deep:!0}),(e,t)=>{const a=R,l=J;return r(),x(l,{vertical:"",class:"gap-0!"},{default:s(()=>[o(l,{class:"head gap-0! xterm-head"},{default:s(()=>[(r(!0),d(_,null,y(c(S),e=>(r(),d("div",{key:e.id,class:k(["item",{"item-active":c(I)===e.id}]),onClick:t=>q(e.id),onContextmenu:f(t=>{return a=t,n=e,A.value=n,F.value=a.clientX,M.value=a.clientY,void(D.value=!0);var a,n},["prevent"])},[b("div",{class:"text",title:e.ps},[b("span",{class:k(["icon",{"icon-active":!e.state}])},null,2),p(m(e.ps?e.ps:e.host),1)],8,ve),o(a,{name:"base-close",class:"close-terminal",size:16,onClick:f(t=>z(e.id),["stop"])},null,8,["onClick"]),c(D)?(r(),d("div",{key:0,class:"context-menu",style:C({top:c(M)-20+"px",left:c(F)-180+"px"})},[b("ul",null,[(r(),d(_,null,y(E,(e,t)=>b("li",{key:t,onClick:t=>(e=>{if(!A.value)return;let t;switch(e){case"Copy session":O(A.value);break;case"Close session":z(A.value.id);break;case"Close to right":t=S.value.findIndex(e=>e.id===A.value.id),-1!==t&&(S.value.splice(t+1),setTimeout(()=>{q(S.value[t]?.id||"aaaaaaaaa")},20));break;case"Close other":S.value=S.value.filter(e=>e.id===A.value.id),setTimeout(()=>{q(A.value.id)},20)}D.value=!1})(e)},m(e),9,ge)),64))])],4)):w("",!0)],42,me))),128)),b("div",{class:"add-terminal",onClick:L},[o(a,{name:"base-add",size:24})]),b("div",{class:"absolute right-0px add-terminal",onClick:t[0]||(t[0]=e=>n.value=!c(n))},[o(a,{name:"base-full",size:24})])]),_:1}),b("div",he,[(r(!0),d(_,null,y(c(S),e=>T((r(),x(ee,{key:e.id,data:e,onUpdateFull:q,onUpdateState:P},null,8,["data"])),[[j,e.id===c(I)]])),128)),b("div",{class:k(["terminal-contract-tool",{active:!c(g)}]),onClick:t[1]||(t[1]=e=>g.value=!c(g))},null,2)])]),_:1})}}}),be=P(xe,[["__scopeId","data-v-5115dd54"]]),_e={class:"p-16px box"},ye=P(n({__name:"index",setup(e){const t=U(),{isShow:a,isFull:n}=h(t),l=v(null);i(()=>n.value,e=>{e?(a.value=!1,l.value?.requestFullscreen()):document.exitFullscreen().catch(e=>{console.log(e.message)})});const u=()=>{document.fullscreenElement?n.value=!0:n.value=!1};return S(()=>{document.addEventListener("fullscreenchange",u)}),E(()=>{document.removeEventListener("fullscreenchange",u)}),(e,t)=>{const n=J,i=N;return r(),d("div",_e,[o(i,{class:"p-16px h-100%"},{default:s(()=>[b("div",{class:"h-100%",ref_key:"contentRef",ref:l},[o(n,{class:"flex-nowrap! h-100%"},{default:s(()=>[o(be,{class:"flex-1 overflow-hidden"}),T(o(pe,null,null,512),[[j,c(a)]])]),_:1})],512)]),_:1})])}}}),[["__scopeId","data-v-57762b9d"]]),fe=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));e("i",fe)}}});
