System.register(["./index-legacy95.js?v=1742891699271","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1742891699271","./page_layout-legacy.js?v=1742891699271","./public-legacy.js?v=1742891699271","./site-legacy.js?v=1742891699271","./index.vue_vue_type_script_setup_true_lang-legacy14.js?v=1742891699271","./vue-legacy.js?v=1742891699271","./naive-legacy.js?v=1742891699271","./common-legacy.js?v=1742891699271","./__commonjsHelpers__-legacy.js?v=1742891699271"],(function(e,t){"use strict";var n,s,a,i,l,o,r,c,u,d,_,g,p,v,m,P,y,x,h,f,S,j,b,w;return{setters:[e=>{n=e._},e=>{s=e._},e=>{a=e.cw,i=e.I,l=e.b,o=e.m},e=>{r=e.c,c=e.u},e=>{u=e.aq,d=e.b0},e=>{_=e._},e=>{g=e.d,p=e.O,v=e.j,m=e.r,P=e.R,y=e.S,x=e.P,h=e.a1,f=e.U,S=e.V,j=e.a2},e=>{b=e.cn,w=e.ch},null,null],execute:function(){const t={class:"p-20px"},H={class:"w-200px"};e("default",g({__name:"batch",props:{data:{}},setup(e,{expose:g}){const{t:E}=p(),$=e,{rows:q}=$.data,R=a(),M=v({version:null}),O={version:{trigger:"change",validator:()=>null!==M.version||new Error(E("Site.PHP.add_site_27"))}},U=m([]),{loading:k,setLoading:C}=r();(async()=>{try{C(!0);const{message:e}=await u();i(e)&&e.length>0?(U.value=e.map((e=>({label:e.name,value:e.version}))),M.version=e[0].version):(M.version=null,U.value=[])}finally{C(!1)}})();const I=()=>{const{version:e}=M;if(null===e)throw o.error(E("Site.PHP.index_67")),new Error(E("Site.PHP.index_67"));return{version:e,sites_id:q.map((e=>e.id)).join(",")}};return g({onConfirm:async({hide:e})=>{const{message:t}=await d(I());R.setRefresh(!0),l(t)&&(e=>{const{success:t,error:n}=e,s=[];t.forEach((e=>{const t=q.find((t=>t.name===e));t&&s.push({name:t.name,batchStatus:"success",reqMsg:E("Site.PHP.index_64")})})),Object.entries(n).forEach((([e,t])=>{const n=q.find((t=>t.name===e));n&&s.push({name:n.name,batchStatus:"error",reqMsg:t})})),c({title:E("Site.PHP.index_65"),width:440,footer:!0,component:_,data:{title:E("Site.PHP.index_66"),data:s,status:"done",columns:[{key:"name",title:E("Site.TableRow.index_1"),ellipsis:{tooltip:{width:"trigger"}}}]}})})(t),e()}}),(e,a)=>{const i=b,l=w,o=s,r=n;return P(),y("div",t,[x(o,{model:S(M),rules:O},{default:h((()=>[x(l,{label:e.$t("Site.PHP.add_site_21"),path:"version"},{default:h((()=>[f("div",H,[x(i,{value:S(M).version,"onUpdate:value":a[0]||(a[0]=e=>S(M).version=e),loading:S(k),options:S(U)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),x(r,{class:"mt-8px"},{default:h((()=>[f("li",null,j(e.$t("Site.PHP.index_61")),1),f("li",null,j(e.$t("Site.PHP.index_62")),1),f("li",null,j(e.$t("Site.PHP.index_63")),1)])),_:1})])}}}))}}}));
