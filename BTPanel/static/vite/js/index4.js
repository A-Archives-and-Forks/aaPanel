const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/set.js?v=1744703330658","js/index.js?v=1744703330658","js/vue.js?v=1744703330658","js/__commonjsHelpers__.js?v=1744703330658","js/common.js?v=1744703330658","js/public.js?v=1744703330658","js/page_layout.js?v=1744703330658","js/naive.js?v=1744703330658","css/page_layout.css?v=1744703330658","css/public.css?v=1744703330658","css/index93.css?v=1744703330658","js/index.vue_vue_type_script_setup_true_lang.js?v=1744703330658"])))=>i.map(i=>d[i]);
import{_ as e}from"./index.js?v=1744703330658";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1744703330658";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1744703330658";import{_ as o}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1744703330658";import{_ as l}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1744703330658";import{g as n}from"./mail.js?v=1744703330658";import{c as u,d as s,e as c}from"./public.js?v=1744703330658";import{a as i,a8 as d,I as r,a9 as p,aa as _,ab as m,W as v,d as f,k as g}from"./page_layout.js?v=1744703330658";import{d as h,O as x,ad as A,r as k,R as b,S as y,P as w,a0 as j,c as F,a1 as U,V as H,af as C,Y as P,_ as D,U as S,k as $,v as R,$ as E,ap as M,e as L}from"./vue.js?v=1744703330658";import{u as I,a as V}from"./accountState.js?v=1744703330658";import{T as z,cn as O,cl as q,cm as T,ch as W,b_ as Y,co as N,ck as B}from"./naive.js?v=1744703330658";import{_ as G}from"./index95.js?v=1744703330658";import{_ as J}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1744703330658";import{a as K}from"./quota.js?v=1744703330658";import"./common.js?v=1744703330658";import"./__commonjsHelpers__.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1744703330658";import"./ssl.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang.js?v=1744703330658";import"./index96.js?v=1744703330658";const Q={class:"w-160px"},X=h({__name:"index",props:{value:{default:null}},setup(a){const{t:t}=x(),o=P((()=>i((()=>import("./set.js?v=1744703330658")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])))),l=A(a,"value"),{loading:n,setLoading:c}=u(),p=k([]),_=s("category manager",{setOptions:(e,a)=>{a===l.value&&(l.value=-1),p.value=e.map((e=>({label:e.name,value:e.type_id}))),v()}}),m=()=>{_.show=!0},v=()=>{p.value.unshift({label:t("Site.PHP.index_45"),value:-1})};return v(),(async()=>{try{c(!0);const{message:e}=await d();r(e)?p.value=e.map((e=>({label:e.name,value:e.type_id}))):p.value=[],v()}finally{c(!1)}})(),(a,t)=>{const u=z,s=O,c=e;return b(),y("div",Q,[w(s,{value:H(l),"onUpdate:value":t[0]||(t[0]=e=>C(l)?l.value=e:null),loading:H(n),options:H(p)},{action:j((()=>[w(u,{block:"",onClick:m},{default:j((()=>[F(U(a.$t("Site.PHP.index_43")),1)])),_:1})])),_:1},8,["value","loading","options"]),w(c,{show:H(_).show,"onUpdate:show":t[1]||(t[1]=e=>H(_).show=e),width:350,title:H(_).title,data:H(_).data,component:H(o)},null,8,["show","title","data","component"])])}}}),Z={class:"p-10"},ee={class:"flex items-center"},ae={class:"bt-link ml-5"},te=h({__name:"AccountForm",setup(e){const{t:a}=x(),t=I().initAccountForm(),o=I().initDomainForm(),{accountFormRef:l,accountDomainFormRef:n,expendFormState:u,packageList:s,diskMountPointList:c,diskMountSourceList:i,currentChangeDisk:d,wpForData:r,acForData:f,isEdit:g}=D(I()),{changePackage:h}=V(),A=[{key:"header",type:"render",render:()=>w(m,{labelPlacement:"left",size:"small",bordered:!0,column:1},{default:()=>[w(_,{label:a("Account.Account.FormHooks-122755-13")},{default:()=>[r.value.package_name]}),w(_,{label:a("Account.Account.FormHooks-122755-14")},{default:()=>[r.value.remark]}),w(_,{label:a("Account.Account.FormHooks-122755-15")},{default:()=>[r.value.disk_space_quota.unlimited?w("img",{class:"icon",title:"",src:K},null):r.value.disk_space_quota.value]}),w(_,{label:a("Account.Account.FormHooks-122755-16")},{default:()=>[r.value.monthly_bandwidth_limit?w("img",{class:"icon",title:"",src:K},null):r.value.monthly_bandwidth_limit]}),w(_,{label:a("Account.Account.FormHooks-122755-17")},{default:()=>[r.value.max_site_limit.unlimited?w("img",{class:"icon",title:"",src:K},null):r.value.max_site_limit.value]}),w(_,{label:a("Account.Account.FormHooks-122755-18")},{default:()=>[r.value.php_start_children]}),w(_,{label:a("Account.Account.FormHooks-122755-19")},{default:()=>[r.value.php_max_children]}),w(_,{label:a("Account.Account.FormHooks-122755-21")},{default:()=>[r.value.max_database?w("img",{class:"icon",title:"",src:K},null):r.value.max_database]})]})}],P=new Date;P.setDate(P.getDate()+30);const L="".concat(P.getFullYear(),"-").concat(P.getMonth()+1>9?P.getMonth()+1:"0"+(P.getMonth()+1),"-").concat(P.getDate()>9?P.getDate():"0"+P.getDate()),z=k("permanent"),B=k(L),Q=()=>{"custom"===z.value?(B.value=L,f.value.expire_date=L):(B.value=null,f.value.expire_date="0000-00-00")},X=e=>{f.value.expire_date=v(Number(e),"yyyy-MM-dd")},te=e=>{d.value=i.value.find((a=>a.mountpoint===e))};return"0000-00-00"===f.value.expire_date||void 0===f.value.expire_date?z.value="permanent":(z.value="custom",B.value=f.value.expire_date),(e,a)=>{const i=G;return b(),y("div",Z,[w(H(o),{ref_key:"accountDomainFormRef",ref:n,isEdit:H(g)},null,8,["isEdit"]),w(H(t),{ref_key:"accountFormRef",ref:l,isEdit:H(g)},{password:j((()=>[w(J,{value:H(f).password,"onUpdate:value":a[0]||(a[0]=e=>H(f).password=e),default:!H(g),placeholder:"","input-props":{name:"password"}},null,8,["value","default"])])),expire_date:j((()=>[S("div",null,[w(H(q),{value:H(z),"onUpdate:value":a[1]||(a[1]=e=>C(z)?z.value=e:null),onChange:Q,style:{margin:"10px 0"}},{default:j((()=>[w(H(T),{value:"permanent"},{default:j((()=>[F(U(e.$t("Account.Account.account_index_10")),1)])),_:1}),w(H(T),{value:"custom"},{default:j((()=>[F(U(e.$t("Account.Account.account_index_11")),1)])),_:1})])),_:1},8,["value"]),$(w(H(p),{"formatted-value":H(B),"onUpdate:formattedValue":a[2]||(a[2]=e=>C(B)?B.value=e:null),type:"date","onUpdate:value":X},null,8,["formatted-value"]),[[R,"custom"===H(z)]])])])),_:1},8,["isEdit"]),w(H(N),{"label-placement":"left","label-width":"130px"},{default:j((()=>[w(H(W),{label:e.$t("Account.Account.account_index_6")},{default:j((()=>[S("div",ee,[w(H(O),{value:H(u).package_id,"onUpdate:value":a[3]||(a[3]=e=>H(u).package_id=e),class:"w-20rem",options:H(s),onUpdateValue:H(h)},null,8,["value","options","onUpdateValue"]),w(H(Y),{trigger:"hover",placement:"right",options:A},{default:j((()=>[S("div",ae,U(e.$t("Account.Account.account_index_9")),1)])),_:1})])])),_:1},8,["label"]),H(g)?M("",!0):(b(),E(H(W),{key:0,label:e.$t("Account.Account.FormHooks-122755-32")},{default:j((()=>[w(H(O),{value:H(u).mountpoint,"onUpdate:value":a[4]||(a[4]=e=>H(u).mountpoint=e),options:H(c),onChange:te},null,8,["value","options"])])),_:1},8,["label"]))])),_:1}),w(i,null,{default:j((()=>a[5]||(a[5]=[S("li",null," Automaticï¼šIf the API is not open or 127.0.0.1 is not added to the API whitelist, it will not be possible to deploy web certificates and add post office domain names and deploy post office domain name certificates ",-1)]))),_:1})])}}}),oe={class:"mr-8px"},le=g(h({__name:"index",setup(s){const{t:i}=x(),{init:d,loading:r,addHost:p,form_save:_,form_reset:m}=V(),{table:v,search:g,columns:h,addVisible:A,isEdit:P,account_total:$}=D(I());d();const R=L((()=>{const e=P.value?i("Account.Package.packageState-592272-13"):i("Account.Package.packageState-592272-12");return i("Account.Account.FormHooks-122755-31",[e])})),E=k([]),M=(e,a)=>{const t={source:310,plugin:{name:i("Home.index_2"),pid:e,type:100,plugin:!0,renew:0,num:a.num,title:i("Account.Account.account_533924-10"),ps:a.ps}};c(t)},{loading:O,setLoading:q}=u(),T=async()=>{try{q(!0);const{message:e}=await n({expand_pack_type:"account"});f(e)&&(E.value=e.prices.map((e=>({label:"$".concat(e.children[0].children[0].price," - ").concat(e.product_name),key:e.product_id,ps:e.product_description,num:e.expand_num,props:{title:e.product_description.replace(/<p[^>]*>(.*?)<\/p>/gi,"$1")}}))),E.value.unshift({label:i("Mail.Overview.today_14"),disabled:!0}))}finally{q(!1)}};return(n,u)=>{const s=z,c=Y,f=l,x=o,k=t,P=a,D=B,L=e;return b(),y("div",null,[w(D,{class:"p-16px mb-16px"},{default:j((()=>[w(P,{feedback:!0,email:!0},{toolsLeft:j((()=>[w(s,{onClick:H(p),type:"primary"},{default:j((()=>[F(U(n.$t("Account.Account.account_index_1")),1)])),_:1},8,["onClick"])])),toolsRight:j((()=>[S("div",oe,[S("span",null,U(n.$t("Account.Account.account_533924-8")),1),S("span",null,U(H(v).total)+" / "+U(H($)),1),w(c,{size:"large",trigger:"click",options:H(E),onSelect:M},{default:j((()=>[w(s,{class:"button ml-10px",loading:H(O),onClick:T},{default:j((()=>[F(U(H(i)("WP.Config.index_2")),1)])),_:1},8,["loading"])])),_:1},8,["options"])]),w(X,{value:H(g).type_id,"onUpdate:value":[u[0]||(u[0]=e=>H(g).type_id=e),H(d)]},null,8,["value","onUpdate:value"]),w(f,{value:H(g).search_value,"onUpdate:value":u[1]||(u[1]=e=>H(g).search_value=e),placeholder:n.$t("Account.Account.account_index_2"),onSearch:H(d)},null,8,["value","placeholder","onSearch"])])),table:j((()=>[w(x,{"max-height":800,loading:H(r),data:H(v).data,columns:H(h)},null,8,["loading","data","columns"])])),pageRight:j((()=>[w(k,{page:H(g).p,"onUpdate:page":u[2]||(u[2]=e=>H(g).p=e),"page-size":H(g).rows,"onUpdate:pageSize":u[3]||(u[3]=e=>H(g).rows=e),"item-count":H(v).total,onRefresh:H(d)},null,8,["page","page-size","item-count","onRefresh"])])),_:1})])),_:1}),w(L,{show:H(A),"onUpdate:show":u[4]||(u[4]=e=>C(A)?A.value=e:null),title:H(R),width:700,footer:!0,component:te,onConfirm:H(_),onCancel:H(m),onClose:H(m)},null,8,["show","title","onConfirm","onCancel","onClose"])])}}}),[["__scopeId","data-v-5ed16601"]]);export{le as default};
