const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/progress.js?v=1758789124250","js/vue.js?v=1758789124250","js/__commonjsHelpers__.js?v=1758789124250","js/page_layout.js?v=1758789124250","js/naive.js?v=1758789124250","js/common.js?v=1758789124250","js/public.js?v=1758789124250","css/public.css?v=1758789124250","css/page_layout.css?v=1758789124250","js/index133.js?v=1758789124250","css/index23.css?v=1758789124250","js/index.js?v=1758789124250","css/index109.css?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang5.js?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang6.js?v=1758789124250","css/index15.css?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang7.js?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang12.js?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang8.js?v=1758789124250","js/index131.js?v=1758789124250","js/php.js?v=1758789124250","js/soft.js?v=1758789124250","js/site.js?v=1758789124250","css/index22.css?v=1758789124250","js/site4.js?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang15.js?v=1758789124250","js/index245.js?v=1758789124250","css/index59.css?v=1758789124250","js/index99.js?v=1758789124250","css/index14.css?v=1758789124250","js/index108.js?v=1758789124250","css/index21.css?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang.js?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang10.js?v=1758789124250","js/index98.js?v=1758789124250","css/index13.css?v=1758789124250","js/index100.js?v=1758789124250","js/index101.js?v=1758789124250","js/file.js?v=1758789124250","js/theme-monokai.js?v=1758789124250","css/index16.css?v=1758789124250","js/refersh.js?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang17.js?v=1758789124250","js/index105.js?v=1758789124250","css/index19.css?v=1758789124250","js/ssl.js?v=1758789124250","js/cert.js?v=1758789124250","js/utils3.js?v=1758789124250","js/index218.js?v=1758789124250","js/paypal-js.js?v=1758789124250","css/index48.css?v=1758789124250","js/ssl-lets-progress.js?v=1758789124250","css/ssl-lets-progress.css?v=1758789124250","js/upload.js?v=1758789124250","css/progress.css?v=1758789124250","js/index246.js?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang14.js?v=1758789124250","css/index105.css?v=1758789124250","js/index248.js?v=1758789124250","js/index247.js?v=1758789124250","css/index106.css?v=1758789124250","js/ssl-log.js?v=1758789124250","js/index250.js?v=1758789124250","js/index213.js?v=1758789124250","css/index92.css?v=1758789124250","js/index214.js?v=1758789124250","css/index93.css?v=1758789124250","js/domain-verification.js?v=1758789124250","js/index251.js?v=1758789124250","js/domain-input.js?v=1758789124250","css/domain-input.css?v=1758789124250","js/task-view.vue_vue_type_script_setup_true_lang.js?v=1758789124250","js/index252.js?v=1758789124250","js/index253.js?v=1758789124250","js/index254.js?v=1758789124250","js/useModal2.js?v=1758789124250","js/form.vue_vue_type_script_setup_true_lang2.js?v=1758789124250","css/index102.css?v=1758789124250","js/index255.js?v=1758789124250","css/index103.css?v=1758789124250","js/index256.js?v=1758789124250","css/index104.css?v=1758789124250","js/batch3.js?v=1758789124250","js/index249.js?v=1758789124250","js/webserver-result.vue_vue_type_script_setup_true_lang.js?v=1758789124250"])))=>i.map(i=>d[i]);
import{ar as e,di as t,d as a,t as l,i,a as n,a8 as s,u as o,_ as r,p as d,z as u,q as c,r as p,o as _,w as m,m as h,g as v,dr as w,be as f,aU as x,ds as g,e as y,dt as b,S,h as k,cs as C,du as P,a5 as $}from"./page_layout.js?v=1758789124250";import{_ as L}from"./index133.js?v=1758789124250";import{a as R,_ as U}from"./index.js?v=1758789124250";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1758789124250";import{_ as T}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1758789124250";import{_ as E}from"./index.vue_vue_type_script_setup_true_lang12.js?v=1758789124250";import{u as O,G as q,r as B,b as j,$ as M,a9 as I,c as D,a as A,d as N,h as H,_ as z,f as V,s as F,e as K,J,ac as G,ad as X,a6 as Q,a0 as Y,a1 as Z,a2 as ee,n as te,ae,af as le,ag as ie,ah as ne,ai as se,j as oe,q as re,a5 as de,m as ue,aa as ce}from"./public.js?v=1758789124250";import{_ as pe}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1758789124250";import{_ as _e}from"./index131.js?v=1758789124250";import{Z as me,r as he,c as ve,_ as we,W as fe,k as xe,F as ge,u as ye,R as be,V as Se,l as ke,v as Ce,S as Pe,U as $e,a3 as Le,j as Re,a4 as Ue,H as We,P as Te,a0 as Ee,am as Oe,a2 as qe,O as Be,i as je,p as Me,ak as Ie,e as De,an as Ae,o as Ne,N as He,n as ze,ay as Ve,t as Fe,y as Ke,w as Je,m as Ge,x as Xe,ae as Qe,s as Ye,b as Ze}from"./vue.js?v=1758789124250";import{d5 as et,bz as tt,aC as at,dd as lt,d8 as it,da as nt,di as st,dc as ot,bH as rt,dm as dt,dR as ut,dV as ct,dj as pt,au as _t,dk as mt,av as ht,df as vt,dY as wt,_ as ft,eg as xt,dh as gt,dZ as yt,dT as bt,e2 as St,dU as kt,G as Ct,aX as Pt,dS as $t,bJ as Lt,dg as Rt}from"./naive.js?v=1758789124250";import{l as Ut}from"./site4.js?v=1758789124250";import{d as Wt,e as Tt,f as Et,h as Ot,i as qt,a as Bt}from"./php.js?v=1758789124250";import{j as jt,a0 as Mt,a1 as It,s as Dt,a2 as At,a3 as Nt,a4 as Ht,a5 as zt,a6 as Vt,a7 as Ft,a8 as Kt,a9 as Jt,aa as Gt,ab as Xt,ac as Qt,ad as Yt,ae as Zt,af as ea,ag as ta,ah as aa,ai as la,aj as ia,ak as na,al as sa,am as oa,an as ra,ao as da,ap as ua,aq as ca,ar as pa,as as _a,at as ma,au as ha,av as va,g as wa,aw as fa,ax as xa,ay as ga,az as ya,aA as ba,aB as Sa,aC as ka,aD as Ca,aE as Pa,aF as $a,aG as La,Y as Ra,aH as Ua,aI as Wa,b as Ta,aJ as Ea,a as Oa,aK as qa}from"./site.js?v=1758789124250";import{a as Ba}from"./soft.js?v=1758789124250";import{m as ja,a5 as Ma}from"./common.js?v=1758789124250";import{_ as Ia}from"./index.vue_vue_type_script_setup_true_lang15.js?v=1758789124250";import{_ as Da}from"./index245.js?v=1758789124250";import{_ as Aa}from"./index99.js?v=1758789124250";import{_ as Na}from"./index108.js?v=1758789124250";import{_ as Ha}from"./index.vue_vue_type_script_setup_true_lang.js?v=1758789124250";import{_ as za}from"./index.vue_vue_type_script_setup_true_lang10.js?v=1758789124250";import Va from"./index100.js?v=1758789124250";import{_ as Fa,a as Ka,b as Ja}from"./refersh.js?v=1758789124250";import{_ as Ga}from"./index.vue_vue_type_script_setup_true_lang17.js?v=1758789124250";import{_ as Xa}from"./index105.js?v=1758789124250";import{c as Qa,s as Ya,a as Za,g as el,b as tl}from"./ssl.js?v=1758789124250";import{C as al}from"./cert.js?v=1758789124250";import{u as ll}from"./utils3.js?v=1758789124250";import{A as il}from"./index218.js?v=1758789124250";import{a as nl}from"./ssl-lets-progress.js?v=1758789124250";import{o as sl}from"./upload.js?v=1758789124250";const ol=me("wordpress-toolkit",()=>{const l=he(""),i=he(!1),n=he(""),s=he("/www/wwwroot"),o=he(""),r=he({setup:!1,version:"",status:!1}),d=he({setup:!1}),u=he({setup:!0,type:"",version:"",status:!1}),c=he({is_install:0,status:!1,version:""}),p=ve(()=>1===c.value.is_install&&e(c.value.version,"4.1.2")),_=he({is_install:0,status:!1,version:""}),m=ve(()=>1===_.value.is_install&&e(_.value.version,"9.6.8"));return{web:u,mysql:r,php:d,siteName:l,sitePath:s,isRefresh:i,phpVersion:n,webserver:o,monitor:c,isMonitorInstall:p,waf:_,isWafInstall:m,setRefresh:e=>{i.value=e},getConfig:async()=>{const{message:e}=await t();a(e)&&(o.value=et(e,"webserver",""),s.value=et(e,"sites_path",""),d.value.setup=!!e.php.length,a(e.web)&&(u.value=e.web),a(e.mysql)&&(r.value=e.mysql),a(e.monitor)&&(c.value=e.monitor),a(e.waf)&&(_.value=e.waf))}}}),{t:rl}=i.global,dl=e=>l.post("/site?action=AddWPSite",{...e,webname:JSON.stringify(e.webname),project_type:"WP2"},{requestOptions:{loading:rl("WP.api.tamper_7")}}),ul=e=>l.post("/site?action=get_wp_versions",e),cl=e=>l.post("/site?action=get_wp_configurations",e,{requestOptions:{loading:rl("WP.api.tamper_8")}}),pl=e=>l.post("/site?action=wp_backup_list",e),_l=(e,t=!0)=>l.post("/site?action=wp_backup",e,{requestOptions:{loading:t?rl("WP.api.tamper_9"):"",successMessage:t}}),ml=(e,t=!0)=>l.post("/site?action=wp_restore",e,{requestOptions:{loading:t?rl("WP.api.tamper_10"):"",successMessage:!0}}),hl=(e,t=!0)=>l.post("/site?action=wp_remove_backup",e,{requestOptions:{loading:t?rl("WP.api.tamper_8"):"",successMessage:t}}),vl=()=>l.post("/site?action=wp_can_migrate_from_website_to_wptoolkit"),wl=e=>l.post("/site?action=wp_migrate_from_website_to_wptoolkit",e,{requestOptions:{loading:rl("WP.api.tamper_11"),successMessage:!1}}),fl=e=>l.post("/site?action=get_wp_security_info",e),xl=e=>l.post("/site?action=open_wp_file_protection",{paths:JSON.stringify(e.paths)},{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}),gl=e=>l.post("/site?action=close_wp_file_protection",e,{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}),yl=e=>l.post("/site?action=get_wp_file_info",e),bl=e=>l.post("/site?action=open_wp_firewall_protection",{obj:"open",...e},{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}),Sl=e=>l.post("/site?action=close_wp_firewall_protection",e,{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}),kl=e=>l.post("/site?action=wp_clone",e,{requestOptions:{loading:rl("WP.api.index_1"),successMessage:!0}}),Cl=e=>l.post("/site?action=wp_create_with_aap_bak",e,{requestOptions:{loading:rl("WP.api.index_2"),successMessage:!0}}),Pl=e=>l.post("/site?action=wp_create_with_plesk_or_cpanel_bak",e,{requestOptions:{loading:rl("WP.api.index_2"),successMessage:!0}}),$l=e=>l.post("/site?action=wp_create_with_manual_bak",e,{requestOptions:{loading:rl("WP.api.index_2"),successMessage:!0}}),Ll=e=>l.post("/site?action=wp_integrity_check",e,{requestOptions:{loading:"",successMessage:!1,errorMessage:!1}}),Rl=e=>l.post("/site?action=wp_reinstall_files",e,{requestOptions:{loading:"",successMessage:!1}}),Ul=(e,t=!1)=>l.post("/site?action=wp_theme_list",e,{requestOptions:{loading:t?rl("WP.api.tamper_17"):"",successMessage:!1}}),Wl=(e,t=!1)=>l.post("/site?action=wp_plugin_list",e,{requestOptions:{loading:t?rl("WP.api.tamper_17"):"",successMessage:!1}}),Tl=e=>l.post("/site?action=wp_set_list",e),El=e=>l.post("/site?action=wp_remove_set",e,{requestOptions:{loading:rl("WP.api.tamper_3"),successMessage:!0}}),Ol=e=>l.post("/site?action=wp_create_set",e,{requestOptions:{loading:rl("WP.api.tamper_2"),successMessage:!0}}),ql=e=>l.post("/site?action=wp_update_item_state_with_set",e,{requestOptions:{loading:rl("WP.api.tamper_1"),successMessage:!0}}),Bl=e=>l.post("/site?action=wp_remove_items_from_set",e,{requestOptions:{loading:rl("WP.api.tamper_3"),successMessage:!0}}),jl=e=>l.post("/site?action=wp_add_items_to_set",e,{requestOptions:{loading:rl("WP.api.tamper_2"),successMessage:!0}}),Ml=e=>l.post("/site?action=wp_install_with_set",e,{requestOptions:{loading:rl("WP.api.tamper_16"),successMessage:!0}}),Il=e=>l.post("/site?action=wp_get_items_from_set",e),Dl=()=>l.post("/site?action=wp_all_sites"),Al=e=>l.post("/site?action=wordpress_vulnerabilities_scan",e,{requestOptions:{loading:rl("WP.index_63"),successMessage:!1}}),Nl=e=>l.post("/site?action=get_ignore_vuln",e),Hl=e=>l.post("/site?action=ignore_vuln",e,{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}),zl=e=>l.post("/site?action=set_auth_scan",e,{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}),Vl=e=>l.post("/site?action=get_auth_scan_status",e),Fl=()=>l.post("/data?action=get_wp_classification"),Kl=e=>l.post("/site?action=set_wp_site_type",e,{requestOptions:{loading:rl("Login.index_22"),successMessage:!0}}),Jl=e=>l.post("/site?action=get_source_tables",e),Gl=()=>l.post("/site?action=get_wp_sites"),Xl=e=>l.post("/site?action=wp_copy_data",e,{requestOptions:{loading:rl("Login.index_22"),successMessage:!0}}),Ql=e=>l.post("/site?action=get_wp_progress",e);function Yl(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!ye(e)}const{t:Zl}=i.global,ei=o(),ti=[{key:"cache",label:"Purge Cache",icon:()=>fe("i",{class:"i-ant-design:clear-outlined text-18px"},null)},{key:"plugin",label:Zl("WP.TableRow.index_5"),icon:()=>fe("i",{class:"i-mingcute:plugin-2-line text-18px"},null)},{key:"theme",label:Zl("WP.TableRow.index_6"),icon:()=>fe("i",{class:"i-lsicon:clothes-outline text-18px"},null)},{key:"delete",label:Zl("Public.Btn.Del"),icon:()=>fe("i",{class:"i-weui:delete-outlined text-18px"},null)}],ai=xe({name:"CloseSite",props:{val:{type:String,required:!0},row:{type:Object,required:!0},close:{type:Function,required:!0},onOpenConfig:{type:Function}},emits:["close"],setup(e){const t="1"===e.val?Zl("Site.PHP.index_22"):Zl("Site.PHP.index_23"),a=()=>{e.close()},l=async()=>{await jt("1"===e.val,{id:e.row.id,name:e.row.name}),e.row.status=e.val,e.close()};return()=>{let i,n;return fe(ge,null,[fe("div",{class:"flex p-20px"},[fe(r,{name:"base-warning",size:"30",color:"#f0a020"},null),fe("div",{class:"confirm-content flex-1 ml-10px pt-4px text-14px leading-22px"},[tt(t)])]),fe(R,null,{default:()=>[fe(at,{size:"small",color:"#cbcbcb",onClick:a},Yl(i=Zl("Public.Btn.Cancel"))?i:{default:()=>[i]}),"1"!==e.val?fe(at,{type:"warning",size:"small",onClick:()=>{var t;ei.isFree?j({source:371}):null==(t=e.onOpenConfig)||t.call(e)}},{default:()=>["Maintenance"]}):"",fe(at,{size:"small",type:"1"===e.val?"primary":"error",onClick:l},Yl(n=Zl("Public.Btn.Confirm"))?n:{default:()=>[n]})]})])}}}),li=async(e,t,a)=>{O({title:e,width:500,minHeight:200,data:{params:t,callback:a},component:we(()=>n(()=>import("./progress.js?v=1758789124250"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54])))})},ii={class:"website-status"},ni={class:"i-famicons:play-circle-outline"},si={class:"i-ic:baseline-pause-circle-outline text-error"},oi=d(xe({__name:"Status",props:{status:{type:String,default:"0"},maintenance:{type:Boolean,default:!1},checkedValue:{type:String,default:"1"},unCheckedValue:{type:String,default:"0"},onUpdateValue:{type:Function},onOpenConfig:{type:Function}},setup(e){const t=t=>{var a;t.stopPropagation(),null==(a=e.onUpdateValue)||a.call(e,e.status===e.checkedValue?e.unCheckedValue:e.checkedValue)},a=()=>{var t;null==(t=e.onOpenConfig)||t.call(e)};return(l,i)=>(Se(),be("div",ii,[e.maintenance?(Se(),be("div",{key:1,onClick:a},i[0]||(i[0]=[Pe("i",{class:"i-pajamas:issue-type-maintenance text-warning text-18px"},null,-1)]))):(Se(),be("div",{key:0,onClick:t},[ke(Pe("i",ni,null,512),[[Ce,e.status===e.checkedValue]]),ke(Pe("i",si,null,512),[[Ce,e.status===e.unCheckedValue]])]))]))}}),[["__scopeId","data-v-dd29927d"]]),ri=xe({__name:"Backup",props:{count:{type:Number,default:0},lastTime:{type:String,default:""}},emits:["showBackup"],setup(e,{emit:t}){const a=t,l=()=>{a("showBackup")},i=t=>Ma(new Date,e.lastTime||new Date)>=t,n=ve(()=>{if(0===e.count)return"Backup now";const t=Ma(new Date,e.lastTime||new Date);return 0===t?"Today":1===t?"Yesterday":"".concat(t," days ago")}),s=ve(()=>i(30)||e.count<=0?"error":i(7)?"warning":"primary");return(t,a)=>{const i=lt,o=it;return Se(),be("div",{class:"flex items-center gap-8px cursor-pointer",onClick:l},[fe(i,{type:$e(s),size:"small",bordered:!1},{default:Le(()=>[Re(Ue(e.count),1)]),_:1},8,["type"]),fe(o,{disabled:0===e.count},{trigger:Le(()=>[Pe("div",{class:We({"text-error":"error"===$e(s),"text-warning":"warning"===$e(s)})},Ue($e(n)),3)]),default:Le(()=>[Re(" "+Ue(e.lastTime),1)]),_:1},8,["disabled"])])}}}),{t:di}=i.global;function ui(e){O({title:1===e.length?"".concat(di("Site.Cert.index_56")," [").concat(e[0].name,"]"):"".concat(di("Site.Cert.index_57")),width:480,minHeight:248,footer:!0,data:{rows:e},component:we(()=>n(()=>import("./index246.js?v=1758789124250"),__vite__mapDeps([55,3,1,2,4,5,6,7,8,22,56,38,9,10,11,12,13,14,15,16,17,18,19,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,57])))})}const ci=e=>{const{row:t,onClick:a}=e,{t:l}=Te();return fe(oi,{status:t.status,maintenance:t.maintenance,onOpenConfig:a,onUpdateValue:e=>{((e,t)=>{const i="".concat(l("1"===e?"Site.PHP.index_21_2":"Site.PHP.index_21_3")," ").concat(l("Site.PHP.index_21_1",[t.name])),n=O({title:i,width:420,content:()=>fe(ai,{val:e,row:t,close:()=>n.hide(),onOpenConfig:a},null)})})(e,t)}},null)},pi=e=>{const{row:t}=e,{t:a}=Te();return fe(ri,{count:t.backup_count,lastTime:t.last_backup_time,onShowBackup:()=>{O({title:"".concat(a("Site.Config.index_26")," [").concat(t.name,"]"),width:720,minHeight:200,data:{row:t},component:we(()=>n(()=>import("./index248.js?v=1758789124250"),__vite__mapDeps([58,13,14,3,1,2,4,5,6,7,8,15,16,17,9,10,11,12,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53])))})}},null)};function _i({onClick:e}){return{key:"action",title:di("Site.TableRow.index_30"),width:180,align:"right",render:t=>fe(nt,{size:2,class:"justify-end!"},{default:()=>[fe(M,{options:[{label:di("Site.TableOP.index_1"),disabled:"0"==t.status,onClick:()=>{var e;e=t,O({title:di("WP.index_21"),width:420,minHeight:180,footer:!1,data:e,component:we(()=>n(()=>import("./index247.js?v=1758789124250"),__vite__mapDeps([59,3,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,60])))})}},{label:di("Site.TableOP.index_2"),onClick:()=>{e(t)}},{label:di("Ftp.Table.index_15"),onClick:()=>{e(t,{menu:"logs"})}}]},null),fe(st,{trigger:"click",options:ti,onSelect:a=>((t,a)=>{switch(t){case"delete":ui([a]);break;case"cache":Mt({s_id:a.id});break;default:e(a,{menu:"wordpress",subMenu:t})}})(a,t)},{default:()=>[fe("i",{class:"i-famicons:ellipsis-vertical text-18px cursor-pointer"},null)]})]})}}const{t:mi}=i.global,hi={class:"website-name"},vi={key:1,class:"flex-center w-24px h-24px rounded-50%"},wi=["src"],fi={class:"flex flex-col flex-1 w-0 overflow-hidden"},xi={class:"flex items-center gap-8px"},gi={class:"min-w-0"},yi={class:"website-description"},bi=d(xe({__name:"Name",props:{ico:{type:String,default:""},name:{type:String,default:"--"},description:{type:String,default:"--"}},emits:["clickName","clickServer","blur"],setup(e,{emit:t}){const a=u(),{theme:l}=Ee(a),i=t,n=()=>{i("clickName")},s=()=>{i("clickServer")},o=()=>{window.open("http://".concat(e.name))},r=e=>{i("blur",e)};return(t,a)=>{const i=ot,d=at,u=I;return Se(),be("div",hi,[Pe("div",{class:"website-icon",onClick:s},[e.ico?(Se(),be("div",vi,[Pe("img",{src:e.ico,class:"w-full h-full"},null,8,wi)])):(Se(),be("div",{key:0,class:We(["flex-center w-24px h-24px rounded-50%","dark"!==$e(l)&&"bg-#F1F9F3"])},[Pe("i",{class:We(["i-mdi:earth text-18px","dark"!==$e(l)&&"text-primary"])},null,2)],2))]),Pe("div",fi,[Pe("div",xi,[Pe("div",gi,[fe(i,{class:"max-w-full",tooltip:{contentStyle:{maxWidth:"200px"}}},{default:Le(()=>[Pe("span",{class:We(["cursor-pointer","dark"!==$e(l)&&"text-primary"]),onClick:n},Ue(e.name),3)]),_:1})]),fe(d,{type:"primary",text:"",onClick:o},{default:Le(()=>a[0]||(a[0]=[Pe("i",{class:"i-fa-solid:external-link-alt"},null,-1)])),_:1,__:[0]})]),Pe("div",yi,[fe(u,{value:e.description,onBlur:r},null,8,["value"])])])])}}}),[["__scopeId","data-v-35c01248"]]),Si=xe({__name:"Quick",props:{protection:{type:Array,default:()=>[]},row:{type:Object,default:()=>({})}},emits:["showPhp","showToolkit","showProtection","showClone"],setup(e,{emit:t}){const a=e,l=ve(()=>{if(!a.protection||!Array.isArray(a.protection))return!1;const e=a.protection.find(e=>Object.keys(e)[0]===a.row.name);return!!e&&e[a.row.name]}),i=t,n=Oe(),s=()=>{p("Path",a.row.path),n.push("/files")},o=()=>{i("showPhp")},r=()=>{i("showToolkit")},d=()=>{i("showProtection")},u=()=>{i("showClone")},_=async()=>{await It({version:a.row.php_version,sitename:a.row.name,act:!a.row.cache_status}),a.row.cache_status=!a.row.cache_status};return(t,a)=>{const i=at,n=it,p=c,m=nt;return Se(),qe(m,{class:"items-center flex-nowrap! justify-center!",size:2},{default:Le(()=>[fe(n,{trigger:"hover"},{trigger:Le(()=>[fe(i,{text:"",onClick:r},{default:Le(()=>[Re(Ue(e.row.wp_version),1)]),_:1})]),default:Le(()=>[a[0]||(a[0]=Re(" WP version ",-1))]),_:1,__:[0]}),fe(p,{vertical:""}),fe(n,{trigger:"hover"},{trigger:Le(()=>[fe(i,{text:"",onClick:s},{default:Le(()=>a[1]||(a[1]=[Pe("i",{class:"i-fa:folder-open-o text-13px"},null,-1)])),_:1,__:[1]})]),default:Le(()=>[Re(" "+Ue(e.row.path),1)]),_:1}),fe(p,{vertical:""}),fe(n,{trigger:"hover"},{trigger:Le(()=>[Pe("span",{class:"flex cursor-pointer text-16px",onClick:u},a[2]||(a[2]=[Pe("i",{class:"i-prime:clone text-20px"},null,-1)]))]),default:Le(()=>[a[3]||(a[3]=Re(" Clone site ",-1))]),_:1,__:[3]}),fe(p,{vertical:""}),fe(n,{trigger:"hover"},{trigger:Le(()=>[Pe("span",{class:"flex cursor-pointer text-18px",onClick:_},[Pe("i",{class:We(["i-lets-icons:lightning-ring",e.row.cache_status&&"text-primary"])},null,2)])]),default:Le(()=>[a[4]||(a[4]=Re(" Cache ",-1))]),_:1,__:[4]}),fe(p,{vertical:""}),fe(n,{trigger:"hover"},{trigger:Le(()=>[Pe("span",{class:"flex cursor-pointer text-18px",onClick:d},[Pe("i",{class:We(["i-lineicons:protection",$e(l)&&"text-primary"])},null,2)])]),default:Le(()=>[a[5]||(a[5]=Re(" Protection ",-1))]),_:1,__:[5]}),fe(p,{vertical:""}),fe(n,{trigger:"hover"},{trigger:Le(()=>[fe(i,{text:"",onClick:o},{default:Le(()=>[Re(Ue(e.row.php_version),1)]),_:1})]),default:Le(()=>[a[6]||(a[6]=Re(" PHP version ",-1))]),_:1,__:[6]})]),_:1})}}}),ki=["onClick"],Ci={class:"whitespace-nowrap mr-10px"},Pi={class:"w-120px"},$i=xe({__name:"Ssl",props:{config:{type:[Number,Object],default:-1},sslApplyList:{type:Array,default:()=>[]}},emits:["click"],setup(e,{emit:t}){const{t:l}=Te(),i=t,s=()=>{i("click")};return(t,i)=>{const o=at,d=rt,u=r,c=nt;return $e(a)(e.config)?(Se(),qe(o,{key:0,type:e.config.endtime<0?"error":"primary",text:"",onClick:s},{default:Le(()=>[Re(Ue(e.config.endtime<0?t.$t("Site.PHP.index_28"):t.$t("Site.PHP.index_29",[e.config.endtime])),1)]),_:1},8,["type"])):e.sslApplyList.length>0?(Se(!0),be(ge,{key:1},Be(e.sslApplyList,e=>(Se(),be("div",{class:"flex flex-nowrap! p-10px cursor-pointer justify-between items-center",key:e.task_name,onClick:t=>{return a=t,i=e.task_log,a.stopPropagation(),void O({title:l("SSL.Domain.index_5"),width:700,height:450,data:{path:i},component:we(()=>n(()=>import("./ssl-log.js?v=1758789124250"),__vite__mapDeps([61,43,3,1,2,4,5,6,7,8,44])))});var a,i}},[Pe("span",Ci,Ue(e.task_name),1),fe(c,{class:"items-center flex-nowrap!"},{default:Le(()=>[Pe("div",Pi,[fe(d,{class:"w-full",type:"line",status:"success","indicator-placement":"inside",percentage:e.task_status,processing:100!==e.task_status},null,8,["percentage","processing"])]),fe(u,{name:"base-left-logs",size:"18",color:"#666666"})]),_:2},1024)],8,ki))),128)):(Se(),qe(o,{key:2,type:"warning",text:"",onClick:s},{default:Le(()=>[Re(Ue(t.$t("Site.PHP.index_30")),1)]),_:1}))}}}),Li={class:"text-left"},Ri={class:"cursor-pointer"},Ui=xe({__name:"Requests",props:{name:{type:String,default:""},total:{type:[Number,String],default:0},value:{type:Array,default:()=>[]}},setup(e){const t=ve(()=>e.total.toLocaleString("en-US")),a=ve(()=>({xAxis:{type:"category",data:e.value.map(e=>e.date)},yAxis:{type:"value",show:!1},series:[{name:"Page views",data:e.value.map(e=>e.value),type:"line",lineStyle:{color:"#20a53a",width:2},areaStyle:{color:"rgba(32, 165, 58, 0.1)"},symbol:"none"}],grid:{left:0,right:0,top:0,bottom:0}})),l=e=>{(async e=>{await q({source:142}),await B("monitor"),Ba({name:"monitor",title:"Website statistics-v2",admin:!0});const t=setInterval(()=>{window.document.getElementsByClassName("layui-layer-page")[0]&&(clearInterval(t),setTimeout(()=>{document.querySelectorAll(".mt_select_list li").forEach(t=>{t.getAttribute("data-name")===e&&t.click()})},1200))},50)})(e)};return(i,n)=>(Se(),be("div",{class:"flex flex-col gap-3px cursor-pointer",onClick:n[0]||(n[0]=t=>l(e.name))},[Pe("div",Li,Ue($e(t)),1),Pe("div",Ri,[fe(Ia,{type:"line",option:$e(a),height:"15px"},null,8,["option"])])]))}}),Wi=Symbol("server-list");function Ti(){return je(Wi)}const{t:Ei}=i.global;function Oi({delDomain:e}){return{key:"action",title:Ei("Public.Table.Action"),width:80,align:"right",render:t=>fe(M,{options:[{label:Ei("Public.Btn.Del"),onClick:()=>{A({title:"".concat(Ei("Site.Batch.index_12"),"[").concat(t.name,"]"),content:Ei("Site.Batch.index_13"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const qi={class:"flex justify-between items-center mb-24px"},Bi={class:"w-400px"},ji={class:"pr-40px"},Mi=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Ti(),i=he(""),n=async()=>{""!==i.value.trim()?(await Ht({id:l.id,webname:l.name,domain:i.value.trim().split("\n").join(",")}),i.value="",w()):h.error(a("Site.RulesError.index_31"))},s=async e=>{await At({id:l.id,webname:l.name,domain:e.name,port:e.port}),w()},{keys:o,table:r,columns:d}=D([{type:"selection",width:40},{key:"name",title:Ei("Site.TableRow.index_19"),render:e=>fe(_,{href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},{default:()=>[e.name]})},{key:"port",title:Ei("Site.TableRow.index_16"),width:100},Oi({delDomain:s})]),u=()=>{r.data.length>1?d.value[d.value.length-1]=Oi({delDomain:s}):d.value[d.value.length-1]={key:"action",title:Ei("Public.Table.Action"),width:80,align:"right",render:()=>fe("span",{class:"text-default"},[Ei("Site.TableOP.index_9")])}},c=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>At({id:l.id,webname:l.name,domain:e.name,port:e.port},!1),done:()=>{w()},columns:[{key:"name",title:a("Site.Cert.index_29"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:p,setLoading:v}=N(),w=async()=>{try{v(!0);const e={id:l.id},{message:t}=await Nt(e);r.data=m(t)?t:[],u()}finally{o.value=[],v(!1)}};return w(),t({init:w}),(e,t)=>{const a=Aa,l=at,s=H,u=E,_=W;return Se(),be("div",null,[Pe("div",qi,[Pe("div",Bi,[fe(a,{value:$e(i),"onUpdate:value":t[0]||(t[0]=e=>Ie(i)?i.value=e:null)},{default:Le(()=>[Pe("p",null,Ue(e.$t("Site.Config.index_30")),1),Pe("p",null,Ue(e.$t("Site.Config.index_31")),1),Pe("p",null,Ue(e.$t("Site.Config.index_32")),1)]),_:1},8,["value"])]),Pe("div",ji,[fe(l,{type:"primary",onClick:n},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_62")),1)]),_:1})])]),fe(_,null,{table:Le(()=>[fe(s,{"checked-row-keys":$e(o),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(o)?o.value=e:null),loading:$e(p),"max-height":400,data:$e(r).data,columns:$e(d)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Le(()=>[fe(u,{"checked-row-keys":$e(o),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>Ie(o)?o.value=e:null),data:$e(r).data,options:c},null,8,["checked-row-keys","data"])]),_:1})])}}}),Ii={class:"pt-16px"},Di={class:"flex-1"},Ai={class:"w-240px"},Ni={class:"mt-8px text-desc"},Hi={class:"flex-1"},zi={class:"w-240px"},Vi={class:"mt-12px text-desc"},Fi={class:"my-16px"},Ki={class:"text-desc"},Ji={class:"my-20px"},Gi={class:"w-240px"},Xi={class:"w-240px"},Qi={class:"w-240px"},Yi=xe({__name:"index",setup(e,{expose:t}){const{t:l}=Te(),{data:i}=Ti(),n=he("");let s="";const o=async()=>{""!==n.value.trim()?n.value!==s?(await zt({id:i.id,name:i.name,path:n.value}),y()):h.success(l("Site.RulesError.index_13")):h.error(l("Site.RulesError.index_13"))},r=he(null),d=he([]),u=async()=>{null!==r.value?(await Vt({id:i.id,runPath:r.value}),y()):h.error(l("Site.RulesError.index_15"))},p=he(!1),_=async()=>{await Ft({id:i.id,path:i.path}),y()},m=he(!1),v=async()=>{await Kt({id:i.id}),y()},w=he(!1),f=De({username_get:"",password_get_1:"",password_get_2:""}),x=async e=>{e||(await Jt({id:i.id}),y())},g=async()=>{""!==f.username_get.trim()?""!==f.password_get_1.trim()?""!==f.password_get_2.trim()?f.username_get.trim().length<3||f.password_get_1.trim().length<3?h.error(l("Site.RulesError.index_35")):f.password_get_1.trim()===f.password_get_2.trim()?(await Gt({id:i.id,username:f.username_get,password:f.password_get_1}),f.username_get="",f.password_get_1="",f.password_get_2="",y()):h.error(l("Site.RulesError.index_38")):h.error(l("Site.RulesError.index_37")):h.error(l("Site.RulesError.index_36")):h.error(l("Site.RulesError.index_34"))},y=()=>{(async()=>{const{message:e}=await Xt({id:i.id});a(e)&&(n.value=e.result||"/www",s=n.value)})(),(async()=>{const{message:e}=await Qt({id:i.id,path:i.path});if(a(e)){r.value=et(e,"runPath.runPath",null),p.value=et(e,"userini",!1),m.value=et(e,"logs.result",!1),w.value=et(e,"pass.result",!1);const t=et(e,"runPath.dirs",[]);d.value=t.map(e=>({label:e,value:e}))}})()};return y(),t({init:y}),(e,t)=>{const a=za,l=at,i=nt,s=ut,h=ct,y=c,b=pt,S=_t,k=Ha;return Se(),be("div",Ii,[fe(k,{"label-width":"140"},{default:Le(()=>[fe(s,{label:e.$t("Site.Lable.index_2"),"show-feedback":!1},{default:Le(()=>[Pe("div",Di,[fe(i,null,{default:Le(()=>[Pe("div",Ai,[fe(a,{value:$e(n),"onUpdate:value":t[0]||(t[0]=e=>Ie(n)?n.value=e:null)},null,8,["value"])]),fe(l,{type:"primary",onClick:o},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_60")),1)]),_:1})]),_:1}),Pe("div",Ni,Ue(e.$t("Site.Config.index_35")),1)])]),_:1},8,["label"]),fe(s,{class:"mt-16px",label:e.$t("Site.Lable.index_3"),"show-feedback":!1},{default:Le(()=>[Pe("div",Hi,[fe(i,null,{default:Le(()=>[Pe("div",zi,[fe(h,{value:$e(r),"onUpdate:value":t[1]||(t[1]=e=>Ie(r)?r.value=e:null),options:$e(d)},null,8,["value","options"])]),fe(l,{type:"primary",onClick:u},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_60")),1)]),_:1})]),_:1}),Pe("div",Vi,Ue(e.$t("Site.Config.index_36")),1)])]),_:1},8,["label"]),Pe("div",Fi,[fe(y,{dashed:""})]),fe(s,{label:e.$t("Site.Lable.index_4"),"show-feedback":!1},{default:Le(()=>[fe(i,{class:"items-center"},{default:Le(()=>[fe(b,{value:$e(p),"onUpdate:value":[t[2]||(t[2]=e=>Ie(p)?p.value=e:null),_]},null,8,["value"]),Pe("div",Ki,Ue(e.$t("Site.Config.index_37")),1)]),_:1})]),_:1},8,["label"]),fe(s,{class:"mt-16px",label:e.$t("Site.Lable.index_5"),"show-feedback":!1},{default:Le(()=>[fe(i,{class:"items-center"},{default:Le(()=>[fe(b,{value:$e(m),"onUpdate:value":[t[3]||(t[3]=e=>Ie(m)?m.value=e:null),v]},null,8,["value"]),t[8]||(t[8]=Pe("div",{class:"text-desc"},null,-1))]),_:1,__:[8]})]),_:1},8,["label"]),Pe("div",Ji,[fe(y,{dashed:""})]),fe(s,{label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:Le(()=>[fe(i,{class:"items-center"},{default:Le(()=>[fe(b,{value:$e(w),"onUpdate:value":[t[4]||(t[4]=e=>Ie(w)?w.value=e:null),x]},null,8,["value"]),t[9]||(t[9]=Pe("div",{class:"text-desc"},null,-1))]),_:1,__:[9]})]),_:1},8,["label"]),$e(w)?(Se(),be(ge,{key:0},[fe(s,{class:"mt-16px",label:e.$t("Site.Lable.index_17"),"show-feedback":!1},{default:Le(()=>[Pe("div",Gi,[fe(S,{value:$e(f).username_get,"onUpdate:value":t[5]||(t[5]=e=>$e(f).username_get=e),placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])]),_:1},8,["label"]),fe(s,{class:"mt-16px",label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:Le(()=>[Pe("div",Xi,[fe(S,{value:$e(f).password_get_1,"onUpdate:value":t[6]||(t[6]=e=>$e(f).password_get_1=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])]),_:1},8,["label"]),fe(s,{class:"mt-16px",label:e.$t("Site.Lable.index_18"),"show-feedback":!1},{default:Le(()=>[Pe("div",Qi,[fe(S,{value:$e(f).password_get_2,"onUpdate:value":t[7]||(t[7]=e=>$e(f).password_get_2=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])]),_:1},8,["label"]),fe(s,{class:"mt-16px",label:" ","show-feedback":!1},{default:Le(()=>[fe(l,{type:"primary",onClick:g},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_60")),1)]),_:1})]),_:1})],64)):Ae("",!0)]),_:1})])}}}),Zi={class:"mt-8px"},en=xe({__name:"index",setup(e,{expose:t}){const{multiService:l}=Ee(o()),{data:i}=Ti(),n=ol(),s=he(null),r=he(),d=he(""),u=async()=>{var e;await(async()=>{const{message:e}=await Wt({site_id:i.id});a(e)&&(r.value=e.result)})(),d.value=await(()=>{const e=l.value?r.value:n.webserver,t="openlitespeed"===e?"".concat(e,"/detail"):e;return"/www/server/panel/vhost/".concat(t,"/").concat(i.name,".conf")})(),null==(e=s.value)||e.getContent()},c=()=>{var e;null==(e=s.value)||e.saveFile()};return Ne(()=>{u()}),t({init:u}),(e,t)=>{const a=mt,i=at,n=z;return Se(),be("div",null,[$e(l)?(Se(),qe(a,{key:0,type:"warning",class:"mb-16px"},{default:Le(()=>t[1]||(t[1]=[Pe("span",{class:"font-bold"},"Multi-WebServer Hosting Do not modify the port, otherwise the website will not be accessible normally",-1)])),_:1,__:[1]})):Ae("",!0),fe(Va,{ref_key:"configRef",ref:s,path:$e(d),"onUpdate:path":t[0]||(t[0]=e=>Ie(d)?d.value=e:null),height:"460","show-tips":!$e(l)},null,8,["path","show-tips"]),Pe("div",Zi,[fe(i,{type:"primary",onClick:c},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_60")),1)]),_:1})]),fe(n,{class:"mt-16px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Config.index_54")),1),Pe("li",null,Ue(e.$t("Site.Config.index_55")),1)]),_:1})])}}}),tn={class:"px-20px py-24px"},an={class:"w-120px"},ln={class:"w-120px"},nn={class:"w-200px"},sn={class:"w-200px"},on={class:"w-200px"},rn=xe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Te(),l=e,{isEdit:i,siteId:n,siteName:s,row:o,getList:r}=l.data,d=he(null),u=De({redirectname:"".concat((new Date).valueOf()),type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),c={redirectdomain:{trigger:["change"],validator:()=>0!==u.redirectdomain.length||new Error(a("Site.RulesError.index_23"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==u.redirectpath.trim()||new Error(a("Site.RulesError.index_24"))},tourl:{trigger:["blur","input"],validator:()=>""!==u.tourl.trim()||new Error(a("Site.RulesError.index_25"))}},p=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],_=[{label:"301",value:"301"},{label:"302",value:"302"}],h=he([]),v=()=>{u.redirectdomain=[],u.redirectpath=""},{loading:w,setLoading:f}=N();return i&&o&&(u.redirectname=o.redirectname,u.type=o.type,u.holdpath=o.holdpath,u.redirecttype=o.redirecttype,u.redirectpath=o.redirectpath,u.domainorpath=o.domainorpath,u.redirectdomain=o.redirectdomain,u.tourl=o.tourl),(async()=>{try{f(!0);const{message:e}=await Nt({id:n});h.value=m(e)?e.map(e=>({label:e.name,value:e.name})):[]}finally{f(!1)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate());const a={...He(u),sitename:s};i?await Zt(a):await Yt(a),null==r||r(),e()}}),(e,t)=>{const a=pt,l=ut,i=nt,n=ct,s=_t,o=Ha,r=z;return Se(),be("div",tn,[fe(o,{ref_key:"formRef",ref:d,model:$e(u),rules:c},{default:Le(()=>[fe(i,{size:60},{default:Le(()=>[fe(l,{label:e.$t("Site.Lable.index_34")},{default:Le(()=>[fe(a,{value:$e(u).type,"onUpdate:value":t[0]||(t[0]=e=>$e(u).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.TableRow.index_13"),"label-width":"120"},{default:Le(()=>[fe(a,{value:$e(u).holdpath,"onUpdate:value":t[1]||(t[1]=e=>$e(u).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"])]),_:1}),fe(i,{size:30},{default:Le(()=>[fe(l,{label:e.$t("Site.TableRow.index_11")},{default:Le(()=>[Pe("div",an,[fe(n,{value:$e(u).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>$e(u).domainorpath=e),v],options:p},null,8,["value"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.TableRow.index_12"),"label-width":"70"},{default:Le(()=>[Pe("div",ln,[fe(n,{value:$e(u).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>$e(u).redirecttype=e),options:_},null,8,["value"])])]),_:1},8,["label"])]),_:1}),"domain"===$e(u).domainorpath?(Se(),qe(l,{key:0,label:e.$t("Site.Lable.index_32"),path:"redirectdomain"},{default:Le(()=>[Pe("div",nn,[fe(n,{value:$e(u).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>$e(u).redirectdomain=e),multiple:!0,loading:$e(w),options:$e(h),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])]),_:1},8,["label"])):Ae("",!0),"path"===$e(u).domainorpath?(Se(),qe(l,{key:1,label:e.$t("Site.Lable.index_30"),path:"redirectpath"},{default:Le(()=>[Pe("div",sn,[fe(s,{value:$e(u).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>$e(u).redirectpath=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"])):Ae("",!0),fe(l,{label:e.$t("Site.Lable.index_33"),path:"tourl"},{default:Le(()=>[Pe("div",on,[fe(s,{value:$e(u).tourl,"onUpdate:value":t[6]||(t[6]=e=>$e(u).tourl=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"]),fe(r,{class:"mt-12px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Config.index_77")),1),Pe("li",null,Ue(e.$t("Site.Config.index_78")),1),Pe("li",null,Ue(e.$t("Site.Config.index_79")),1),Pe("li",null,Ue(e.$t("Site.Config.index_80")),1),Pe("li",null,Ue(e.$t("Site.Config.index_81")),1),Pe("li",null,Ue(e.$t("Site.Config.index_82")),1)]),_:1})])}}}),dn={class:"p-20px"},un={class:"mt-12px"},cn=xe({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const l=e,{row:i,siteName:n,getList:s}=l.data,o=t,r=ol(),d=he(""),u=he(""),c=he(""),p=async()=>{const{message:e}=await ta({path:c.value,data:d.value,encoding:u.value});a(e)&&h.success(e.msg),null==s||s(),o("close")};return(async()=>{const{message:e}=await ea({sitename:n,redirectname:i.redirectname,webserver:r.webserver});a(e)&&(c.value=e.file,d.value=e.data,u.value=e.encoding)})(),(e,t)=>{const a=at,l=z;return Se(),be("div",dn,[fe(Va,{value:$e(d),"onUpdate:value":t[0]||(t[0]=e=>Ie(d)?d.value=e:null),height:350,"show-tips":!1},null,8,["value"]),Pe("div",un,[fe(a,{type:"primary",onClick:p},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_60")),1)]),_:1})]),fe(l,{class:"mt-24px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Config.index_83")),1)]),_:1})])}}}),pn=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Ti(),i=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:n,table:s,columns:o}=D([{type:"selection",width:40},{key:"sitename",title:a("Site.TableRow.index_11"),ellipsis:{tooltip:{width:"trigger"}},render:e=>"path"===e.domainorpath?e.redirectpath:e.sitename},{key:"redirecttype",title:a("Site.TableRow.index_12"),width:90},{key:"holdpath",title:a("Site.TableRow.index_13"),width:140,render:e=>fe(_,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await ia({...i(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?"Enable":"Turn off"]})},{key:"type",title:"Status",width:100,render:e=>fe(F,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await ia({...i(e),type:t,holdpath:e.holdpath,status:e.type}),e.type=t}},null)},V({width:120,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{f(e)}},{label:a("Site.TableOP.index_7"),onClick:()=>{v(e)}},{label:a("Public.Btn.Del"),onClick:()=>{A({title:"".concat(a("Site.Batch.index_14")," [").concat(e.redirectname,"]"),content:a("Site.Batch.index_15"),onConfirm:async({hide:t})=>{await aa({sitename:l.name,redirectname:e.redirectname}),c(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[o.value[1]],api:e=>aa({sitename:l.name,redirectname:e.redirectname},!1),done:()=>{c()}}}],{loading:d,setLoading:u}=N(),c=async()=>{try{u(!0);const{message:e}=await la({sitename:l.name});s.data=m(e)?e:[]}finally{n.value=[],u(!1)}},p=K(a("Site.Config.index_74"),{row:void 0,siteId:l.id,siteName:l.name,isEdit:!1,getList:c}),h=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.index_74"),p.show=!0},v=e=>{p.data.row=e,p.data.isEdit=!0,p.title="".concat(a("Site.Config.index_75")," [").concat(e.redirectname,"]"),p.show=!0},w=K("",{row:void 0,siteName:l.name,getList:c}),f=e=>{w.data.row=e,w.title="".concat(a("Site.Config.index_76")," [").concat(e.redirectname,"]"),w.show=!0};return c(),t({init:c}),(e,t)=>{const a=at,l=H,i=E,u=W,c=U;return Se(),be("div",null,[fe(u,null,{toolsLeft:Le(()=>[fe(a,{type:"primary",onClick:h},{default:Le(()=>[Re(Ue(e.$t("Site.Config.index_73")),1)]),_:1})]),table:Le(()=>[fe(l,{"checked-row-keys":$e(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(n)?n.value=e:null),"row-key":"redirectname",loading:$e(d),"max-height":440,data:$e(s).data,columns:$e(o)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Le(()=>[fe(i,{"checked-row-keys":$e(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(n)?n.value=e:null),"row-key":"redirectname",data:$e(s).data,options:r},null,8,["checked-row-keys","data"])]),_:1}),fe(c,{show:$e(p).show,"onUpdate:show":t[2]||(t[2]=e=>$e(p).show=e),title:$e(p).title,data:$e(p).data,width:660,footer:!0,component:rn},null,8,["show","title","data"]),fe(c,{show:$e(w).show,"onUpdate:show":t[3]||(t[3]=e=>$e(w).show=e),title:$e(w).title,data:$e(w).data,width:580,component:cn},null,8,["show","title","data"])])}}}),_n={class:"px-20px py-24px"},mn={class:"w-220px"},hn={class:"w-220px"},vn={class:"w-220px"},wn={class:"w-220px"},fn={class:"w-220px"},xn={class:"w-220px"},gn={class:"w-220px"},yn=xe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Te(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,r=he(null),d=De({type:1,keepuri:1,proxyname:"proxy_".concat(v(5)),cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advancedfeature:0,sitename:n}),u=he([{key:"",value:""}]),c={proxyname:{trigger:["blur","input"],validator:()=>""!==d.proxyname.trim()||new Error(a("Site.RulesError.index_26"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===d.cache&&!d.cachetime)||new Error(a("Site.RulesError.index_27"))},proxydir:{trigger:["blur","input"],validator:()=>""!==d.proxydir.trim()||new Error(a("Site.RulesError.index_28"))},proxysite:{trigger:["blur","input"],validator:()=>""!==d.proxysite.trim()||new Error(a("Site.RulesError.index_25"))},todomain:{trigger:["blur","input"],validator:()=>""!==d.todomain.trim()||new Error(a("Site.RulesError.index_29"))}},p=e=>{const t=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),m.value||(t.test(e)?d.todomain="$host":d.todomain=e)},m=he(!1),h=()=>{d.todomain&&"$host"!==d.todomain&&(m.value=!0)},f=he([]),x=()=>{f.value.length>=3||f.value.push({sub1:"",sub2:""})};x();return(()=>{if(i&&s){d.type=s.type,d.keepuri=s.keepuri,d.cache=s.cache,d.advancedfeature=s.advancedfeature,d.proxyname=s.proxyname,d.cachetime=s.cachetime,d.proxydir=s.proxydir,d.proxysite=s.proxysite,d.todomain=s.todomain,d.sitename=s.sitename,u.value=s.rewritedir.length?s.rewritedir.map(e=>({key:e.dir1,value:e.dir2})):[{key:"",value:""}];const e=s.subfilter.filter(e=>""!==e.sub1||""!==e.sub2);e.length>0&&(f.value=e)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate());const a=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];e.forEach((e,t)=>{f.value.length-1<t||(e.sub1=f.value[t].sub1,e.sub2=f.value[t].sub2)});const t=u.value.filter(e=>""!==e.key||""!==e.value).map(e=>({dir1:e.key,dir2:e.value}));return{...He(d),advanced:d.advancedfeature,subfilter:e,rewritedir:JSON.stringify(t)}})();i?await sa(a):await na(a),null==o||o(),e()}}),(e,t)=>{const a=pt,l=ut,n=nt,s=_t,o=vt,m=wt,v=ht,g=w,y=_,b=at,S=Ha,k=z;return Se(),be("div",_n,[fe(S,{ref_key:"formRef",ref:r,model:$e(d),rules:c},{default:Le(()=>[fe(n,null,{default:Le(()=>[fe(l,{label:"Show Proxy Path"},{default:Le(()=>[fe(a,{value:$e(d).keepuri,"onUpdate:value":t[0]||(t[0]=e=>$e(d).keepuri=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1}),fe(l,{label:e.$t("Site.Lable.index_47")},{default:Le(()=>[fe(a,{value:$e(d).cache,"onUpdate:value":t[1]||(t[1]=e=>$e(d).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_35")},{default:Le(()=>[fe(a,{value:$e(d).advancedfeature,"onUpdate:value":t[2]||(t[2]=e=>$e(d).advancedfeature=e),"checked-value":1,"unchecked-value":0},null,8,["value"])]),_:1},8,["label"])]),_:1}),fe(l,{label:e.$t("Site.Lable.index_38"),path:"proxyname"},{default:Le(()=>[Pe("div",mn,[fe(s,{value:$e(d).proxyname,"onUpdate:value":t[3]||(t[3]=e=>$e(d).proxyname=e),disabled:$e(i),placeholder:"","input-props":{name:"name"}},null,8,["value","disabled"])])]),_:1},8,["label"]),1===$e(d).cache?(Se(),qe(l,{key:0,label:e.$t("Site.Lable.index_39"),path:"cachetime"},{default:Le(()=>[Pe("div",hn,[fe(v,null,{default:Le(()=>[fe(o,{value:$e(d).cachetime,"onUpdate:value":t[4]||(t[4]=e=>$e(d).cachetime=e),min:1,"show-button":!1,placeholder:"","input-props":{name:"time"}},null,8,["value"]),fe(m,{class:"w-70px text-center"},{default:Le(()=>[Re(Ue($e(d).cachetime>1?"Minutes":"Minute"),1)]),_:1})]),_:1})])]),_:1},8,["label"])):Ae("",!0),fe(l,{label:e.$t("Site.TableRow.index_17"),path:"proxydir"},{default:Le(()=>[Pe("div",vn,[fe(s,{value:$e(d).proxydir,"onUpdate:value":t[5]||(t[5]=e=>$e(d).proxydir=e),placeholder:"","input-props":{name:"dir"}},null,8,["value"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_33")},{default:Le(()=>[Pe("div",wn,[fe(s,{value:$e(d).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>$e(d).proxysite=e),p],placeholder:"","input-props":{name:"url"}},null,8,["value"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_36")},{default:Le(()=>[Pe("div",fn,[fe(s,{value:$e(d).todomain,"onUpdate:value":t[7]||(t[7]=e=>$e(d).todomain=e),placeholder:"","input-props":{name:"domain"},onBlur:h},null,8,["value"])])]),_:1},8,["label"]),ke(fe(l,{label:"URL Rewrite"},{default:Le(()=>[fe(g,{class:"w-450px!",min:1,value:$e(u),"onUpdate:value":t[8]||(t[8]=e=>Ie(u)?u.value=e:null),preset:"pair","key-placeholder":"/aaa","value-placeholder":"/bbb"},null,8,["value"])]),_:1},512),[[Ce,1===$e(d).advancedfeature]]),ke(fe(l,{label:e.$t("Site.Lable.index_37")},{default:Le(()=>[fe(n,{class:"flex-1",vertical:""},{default:Le(()=>[(Se(!0),be(ge,null,Be($e(f),(t,a)=>(Se(),qe(n,{key:"".concat(a+1),class:"sub-rows items-center"},{default:Le(()=>[Pe("div",xn,[fe(s,{value:t.sub1,"onUpdate:value":e=>t.sub1=e,placeholder:e.$t("Site.Placeholder.index_20"),"input-props":{name:"sub1"}},null,8,["value","onUpdate:value","placeholder"])]),Pe("div",gn,[fe(s,{value:t.sub2,"onUpdate:value":e=>t.sub2=e,placeholder:e.$t("Site.Placeholder.index_21"),"input-props":{name:"sub2"}},null,8,["value","onUpdate:value","placeholder"])]),Pe("div",null,[fe(y,{type:"error",disabled:0===a&&1===$e(f).length,onClick:e=>(e=>{f.value.length<=1||f.value.splice(e,1)})(a)},{default:Le(()=>[Re(Ue(e.$t("Public.Btn.Del")),1)]),_:2},1032,["disabled","onClick"])])]),_:2},1024))),128)),Pe("div",null,[fe(b,{type:"primary",disabled:$e(f).length>=3,onClick:x},{default:Le(()=>[Pe("span",null,Ue(e.$t("Site.Config.index_87")),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["label"]),[[Ce,1===$e(d).advancedfeature]])]),_:1},8,["model"]),fe(k,{class:"mt-12px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Config.index_88")),1),Pe("li",null,Ue(e.$t("Site.Config.index_89")),1),Pe("li",null,Ue(e.$t("Site.Config.index_90")),1),Pe("li",null,Ue(e.$t("Site.Config.index_91")),1)]),_:1})])}}}),bn={class:"p-20px"},Sn={class:"mt-12px"},kn=xe({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const{multiService:l}=Ee(o()),i=e,{row:n,siteName:s,getList:r}=i.data,{data:d}=Ti(),u=t,c=ol(),p=he(""),_=he(""),m=he(""),v=he(),w=async()=>{const{message:e}=await oa({path:m.value,data:p.value,encoding:_.value});a(e)&&h.success(e.msg),null==r||r(),u("close")};return(async()=>{await(async()=>{const{message:e}=await Wt({site_id:d.id});a(e)&&(v.value=e.result)})(),(async()=>{const{message:e}=await ra({sitename:s,proxyname:n.proxyname,webserver:l.value?v.value:c.webserver});a(e)&&(m.value=e.file,p.value=e.data,_.value=e.encoding)})()})(),(e,t)=>{const a=at,l=z;return Se(),be("div",bn,[fe(Va,{value:$e(p),"onUpdate:value":t[0]||(t[0]=e=>Ie(p)?p.value=e:null),height:350,"show-tips":!1},null,8,["value"]),Pe("div",Sn,[fe(a,{type:"primary",onClick:w},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_60")),1)]),_:1})]),fe(l,{class:"mt-24px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Config.index_83")),1)]),_:1})])}}}),Cn=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Ti(),i=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime,keepuri:e.keepuri,rewritedir:JSON.stringify(e.rewritedir),advancedfeature:e.advancedfeature}),{keys:n,table:s,columns:o}=D([{type:"selection",width:40},{key:"proxyname",title:a("Site.TableRow.index_2"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:a("Site.TableRow.index_17"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:a("Site.Lable.index_33"),ellipsis:{tooltip:{width:"trigger"}},render:e=>fe("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:a("Site.Lable.index_31"),width:90,render:e=>fe(_,{type:1===e.cache?"primary":"error",onClick:async()=>{await sa({...i(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:a("Site.TableRow.index_14"),width:90,render:e=>fe(F,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await sa({...i(e),type:t,cache:e.cache}),e.type=t}},null)},V({width:140,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{f(e)}},{label:a("Site.TableOP.index_7"),onClick:()=>{v(e)}},{label:a("Public.Btn.Del"),onClick:()=>{A({title:"".concat(a("Site.Batch.index_16")," [").concat(e.proxyname,"]"),content:a("Site.Batch.index_17"),onConfirm:async({hide:t})=>{await da({sitename:l.name,proxyname:e.proxyname}),c(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>da({sitename:l.name,proxyname:e.proxyname},!1),done:()=>{c()},columns:[{key:"proxyname",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:d,setLoading:u}=N(),c=async()=>{try{u(!0);const{message:e}=await ua({sitename:l.name});s.data=m(e)?e:[]}finally{n.value=[],u(!1)}},p=K(a("Site.Config.index_86"),{row:void 0,siteName:l.name,isEdit:!1,getList:c}),h=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.index_86"),p.show=!0},v=e=>{p.data.row=e,p.data.isEdit=!0,p.title="".concat(a("Site.Config.index_75")," [").concat(e.proxyname,"]"),p.show=!0},w=K("",{row:void 0,siteName:l.name,getList:c}),f=e=>{w.data.row=e,w.title="".concat(a("Site.Config.index_76")," [").concat(e.proxyname,"]"),w.show=!0};return c(),t({init:c}),(e,t)=>{const a=at,l=H,i=E,u=W,c=U;return Se(),be("div",null,[fe(u,null,{toolsLeft:Le(()=>[fe(a,{type:"primary",onClick:h},{default:Le(()=>[Re(Ue(e.$t("Site.Config.index_85")),1)]),_:1})]),table:Le(()=>[fe(l,{"checked-row-keys":$e(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(n)?n.value=e:null),"row-key":"proxyname",loading:$e(d),"max-height":440,data:$e(s).data,columns:$e(o)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Le(()=>[fe(i,{"checked-row-keys":$e(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(n)?n.value=e:null),"row-key":"proxyname",data:$e(s).data,options:r},null,8,["checked-row-keys","data"])]),_:1}),fe(c,{show:$e(p).show,"onUpdate:show":t[2]||(t[2]=e=>$e(p).show=e),title:$e(p).title,data:$e(p).data,width:660,footer:!0,component:yn},null,8,["show","title","data"]),fe(c,{show:$e(w).show,"onUpdate:show":t[3]||(t[3]=e=>$e(w).show=e),title:$e(w).title,data:$e(w).data,width:580,component:kn},null,8,["show","title","data"])])}}}),Pn={class:"pt-8px"},$n={class:"w-200px"},Ln={class:"flex flex-col"},Rn={class:"w-200px"},Un={class:"mt-8px text-desc"},Wn={class:"flex flex-col"},Tn={class:"w-200px"},En={class:"mt-8px text-desc"},On={class:"flex flex-col"},qn={class:"w-200px"},Bn={class:"mt-8px text-desc"},jn=xe({__name:"index",setup(e,{expose:t}){const{t:l}=Te(),{data:i}=Ti(),n=he(null),s=De({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),o={perserver:{trigger:["blur","change"],validator:()=>!!s.perserver||new Error(l("Site.RulesError.index_318"))},perip:{trigger:["blur","change"],validator:()=>!!s.perip||new Error(l("Site.RulesError.index_319"))},limit_rate:{trigger:["blur","change"],validator:()=>!!s.limit_rate||new Error(l("Site.RulesError.index_320"))}},r=he([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),d=async e=>{e?p():(await ca({id:i.id}),_())},u=(e,t)=>{const{items:l}=t;a(l)&&c(l)},c=e=>{s.perserver=e.perserver,s.perip=e.perip,s.limit_rate=e.limit_rate},p=async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await pa({id:i.id,perserver:s.perserver,perip:s.perip,limit_rate:s.limit_rate}),_()},_=async()=>{const{message:e}=await _a({id:i.id});a(e)&&(s.status=0!=e.perserver,c(r.value[0].items),f(e.perserver)&&0!=e.perserver&&(s.perserver=e.perserver),f(e.perip)&&0!=e.perip&&(s.perip=e.perip),f(e.limit_rate)&&0!=e.limit_rate&&(s.limit_rate=e.limit_rate))};return _(),t({init:_}),(e,t)=>{const a=ft,l=ut,i=ct,c=vt,_=at,m=Ha;return Se(),be("div",Pn,[fe(m,{ref_key:"formRef",ref:n,"label-width":"150",class:"px-8px",model:$e(s),rules:o},{default:Le(()=>[fe(l,{label:" "},{default:Le(()=>[fe(a,{checked:$e(s).status,"onUpdate:checked":[t[0]||(t[0]=e=>$e(s).status=e),d]},{default:Le(()=>[Re(Ue(e.$t("Site.Config.index_46")),1)]),_:1},8,["checked"])]),_:1}),fe(l,{label:e.$t("Site.Lable.index_40"),path:"type"},{default:Le(()=>[Pe("div",$n,[fe(i,{value:$e(s).type,"onUpdate:value":[t[1]||(t[1]=e=>$e(s).type=e),u],options:$e(r)},null,8,["value","options"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_41"),path:"perserver"},{default:Le(()=>[Pe("div",Ln,[Pe("div",Rn,[fe(c,{value:$e(s).perserver,"onUpdate:value":t[2]||(t[2]=e=>$e(s).perserver=e),"show-button":!1,min:0},null,8,["value"])]),Pe("div",Un,Ue(e.$t("Site.Config.index_47")),1)])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_45"),path:"perip"},{default:Le(()=>[Pe("div",Wn,[Pe("div",Tn,[fe(c,{value:$e(s).perip,"onUpdate:value":t[3]||(t[3]=e=>$e(s).perip=e),"show-button":!1,min:0},null,8,["value"])]),Pe("div",En,Ue(e.$t("Site.Config.index_48")),1)])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Config.index_6"),path:"limit_rate"},{default:Le(()=>[Pe("div",On,[Pe("div",qn,[fe(c,{value:$e(s).limit_rate,"onUpdate:value":t[4]||(t[4]=e=>$e(s).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),Pe("div",Bn,Ue(e.$t("Site.Config.index_49")),1)])]),_:1},8,["label"]),fe(l,{label:" "},{default:Le(()=>[fe(_,{type:"primary",onClick:p},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_60")),1)]),_:1})]),_:1})]),_:1},8,["model"])])}}}),Mn=xe({__name:"index",setup(e,{expose:t}){const a=we(()=>n(()=>import("./index250.js?v=1758789124250"),__vite__mapDeps([62,11,1,2,5,6,3,4,8,7,12,32,20,22,36,37,38,39,40,9,10,13,14,15,16,17,18,19,21,23,24,25,26,27,28,29,30,31,33,34,35,41,42,43,44,45,46,47,48,49,50,51,52,53]))),{t:l}=Te(),{config:i}=Ti(),s=he("access"),o=he(),r=[{key:"directory",label:l("Site.Config.index_4"),component:Yi},{key:"file",label:l("Site.Config.index_15"),component:en},{key:"rewrite",label:l("Site.Config.index_7"),component:a},{key:"redirect",label:l("Site.Config.index_21"),component:pn},{key:"proxy",label:l("Site.Config.index_23"),component:Cn},{key:"traffic",label:l("Site.Config.index_6"),component:jn}];return s.value=i.subMenu||"directory",i.subMenu="",t({init:()=>{s.value="directory",ze(()=>{var e;null==(e=o.value)||e.init()})}}),(e,t)=>{const a=Na;return Se(),qe(a,{value:$e(s),"onUpdate:value":t[0]||(t[0]=e=>Ie(s)?s.value=e:null),ref_key:"tabsRef",ref:o,options:r},null,8,["value"])}}}),In={class:"p-8"},Dn=xe({__name:"form",setup(e,{expose:t}){const a=he(null),l=he(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=De({path:"",operation:[]}),s=(e,t)=>{"dir"===t.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return t({onConfirm:async()=>{var e;await(null==(e=a.value)?void 0:e.validate())}}),(e,t)=>{const o=za,r=ut,d=ft,u=x,c=xt,p=Ha,_=nt,m=z;return Se(),be("div",In,[fe(_,null,{default:Le(()=>[fe(p,{ref_key:"formRef",ref:a,model:$e(n),rules:i},{default:Le(()=>[fe(r,{label:"Detection path",path:"path"},{default:Le(()=>[fe(o,{disabled:"",value:$e(n).path,"onUpdate:value":t[0]||(t[0]=e=>$e(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:s},null,8,["value"])]),_:1}),fe(r,{label:"Alert operation",path:"operation"},{default:Le(()=>[fe(c,{value:$e(n).operation,"onUpdate:value":t[1]||(t[1]=e=>$e(n).operation=e)},{default:Le(()=>[fe(u,null,{default:Le(()=>[fe(d,{value:0},{default:Le(()=>t[2]||(t[2]=[Re(" Read ",-1)])),_:1,__:[2]}),fe(d,{value:1,disabled:$e(l)},{default:Le(()=>t[3]||(t[3]=[Re(" delete ",-1)])),_:1,__:[3]},8,["disabled"]),fe(d,{value:2,disabled:$e(l)},{default:Le(()=>t[4]||(t[4]=[Re(" Modify/increase ",-1)])),_:1,__:[4]},8,["disabled"])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),fe(m,{class:"mt-16px"},{default:Le(()=>t[5]||(t[5]=[Pe("li",null,"Directory temporarily only supports reading alarm operation",-1)])),_:1,__:[5]})])}}}),An={class:"p-5"},Nn={class:"mt-16px"},Hn=xe({__name:"monitor",setup(e){const t=he(!1),a=he(!1),l=he([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=he([]);return(e,n)=>{const s=at,o=nt,r=H,d=z,u=U;return Se(),be("div",An,[Pe("div",null,[fe(o,{justify:"space-between"},{default:Le(()=>[fe(s,{type:"primary",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:Le(()=>n[2]||(n[2]=[Re(" Add monitor ",-1)])),_:1,__:[2]}),fe(s,null,{icon:Le(()=>n[3]||(n[3]=[Pe("img",{src:Fa,class:"w-5"},null,-1)])),_:1})]),_:1})]),Pe("div",Nn,[fe(r,{loading:$e(a),"loading-num":6,data:$e(i),columns:$e(l)},null,8,["loading","data","columns"])]),Pe("div",null,[fe(d,{class:"mt-16px"},{default:Le(()=>[n[5]||(n[5]=Pe("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1)),n[6]||(n[6]=Pe("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1)),Pe("li",null,[fe(s,{text:"",class:"color-#20a53a"},{default:Le(()=>n[4]||(n[4]=[Re("Tutorial",-1)])),_:1,__:[4]})])]),_:1,__:[5,6]})]),fe(u,{show:$e(t),"onUpdate:show":n[1]||(n[1]=e=>Ie(t)?t.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:Dn},null,8,["show"])])}}});const zn=d({},[["render",function(e,t){return Se(),be("div",null,"555")}]]),Vn={class:"box mt-16px"},Fn={key:0,class:"items-center warning"},Kn={class:"warning"},Jn={class:"color-#f23836"},Gn=d(xe({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=ol(),a=he(!1),l=he(!1),i=he(!1),n=e,s=o(),r=()=>{j({source:114})},d=()=>{const e=a.value?"Open the site security alarm":"Close the site security alarm",t=a.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";A({title:e,content:t,onConfirm:async()=>{const e=Tt(a.value);console.log(e,"result")},onPublicClose:()=>{a.value=!a.value}})};return(e,o)=>{const u=pt,c=nt,p=at,m=z,h=_,v=L,w=U;return Se(),be(ge,null,[Pe("div",Vn,[fe(v,{install:$e(s).isPro,class:"install"},Ve({default:Le(()=>[fe(c,{class:"items-center color-#666"},{default:Le(()=>[o[8]||(o[8]=Pe("div",null,"Site protection",-1)),Pe("div",null,[fe(u,{value:$e(a),"onUpdate:value":[o[0]||(o[0]=e=>Ie(a)?a.value=e:null),d]},null,8,["value"])]),o[9]||(o[9]=Pe("div",null,"today: 0",-1)),o[10]||(o[10]=Pe("div",null,"Total alarm: 0",-1)),$e(a)?Ae("",!0):(Se(),be("div",Fn,[o[7]||(o[7]=Pe("img",{src:Ja,class:"h-8"},null,-1)),Pe("span",Kn,[o[5]||(o[5]=Re(" Please open ",-1)),Pe("span",Jn,"PHP-"+Ue(n.phpVersion),1),o[6]||(o[6]=Re(" protection first ",-1))])]))]),_:1,__:[8,9,10]}),fe(c,{class:"mt-16px"},{default:Le(()=>[fe(p,{onClick:o[1]||(o[1]=e=>l.value=!0)},{default:Le(()=>o[11]||(o[11]=[Re("Monitor",-1)])),_:1,__:[11]}),fe(p,{onClick:o[2]||(o[2]=e=>i.value=!0)},{default:Le(()=>o[12]||(o[12]=[Re("Trigger log",-1)])),_:1,__:[12]})]),_:1}),fe(m,{class:"mt-16px"},{default:Le(()=>o[13]||(o[13]=[Pe("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1),Pe("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1)])),_:1,__:[13]})]),_:2},[n.isInstall?{name:"desc",fn:Le(()=>[fe(c,{class:"items-center"},{default:Le(()=>[o[16]||(o[16]=Pe("img",{src:Ka,class:"h-10"},null,-1)),Pe("span",null,[o[15]||(o[15]=Re("If you need to use the [PHP website security alarm] function, please buy first ",-1)),fe(h,{onClick:r},{default:Le(()=>o[14]||(o[14]=[Re("click to buy",-1)])),_:1,__:[14]})])]),_:1,__:[16]})]),key:"0"}:{name:"desc",fn:Le(()=>[fe(c,{class:"items-center"},{default:Le(()=>[o[19]||(o[19]=Pe("img",{src:Ka,class:"h-10"},null,-1)),Pe("span",null,[o[18]||(o[18]=Re("Currently not installed [PHP website security alarm], ",-1)),fe(h,null,{default:Le(()=>o[17]||(o[17]=[Re("Click to install",-1)])),_:1,__:[17]})])]),_:1,__:[19]})]),key:"1"}]),1032,["install"])]),fe(w,{show:$e(l),"onUpdate:show":o[3]||(o[3]=e=>Ie(l)?l.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:Hn},null,8,["show"]),fe(w,{show:$e(i),"onUpdate:show":o[4]||(o[4]=e=>Ie(i)?i.value=e:null),title:"[".concat($e(t).siteName,"] Site security log"),width:1e3,"min-height":148,footer:!1,component:zn},null,8,["show","title"])],64)}}}),[["__scopeId","data-v-5757bceb"]]),Xn={class:"w-140px"},Qn={class:"my-16px"},Yn={key:0,class:"my-16px"},Zn=xe({__name:"index",setup(e,{expose:t}){const{t:l}=Te(),{data:i}=Ti(),n=ol(),s=he(null),o=he(!1),r=he(!1);let d="";const u=he([]),p=async()=>{null!==s.value?(await ma({siteName:i.name,version:s.value,other:d}),n.setRefresh(!0),w()):h.error(l("Site.RulesError.index_322"))},_=async()=>{const{message:e}=await fa({id:i.id});a(e)&&(o.value=e.result)},v=async e=>{await ha({id:i.id,act:e?1:0}),_()},w=()=>{(async()=>{const{message:e}=await Et();a(e)&&(r.value=e.php_status)})(),_(),(async()=>{const{message:e}=await wa();m(e)&&(u.value=e.reverse().map(e=>({label:e.name,value:e.version})))})(),(async()=>{const{message:e}=await va({siteName:i.name});a(e)&&(s.value=e.phpversion,d=e.php_other||"")})()};return w(),t({init:w}),(e,t)=>{const a=ct,l=at,i=nt,n=z,d=c,_=pt;return Se(),be("div",null,[fe(i,{class:"items-center"},{default:Le(()=>[Pe("div",null,Ue(e.$t("Site.Lable.index_22")),1),Pe("div",Xn,[fe(a,{value:$e(s),"onUpdate:value":t[0]||(t[0]=e=>Ie(s)?s.value=e:null),options:$e(u)},null,8,["value","options"])]),Pe("div",null,[fe(l,{type:"primary",onClick:p},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_61")),1)]),_:1})])]),_:1}),fe(n,{class:"mt-16px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Config.index_65")),1),Pe("li",null,Ue(e.$t("Site.Config.index_66")),1),Pe("li",null,Ue(e.$t("Site.Config.index_67")),1),Pe("li",null,Ue(e.$t("Site.Config.index_68")),1),Pe("li",null,Ue(e.$t("Site.Config.index_69")),1),Pe("li",null,Ue(e.$t("Site.Config.index_70")),1)]),_:1}),Pe("div",Qn,[fe(d,{dashed:""})]),fe(i,{class:"items-center"},{default:Le(()=>[Pe("div",null,Ue(e.$t("Site.Config.index_64")),1),Pe("div",null,[fe(_,{value:$e(o),"onUpdate:value":[t[1]||(t[1]=e=>Ie(o)?o.value=e:null),v]},null,8,["value"])])]),_:1}),fe(n,{class:"mt-16px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Config.index_71")),1),Pe("li",null,Ue(e.$t("Site.Config.index_72")),1)]),_:1}),$e(g)?(Se(),be("div",Yn,[fe(d,{dashed:""}),fe(Gn,{isInstall:$e(r),phpVersion:$e(s)},null,8,["isInstall","phpVersion"])])):Ae("",!0)])}}}),es={class:"w-200px"},ts={class:"w-200px mr-8px"},as={class:"flex flex-col"},ls={class:"mt-8px text-desc"},is={class:"flex flex-col"},ns={class:"mt-8px text-desc"},ss=xe({__name:"index",setup(e,{expose:t}){const{t:i}=Te(),n=ol(),s=he(null),{data:o}=Ti(),r=De({Login_url:"",redirection_url:"",wps:!1,admin_email:"",home_url:"",wp_title:"",wp_home:"",site_url:""}),d=he(!1),u=he("--"),c=he("--"),p=ve(()=>d.value?"".concat(i("WP.index_40")," (").concat(c.value,") ").concat(i("WP.index_41")):"".concat(i("WP.TableRow.index_1")," ").concat(u.value," ").concat(i("WP.index_39"))),m=he(!1),v=he(null),w=he("en"),f=he(""),x=he("--"),g=async()=>{var e;await(null==(e=s.value)?void 0:e.validate()),await(e=>l.post("/site?action=save_wp_configurations",e,{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}))({s_id:o.id,language:w.value,admin_password:f.value?f.value:null,admin_email:r.admin_email,whl_enabled:r.wps?1:0,whl_page:r.Login_url,whl_redirect_admin:r.redirection_url,wp_title:r.wp_title,wp_home:r.wp_home,site_url:r.site_url}),$()},b={admin_email:{required:!0,trigger:["blur","input"],message:i("WP.index_42")},redirection_url:{required:!0,trigger:["blur","input"],message:i("Security.Conf.Index_28")},Login_url:{required:!0,trigger:["blur","input"],message:i("Security.Conf.Index_28")}},S=async()=>{d.value?(await xa({s_id:o.id,version:c.value}),$()):h.error(i("WP.index_39"))},k=async e=>{await It({version:o.php_version,sitename:o.name,act:e}),n.setRefresh(!0)},C=async()=>{await Mt({s_id:o.id})},P=async()=>{f.value=y(16,"wp")},$=async()=>{const{message:e}=await cl({s_id:o.id});a(e)&&(m.value=e.cache_enabled,u.value=e.local_version,c.value=e.latest_version,d.value=e.can_upgrade,x.value=e.login_url,v.value=e.admin_user,w.value=e.language,r.admin_email=e.admin_email,r.Login_url=e.whl_page,r.home_url=e.home_url,r.redirection_url=e.whl_redirect_admin,r.wps=e.whl_enabled,r.wp_title=e.wp_title,r.wp_home=e.wp_home,r.site_url=e.site_url)};return $(),t({init:$}),(e,t)=>{const a=_,l=ut,i=mt,n=at,o=pt,u=_t,c=ft,h=nt,y=Ha;return Se(),be("div",null,[fe(y,{"label-width":"160px",model:$e(r),ref_key:"formRef",ref:s,rules:b},{default:Le(()=>[fe(l,{label:e.$t("WP.Config.index_1")},{default:Le(()=>[fe(a,{href:$e(x),target:"_blank"},{default:Le(()=>[Re(Ue($e(x)),1)]),_:1},8,["href"])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.TableRow.index_14")},{default:Le(()=>[fe(i,{type:$e(d)?"warning":"default","show-icon":!1},{default:Le(()=>[Re(Ue($e(p)),1)]),_:1},8,["type"]),fe(n,{class:"ml-8px",type:"primary",onClick:S},{default:Le(()=>[Re(Ue(e.$t("WP.Config.index_2")),1)]),_:1})]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_31")},{default:Le(()=>[fe(o,{value:$e(m),"onUpdate:value":[t[0]||(t[0]=e=>Ie(m)?m.value=e:null),k],class:"mr-20px"},null,8,["value"]),fe(n,{onClick:C},{default:Le(()=>[Re(Ue(e.$t("WP.Config.index_3")),1)]),_:1})]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_24")},{default:Le(()=>[Pe("div",es,[fe(u,{value:$e(v),"onUpdate:value":t[1]||(t[1]=e=>Ie(v)?v.value=e:null),readonly:""},null,8,["value"])])]),_:1},8,["label"]),fe(l,{label:e.$t("WP.Label.index_1")},{default:Le(()=>[Pe("div",ts,[fe(u,{value:$e(f),"onUpdate:value":t[2]||(t[2]=e=>Ie(f)?f.value=e:null),placeholder:e.$t("WP.index_38")},null,8,["value","placeholder"])]),fe(n,{type:"primary",onClick:P},{default:Le(()=>[Re(Ue(e.$t("WP.Config.index_4")),1)]),_:1})]),_:1},8,["label"]),fe(l,{label:e.$t("WP.Label.index_2"),path:"admin_email"},{default:Le(()=>[fe(u,{class:"w-410px!",value:$e(r).admin_email,"onUpdate:value":t[3]||(t[3]=e=>$e(r).admin_email=e),placeholder:e.$t("Site.Placeholder.index_16")},null,8,["value","placeholder"])]),_:1},8,["label"]),fe(l,{label:e.$t("WP.Label.index_3")},{default:Le(()=>[fe(Ga,{class:"w-410px",value:$e(w),"onUpdate:value":t[4]||(t[4]=e=>Ie(w)?w.value=e:null)},null,8,["value"])]),_:1},8,["label"]),fe(l,{label:"Website Title",path:"wp_title"},{default:Le(()=>[fe(u,{class:"w-410px!",value:$e(r).wp_title,"onUpdate:value":t[5]||(t[5]=e=>$e(r).wp_title=e)},null,8,["value"])]),_:1}),fe(l,{label:"Home Domain",path:"wp_home"},{default:Le(()=>[fe(u,{class:"w-410px!",value:$e(r).wp_home,"onUpdate:value":t[6]||(t[6]=e=>$e(r).wp_home=e)},null,8,["value"])]),_:1}),fe(l,{label:"Website Domain",path:"site_url"},{default:Le(()=>[fe(u,{class:"w-410px!",value:$e(r).site_url,"onUpdate:value":t[7]||(t[7]=e=>$e(r).site_url=e)},null,8,["value"])]),_:1}),fe(l,{label:e.$t("WP.Label.index_4")},{default:Le(()=>[fe(c,{checked:$e(r).wps,"onUpdate:checked":t[8]||(t[8]=e=>$e(r).wps=e)},{default:Le(()=>[Pe("span",null,Ue(e.$t("WP.Add.index_11")),1)]),_:1},8,["checked"])]),_:1},8,["label"]),$e(r).wps?(Se(),be(ge,{key:0},[fe(l,{label:e.$t("WP.Add.index_12"),path:"Login_url"},{default:Le(()=>[Pe("div",as,[Pe("div",null,[fe(h,{class:"items-center"},{default:Le(()=>[Pe("div",null,Ue($e(r).home_url)+"/",1),fe(u,{class:"w-200px!",value:$e(r).Login_url,"onUpdate:value":t[9]||(t[9]=e=>$e(r).Login_url=e),placeholder:e.$t("Site.Placeholder.index_18")},null,8,["value","placeholder"])]),_:1})]),Pe("div",ls,Ue(e.$t("WP.Config.index_8")),1)])]),_:1},8,["label"]),fe(l,{label:e.$t("WP.Add.index_13"),path:"redirection_url"},{default:Le(()=>[Pe("div",is,[Pe("div",null,[fe(h,{class:"items-center"},{default:Le(()=>[Pe("div",null,Ue($e(r).home_url)+"/",1),fe(u,{class:"w-200px!",value:$e(r).redirection_url,"onUpdate:value":t[10]||(t[10]=e=>$e(r).redirection_url=e),placeholder:e.$t("Site.Placeholder.index_19")},null,8,["value","placeholder"])]),_:1})]),Pe("div",ns,Ue(e.$t("WP.Config.index_9")),1)])]),_:1},8,["label"])],64)):Ae("",!0),fe(l,{label:" "},{default:Le(()=>[fe(n,{type:"primary",onClick:g},{default:Le(()=>[Re(Ue(e.$t("WP.Config.index_5")),1)]),_:1})]),_:1})]),_:1},8,["model"])])}}}),os={class:"p-10px"},rs=d(xe({__name:"install",props:{data:{}},setup(e){const{t:t}=Te(),{data:i}=Ti(),n=e,{getList:s}=n.data,o=De({s_id:i.id,p:1,p_size:10,keyword:""}),d=()=>{o.p=1,w()},{loading:u,setLoading:c}=N(),{keys:p,table:_,columns:v}=D([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:t("Site.TableRow.index_2"),render:e=>fe("span",null,[fe("img",{class:"w-25px h-25px",src:e.icons["1x"]?e.icons["1x"]:e.icons.default},null),fe("span",{class:"ml-5px"},[e.name])])},{key:"short_description",title:t("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:t("WP.index_17"),render:e=>fe("span",{innerHTML:e.author},null)},{key:"requires",title:"WP",render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:t("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:t("WP.index_19"),render:e=>fe(b,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},V({width:60,options:e=>[{label:e.installed?t("WP.TableRow.index_14"):t("WP.TableRow.index_13"),disabled:i.wp_version<e.requires||i.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(a={s_id:i.id,slug:e.slug},l.post("/site?action=wp_install_plugin",a,{requestOptions:{loading:rl("WP.api.tamper_16"),successMessage:!1}})),h.success(t("WP.index_20")),w(),null==s||s()}catch(n){console.error(n)}var a}}]}),{key:"",title:"",width:"25px",render:e=>i.wp_version<e.requires||i.php_version<e.requires_php||e.installed?fe(it,{trigger:"hover"},{trigger:()=>fe(r,{name:"common-ask",size:"18",color:"#999"},null),default:()=>i.wp_version<e.requires||i.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),w=async()=>{try{c(!0);const{message:e}=await Wl(He(o));a(e)&&(_.total=e.total,m(e.list)?_.data=e.list.map(e=>({...e,author:e.author.replace('href="','target="_blank" style="color: #1d9534" href="')})):(_.data=[],_.total=0))}finally{p.value=[],c(!1)}};return w(),(e,t)=>{const a=pe,l=H,i=T,n=W;return Se(),be("div",os,[fe(n,{feedback:!1},{toolsLeft:Le(()=>t[3]||(t[3]=[])),toolsRight:Le(()=>[fe(a,{value:$e(o).keyword,"onUpdate:value":t[0]||(t[0]=e=>$e(o).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:d},null,8,["value","placeholder"])]),table:Le(()=>[fe(l,{loading:$e(u),data:$e(_).data,columns:$e(v),"max-height":500,"row-class-name":"row-padding"},null,8,["loading","data","columns"])]),pageRight:Le(()=>[fe(i,{page:$e(o).p,"onUpdate:page":t[1]||(t[1]=e=>$e(o).p=e),"page-size":$e(o).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>$e(o).p_size=e),"item-count":$e(_).total,onRefresh:w},null,8,["page","page-size","item-count"])]),_:1})])}}}),[["__scopeId","data-v-e04ced1d"]]),ds=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:i}=Ti(),n=o(),{isPro:s}=Ee(n),r=()=>{s.value?window.open(i.login_url,"_blank"):j({source:213})},d=()=>{w.show=!0},{keys:u,table:c,columns:p}=D([{key:"title",title:a("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},J({key:"is_plugin_activate",title:a("WP.TableRow.index_8"),minWidth:60,onClick:async(e,t)=>{await(e=>l.post("/site?action=wp_set_plugin_status",e,{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}))({s_id:i.id,plugin_file:t.plugin_file,activate:e?1:0})}}),J({key:"auto_update",title:a("WP.TableRow.index_10"),minWidth:60,onClick:async(e,t)=>{await(e=>l.post("/site?action=wp_set_plugin_auto_update",e,{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}))({s_id:i.id,plugin_file:t.plugin_file,enable:e?1:0})}}),V({width:130,options:e=>[{label:a("WP.TableRow.index_11"),show:e.can_update,onClick:()=>{A({title:"".concat(a("WP.TableRow.index_11")," [").concat(e.name,"]"),content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>l.post("/site?action=wp_update_plugin",e,{requestOptions:{loading:rl("WP.api.tamper_15"),successMessage:!0}}))({s_id:i.id,plugin_file:e.plugin_file}),v(),t()}})}},{label:a("WP.TableRow.index_12"),onClick:()=>{A({title:"".concat(a("WP.TableRow.index_12")," [").concat(e.name,"]"),content:a("WP.index_10"),onConfirm:async({hide:t})=>{await(e=>l.post("/site?action=wp_uninstall_plugin",e,{requestOptions:{loading:rl("WP.api.tamper_14"),successMessage:!0}}))({s_id:i.id,plugin_file:e.plugin_file}),v(),t()}})}}]})]),{loading:_,setLoading:h}=N(),v=async()=>{try{h(!0);const{message:e}=await(e=>l.post("/site?action=wp_installed_plugins",e))({s_id:i.id});m(e)&&(c.data=e)}finally{u.value=[],h(!1)}},w=K(a("WP.index_15"),{getList:v});return v(),t({init:v}),(e,t)=>{const a=at,l=gt,n=H,s=W,o=z,m=U;return Se(),be("div",null,[fe(s,null,{toolsLeft:Le(()=>[fe(l,{trigger:"hover",disabled:!$e(i).maintenance},{trigger:Le(()=>[fe(a,{type:"primary",onClick:r,disabled:$e(i).maintenance},{default:Le(()=>[Re(Ue(e.$t("WP.index_3")),1)]),_:1},8,["disabled"])]),default:Le(()=>[t[2]||(t[2]=Pe("span",null,"Maintenance is enabled. Please log in manually.",-1))]),_:1,__:[2]},8,["disabled"]),fe(a,{onClick:d},{default:Le(()=>[Re(Ue(e.$t("WP.TableRow.index_13")),1)]),_:1})]),table:Le(()=>[fe(n,{"checked-row-keys":$e(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(u)?u.value=e:null),"row-key":"title",loading:$e(_),data:$e(c).data,columns:$e(p)},null,8,["checked-row-keys","loading","data","columns"])]),_:1}),fe(o,{class:"mt-16px"},{default:Le(()=>t[3]||(t[3]=[Pe("li",null,"After enabling the maintenance mode, please do not enable the automatic update function of plugins and themes. ",-1)])),_:1,__:[3]}),fe(m,{show:$e(w).show,"onUpdate:show":t[1]||(t[1]=e=>$e(w).show=e),title:$e(w).title,data:$e(w).data,width:750,"min-height":400,footer:!1,component:rs},null,8,["show","title","data"])])}}}),us={class:"p-10px"},cs=d(xe({__name:"install",props:{data:{}},setup(e){const{t:t}=Te(),{data:i}=Ti(),n=e,{getList:s}=n.data,o=De({s_id:i.id,p:1,p_size:10,keyword:""}),d=()=>{o.p=1,w()},{loading:u,setLoading:c}=N(),{keys:p,table:_,columns:v}=D([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:t("Site.TableRow.index_2"),render:e=>fe("span",null,[fe("img",{class:"w-25px",src:e.screenshot_url},null),fe("span",{class:"ml-5px"},[e.name])])},{key:"description",title:t("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:t("WP.index_17"),render:e=>fe("a",{target:"_blank",style:"color : #1d9534",href:e.author.author_url},[e.author.author])},{key:"requires",title:t("WP.index_18"),render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:t("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:t("WP.index_19"),render:e=>fe(b,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},V({width:60,options:e=>[{label:e.installed?t("WP.TableRow.index_14"):t("WP.TableRow.index_13"),disabled:i.wp_version<e.requires||i.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(a={s_id:i.id,slug:e.slug},l.post("/site?action=wp_install_theme",a,{requestOptions:{loading:rl("WP.api.tamper_16"),successMessage:!1}})),h.success(t("WP.index_20")),null==s||s(),w()}catch(n){console.error(n)}var a}}]}),{key:"",title:"",width:"30px",render:e=>i.wp_version<e.requires||i.php_version<e.requires_php||e.installed?fe(it,{trigger:"hover"},{trigger:()=>fe(r,{name:"common-ask",size:"18",color:"#999"},null),default:()=>i.wp_version<e.requires||i.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),w=async()=>{try{c(!0);const{message:e}=await Ul(He(o));a(e)&&(_.total=e.total,m(e.list)?_.data=e.list:(_.data=[],_.total=0))}finally{p.value=[],c(!1)}};return w(),(e,t)=>{const a=pe,l=H,i=T,n=W;return Se(),be("div",us,[fe(n,{feedback:!1},{toolsLeft:Le(()=>t[3]||(t[3]=[])),toolsRight:Le(()=>[fe(a,{value:$e(o).keyword,"onUpdate:value":t[0]||(t[0]=e=>$e(o).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:d},null,8,["value","placeholder"])]),table:Le(()=>[fe(l,{loading:$e(u),data:$e(_).data,columns:$e(v),"max-height":500,"row-class-name":"row-padding"},null,8,["loading","data","columns"])]),pageRight:Le(()=>[fe(i,{page:$e(o).p,"onUpdate:page":t[1]||(t[1]=e=>$e(o).p=e),"page-size":$e(o).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>$e(o).p_size=e),"item-count":$e(_).total,onRefresh:w},null,8,["page","page-size","item-count"])]),_:1})])}}}),[["__scopeId","data-v-86934d13"]]),ps=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:i}=Ti(),n=o(),{isPro:s}=Ee(n),r=()=>{s.value?window.open(i.login_url,"_blank"):j({source:213})},d=()=>{w.show=!0},{keys:u,table:c,columns:p}=D([{key:"title",title:a("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},J({key:"is_theme_activate",title:a("WP.TableRow.index_8"),minWidth:30,disabled:e=>(console.log(e.name),!0),tips:a("WP.index_12"),onClick:async(e,t)=>{await(e=>l.post("/site?action=wp_switch_theme",e,{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}))({s_id:i.id,stylesheet:t.stylesheet}),v()}}),J({key:"auto_update",title:a("WP.TableRow.index_10"),minWidth:60,onClick:async(e,t)=>{await(e=>l.post("/site?action=wp_set_theme_auto_update",e,{requestOptions:{loading:rl("WP.api.tamper_8"),successMessage:!0}}))({s_id:i.id,stylesheet:t.stylesheet,enable:e?1:0})}}),V({width:130,options:e=>[{label:a("WP.TableRow.index_11"),show:e.can_update,onClick:()=>{A({title:"".concat(a("WP.TableRow.index_11")," [").concat(e.name,"]"),content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>l.post("/site?action=wp_update_theme",e,{requestOptions:{loading:rl("WP.api.tamper_15"),successMessage:!0}}))({s_id:i.id,stylesheet:e.stylesheet}),v(),t()}})}},{label:a("WP.TableRow.index_12"),disabled:e.is_theme_activate,onClick:()=>{A({title:"".concat(a("WP.TableRow.index_12")," [").concat(e.name,"]"),content:a("WP.index_11"),onConfirm:async({hide:t})=>{await(e=>l.post("/site?action=wp_uninstall_theme",e,{requestOptions:{loading:rl("WP.api.tamper_14"),successMessage:!0}}))({s_id:i.id,stylesheet:e.stylesheet}),v(),t()}})}}]})]),{loading:_,setLoading:h}=N(),v=async()=>{try{h(!0);const{message:e}=await(e=>l.post("/site?action=wp_installed_themes",e))({s_id:i.id});m(e)&&(c.data=e)}finally{u.value=[],h(!1)}},w=K(a("WP.index_16"),{getList:v});return v(),t({init:v}),(e,t)=>{const a=at,l=gt,n=H,s=W,o=z,m=U;return Se(),be("div",null,[fe(s,null,{toolsLeft:Le(()=>[fe(l,{trigger:"hover",disabled:!$e(i).maintenance},{trigger:Le(()=>[fe(a,{type:"primary",onClick:r,disabled:$e(i).maintenance},{default:Le(()=>[Re(Ue(e.$t("WP.index_3")),1)]),_:1},8,["disabled"])]),default:Le(()=>[t[2]||(t[2]=Pe("span",null,"Maintenance is enabled. Please log in manually.",-1))]),_:1,__:[2]},8,["disabled"]),fe(a,{onClick:d},{default:Le(()=>[Re(Ue(e.$t("WP.TableRow.index_13")),1)]),_:1})]),table:Le(()=>[fe(n,{"checked-row-keys":$e(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(u)?u.value=e:null),"row-key":"title",loading:$e(_),data:$e(c).data,columns:$e(p)},null,8,["checked-row-keys","loading","data","columns"])]),_:1}),fe(o,{class:"mt-16px"},{default:Le(()=>t[3]||(t[3]=[Pe("li",null,"After enabling the maintenance mode, please do not enable the automatic update function of plugins and themes. ",-1)])),_:1,__:[3]}),fe(m,{show:$e(w).show,"onUpdate:show":t[1]||(t[1]=e=>$e(w).show=e),title:$e(w).title,data:$e(w).data,width:750,"min-height":400,footer:!1,component:cs},null,8,["show","title","data"])])}}}),_s=d(xe({__name:"index",setup(e,{expose:t}){const{data:i}=Ti(),n=De({wp_debug:!1,wp_debug_log:!1,script_debug:!1,wp_debug_display:!1,save_queries:!1,search_engine:!1}),s=async()=>{const e={set_id:i.id,...n};var t;await(t=e,l.post("/site?action=set_wp_tool",t,{requestOptions:{loading:rl("Login.index_22"),successMessage:!0}})),d()};t({onConfirm:s});const{loading:o,setLoading:r}=N(),d=async()=>{try{r(!0);const{message:t}=await(e={set_id:i.id},l.post("/site?action=get_wp_tool",e));a(t)&&Object.entries(t).forEach(([e,t])=>{n[e]="true"===t})}finally{r(!1)}var e};return d(),(e,t)=>{const a=pt,l=ut,i=at,r=Ha,d=S;return Se(),qe(d,{show:$e(o)},{default:Le(()=>[fe(r,{model:$e(n),"label-width":"150"},{default:Le(()=>[fe(l,{label:"Enable debug mode"},{default:Le(()=>[fe(a,{value:$e(n).wp_debug,"onUpdate:value":t[0]||(t[0]=e=>$e(n).wp_debug=e)},null,8,["value"]),t[6]||(t[6]=Pe("span",{class:"tips"},"Enable main debug mode in WordPress.",-1))]),_:1,__:[6]}),ke(fe(l,{label:"Error Log"},{default:Le(()=>[fe(a,{value:$e(n).wp_debug_log,"onUpdate:value":t[1]||(t[1]=e=>$e(n).wp_debug_log=e)},null,8,["value"]),t[7]||(t[7]=Pe("span",{class:"tips"},"Save all errors to the debug.log file in the wp-content directory.",-1))]),_:1,__:[7]},512),[[Ce,$e(n).wp_debug]]),ke(fe(l,{label:"Display PHP Errors"},{default:Le(()=>[fe(a,{value:$e(n).wp_debug_display,"onUpdate:value":t[2]||(t[2]=e=>$e(n).wp_debug_display=e)},null,8,["value"]),t[8]||(t[8]=Pe("span",{class:"tips"},"Display debugging information in HTML pages.",-1))]),_:1,__:[8]},512),[[Ce,$e(n).wp_debug]]),fe(l,{label:"Enable script debug"},{default:Le(()=>[fe(a,{value:$e(n).script_debug,"onUpdate:value":t[3]||(t[3]=e=>$e(n).script_debug=e)},null,8,["value"]),t[9]||(t[9]=Pe("span",{class:"tips"},"Force WordPress to use non-minified versions of core CSS and JavaScript files.",-1))]),_:1,__:[9]}),fe(l,{label:"Save Queries"},{default:Le(()=>[fe(a,{value:$e(n).save_queries,"onUpdate:value":t[4]||(t[4]=e=>$e(n).save_queries=e)},null,8,["value"]),t[10]||(t[10]=Pe("span",{class:"tips"},"Record all database queries executed on the website and save them in a global variable. Note: Please avoid using this in non-debug environments.",-1))]),_:1,__:[10]}),fe(l,{label:"Disable Search Engine Indexing"},{default:Le(()=>[fe(a,{value:$e(n).search_engine,"onUpdate:value":t[5]||(t[5]=e=>$e(n).search_engine=e)},null,8,["value"]),t[11]||(t[11]=Pe("span",{class:"tips"},"If your website is not ready to be publicly viewed, please enable this option to ensure that search engines do not display your website in search results.",-1))]),_:1,__:[11]}),fe(l,{label:" "},{default:Le(()=>[fe(i,{type:"primary",onClick:s},{default:Le(()=>[Re(Ue(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])}}}),[["__scopeId","data-v-87e0a648"]]),ms=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{config:l}=Ti(),i=he("setup"),n=he(),s=[{key:"setup",label:a("Site.Config.index_16"),component:ss},{key:"plugin",label:a("Site.Config.index_17"),component:ds},{key:"theme",label:a("Site.Config.index_18"),component:ps},{key:"utils",label:"Utils",component:_s}];return i.value=l.subMenu||"setup",l.subMenu="",t({init:()=>{i.value="setup",ze(()=>{var e;null==(e=n.value)||e.init()})}}),(e,t)=>{const a=Na;return Se(),qe(a,{value:$e(i),"onUpdate:value":t[0]||(t[0]=e=>Ie(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),hs={class:"p-20px"},vs={class:"w-280px"},ws={class:"w-280px"},fs={class:"w-280px"},xs={class:"w-280px"},gs=xe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Te(),l=e,{isEdit:i,siteId:n,row:s,getList:o}=l.data,r=he(null),d=De({name:"",site_dir:"",username:"",password:""}),u={name:{required:!0,message:a("Site.RulesError.index_316"),trigger:["blur","input"]},site_dir:{required:!0,message:a("Site.RulesError.index_317"),trigger:["blur","input"]},username:{required:!0,message:a("Site.RulesError.index_71"),trigger:["blur","input"]},password:{required:!0,message:a("Site.RulesError.index_81"),trigger:["blur","input"]}};return i&&s&&(d.name=s.name,d.site_dir=s.site_dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate()),i?await ga({id:n,name:d.name,username:d.username,password:d.password}):await ya({...He(d),id:n}),null==o||o(),e()}}),(e,t)=>{const a=_t,l=ut,n=Ha,s=z;return Se(),be("div",hs,[fe(n,{ref_key:"formRef",ref:r,model:$e(d),rules:u},{default:Le(()=>[fe(l,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:Le(()=>[Pe("div",vs,[fe(a,{value:$e(d).name,"onUpdate:value":t[0]||(t[0]=e=>$e(d).name=e),disabled:$e(i),placeholder:""},null,8,["value","disabled"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.TableRow.index_15"),path:"site_dir"},{default:Le(()=>[Pe("div",ws,[fe(a,{value:$e(d).site_dir,"onUpdate:value":t[1]||(t[1]=e=>$e(d).site_dir=e),disabled:$e(i),placeholder:"Enter the path: /text/，/test/api"},null,8,["value","disabled"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_24"),path:"username"},{default:Le(()=>[Pe("div",fs,[fe(a,{value:$e(d).username,"onUpdate:value":t[2]||(t[2]=e=>$e(d).username=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_27"),path:"password"},{default:Le(()=>[Pe("div",xs,[fe(a,{value:$e(d).password,"onUpdate:value":t[3]||(t[3]=e=>$e(d).password=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"]),fe(s,{class:"mt-4px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Config.index_40")),1),Pe("li",null,Ue(e.$t("Site.Config.index_41")),1)]),_:1})])}}}),ys=xe({__name:"index",setup(e,{expose:t}){const{t:l}=Te(),{data:i}=Ti(),{keys:n,table:s,columns:o}=D([{type:"selection",width:40},{key:"name",title:l("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:l("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},V({width:130,options:e=>[{label:l("Site.TableOP.index_7"),onClick:()=>{m(e)}},{label:l("Public.Btn.Del"),onClick:()=>{A({title:"".concat(l("Site.TableOP.index_6")," [").concat(e.name,"]"),content:l("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await ba({id:i.id,name:e.name}),c(),t()}})}}]})]),r=[{key:"del",type:"confirm",label:l("Site.Batch.index_20"),confirm:{title:l("Site.Batch.index_21"),desc:l("Site.Batch.index_11"),columns:[o.value[1]],api:e=>ba({id:i.id,name:e.name},!1),done:()=>{c()}}}],{loading:d,setLoading:u}=N(),c=async()=>{try{u(!0);const{message:e}=await Sa({id:i.id});if(a(e)){s.data=[];for(const[t,a]of Object.entries(e))if(i.name===t){s.data=a;break}}}finally{n.value=[],u(!1)}},p=K(l("Site.Config.index_38"),{row:void 0,siteId:i.id,isEdit:!1,getList:c}),_=()=>{p.data.isEdit=!1,p.title=l("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=l("Site.Config.index_39"),p.show=!0};return c(),t({init:c}),(e,t)=>{const a=at,l=H,i=E,u=W,c=z,m=U;return Se(),be("div",null,[fe(u,null,{toolsLeft:Le(()=>[fe(a,{type:"primary",onClick:_},{default:Le(()=>[Re(Ue(e.$t("Site.Config.index_38")),1)]),_:1})]),table:Le(()=>[fe(l,{"checked-row-keys":$e(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(n)?n.value=e:null),"row-key":"name",loading:$e(d),"max-height":440,data:$e(s).data,columns:$e(o)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Le(()=>[fe(i,{"checked-row-keys":$e(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(n)?n.value=e:null),"row-key":"name",data:$e(s).data,options:r},null,8,["checked-row-keys","data"])]),_:1}),fe(c,{class:"mt-16px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Config.index_40")),1),Pe("li",null,Ue(e.$t("Site.Config.index_41")),1)]),_:1}),fe(m,{show:$e(p).show,"onUpdate:show":t[2]||(t[2]=e=>$e(p).show=e),title:$e(p).title,data:$e(p).data,width:480,footer:!0,component:gs},null,8,["show","title","data"])])}}}),bs={class:"p-20px"},Ss={class:"w-280px"},ks={class:"w-280px"},Cs={class:"w-280px"},Ps=xe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Te(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,r=he(null),d=De({deny_name:"",suffix:"php|jsp",dir:""}),u={deny_name:{required:!0,message:a("Site.Placeholder.Index_4"),trigger:["blur","input"]},suffix:{required:!0,message:a("Site.Placeholder.Index_5"),trigger:["blur","input"]},dir:{required:!0,message:a("Site.Placeholder.Index_6"),trigger:["blur","input"]}},c=()=>({...He(d),dir:d.dir.replace(/\/$/,"")+"/",website:n});return i&&s&&(d.deny_name=s.name,d.suffix=s.suffix,d.dir=s.dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate()),i?await ka(c()):await Ca(c()),null==o||o(),e()}}),(e,t)=>{const a=_t,l=ut,n=Ha,s=z;return Se(),be("div",bs,[fe(n,{ref_key:"formRef",ref:r,model:$e(d),rules:u},{default:Le(()=>[fe(l,{label:e.$t("Site.TableRow.index_2"),path:"deny_name"},{default:Le(()=>[Pe("div",Ss,[fe(a,{value:$e(d).deny_name,"onUpdate:value":t[0]||(t[0]=e=>$e(d).deny_name=e),disabled:$e(i),placeholder:e.$t("Site.Placeholder.Index_1")},null,8,["value","disabled","placeholder"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.TableRow.index_18"),path:"suffix"},{default:Le(()=>[Pe("div",ks,[fe(a,{value:$e(d).suffix,"onUpdate:value":t[1]||(t[1]=e=>$e(d).suffix=e),placeholder:e.$t("Site.Placeholder.Index_2")},null,8,["value","placeholder"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.TableRow.index_15"),path:"dir"},{default:Le(()=>[Pe("div",Cs,[fe(a,{value:$e(d).dir,"onUpdate:value":t[2]||(t[2]=e=>$e(d).dir=e),placeholder:e.$t("Site.Placeholder.Index_3")},null,8,["value","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model"]),fe(s,{class:"mt-4px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.PHP.index_72")),1),Pe("li",null,Ue(e.$t("Site.PHP.index_73")),1),Pe("li",null,Ue(e.$t("Site.PHP.index_74")),1),Pe("li",null,Ue(e.$t("Site.PHP.index_75")),1),Pe("li",null,Ue(e.$t("Site.PHP.index_76")),1)]),_:1})])}}}),$s=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Ti(),{keys:i,table:n,columns:s}=D([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:a("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:a("Site.TableRow.index_18"),ellipsis:{tooltip:{width:"trigger"}}},V({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{_(e)}},{label:a("Public.Btn.Del"),onClick:()=>{A({title:"".concat(a("Site.TableOP.index_6")," [").concat(e.name,"]"),content:a("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await Pa({website:l.name,deny_name:e.name}),u(),t()}})}}]})]),o=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[s.value[1]],api:e=>Pa({website:l.name,deny_name:e.name},!1),done:()=>{u()}}}],{loading:r,setLoading:d}=N(),u=async()=>{try{d(!0);const{message:e}=await $a({website:l.name});n.data=m(e)?e:[]}finally{i.value=[],d(!1)}},c=K(a("Site.Config.index_38"),{row:void 0,siteName:l.name,isEdit:!1,getList:u}),p=()=>{c.data.row=void 0,c.data.isEdit=!1,c.title=a("Site.Config.index_38"),c.show=!0},_=e=>{c.data.row=e,c.data.isEdit=!0,c.title=a("Site.Config.index_39"),c.show=!0};return u(),t({init:u}),(e,t)=>{const a=at,l=H,d=E,u=W,_=z,m=U;return Se(),be("div",null,[fe(u,null,{toolsLeft:Le(()=>[fe(a,{type:"primary",onClick:p},{default:Le(()=>[Re(Ue(e.$t("Site.Config.index_38")),1)]),_:1})]),table:Le(()=>[fe(l,{"checked-row-keys":$e(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Ie(i)?i.value=e:null),"row-key":"name",loading:$e(r),"max-height":440,data:$e(n).data,columns:$e(s)},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Le(()=>[fe(d,{"checked-row-keys":$e(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Ie(i)?i.value=e:null),"row-key":"name",data:$e(n).data,options:o},null,8,["checked-row-keys","data"])]),_:1}),fe(_,{class:"mt-16px"},{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Config.index_42"))+" |",1),Pe("li",null,Ue(e.$t("Site.Config.index_43")),1),Pe("li",null,Ue(e.$t("Site.Config.index_44")),1),Pe("li",null,Ue(e.$t("Site.Config.index_45")),1)]),_:1}),fe(m,{show:$e(c).show,"onUpdate:show":t[2]||(t[2]=e=>$e(c).show=e),title:$e(c).title,data:$e(c).data,width:480,footer:!0,component:Ps},null,8,["show","title","data"])])}}}),Ls={class:"w-300px"},Rs={class:"w-300px"},Us={class:"w-300px"},Ws={class:"flex flex-col"},Ts=xe({__name:"form",props:{site:{}},emits:["changeHotlink"],setup(e,{expose:t,emit:l}){const{t:i}=Te(),n=l,s=Fe(e,"site"),o=he(null),r=De({fix:"",domains:"",return_rule:"",status:!1,http_status:!1}),d={fix:{trigger:["blur","change"],validator:()=>""!==r.fix.trim()||new Error(i("Site.RulesError.index_330"))},return_rule:{trigger:["blur","change"],validator:()=>""!==r.return_rule.trim()||new Error(i("Site.RulesError.index_330"))}},u=()=>{p()},c=()=>{p()},p=async()=>{var e;await(null==(e=o.value)?void 0:e.validate()),await La({id:s.value.id,name:s.value.name,fix:r.fix,domains:r.domains.trim().split("\n").join(","),return_rule:r.return_rule,status:r.status,http_status:r.http_status}),n("changeHotlink",r.status),_()},_=async()=>{const{message:e}=await Ra({id:s.value.id,name:s.value.name});a(e)&&(r.fix=e.fix,r.domains=e.domains.split(",").join("\n"),r.return_rule=e.return_rule,r.status=e.status,r.http_status="true"===e.http_status||!0===e.http_status)};return _(),t({init:_}),(e,t)=>{const a=_t,l=ut,i=ft,n=at,s=Ha,_=z;return Se(),be("div",null,[fe(s,{ref_key:"formRef",ref:o,class:"px-8px",model:$e(r),rules:d},{default:Le(()=>[fe(l,{label:e.$t("Site.Lable.index_6"),path:"fix"},{default:Le(()=>[Pe("div",Ls,[fe(a,{value:$e(r).fix,"onUpdate:value":t[0]||(t[0]=e=>$e(r).fix=e),disabled:$e(r).status,placeholder:""},null,8,["value","disabled"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_7")},{default:Le(()=>[Pe("div",Rs,[fe(a,{value:$e(r).domains,"onUpdate:value":t[1]||(t[1]=e=>$e(r).domains=e),type:"textarea",autosize:{minRows:6,maxRows:6},placeholder:""},null,8,["value"])])]),_:1},8,["label"]),fe(l,{label:e.$t("Site.Lable.index_13"),path:"return_rule"},{default:Le(()=>[Pe("div",Us,[fe(a,{value:$e(r).return_rule,"onUpdate:value":t[2]||(t[2]=e=>$e(r).return_rule=e),disabled:$e(r).status,placeholder:""},null,8,["value","disabled"])])]),_:1},8,["label"]),fe(l,{label:" "},{default:Le(()=>[Pe("div",Ws,[fe(i,{checked:$e(r).status,"onUpdate:checked":[t[3]||(t[3]=e=>$e(r).status=e),u]},{default:Le(()=>[Re(Ue(e.$t("Site.Config.index_94")),1)]),_:1},8,["checked"]),fe(i,{checked:$e(r).http_status,"onUpdate:checked":[t[4]||(t[4]=e=>$e(r).http_status=e),c],class:"mt-16px"},{default:Le(()=>[Re(Ue(e.$t("Site.Config.index_95")),1)]),_:1},8,["checked"])])]),_:1}),fe(l,{label:" ","show-feedback":!1},{default:Le(()=>[fe(n,{type:"primary",onClick:p},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_60")),1)]),_:1})]),_:1})]),_:1},8,["model"]),fe(_,{class:"mt-20px"},{default:Le(()=>[Pe("li",null,[Re(Ue(e.$t("Site.Config.index_96")),1),t[5]||(t[5]=Pe("br",null,null,-1)),Re(" "+Ue(e.$t("Site.Config.index_97")),1)]),Pe("li",null,Ue(e.$t("Site.Config.index_98")),1),Pe("li",null,Ue(e.$t("Site.Config.index_99")),1)]),_:1})])}}}),Es={class:"pt-8px"},Os=xe({__name:"index",setup(e,{expose:t}){const{data:a}=Ti(),l=he();return t({init:async()=>{l.value.init()}}),(e,t)=>(Se(),be("div",Es,[fe(Ts,{ref_key:"formRef",ref:l,site:$e(a)},null,8,["site"])]))}}),qs=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{config:l}=Ti(),i=he("access"),n=he(),s=[{key:"access",label:a("Site.Config.index_5"),component:ys},{key:"deny",label:a("Site.Config.index_14"),component:$s},{key:"hotlink",label:a("Site.Config.index_24"),component:Os}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",ze(()=>{var e;null==(e=n.value)||e.init()})}}),(e,t)=>{const a=Na;return Se(),qe(a,{value:$e(i),"onUpdate:value":t[0]||(t[0]=e=>Ie(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),Bs=xe({__name:"index",setup(e,{expose:t}){const{data:l}=Ti(),i=he("None"),{loading:n,setLoading:s}=N(),o=async()=>{try{s(!0);const{message:e}=await Ua({siteName:l.name});a(e)&&(i.value=k(e.result)?e.result:"None")}finally{s(!1)}};return o(),t({init:o}),(e,t)=>{const a=Xa,l=S;return Se(),qe(l,{class:"h-560px",show:$e(n)},{default:Le(()=>[fe(a,{log:$e(i)},null,8,["log"])]),_:1},8,["show"])}}}),js=xe({__name:"index",setup(e,{expose:t}){const{data:l}=Ti(),i=he("None"),{loading:n,setLoading:s}=N(),o=async()=>{try{s(!0);const{message:e}=await Wa({siteName:l.name});a(e)&&(i.value=k(e.result)?e.result:"None")}finally{s(!1)}};return o(),t({init:o}),(e,t)=>{const a=Xa,l=S;return Se(),qe(l,{class:"h-560px",show:$e(n)},{default:Le(()=>[fe(a,{log:$e(i)},null,8,["log"])]),_:1},8,["show"])}}}),Ms=xe({__name:"logs",props:{data:{}},setup(e){const t=e,{type:l,path:i}=t.data,n=he(""),{loading:s,setLoading:o}=N();return(async()=>{try{o(!0);const{message:e}=await Ta({type:l,path:i});a(e)&&(n.value=e.result)}finally{o(!1)}})(),(e,t)=>{const a=Xa,l=S;return Se(),qe(l,{class:"w-650px h-550px bg-#282C34",show:$e(s)},{default:Le(()=>[fe(a,{log:$e(n)},null,8,["log"])]),_:1},8,["show"])}}}),Is={class:"text-error"},Ds={class:"w-400px p-20px"},As={class:"mb-16px"},Ns=xe({__name:"index",setup(e,{expose:t}){const l=ol(),{t:i}=Te(),{data:n}=Ti(),s=ve(()=>{let e="";switch(l.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return"/www/wwwlogs/".concat(n.name).concat(e)}),o=ve(()=>{const e=s.value.split("/");return e[e.length-1]}),r=()=>{A({title:i("Site.Config.index_104"),content:"".concat(i("Site.Config.index_105")," [").concat(o.value,"] ").concat(i("Site.Config.index_106")),onConfirm:async({hide:e})=>{await Ea({path:s.value}),e(),c()}})},d=he(!1),u=he(0),c=async()=>{d.value=!0,p()},p=(e=0)=>{let t=setTimeout(async()=>{const{message:e}=await Oa({path:s.value});a(e)&&(u.value=e.result,u.value>=100?(h.success(i("Site.Config.index_107")),d.value=!1,u.value=0,g(),clearTimeout(t)):p(1e3))},e)},m=e=>{O({title:"[".concat(e,"] ").concat(i("Site.Config.index_103")),data:{type:e,path:s.value},component:Ms})},{table:v,columns:w}=D([{key:"start_time",title:i("Site.Cert.index_68")},{key:"time",title:i("Site.DelSite.index_6"),render:e=>"".concat(e.time.substring(0,4)," s")},{key:"xss",title:i("Site.TableRow.index_4"),render:e=>e.xss>0?fe("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:i("Site.TableRow.index_5"),render:e=>e.sql>0?fe("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:i("Site.TableRow.index_6"),render:e=>e.san>0?fe("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:i("Site.TableRow.index_27"),render:e=>e.php>0?fe("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:i("Site.TableRow.index_7"),render:e=>e.ip>0?fe(_,{onClick:()=>{m("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:i("Site.TableRow.index_8"),render:e=>e.url>0?fe(_,{onClick:()=>{m("url")}},{default:()=>[e.url]}):e.url}]),{loading:f,setLoading:x}=N(),g=async()=>{try{x(!0);const{message:e}=await qa({path:s.value});a(e)&&(v.data=[e])}finally{x(!1)}},y=()=>{g()};return y(),t({init:y}),(e,t)=>{const a=at,l=H,i=W,n=z,s=rt,o=U;return Se(),be("div",null,[fe(i,null,{toolsLeft:Le(()=>[fe(a,{type:"primary",onClick:r},{default:Le(()=>[Re(Ue(e.$t("Site.Config.index_104")),1)]),_:1})]),table:Le(()=>[fe(l,{loading:$e(f),"loading-num":1,data:$e(v).data,columns:$e(w)},null,8,["loading","data","columns"])]),_:1}),fe(n,{class:"mt-16px"},{default:Le(()=>[Pe("li",null,[Re(Ue(e.$t("Site.Config.index_108"))+" ",1),Pe("span",Is,Ue(e.$t("Site.Config.index_109")),1)]),Pe("li",null,Ue(e.$t("Site.Config.index_110")),1),Pe("li",null,Ue(e.$t("Site.Config.index_111")),1),Pe("li",null,Ue(e.$t("Site.Config.index_112")),1),Pe("li",null,[fe(_,{href:"https://www.aapanel.com/forum/d/3351-nginx-waf-instructions",target:"_blank"},{default:Le(()=>[Re(Ue(e.$t("Site.Config.index_113")),1)]),_:1}),Re(" "+Ue(e.$t("Site.Config.index_114")),1)])]),_:1}),fe(o,{show:$e(d),"onUpdate:show":t[0]||(t[0]=e=>Ie(d)?d.value=e:null)},{default:Le(()=>[Pe("div",Ds,[Pe("div",As,Ue(e.$t("Site.Config.index_115")),1),fe(s,{type:"line",status:"success",height:24,percentage:$e(u),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])]),_:1},8,["show"])])}}}),Hs={class:"text-right mt-10px color-#333"},zs=xe({__name:"index",setup(e,{expose:t}){const{data:i}=Ti(),n=he("None"),s=De({lines:50,total:0}),{loading:o,setLoading:r}=N(),d=async()=>{await u()},u=async()=>{try{r(!0);const{message:e}=await(e=>l.post("/site?action=get_wp_debug_log",e))({set_id:i.id,lines:s.lines});a(e)&&(n.value=e.last_lines.join("\n"),s.total=e.total)}finally{r(!1)}};return u(),t({init:u}),(e,t)=>{const a=at,l=z,i=nt,r=Xa,u=yt,c=bt,p=S;return Se(),qe(p,{class:"h-530px",show:$e(o)},{default:Le(()=>[fe(i,{class:"items-center! mb-10px flex-nowrap!"},{default:Le(()=>[fe(a,{type:"primary",onClick:d},{default:Le(()=>[Re(Ue(e.$t("Public.Btn.Refresh")),1)]),_:1}),fe(l,null,{default:Le(()=>t[1]||(t[1]=[Pe("li",null,"WP debug logs are obtained by default from/wp-content/debug.log, do not change the log path.",-1),Pe("li",null,"Note: that debug logging can be enabled in the WordPress Setting Utils tab.",-1)])),_:1,__:[1]})]),_:1}),fe(r,{log:$e(n)},null,8,["log"]),Pe("div",Hs,[t[4]||(t[4]=Pe("span",null,"Last",-1)),fe(c,{value:$e(s).lines,"onUpdate:value":[t[0]||(t[0]=e=>$e(s).lines=e),d],class:"px-5px"},{default:Le(()=>[fe(u,{value:50},{default:Le(()=>t[2]||(t[2]=[Re(" 50 ",-1)])),_:1,__:[2]}),fe(u,{value:100},{default:Le(()=>t[3]||(t[3]=[Re(" 100 ",-1)])),_:1,__:[3]}),fe(u,{value:""},{default:Le(()=>[Re(Ue(e.$t("Public.All")),1)]),_:1})]),_:1},8,["value"]),Re(" "+Ue(e.$t("Home.index_57"))+" "+Ue($e(s).total),1)])]),_:1},8,["show"])}}}),Vs=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{config:l}=Ti(),i=he("access"),n=he(),s=[{key:"access",label:a("Site.Config.index_100"),component:Bs},{key:"error",label:a("Site.Config.index_101"),component:js},{key:"security",label:a("Site.Config.index_102"),component:Ns},{key:"debug",label:"Debug Log",component:zs}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",ze(()=>{var e;null==(e=n.value)||e.init()})}}),(e,t)=>{const a=Na;return Se(),qe(a,{value:$e(i),"onUpdate:value":t[0]||(t[0]=e=>Ie(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),Fs={class:"cert-info"},Ks={class:"cert-label"},Js={class:"cert-value"},Gs={class:"cert-info"},Xs={class:"cert-label"},Qs={class:"cert-value"},Ys={class:"cert-info"},Zs={class:"cert-label"},eo={class:"cert-value"},to={class:"cert-info"},ao={class:"cert-label"},lo={class:"cert-value"},io={key:0,class:"text-primary"},no={key:1,class:"text-error"},so={class:"cert-info"},oo={class:"cert-label"},ro={class:"cert-value"},uo={class:"w-48%"},co={class:"mb-8px"},po={class:"w-48%"},_o={class:"mb-8px"},mo=d(xe({__name:"index",props:{info:{default:null},isRenew:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{expose:t,emit:l}){const i=we(()=>n(()=>import("./ssl-log.js?v=1758789124250"),__vite__mapDeps([61,43,3,1,2,4,5,6,7,8,44]))),s=e,o=l,{t:r}=Te(),{data:d}=Ti(),u=K(r("SSL.index_43")),c=ol(),p=he(-1),m=he(!1),v=he(!1),w=he(""),f=he("");let x="";const g=he("");let y="";const b=he({issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),k=ve(()=>p.value===al.LetsEncryptDeploy?r("Site.Cert.index_65"):p.value===al.BusinessDeploy?r("Site.Cert.index_64"):p.value===al.TestDeploy?r("Site.Cert.index_38"):r("Site.Cert.index_37")),P=ve(()=>!!g.value),$=ve(()=>s.isRenew||p.value===al.LetsEncryptDeploy),L=ve(()=>!1),R=ve(()=>m.value),W=async e=>{e?(await Ya({siteName:d.name}),o("refresh")):A({title:r("Site.Cert.index_12"),content:r("Site.Cert.index_13"),onConfirm:async()=>{await Qa({siteName:d.name}),o("refresh")},onPublicClose:()=>{v.value=!0}})},T=()=>{""!==f.value.trim()&&""!==g.value.trim()?f.value!==x&&x||g.value!==y&&y?A({title:r("Site.Cert.index_10"),content:r("Site.Cert.index_11"),onConfirm:async()=>{await E()}}):E():h.error(r("Site.Cert.index_9"))},E=async()=>{const{message:e}=await G({key:f.value,cert:g.value});a(e)&&e.hash&&(await X({hash:e.hash,domains:JSON.stringify([d.name]),append:1}),h.success(r("SSL.index_32"))),B()},O=async()=>{var e;const{message:t}=await Q({hash:(null==(e=s.info)?void 0:e.hash)||""});a(t)&&(u.data.path=t.result,u.show=!0)},q=async()=>{await Za({updateOf:1,siteName:d.name}),B()},B=()=>{o("refresh"),c.setRefresh(!0)};return Ke(()=>{const{info:e}=s;e&&(p.value=e.type,m.value=e.status,v.value=e.httpTohttps,f.value=e.key||"",x=e.key||"",g.value=e.csr||"",y=e.csr||"",b.value=e.cert_data,w.value=e.index)}),t({init:o("refresh")}),(e,t)=>{const a=_,l=St,n=ot,s=pt,o=C,r=mt,d=Aa,c=nt,p=at,h=z,w=U,x=S;return Se(),qe(x,{show:e.loading},{default:Le(()=>[$e(P)?(Se(),qe(r,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:Le(()=>[fe(o,{"x-gap":12,cols:"15"},{default:Le(()=>[fe(l,{span:"8"},{default:Le(()=>[Pe("div",Fs,[Pe("div",Ks,Ue(e.$t("Site.Cert.index_44"))+Ue(e.$t("Public.Punctuation.Colon")),1),Pe("div",Js,[fe(a,null,{default:Le(()=>[Re(Ue($e(k)),1)]),_:1})])])]),_:1}),fe(l,{span:"7"},{default:Le(()=>[Pe("div",Gs,[Pe("div",Xs,Ue(e.$t("Site.Cert.index_45"))+Ue(e.$t("Public.Punctuation.Colon")),1),Pe("div",Qs,[fe(n,null,{default:Le(()=>[Re(Ue($e(b).issuer||"other"),1)]),_:1})])])]),_:1}),fe(l,{span:"8"},{default:Le(()=>[Pe("div",Ys,[Pe("div",Zs,Ue(e.$t("Site.Cert.index_46"))+Ue(e.$t("Public.Punctuation.Colon")),1),Pe("div",eo,[fe(n,null,{default:Le(()=>[Re(Ue($e(b).dns.join(e.$t("Public.Punctuation.Comma"))),1)]),_:1})])])]),_:1}),fe(l,{span:"7"},{default:Le(()=>[Pe("div",to,[Pe("div",ao,Ue(e.$t("Site.Cert.index_47"))+Ue(e.$t("Public.Punctuation.Colon")),1),Pe("div",lo,[$e(b).endtime>0?(Se(),be("span",io,Ue(e.$t("Site.Cert.index_48",{date:$e(b).notAfter,days:$e(b).endtime})),1)):(Se(),be("span",no,Ue(e.$t("Site.Cert.index_47")),1))])])]),_:1}),fe(l,{span:"8"},{default:Le(()=>[Pe("div",so,[Pe("div",oo,Ue(e.$t("Site.Cert.index_49"))+Ue(e.$t("Public.Punctuation.Colon")),1),Pe("div",ro,[fe(s,{value:$e(v),"onUpdate:value":[t[0]||(t[0]=e=>Ie(v)?v.value=e:null),W],size:"small"},null,8,["value"])])])]),_:1})]),_:1})]),_:1})):Ae("",!0),fe(c,{class:"mb-16px",size:10,justify:"space-between"},{default:Le(()=>[Pe("div",uo,[Pe("div",co,Ue(e.$t("Site.Cert.index_50")),1),fe(d,{value:$e(f),"onUpdate:value":t[1]||(t[1]=e=>Ie(f)?f.value=e:null),rows:10},null,8,["value"])]),Pe("div",po,[Pe("div",_o,Ue(e.$t("Site.Cert.index_51")),1),fe(d,{value:$e(g),"onUpdate:value":t[2]||(t[2]=e=>Ie(g)?g.value=e:null),rows:10},null,8,["value"])])]),_:1}),fe(c,{class:"mb-12px"},{default:Le(()=>[fe(p,{type:"primary",onClick:T},{default:Le(()=>[Re(Ue($e(m)?e.$t("Public.Btn.Save"):e.$t("Site.Cert.index_52")),1)]),_:1}),$e($)?(Se(),qe(p,{key:0,type:"primary",onClick:O},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_53")),1)]),_:1})):Ae("",!0),$e(L)?(Se(),qe(p,{key:1},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_54")),1)]),_:1})):Ae("",!0),$e(R)?(Se(),qe(p,{key:2,onClick:q},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_55")),1)]),_:1})):Ae("",!0)]),_:1}),fe(h,null,{default:Le(()=>[Pe("li",null,Ue(e.$t("Site.Cert.index_33")),1),Pe("li",null,Ue(e.$t("Site.Cert.index_34")),1),Pe("li",null,Ue(e.$t("Site.Cert.index_35")),1),Pe("li",null,Ue(e.$t("Site.Cert.index_36")),1)]),_:1}),fe(w,{show:$e(u).show,"onUpdate:show":t[3]||(t[3]=e=>$e(u).show=e),title:$e(u).title,data:$e(u).data,width:650,"min-height":450,component:$e(i)},null,8,["show","title","data","component"])]),_:1},8,["show"])}}}),[["__scopeId","data-v-3478f44d"]]),ho={class:"business-top-tips flex flex-wrap border-#d6e9c6 border-1px rounded-5px p-12px"},vo={class:"text-#3c763d w-100%"},wo=d(xe({__name:"top-tips",setup(e){const{t:t}=Te(),a=[t("SSL.SiteSSL.index_5"),t("SSL.SiteSSL.index_6"),t("SSL.SiteSSL.index_7"),t("SSL.SiteSSL.index_8"),t("SSL.SiteSSL.index_9"),t("SSL.SiteSSL.index_10"),t("SSL.SiteSSL.index_11")];return(e,t)=>{const l=r,i=nt;return Se(),be("div",ho,[(Se(),be(ge,null,Be(a,(e,t)=>fe(i,{size:5,key:e,class:We(["flex-nowrap! leading-20px",{"w-33%":t!==a.length-1}])},{default:Le(()=>[fe(l,{name:"base-tick",size:16,color:"#ff8d00"}),Pe("span",vo,Ue(e),1)]),_:2},1032,["class"])),64))])}}}),[["__scopeId","data-v-c4bf96b6"]]),fo={class:"my-10px"},xo=xe({__name:"table",setup(e){const t=we(()=>n(()=>import("./index213.js?v=1758789124250"),__vite__mapDeps([63,11,1,2,5,6,3,4,8,7,12,32,18,64]))),l=we(()=>n(()=>import("./index214.js?v=1758789124250"),__vite__mapDeps([65,26,1,2,4,5,3,6,7,8,27,66]))),i=we(()=>n(()=>import("./domain-verification.js?v=1758789124250"),__vite__mapDeps([67,3,1,2,4,5,6,7,8,32]))),s=o(),{userInfo:r}=Ee(s),d=P(),{t:u}=Te(),c=De({p:1,limit:9999}),p=K(u("SSL.Business.index_41"),{onRefresh:(e,t)=>{h.data.request=!0,h.data.uc_id=t,h.data.verify=e,h.show=!0,x()}}),_=K(u("SSL.index_44")),m=K(u("SSL.index_49"),{onRefresh:()=>{x(),d.setRefresh(!0)}}),h=K(u("SSL.Business.index_42"),{onRefresh:()=>{x()}}),{table:v,columns:w}=D([{key:"verify_domains",title:u("Layout.Sider.mail_3"),render:e=>fe("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:u("Site.Cert.index_44"),render:e=>e.order_info.title,ellipsis:{tooltip:!0}},ll({title:u("SSL.index_54")}),{key:"order_status",title:u("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?fe("span",{class:"color-warning"},[Re(" "),u("SSL.Business.index_45"),Re(" ")]):"PENDING"===t.order_status&&1===t.status?fe("span",{class:"color-warning"},[Re(" "),u("SSL.Business.index_46"),Re(" ")]):"COMPLETE"===t.order_status&&1===t.status?fe("span",{class:"color-#20a53a"},[Re(" "),u("SSL.Business.index_47"),Re(" ")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?fe("span",{class:"color-warning"},[Re(" "),u("SSL.Business.index_48"),Re(" ")]):"FAILED"===t.order_status&&1===t.status?fe("span",{class:"color-error"},[Re(" "),u("SSL.Business.index_49"),Re(" ")]):"EXPIRED"===t.order_status&&1===t.status?fe("span",{class:"color-warning"},[Re(" "),u("SSL.Business.index_50"),Re(" ")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?fe("span",{class:"color-warning"},[Re(" "),u("SSL.Business.index_52"),Re(" ")]):void 0:fe("span",{class:"color-warning"},[Re(" "),u("SSL.Business.index_51"),Re(" ")]):fe("span",{class:"color-warning cursor-pointer",onClick:()=>f(e)},[" ",u("SSL.Business.index_44")," "])}},V({width:140,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:u("SSL.Business.index_53"),onClick:()=>{f(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:u("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await Y({uc_id:e.order_info.uc_id});a(t)&&(h.data.uc_id=e.order_info.uc_id,h.data.verify=t.data,h.data.paths=t.paths,h.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:u("SSL.index_58"),onClick:async()=>{m.data.row=e,m.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:u("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:u("Public.Btn.Del"),onClick:()=>{A({title:u("SSL.index_59"),content:u("SSL.index_60"),onConfirm:async()=>{await Z({hash:e.hash}),x()}})}}]})]),f=e=>{p.data.row=e,p.show=!0},x=async()=>{try{v.loading=!0;const{message:e}=await ee(c);a(e)&&(v.data=e.data,v.total=e.total)}finally{v.loading=!1}};return r.value.status&&x(),(e,a)=>{const n=at,s=H,o=W,d=U,c=L;return Se(),be("div",fo,[fe(c,{install:$e(r).status},{desc:Le(()=>[a[5]||(a[5]=Pe("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),fe(n,{type:"primary",onClick:$e(te)},{default:Le(()=>[Re(Ue(e.$t("Login.index_3")),1)]),_:1},8,["onClick"])]),default:Le(()=>[fe(o,null,{toolsLeft:Le(()=>[fe(n,{type:"primary",onClick:a[0]||(a[0]=e=>$e(_).show=!0)},{default:Le(()=>[Re(Ue($e(u)("SSL.index_44")),1)]),_:1})]),table:Le(()=>[fe(s,{loading:$e(v).loading,data:$e(v).data,columns:$e(w),"max-height":220},null,8,["loading","data","columns"])]),_:1}),fe(d,{show:$e(_).show,"onUpdate:show":a[1]||(a[1]=e=>$e(_).show=e),title:$e(_).title,data:$e(_).data,"min-height":250,component:il},null,8,["show","title","data"]),fe(d,{show:$e(p).show,"onUpdate:show":a[2]||(a[2]=e=>$e(p).show=e),title:$e(p).title,data:$e(p).data,width:650,"min-height":450,component:$e(t)},null,8,["show","title","data","component"]),fe(d,{show:$e(m).show,"onUpdate:show":a[3]||(a[3]=e=>$e(m).show=e),title:$e(m).title,data:$e(m).data,width:720,height:530,component:$e(l)},null,8,["show","title","data","component"]),fe(d,{show:$e(h).show,"onUpdate:show":a[4]||(a[4]=e=>$e(h).show=e),title:$e(h).title,data:$e(h).data,width:650,"min-height":450,component:$e(i)},null,8,["show","title","data","component"])]),_:1},8,["install"])])}}}),go={class:"text-error"};const yo=d({},[["render",function(e,t){const a=_,l=z;return Se(),qe(l,null,{default:Le(()=>[Pe("li",go,Ue(e.$t("SSL.SiteSSL.index_1")),1),Pe("li",null,Ue(e.$t("SSL.SiteSSL.index_2")),1),Pe("li",null,Ue(e.$t("SSL.SiteSSL.index_3")),1),Pe("li",null,[Re(Ue(e.$t("SSL.SiteSSL.index_4"))+" ",1),fe(a,{href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html",target:"_blank"},{default:Le(()=>[Re(Ue(e.$t("SSL.Business.index_20")),1)]),_:1})])]),_:1})}]]),bo=xe({__name:"index",setup:e=>(e,t)=>(Se(),be("div",null,[fe(wo),fe(xo),fe(yo)]))}),So={class:"cert-info"},ko={class:"cert-label"},Co={class:"cert-value"},Po={class:"cert-info"},$o={class:"cert-label"},Lo={class:"cert-value"},Ro={class:"cert-info"},Uo={class:"cert-label"},Wo={class:"cert-value"},To={class:"cert-info"},Eo={class:"cert-label"},Oo={class:"cert-value"},qo={key:0,class:"text-primary"},Bo={key:1,class:"text-error"},jo={class:"w-48%"},Mo={class:"mb-8px"},Io={class:"w-48%"},Do={class:"mb-8px"},Ao=d(xe({__name:"cert",emits:["update"],setup(e,{emit:t}){const l=we(()=>n(()=>import("./ssl-log.js?v=1758789124250"),__vite__mapDeps([61,43,3,1,2,4,5,6,7,8,44]))),i=t,{t:s}=Te(),{data:o}=Ti(),r=K(s("SSL.index_43")),d=ol(),u=he(!1),c=he(1),p=he(""),_=he(""),m=De({hash:"",issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),h=async()=>{const{message:e}=await Q({hash:m.hash});a(e)&&(r.data.path=e.result,r.show=!0)},v=async()=>{await Za({updateOf:1,siteName:o.name}),i("update"),d.setRefresh(!0)},{loading:w,setLoading:f}=N();return(async()=>{try{f(!0);const{message:e}=await el({siteName:o.name});a(e)&&(u.value=e.status,m.hash=e.hash,m.issuer=e.cert_data.issuer,m.notAfter=e.cert_data.notAfter,m.notBefore=e.cert_data.notBefore,m.dns=e.cert_data.dns,m.subject=e.cert_data.subject,m.endtime=e.cert_data.endtime,p.value=e.key,_.value=e.csr,c.value=e.auto_renew)}finally{f(!1)}})(),(e,t)=>{const a=St,i=ot,n=C,s=mt,o=Aa,d=nt,u=at,f=z,x=U,g=S;return Se(),qe(g,{show:$e(w)},{default:Le(()=>[fe(s,{class:"mb-16px",type:"success","show-icon":!1},{default:Le(()=>[fe(n,{"x-gap":12,cols:"15"},{default:Le(()=>[$e(c)?(Se(),qe(a,{key:0,span:"16"},{default:Le(()=>[Pe("div",So,[Pe("div",ko,Ue(e.$t("SSL.SiteSSL.index_22"))+"： ",1),Pe("div",Co,Ue(e.$t("SSL.SiteSSL.index_23")),1)])]),_:1})):Ae("",!0),fe(a,{span:"7"},{default:Le(()=>[Pe("div",Po,[Pe("div",$o,Ue(e.$t("Site.Cert.index_45"))+"： ",1),Pe("div",Lo,[fe(i,null,{default:Le(()=>[Re(Ue($e(m).issuer),1)]),_:1})])])]),_:1}),fe(a,{span:"8"},{default:Le(()=>[Pe("div",Ro,[Pe("div",Uo,Ue(e.$t("Site.Cert.index_46"))+"： ",1),Pe("div",Wo,[fe(i,null,{default:Le(()=>[Re(Ue($e(m).dns.join(e.$t("Public.Punctuation.Comma"))),1)]),_:1})])])]),_:1}),fe(a,{span:"7"},{default:Le(()=>[Pe("div",To,[Pe("div",Eo,Ue(e.$t("Site.Cert.index_47"))+Ue(e.$t("Public.Punctuation.Colon")),1),Pe("div",Oo,[$e(m).endtime>0?(Se(),be("span",qo,Ue(e.$t("Site.Cert.index_48",{date:$e(m).notAfter,days:$e(m).endtime})),1)):(Se(),be("span",Bo,Ue(e.$t("Site.Cert.index_47")),1))])])]),_:1})]),_:1})]),_:1}),fe(d,{class:"mb-16px",size:10,justify:"space-between"},{default:Le(()=>[Pe("div",jo,[Pe("div",Mo,Ue(e.$t("Site.Cert.index_50")),1),fe(o,{readonly:"",value:$e(p),"onUpdate:value":t[0]||(t[0]=e=>Ie(p)?p.value=e:null),rows:14},null,8,["value"])]),Pe("div",Io,[Pe("div",Do,Ue(e.$t("Site.Cert.index_51")),1),fe(o,{readonly:"",value:$e(_),"onUpdate:value":t[1]||(t[1]=e=>Ie(_)?_.value=e:null),rows:14},null,8,["value"])])]),_:1}),fe(d,{class:"mb-12px"},{default:Le(()=>[fe(u,{type:"primary",onClick:h},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_53")),1)]),_:1}),fe(u,{onClick:v},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_55")),1)]),_:1})]),_:1}),fe(f,null,{default:Le(()=>[Pe("li",null,Ue(e.$t("SSL.SiteSSL.index_24")),1),Pe("li",null,Ue(e.$t("SSL.SiteSSL.index_25")),1)]),_:1}),fe(x,{show:$e(r).show,"onUpdate:show":t[2]||(t[2]=e=>$e(r).show=e),title:$e(r).title,data:$e(r).data,width:650,"min-height":450,component:$e(l)},null,8,["show","title","data","component"])]),_:1},8,["show"])}}}),[["__scopeId","data-v-4432c41b"]]),No={class:"flex items-center"},Ho={class:"leading-17px"},zo={class:"w-full"},Vo={class:"w-full"},Fo={class:"text-error"},Ko=xe({__name:"apply",emits:["update"],setup(e,{emit:t}){const l=Oe(),{t:i}=Te(),{data:n}=Ti(),s=ol(),o=t,d=De({auth_type:"http",dns_manual:0,auto_wildcard:0,domains:[],all:!1}),u={domains:{required:!0,trigger:"change",type:"array",message:i("SSL.SiteSSL.index_16")}},c=he(null),p=he([]),_=e=>{var t;return null==(t=p.value.find(t=>t.name===e))?void 0:t.auto},v=()=>{l.push("/ssl_domain/domain")},w=ve(()=>d.domains.length>0&&d.domains.length<p.value.length);Je(()=>d.domains,e=>{e.length===p.value.length?d.all=!0:e.length||(d.all=!1)}),Je(()=>d.all,e=>{var t;e?(d.domains=p.value.map(e=>e.name),null==(t=c.value)||t.validate()):d.domains=[]}),Je(()=>d.auth_type,e=>{var t;"dns"===e?(d.domains=p.value.filter(e=>e.auto).map(e=>e.name),null==(t=c.value)||t.validate()):d.domains=[]});const f=ve(()=>d.domains.filter(e=>!_(e))),g=async()=>{var e;if(await(null==(e=c.value)?void 0:e.validate()),"dns"===d.auth_type&&f.value.length&&!d.dns_manual)return void h.error({content:()=>Ge("span",{innerHTML:"".concat(f.value.join("<br/>")).concat(i("SSL.SiteSSL.index_14"))})});let t={auth_type:d.dns_manual?"dns_manual":d.auth_type,auto_wildcard:d.auto_wildcard,domains:JSON.stringify(d.domains),site_id:d.dns_manual?n.id:void 0,deploy:d.dns_manual?0:1};if(d.dns_manual&&"dns"===d.auth_type){const{message:e}=await ae({site_id:n.id,domains:JSON.stringify(d.domains)});if(a(e)&&Object.keys(e).length)return void le(e.auths,n.id,d.domains,()=>{o("update"),s.setRefresh(!0)},!0);const l=O({width:500,height:300,hideClose:!0,component:ie});try{const{message:e}=await ne(t,!1);a(e)&&(e.deploy?(h.success(e.result||i("SSL.index_32")),o("update"),s.setRefresh(!0)):Array.isArray(e.auths)&&e.auths.length&&le(e.auths,n.id,d.domains,()=>{o("update"),s.setRefresh(!0)}))}catch(r){se(et(r,"message",""))}finally{l.hide()}return}const{message:l}=await ne(t);a(l)&&O({hideClose:!0,data:{isJump:!1,task_id:l.task_id,onFinish:()=>{o("update"),s.setRefresh(!0)}},component:nl})},{loading:y,setLoading:b}=N();return Ne(()=>{(async()=>{try{b(!0);const{message:e}=await Nt({id:n.id});if(m(e)){const t=e.map(async e=>{const{message:t}=await oe({domain:e.name});a(t)&&p.value.push({name:e.name,auto:!!t.hash})});await Promise.all(t)}}finally{b(!1)}})()}),(e,t)=>{const a=r,l=mt,i=kt,n=x,s=bt,o=ut,m=ft,h=nt,b=xt,k=Ct,C=S,P=at,$=Ha,L=z;return Se(),be("div",null,[ke(fe(l,{"show-icon":!1,class:"mb-10px"},{default:Le(()=>[Pe("div",No,[fe(a,{name:"base-info",size:"17",class:"mr-8px"}),Pe("span",Ho,Ue(e.$t("SSL.SiteSSL.index_12")),1)])]),_:1},512),[[Ce,"dns"===$e(d).auth_type]]),fe($,{ref_key:"formRef",ref:c,model:$e(d),rules:u,"label-width":"140"},{default:Le(()=>[fe(o,{label:e.$t("Config.Safe.Ssl.index_2")},{default:Le(()=>[fe(s,{value:$e(d).auth_type,"onUpdate:value":t[0]||(t[0]=e=>$e(d).auth_type=e)},{default:Le(()=>[fe(n,null,{default:Le(()=>[fe(i,{value:"http"},{default:Le(()=>[Re(Ue(e.$t("SSL.SiteSSL.index_17")),1)]),_:1}),fe(i,{value:"dns"},{default:Le(()=>[Re(Ue(e.$t("SSL.index_12"))+" (Wildcard support) ",1)]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),ke(fe(o,{label:" ","show-feedback":!1},{default:Le(()=>[fe(m,{checked:$e(d).dns_manual,"onUpdate:checked":t[1]||(t[1]=e=>$e(d).dns_manual=e),"checked-value":1,"unchecked-value":0},{default:Le(()=>[Re(Ue(e.$t("SSL.index_2")),1)]),_:1},8,["checked"])]),_:1},512),[[Ce,"dns"===$e(d).auth_type]]),ke(fe(o,{label:" "},{default:Le(()=>[fe(m,{checked:$e(d).auto_wildcard,"onUpdate:checked":t[2]||(t[2]=e=>$e(d).auto_wildcard=e),"checked-value":1,"unchecked-value":0},{default:Le(()=>[Re(Ue(e.$t("SSL.SiteSSL.index_20")),1)]),_:1},8,["checked"])]),_:1},512),[[Ce,"dns"===$e(d).auth_type]]),fe(o,{label:e.$t("Mail.Domain.index_3"),path:"domains"},{default:Le(()=>[fe(C,{show:$e(y),class:"p-12px w-300px max-h-300px min-h-100px overflow-auto border border-solid border-#ccc"},{default:Le(()=>[fe(m,{class:"mb-12px",checked:$e(d).all,"onUpdate:checked":t[3]||(t[3]=e=>$e(d).all=e),label:e.$t("Public.SelectAll"),indeterminate:$e(w)},null,8,["checked","label","indeterminate"]),$e(p).length?(Se(),qe(b,{key:0,value:$e(d).domains,"onUpdate:value":t[4]||(t[4]=e=>$e(d).domains=e)},{default:Le(()=>[fe(h,{class:"flex-col!",size:12},{default:Le(()=>[(Se(!0),be(ge,null,Be($e(p),e=>(Se(),qe(m,{key:e.name,value:e.name,label:e.name},null,8,["value","label"]))),128))]),_:1})]),_:1},8,["value"])):(Se(),qe(k,{key:1,description:"No domain name"}))]),_:1},8,["show"])]),_:1},8,["label"]),ke(fe(o,{label:" "},{default:Le(()=>[fe(l,{"show-icon":!1,type:$e(f).length?"warning":"success"},{default:Le(()=>[(Se(!0),be(ge,null,Be($e(d).domains,t=>(Se(),qe(h,{key:t},{default:Le(()=>[_(t)?(Se(),qe(h,{key:0,class:"flex-nowrap! py-3px"},{default:Le(()=>[fe(a,{name:"base-success",size:"17",color:"#20a53a"}),Pe("span",zo,"["+Ue(t)+"] "+Ue(e.$t("SSL.SiteSSL.index_13")),1)]),_:2},1024)):(Se(),qe(h,{key:1,class:"flex-nowrap! py-3px items-center!"},{default:Le(()=>[fe(a,{name:"base-error",size:"17",color:"#E85445"}),Pe("span",Vo,"["+Ue(t)+"] "+Ue(e.$t("SSL.SiteSSL.index_14")),1),fe(P,{type:"primary",size:"tiny",onClick:v},{default:Le(()=>[Re(Ue(e.$t("SSL.SiteSSL.index_21")),1)]),_:1})]),_:2},1024))]),_:2},1024))),128))]),_:1},8,["type"])]),_:1},512),[[Ce,"dns"===$e(d).auth_type&&$e(d).domains.length&&!$e(d).dns_manual]]),fe(o,{label:" "},{default:Le(()=>[fe(P,{type:"primary",onClick:g},{default:Le(()=>[Re(Ue(e.$t("Public.Btn.Apply")),1)]),_:1})]),_:1})]),_:1},8,["model"]),ke(fe(L,{class:"mt-16px"},{default:Le(()=>[Pe("li",Fo,Ue(e.$t("SSL.SiteSSL.index_15")),1),Pe("li",null,Ue(e.$t("Site.Cert.index_21")),1),Pe("li",null,Ue(e.$t("Site.Cert.index_23")),1),Pe("li",null,Ue(e.$t("Site.Cert.index_24")),1)]),_:1},512),[[Ce,"http"===$e(d).auth_type]]),ke(fe(L,{class:"mt-24px"},{default:Le(()=>[t[5]||(t[5]=Pe("li",null,"Manually resolved certificates do not support auto-renewal",-1)),Pe("li",null,Ue(e.$t("Site.Cert.index_25")),1),Pe("li",null,Ue(e.$t("Site.Cert.index_26")),1),Pe("li",null,Ue(e.$t("Site.Cert.index_27")),1),Pe("li",null,Ue(e.$t("Site.Cert.index_28")),1)]),_:1,__:[5]},512),[[Ce,"dns"===$e(d).auth_type]])])}}}),Jo=xe({__name:"index",props:{isOpen:{type:Boolean},type:{},onRefresh:{type:Function}},setup(e){const t=e,a=()=>{t.onRefresh()};return(e,l)=>(Se(),be("div",null,[t.isOpen&&"Let's Encrypt"===t.type?(Se(),qe(Ao,{key:0,onUpdate:a})):(Se(),qe(Ko,{key:1,onUpdate:a}))]))}}),Go=xe({__name:"index",props:{onMenuChange:{type:Function}},setup(e,{expose:t}){const{data:l}=Ti(),{t:i}=Te(),n=De({p:1,limit:99999}),{columns:s,table:o}=D([{key:"domain",title:i("Site.Cert.index_29"),render:e=>fe("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},ll({title:i("SSL.index_54"),width:140}),{key:"issuer",title:i("Site.Cert.index_30"),ellipsis:{tooltip:!0}},V({width:150,options:t=>[{label:i("Public.Btn.Deploy"),onClick:async()=>{try{await X({hash:t.hash,domains:JSON.stringify([l.name]),append:1}),h.success(i("SSL.index_32")),setTimeout(()=>{e.onMenuChange()},500)}catch(a){console.log(a)}}},{show:"Let's Encrypt"===t.provider,label:i("Public.Btn.Del"),onClick:()=>{(e=>{re({title:i("Site.Cert.index_31"),content:i("Site.Cert.index_32"),onConfirm:async()=>{await Z({hash:e.hash}),u()}})})(t)}}]})]),{loading:r,setLoading:d}=N(!0),u=async()=>{try{d(!0);const{message:e}=await de(n);a(e)&&(o.data=e.data)}finally{d(!1)}};return u(),t({init:u}),(e,t)=>{const a=H;return Se(),be("div",null,[fe(a,{loading:$e(r),columns:$e(s),data:$e(o).data,"max-height":510},null,8,["loading","columns","data"])])}}}),Xo={class:"mr-12px"},Qo={key:0,class:"mr-12px"},Yo={key:1,class:"mr-12px"},Zo=xe({__name:"index",setup(e,{expose:t}){const l=we(()=>n(()=>import("./ssl-log.js?v=1758789124250"),__vite__mapDeps([61,43,3,1,2,4,5,6,7,8,44]))),i=ol(),{data:s}=Ti(),{t:o}=Te(),r=he("current"),d=he(""),u=K(o("SSL.index_43")),c=he(al.NotDeploy),p=he(""),_=he(!1),m=he(0),h=he(!1),v=he(""),w=async()=>{const{message:e}=await Q({hash:d.value});a(e)&&(u.data.path=e.result,u.show=!0)},f=e=>{g.value[0].data&&(g.value[0].data.loading=e)},x=async()=>{try{f(!0);const{message:l}=await tl({siteName:s.name});a(l)&&(c.value=l.type,_.value=l.status,m.value=et(l,"cert_data.endtime",0),v.value=l.cert_data.issuer_O,h.value=(()=>{let e=!1;return m.value<=30&&(e=!0),c.value===al.TestDeploy&&m.value<0&&(e=!0),c.value!==al.SaveOrHolderDeploy&&c.value!==al.NotDeploy||(e=!1),e})(),p.value=l.cert_data.dns.join(","),d.value=l.hash,t=l,g.value[0].data&&(g.value[0].data.info=t),e=h.value,g.value[0].data&&(g.value[0].data.isRenew=e))}catch(l){_.value=!1,h.value=!1}finally{f(!1)}var e,t},g=he([{key:"current",label:()=>fe("div",null,[fe("span",null,[Re("Current Certs - ")]),fe("span",{class:_.value?"text-#1d9534":"text-red-500"},[Re("["),_.value?"Deployed":"Not Deployed",Re("]")])]),data:{info:null,isRenew:!1,loading:!0,onRefresh:x},component:Xe(mo)},{key:"business",label:o("Site.Cert.index_64"),component:Xe(bo)},{key:"let",label:o("Site.Cert.index_65"),data:{isOpen:ve(()=>_.value),type:ve(()=>v.value),onRefresh:x},component:Xe(Jo)},{key:"holder",label:o("Site.Cert.index_66"),component:Xe(Go),data:{onMenuChange:()=>{r.value="current",x(),i.setRefresh(!0)}}}]);return t({init:()=>{x()}}),(e,t)=>{const a=at,i=mt,n=Na,s=U;return Se(),be("div",null,[$e(_)?Ae("",!0):(Se(),qe(i,{key:0,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:Le(()=>[Pe("span",Xo,Ue(e.$t("Site.Cert.index_41")),1),fe(a,{size:"tiny",type:"primary",onClick:t[0]||(t[0]=e=>r.value="business")},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_43")),1)]),_:1})]),_:1})),$e(_)&&$e(h)?(Se(),qe(i,{key:1,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:Le(()=>[$e(m)>0?(Se(),be("span",Qo,Ue(e.$t("SSL.SiteSSL.index_26",[$e(p),$e(m)])),1)):(Se(),be("span",Yo,Ue(e.$t("SSL.SiteSSL.index_19",[$e(p)])),1)),fe(a,{size:"tiny",type:"primary",onClick:w},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_53")),1)]),_:1})]),_:1})):Ae("",!0),fe(n,{value:$e(r),"onUpdate:value":t[1]||(t[1]=e=>Ie(r)?r.value=e:null),options:$e(g)},null,8,["value","options"]),fe(s,{show:$e(u).show,"onUpdate:show":t[2]||(t[2]=e=>$e(u).show=e),title:$e(u).title,data:$e(u).data,width:650,"min-height":450,component:$e(l)},null,8,["show","title","data","component"])])}}}),er={class:"w-full ml-12px"},tr={class:"w-full ml-12px"},ar=d(xe({__name:"index",setup(e){const t=o(),i=ol(),{isPro:n}=Ee(t),{data:s}=Ti(),r=De({maintenance:!1,type:"default",maintenance_title:"",maintenance_big_text:"",maintenance_small_text:"",social_network_links:[],times:null,template_upload:"",background_upload:""}),d=()=>{r.social_network_links.push({title:"",value:""})},u=e=>{const t=s.path+"/wp-content";sl({path:t,uploadData:{multiple:!1,accept:"bg"===e?".jpg,.jpeg,.png,.gif,.svg,.webp":".html,.phtml,.php"},size:10,onUploadSuccess:a=>{"bg"===e?r.background_upload="".concat(t,"/").concat(a[0].name):r.template_upload="".concat(t,"/").concat(a[0].name)}})},c=()=>{j({source:371})},p=e=>e<Date.now()-864e5,_=async()=>{const e={set_id:s.id,...r,social_network_links:JSON.stringify(r.social_network_links),template_upload:"custom"===r.type?r.template_upload:""};var t;await(t=e,l.post("/site?action=set_wp_maintenance",t,{requestOptions:{loading:rl("Login.index_22"),successMessage:!0}})),v(),i.setRefresh(!0)},{loading:m,setLoading:h}=N(),v=async()=>{try{h(!0);const{message:t}=await(e={set_id:s.id},l.post("/site?action=get_wp_maintenance",e));a(t)&&(r.maintenance="true"===t.maintenance,r.maintenance_title=t.maintenance_title,r.maintenance_big_text=t.maintenance_big_text,r.maintenance_small_text=t.maintenance_small_text,r.social_network_links=t.social_network_links.length?t.social_network_links:[{title:"",value:""}],r.times=Number(t.times)||null,r.template_upload=t.template_upload,r.background_upload=t.background_upload,r.type=t.template_upload?"custom":"default")}finally{h(!1)}var e};return n.value&&v(),(e,t)=>{const a=at,l=pt,i=ut,s=yt,o=bt,h=_t,v=Pt,w=nt,f=$,x=za,g=Ha,y=z,b=S,k=L;return Se(),qe(k,{install:$e(n)},{desc:Le(()=>[t[11]||(t[11]=Pe("span",null,"This feature is only available for Pro",-1)),fe(a,{class:"ml-8px",onClick:c,type:"primary",size:"small"},{default:Le(()=>t[10]||(t[10]=[Re("Buy",-1)])),_:1,__:[10]})]),default:Le(()=>[fe(b,{show:$e(m),class:"pr-16px"},{default:Le(()=>[fe(g,{model:$e(r),"label-width":"150"},{default:Le(()=>[fe(i,{label:"Maintenance Mode"},{default:Le(()=>[fe(l,{value:$e(r).maintenance,"onUpdate:value":t[0]||(t[0]=e=>$e(r).maintenance=e)},null,8,["value"]),t[12]||(t[12]=Pe("span",{class:"tips"},"Enable maintenance mode to prevent users from accessing your website while it is being updated or when you are performing maintenance tasks.",-1))]),_:1,__:[12]}),fe(i,{label:"Template"},{default:Le(()=>[fe(o,{value:$e(r).type,"onUpdate:value":t[1]||(t[1]=e=>$e(r).type=e)},{default:Le(()=>[fe(s,{label:"Default",value:"default"}),fe(s,{label:"Custom",value:"custom"})]),_:1},8,["value"])]),_:1}),"default"===$e(r).type?(Se(),be(ge,{key:0},[fe(i,{label:"Browser Page Title"},{default:Le(()=>[fe(h,{value:$e(r).maintenance_title,"onUpdate:value":t[2]||(t[2]=e=>$e(r).maintenance_title=e)},null,8,["value"])]),_:1}),fe(i,{label:"Text Block 1 (Larger)"},{default:Le(()=>[fe(h,{value:$e(r).maintenance_big_text,"onUpdate:value":t[3]||(t[3]=e=>$e(r).maintenance_big_text=e),maxlength:200},null,8,["value"])]),_:1}),fe(i,{label:"Text Block 2 (Smaller)"},{default:Le(()=>[fe(h,{type:"textarea",value:$e(r).maintenance_small_text,"onUpdate:value":t[4]||(t[4]=e=>$e(r).maintenance_small_text=e),maxlength:300},null,8,["value"])]),_:1}),fe(i,{label:"Social Network Links"},{default:Le(()=>[fe(w,null,{default:Le(()=>[(Se(!0),be(ge,null,Be($e(r).social_network_links,(e,l)=>(Se(),qe(w,{class:"flex-nowrap!",key:l},{default:Le(()=>[fe(h,{class:"w-150px!",value:e.title,"onUpdate:value":t=>e.title=t,placeholder:"Title"},null,8,["value","onUpdate:value"]),fe(h,{class:"w-200px!",value:e.value,"onUpdate:value":t=>e.value=t,placeholder:"https://www.aapanel.com/"},null,8,["value","onUpdate:value"]),fe(v,null,{default:Le(()=>[fe(a,{onClick:t=>(e=>{r.social_network_links=r.social_network_links.filter(t=>t!==e)})(e),disabled:1===$e(r).social_network_links.length},{default:Le(()=>t[13]||(t[13]=[Re("-",-1)])),_:2,__:[13]},1032,["onClick","disabled"]),fe(a,{onClick:d,disabled:$e(r).social_network_links.length>=5},{default:Le(()=>t[14]||(t[14]=[Re("+",-1)])),_:1,__:[14]},8,["disabled"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),fe(i,{label:"Auto-recovery Time"},{default:Le(()=>[fe(f,{value:$e(r).times,"onUpdate:value":t[5]||(t[5]=e=>$e(r).times=e),type:"datetime",clearable:"","is-date-disabled":p},null,8,["value"])]),_:1}),fe(i,{ref:"dbBakFileRef",label:"Background Image",path:"db_bak_file"},{default:Le(()=>[fe(a,{onClick:t[6]||(t[6]=e=>u("bg"))},{default:Le(()=>[Re(Ue(e.$t("Docker.App.Backup.index_3")),1)]),_:1}),Pe("div",er,[fe(x,{value:$e(r).background_upload,"onUpdate:value":t[7]||(t[7]=e=>$e(r).background_upload=e),"default-path":"/www/wwwroot","checked-type":["file"]},null,8,["value"])])]),_:1},512)],64)):Ae("",!0),"custom"===$e(r).type?(Se(),qe(i,{key:1,label:"Template Upload"},{default:Le(()=>[fe(a,{onClick:t[8]||(t[8]=e=>u("template"))},{default:Le(()=>[Re(Ue(e.$t("Docker.App.Backup.index_3")),1)]),_:1}),Pe("div",tr,[fe(x,{value:$e(r).template_upload,"onUpdate:value":t[9]||(t[9]=e=>$e(r).template_upload=e),"default-path":"/www/wwwroot","checked-type":["file"]},null,8,["value"])])]),_:1})):Ae("",!0),fe(i,{label:" "},{default:Le(()=>[fe(a,{type:"primary",onClick:_},{default:Le(()=>[Re(Ue(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"]),fe(y,null,{default:Le(()=>[t[17]||(t[17]=Pe("li",{class:"text-warning font-bold"}," Please close and clear the cache before turning on maintenance mode. ",-1)),t[18]||(t[18]=Pe("li",null," Note: To avoid website being downgraded by indexing engines, please do not enable maintenance mode for a long time. ",-1)),"custom"===$e(r).type?(Se(),be(ge,{key:0},[t[15]||(t[15]=Pe("li",null," Recommend uploading HTML files for templates, and use data URLs for static files of templates. ",-1)),t[16]||(t[16]=Pe("li",null," If you want your template to use the template configuration function of aapanel, you can start maintenance mode once and modify the/wp-content/mintensionce/mintensione-template. html file, keeping the '{{}}' placeholder. ",-1))],64)):Ae("",!0)]),_:1,__:[17,18]})]),_:1},8,["show"])]),_:1},8,["install"])}}}),[["__scopeId","data-v-0add4e26"]]),lr=d(xe({__name:"index",setup(e,{expose:t}){const l=ol(),{data:i}=Ti(),{multiService:n,isWebServerJump:s}=Ee(o()),d=De({webServer:"apache",ico:""}),u=he(""),c=async()=>{s.value=!0,await Ba({name:"nginx",title:"Nginx",admin:!1})},p=he([{label:"Apache",value:"apache"},{label:"Nginx",value:"nginx"},{label:"Openlitespeed",value:"openlitespeed"}]),_=()=>{A({title:"Switching Services",width:500,content:()=>fe(ge,null,[fe("span",null,[Re("Please ensure that your website supports ["),d.webServer,Re("], otherwise it may cause the website to stop running!")]),fe("div",{class:"mt-12px"},[Re("Please check:")]),fe(z,{class:"text-12px"},{default:()=>[fe("li",{class:"text-warning font-bold"},[Re("Switching to Multi-WebEngine Hosting may result in the loss of the original configuration. It is recommended to back up the website configuration data in advance.")]),fe("li",{class:"text-warning font-bold"},[Re("After switching services, you need to re-bind the subdirectory. Please back up key data.")]),fe("li",null,[Re("Whether the virtual host has custom configurations.")]),fe("li",null,[Re("Whether the website rewrite rules are supported.")])]})]),onConfirm:async()=>{await Ot({site_id:i.id,service_type:d.webServer}),h(),l.setRefresh(!0)}})},m=()=>{A({title:"Rollback",content:"Are you sure you want to rollback to the previous service?",onConfirm:async()=>{await qt({site_id:i.id}),h(),l.setRefresh(!0)}})},h=async()=>{const{message:e}=await Wt({site_id:i.id});a(e)&&(d.webServer=e.result,u.value=e.result.charAt(0).toUpperCase()+e.result.slice(1))};return h(),t({init:h}),(e,t)=>{const a=at,l=nt,i=z,s=$t,o=r,h=mt,v=gt,w=ut,f=ct,x=Ha,g=L;return Se(),qe(g,{install:$e(n)},{desc:Le(()=>[fe(l,{class:"items-center"},{default:Le(()=>[t[2]||(t[2]=Pe("span",null,"You have not enabled the multi-service function",-1)),fe(a,{size:"small",onClick:c,type:"primary"},{default:Le(()=>t[1]||(t[1]=[Re("Open",-1)])),_:1,__:[1]})]),_:1,__:[2]})]),default:Le(()=>[fe(s,{class:"p-16px"},{default:Le(()=>[fe(l,{class:"mb-20px flex-nowrap!"},{default:Le(()=>[t[5]||(t[5]=Pe("i",{class:"i-material-symbols:network-node color-#20a53a text-24px"},null,-1)),Pe("div",null,[t[4]||(t[4]=Pe("div",{class:"font-bold line-height-24px mb-8px"},"Multi-WebServer Hosting",-1)),fe(i,null,{default:Le(()=>t[3]||(t[3]=[Pe("li",null,"After switching to Multi-WebServer Hosting service architecture, you can specify its WebEngine for each website",-1)])),_:1,__:[3]})])]),_:1,__:[5]}),fe(l,{class:"flex-nowrap!"},{default:Le(()=>[t[8]||(t[8]=Pe("i",{class:"i-ic:outline-arrow-circle-right color-#20a53a text-24px"},null,-1)),Pe("div",null,[t[7]||(t[7]=Pe("div",{class:"font-bold line-height-24px mb-8px"},"Advantages",-1)),fe(i,null,{default:Le(()=>t[6]||(t[6]=[Pe("li",null,"Flexible: Switch your website's web server at will",-1),Pe("li",null,"Efficient: Accelerate website access with Nginx static and dynamic caching",-1),Pe("li",null,"Secure: Regardless of your chosen web server, your website is protected by the Nginx firewall",-1)])),_:1,__:[6]})])]),_:1,__:[8]})]),_:1}),fe(x,{class:"my-16px",model:$e(d)},{default:Le(()=>[fe(w,{label:"Current"},{default:Le(()=>[fe(h,{"show-icon":!1},{default:Le(()=>[fe(l,{class:"items-center!",size:2},{default:Le(()=>[fe(o,{name:"soft-".concat($e(u).toLowerCase()),size:"24"},null,8,["name"]),Pe("span",null,Ue($e(u)),1)]),_:1})]),_:1}),fe(a,{class:"ml-12px",onClick:m},{default:Le(()=>t[9]||(t[9]=[Re("Rollback",-1)])),_:1,__:[9]}),fe(v,{trigger:"hover",style:{"--n-color":"var(--site-multi-service-rollback-bg)"}},{trigger:Le(()=>[fe(o,{class:"ml-5px",name:"base-problem",size:"20"})]),default:Le(()=>[t[10]||(t[10]=Pe("div",{class:"p-16px rounded-8px"},"If the website is unavailable after switching services, please click Rollback to the last service.",-1))]),_:1,__:[10]})]),_:1}),fe(w,{label:"Web Server"},{default:Le(()=>[fe(f,{class:"w-300px!",value:$e(d).webServer,"onUpdate:value":t[0]||(t[0]=e=>$e(d).webServer=e),options:$e(p)},null,8,["value","options"])]),_:1}),fe(w,{label:" "},{default:Le(()=>[fe(a,{type:"primary",onClick:_},{default:Le(()=>[Re(Ue(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"]),fe(i,null,{default:Le(()=>t[11]||(t[11]=[Pe("li",null,"If you are not familiar with Multi-WebServer Hosting configuration, please do not manually modify the website independent configuration.",-1)])),_:1,__:[11]})]),_:1},8,["install"])}}}),[["__scopeId","data-v-7c69ee51"]]),ir=xe({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:t}=Te(),a=ol(),{siteName:l}=Ee(a),i=e,{siteInfo:n,config:s}=i;l.value=i.siteInfo.name;const o=he();n&&Me(Wi,{data:n,config:s});const r=he("domain"),d=[{key:"domain",label:t("Site.Config.index_1"),component:Mi},{key:"wordpress",label:t("Site.Config.index_2"),component:ms},{key:"security",label:t("Site.Config.index_13"),component:qs},{key:"config",label:t("Site.Config.index_10"),component:Mn},{key:"ssl",label:()=>fe(ge,null,[t("Site.Config.index_11")]),component:Zo},{key:"php",label:t("Site.Lable.index_22"),component:Zn},{key:"webserver",label:"Web Server",component:lr},{key:"maintenance",label:"Maintenance Mode",component:ar},{key:"logs",label:t("Site.Config.index_25"),component:Vs}];return r.value=s.menu||"domain",s.menu="",Ne(()=>{window.siteConfigInit=o.value.init}),(e,t)=>{const a=Da;return Se(),qe(a,{value:$e(r),"onUpdate:value":t[0]||(t[0]=e=>Ie(r)?r.value=e:null),ref_key:"tabsRef",ref:o,data:d},null,8,["value"])}}}),nr={class:"pt-50px pb-40px"},sr={class:"mb-24px text-center text-22px font-bold"},or={class:"mb-16px"},rr={class:"ul-style"},dr={class:"ml-4px"},ur={class:"ml-4px"},cr={class:"ml-4px"},pr={class:"ml-4px"},_r={class:"text-center text-14px color-desc"},mr={class:"text-center my-24px"},hr={class:"flex justify-center"},vr=d(xe({__name:"transition",setup(e){const t=()=>{te()};return(e,a)=>{const l=r,i=at,n=Lt;return Se(),be("div",nr,[Pe("div",sr,Ue(e.$t("WP.Transition.index_1")),1),Pe("div",or,[Pe("ul",rr,[Pe("li",null,[fe(l,{name:"wp-install",size:"22"}),Pe("span",dr,Ue(e.$t("WP.Transition.index_2")),1)]),Pe("li",null,[fe(l,{name:"wp-safe",size:"22"}),Pe("span",ur,Ue(e.$t("WP.Transition.index_3")),1)]),Pe("li",null,[fe(l,{name:"wp-backup",size:"22"}),Pe("span",cr,Ue(e.$t("WP.Transition.index_4")),1)]),Pe("li",null,[fe(l,{name:"wp-cache",size:"22"}),Pe("span",pr,Ue(e.$t("WP.Transition.index_5")),1)])])]),Pe("div",_r,Ue(e.$t("WP.Transition.index_6")),1),Pe("div",mr,[fe(i,{type:"primary",class:"h-36px text-14px",onClick:t},{default:Le(()=>[Re(Ue(e.$t("WP.Transition.index_8")),1)]),_:1})]),Pe("div",hr,[fe(n,{class:"justify-center",width:"50%",src:$e("/static/vite/images/preview.png")},null,8,["src"])])])}}}),[["__scopeId","data-v-0744d9b2"]]),wr={class:"p-20px"},fr={class:"flex-1"},xr={class:"mt-12px"},gr={class:"px-20px pt-24px pb-8px"},yr={class:"w-150px"},br=xe({__name:"set",props:{data:{}},setup(e){const{t:t}=Te(),a=e,{setOptions:i}=a.data,n=he(""),s=async()=>{const e=n.value.trim();var a;""!==e?(await(a={name:e},l.post("/site?action=add_wp_site_type",a,{requestOptions:{loading:rl("Login.index_22"),successMessage:!0}})),n.value="",await v(),i()):h.error(t("Site.PHP.index_46"))},o=K(),r=he(null),d=De({id:-1,name:""}),u={name:{required:!0,message:t("Site.PHP.index_46"),trigger:["blur","change"]}},c=async({hide:e})=>{var t,a;await(null==(t=r.value)?void 0:t.validate()),await(a=He(d),l.post("/site?action=edit_wp_site_type",a,{requestOptions:{loading:rl("Login.index_22"),successMessage:!0}})),await v(),i(),e()},{table:p,columns:_}=D([{key:"name",title:"Name"},V({width:120,options:e=>[{label:t("Public.Btn.Edit"),disabled:1===e.id,onClick:()=>{(e=>{d.id=e.id,d.name=e.name,o.title="".concat(t("Site.PHP.index_48")," [").concat(e.name,"]"),o.show=!0})(e)}},{label:t("Public.Btn.Delete"),disabled:1===e.id,onClick:()=>{A({title:"".concat(t("Site.PHP.index_49")," [").concat(e.name,"]"),content:t("Site.PHP.index_50"),onConfirm:async({hide:t})=>{var a;await(a={id:e.id},l.post("/site?action=del_wp_site_type",a,{requestOptions:{loading:rl("Login.index_22"),successMessage:!0}})),await v(),i(e.id),t()}})}}]})]),v=async()=>{const{message:e}=await Fl();p.data=m(e)?e:[]};return v(),(e,t)=>{const a=_t,l=at,i=nt,m=Rt,h=ut,v=Ha,w=U;return Se(),be("div",wr,[fe(i,null,{default:Le(()=>[Pe("div",fr,[fe(a,{value:$e(n),"onUpdate:value":t[0]||(t[0]=e=>Ie(n)?n.value=e:null),placeholder:e.$t("Site.PHP.index_46")},null,8,["value","placeholder"])]),Pe("div",null,[fe(l,{type:"primary",onClick:s},{default:Le(()=>[Re(Ue(e.$t("Site.Cert.index_62")),1)]),_:1})])]),_:1}),Pe("div",xr,[fe(m,{"max-height":300,data:$e(p).data,columns:$e(_)},null,8,["data","columns"])]),fe(w,{show:$e(o).show,"onUpdate:show":t[2]||(t[2]=e=>$e(o).show=e),title:$e(o).title,width:350,footer:!0,onConfirm:c},{default:Le(()=>[Pe("div",gr,[fe(v,{ref_key:"formRef",ref:r,model:$e(d),rules:u},{default:Le(()=>[fe(h,{label:e.$t("Site.PHP.index_47"),path:"name"},{default:Le(()=>[Pe("div",yr,[fe(a,{value:$e(d).name,"onUpdate:value":t[1]||(t[1]=e=>$e(d).name=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["show","title"])])}}}),Sr={class:"w-160px"},kr=xe({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e,{expose:t}){const a=Qe(e,"value"),{t:l}=Te(),{loading:i,setLoading:n}=N(),s=he([]),o=K(l("Site.PHP.index_44"),{setOptions:e=>{d(),a.value===e&&(a.value="")}}),r=()=>{o.show=!0},d=async()=>{try{n(!0);const{message:e}=await Fl();m(e)&&(s.value=e.map(e=>({label:e.name,value:e.id})))}finally{s.value.unshift({label:l("Site.PHP.index_45"),value:""}),n(!1)}};return t({getList:d}),(e,t)=>{const l=at,n=ct,d=U;return Se(),be("div",Sr,[fe(n,Ye(e.$attrs,{value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),loading:$e(i),options:$e(s)}),{action:Le(()=>[fe(l,{block:"",onClick:r},{default:Le(()=>[Re(Ue(e.$t("Site.PHP.index_43")),1)]),_:1})]),_:1},16,["value","loading","options"]),fe(d,{show:$e(o).show,"onUpdate:show":t[1]||(t[1]=e=>$e(o).show=e),width:350,title:$e(o).title,data:$e(o).data,component:br},null,8,["show","title","data"])])}}}),Cr={class:"w-860px h-720px"},Pr=xe({__name:"index",setup(e){const t=we(()=>n(()=>import("./index251.js?v=1758789124250"),__vite__mapDeps([68,30,1,2,4,5,3,6,7,8,31,9,10,32,69,70,22,42,33,34,35,53,71,11,12,13,14,15,16,17,18,19,20,21,23,24,25,26,27,28,29,36,37,38,39,40,41,43,44,45,46,47,48,49,50,51,52]))),i=we(()=>n(()=>import("./index252.js?v=1758789124250"),__vite__mapDeps([72,3,1,2,4,5,6,7,8,13,14,15,9,10,11,12,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53]))),r=we(()=>n(()=>import("./index253.js?v=1758789124250"),__vite__mapDeps([73,32,1,2,4,5,3,6,7,8,71,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53]))),d=we(()=>n(()=>import("./index254.js?v=1758789124250"),__vite__mapDeps([74,3,1,2,4,5,6,7,8,11,12,75,22,30,31,76,32,9,10,13,14,15,16,17,18,19,20,21,23,24,25,26,27,28,29,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,77]))),u=we(()=>n(()=>import("./index255.js?v=1758789124250"),__vite__mapDeps([78,11,1,2,5,6,3,4,8,7,12,13,14,15,16,18,32,9,10,17,19,20,21,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,79]))),c=we(()=>n(()=>import("./ssl-log.js?v=1758789124250"),__vite__mapDeps([61,43,3,1,2,4,5,6,7,8,44]))),p=we(()=>n(()=>import("./index256.js?v=1758789124250"),__vite__mapDeps([80,32,1,2,4,5,3,6,7,8,71,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,81]))),{t:h}=Te(),v=ol(),w=o(),{web:f,webserver:x}=Ee(v),{userInfo:g}=Ee(w),y=he(!1),b=he(),S=K(h("WP.index_27")),k=K(h("WP.Add.index_7"),{done:async()=>{li(h("WP.Add.index_7"),"backup_deploy",async()=>{await ie(),oe()})}}),C=K(h("Site.Config.index_19")),P=K("Data Copy",{done:async()=>{li("Data Copy","wp_copy")}}),$=()=>{k.show=!0},R=()=>{S.show=!0},q=()=>{C.show=!0},B=()=>{w.isFree?j({source:370}):P.show=!0},M=he([]),I=he([]),A=Xe({}),z=K(h("SSL.Domain.index_5")),V=async()=>{const{message:e}=await Bt((()=>{const e=new Date,t=ja(e,-30);return{start_date:s(t,"yyyy-MM-dd"),end_date:s(e,"yyyy-MM-dd")}})(),"WP2");a(e)&&(A.value=e)},F=De({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),J=K(h("WP.index_2"),{done:async()=>{li(h("WP.index_2"),"backup_deploy",async()=>{await ie(),oe()})}}),G=K(),{keys:X,table:Q,columns:Y}=((e,t,a,l,i,n)=>{const{t:s}=Te(),{webserver:o}=Ee(ol()),{keys:r,table:d,columns:u}=D([{type:"selection",width:40},{key:"name",title:s("Site.PHP.index_17"),minWidth:160,sorter:!0,sortOrder:!1,render:e=>fe(bi,{ico:e.ico,name:e.name,description:e.ps,onClickName:()=>{n(e)},onClickServer:()=>{n(e,{menu:"webserver"})},onBlur:async t=>{await Dt({id:e.id,ps:t}),e.ps=t}},null)},{key:"status",title:s("Public.Table.Status"),align:"center",sorter:!0,sortOrder:!1,render:e=>fe(ci,{row:e,onClick:()=>{n(e,{menu:"maintenance"})}},null)},{key:"backup_count",title:s("Site.PHP.index_19"),width:"10%",minWidth:110,render:e=>fe(pi,{row:e},null)},{key:"path",title:"Quick action",align:"center",minWidth:200,render:t=>fe(Si,{protection:e.value,row:t,onShowToolkit:()=>{n(t,{menu:"wordpress"})},onShowPhp:()=>{n(t,{menu:"php"})},onShowProtection:()=>{l(t)},onShowClone:()=>{i(t)}},null)},{key:"site_ssl",title:s("Site.PHP.index_27"),align:"center",minWidth:100,sorter:!0,sortOrder:!1,className:"sort-center",render:e=>{const t=a.value.filter(t=>t.target_id===e.id);return fe($i,{config:e.ssl,sslApplyList:t,onClick:()=>{n(e,{menu:"ssl"})}},null)}},{key:"requests",title:"Requests",align:"center",width:"12%",minWidth:120,render:e=>{if("nginx"!==o.value&&"apache"!==o.value)return"--";const a=t.value[e.name];if(!dt(a)){const t=(l=a).total?l.total.request:0,i=(e=>e.list.map(e=>({date:e.date,value:e.request})))(a);return fe(Ui,{name:e.name,total:t,value:i},null)}var l;return"--"}},_i({onClick:(e,t)=>{n(e,t)}})]);return{keys:r,table:d,columns:u}})(I,A,M,async e=>{G.title="".concat(h("WP.Config.index_10")," [").concat(e.name,"]"),G.data.site=e,G.show=!0},async e=>{J.data.row=e,J.show=!0},(e,t={})=>{F.title="".concat(h("Site.Cert.index_58")," [").concat(e.name,"] -- ").concat(h("Site.Cert.index_59")," [").concat(e.addtime,"]"),F.siteInfo=e,F.config=Object.assign({menu:"",subMenu:""},t),F.show=!0}),Z=((e,t)=>[{key:"enable",type:"confirm",label:mi("Site.Batch.index_1"),confirm:{title:mi("Site.Batch.index_2"),desc:mi("Site.Batch.index_3"),columns:[e.value[1]],api:e=>jt(!0,{id:e.id,name:e.name},!1),done:()=>{t()}}},{key:"disable",type:"confirm",label:mi("Site.Batch.index_4"),confirm:{title:mi("Site.Batch.index_5"),desc:mi("Site.Batch.index_6"),columns:[e.value[1]],api:e=>jt(!1,{id:e.id,name:e.name},!1),done:()=>{t()}}},{key:"backup",type:"confirm",label:mi("Site.Batch.index_7"),confirm:{title:mi("Site.Batch.index_8"),desc:mi("Site.Batch.index_9"),columns:[e.value[1]],api:e=>_l({s_id:e.id,bak_type:3},!1),done:()=>{t()}}},{key:"category",label:mi("Crontab.Planned.index_19"),onBatch:e=>{O({title:mi("Site.Batch.index_22"),width:350,minHeight:72,footer:!0,data:{rows:e},component:we(()=>n(()=>import("./batch3.js?v=1758789124250"),__vite__mapDeps([82,32,1,2,4,5,3,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53])))})}},{key:"webserver",label:"Switch service",onBatch:e=>{O({title:"Batch switch service",width:450,minHeight:100,footer:!0,data:{rows:e},component:we(()=>n(()=>import("./index249.js?v=1758789124250"),__vite__mapDeps([83,6,3,1,2,4,5,8,7,32,20,84,9,10,11,12,13,14,15,16,17,18,19,21,22,23,24,25,26,27,28,29,30,31,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53])))})}},{key:"delete",label:mi("Site.Batch.index_10"),onBatch:e=>{ui(e)}}])(Y,()=>{ie()}),{loading:ee,setLoading:te}=N(!0),ae=e=>{Y.value.forEach(t=>{const a=t;a.key===e.columnKey?a.sortOrder=e.order:a.sortOrder=!1});const t=e.order?"".concat(e.columnKey," ").concat("descend"===e.order?"desc":"asc"):"";le.order=t,ie()},le=De({p:1,limit:10,search:"",order:"",site_type:""}),ie=async(e=!1)=>{try{te(!(M.value.length>0||e));const i={...le,order:le.order?le.order:null},{message:n}=await(t=i,l.post("/data?action=get_wp_site_list",t));a(n)?(Q.data=m(n.data)?n.data:[],Q.total=n.total):(Q.data=[],Q.total=0)}finally{re(),X.value=[],te(!1)}var t};let ne=null;const se=he(!1),oe=async()=>{ne&&clearTimeout(ne);const{message:e}=await ce();m(e)&&(M.value=e,e.length>0?(se.value=!0,ne=window.setTimeout(()=>{oe()},3e3)):(se.value&&ie(!0),ne&&clearTimeout(ne)))},re=async()=>{const{message:e}=await l.post("/site?action=get_wp_security_status");m(e)&&(I.value=e)};Je(()=>v.isRefresh,e=>{e&&(v.setRefresh(!1),ie())});return(async()=>{var e;try{await v.getConfig(),v.web.setup?(y.value=!0,await ie(),oe(),V(),null==(e=b.value)||e.getList()):(te(!1),Ut())}catch(t){te(!1)}})(),Ze(()=>{ne&&clearTimeout(ne)}),(e,a)=>{const l=_,n=at,s=_e,o=pe,m=H,h=E,v=T,w=W,O=U,j=L,M=$t;return Se(),qe(M,null,{default:Le(()=>[$e(g).status?(Se(),qe(j,{key:0,install:$e(f).setup},{desc:Le(()=>[Pe("span",null,Ue(e.$t("Site.PHP.index_1")),1),fe(l,{class:"ml-4px",onClick:a[0]||(a[0]=e=>$e(ue)("nginx"))},{default:Le(()=>[Re(Ue(e.$t("Site.PHP.index_2")),1)]),_:1}),a[18]||(a[18]=Pe("span",{class:"mx-4px"},"|",-1)),fe(l,{onClick:a[1]||(a[1]=e=>$e(ue)("apache"))},{default:Le(()=>[Re(Ue(e.$t("Site.PHP.index_3")),1)]),_:1})]),default:Le(()=>[fe(w,{class:"p-16px",feedback:!0},{toolsLeft:Le(()=>[fe(n,{type:"primary",onClick:$},{default:Le(()=>[Re(Ue(e.$t("WP.index_5")),1)]),_:1}),fe(n,{onClick:R},{default:Le(()=>[Re(Ue(e.$t("WP.index_27")),1)]),_:1}),fe(n,{onClick:q},{default:Le(()=>[Re(Ue(e.$t("Site.Config.index_19")),1)]),_:1}),fe(n,{onClick:B},{default:Le(()=>a[19]||(a[19]=[Re("Data Copy",-1)])),_:1,__:[19]}),$e(y)?(Se(),qe(s,{key:0,"soft-name":$e(x),"is-web-site":!0},null,8,["soft-name"])):Ae("",!0)]),toolsRight:Le(()=>[fe(kr,{ref_key:"siteCategoryRef",ref:b,value:$e(le).site_type,"onUpdate:value":[a[2]||(a[2]=e=>$e(le).site_type=e),a[3]||(a[3]=e=>ie(!1))]},null,8,["value"]),fe(o,{value:$e(le).search,"onUpdate:value":a[4]||(a[4]=e=>$e(le).search=e),placeholder:e.$t("WP.index_4"),onSearch:a[5]||(a[5]=e=>ie(!1))},null,8,["value","placeholder"])]),table:Le(()=>[fe(m,{"checked-row-keys":$e(X),"onUpdate:checkedRowKeys":a[6]||(a[6]=e=>Ie(X)?X.value=e:null),loading:$e(ee),data:$e(Q).data,columns:$e(Y),"onUpdate:sorter":ae},null,8,["checked-row-keys","loading","data","columns"])]),pageLeft:Le(()=>[fe(h,{"checked-row-keys":$e(X),"onUpdate:checkedRowKeys":a[7]||(a[7]=e=>Ie(X)?X.value=e:null),data:$e(Q).data,options:$e(Z)},null,8,["checked-row-keys","data","options"])]),pageRight:Le(()=>[fe(v,{page:$e(le).p,"onUpdate:page":a[8]||(a[8]=e=>$e(le).p=e),"page-size":$e(le).limit,"onUpdate:pageSize":a[9]||(a[9]=e=>$e(le).limit=e),"item-count":$e(Q).total,"store-key":"wp-toolkit",onRefresh:ie},null,8,["page","page-size","item-count"])]),_:1}),fe(O,{show:$e(k).show,"onUpdate:show":a[10]||(a[10]=e=>$e(k).show=e),title:$e(k).title,data:$e(k).data,width:640,height:590,footer:!0,component:$e(t)},null,8,["show","title","data","component"]),fe(O,{show:$e(S).show,"onUpdate:show":a[11]||(a[11]=e=>$e(S).show=e),title:$e(S).title,width:640,"min-height":205,footer:!1,component:$e(i)},null,8,["show","title","component"]),fe(O,{show:$e(J).show,"onUpdate:show":a[12]||(a[12]=e=>$e(J).show=e),title:$e(J).title,data:$e(J).data,width:640,"min-height":268,footer:!0,component:$e(r)},null,8,["show","title","data","component"]),fe(O,{show:$e(G).show,"onUpdate:show":a[13]||(a[13]=e=>$e(G).show=e),title:$e(G).title,data:$e(G).data,width:600,"min-height":268,component:$e(d)},null,8,["show","title","data","component"]),fe(O,{show:$e(C).show,"onUpdate:show":a[14]||(a[14]=e=>$e(C).show=e),title:$e(C).title,width:700,"min-height":300,component:$e(u)},null,8,["show","title","component"]),fe(O,{show:$e(F).show,"onUpdate:show":a[15]||(a[15]=e=>$e(F).show=e),title:$e(F).title},{default:Le(()=>[Pe("div",Cr,[fe(ir,{"site-info":$e(F).siteInfo,config:$e(F).config},null,8,["site-info","config"])])]),_:1},8,["show","title"]),fe(O,{show:$e(z).show,"onUpdate:show":a[16]||(a[16]=e=>$e(z).show=e),title:$e(z).title,data:$e(z).data,width:700,height:450,footer:!1,component:$e(c)},null,8,["show","title","data","component"]),fe(O,{show:$e(P).show,"onUpdate:show":a[17]||(a[17]=e=>$e(P).show=e),title:$e(P).title,data:$e(P).data,component:$e(p),width:700,"min-height":200,footer:!0},null,8,["show","title","data","component"])]),_:1},8,["install"])):(Se(),qe(vr,{key:1}))]),_:1})}}}),$r=Object.freeze(Object.defineProperty({__proto__:null,default:Pr},Symbol.toStringTag,{value:"Module"}));export{Ul as A,El as B,Tl as C,Xl as D,Jl as E,Gl as F,Fl as G,Kl as H,cl as I,hl as J,pl as K,_l as L,ml as M,Ti as N,Al as O,Nl as P,Vl as Q,Rl as R,Ll as S,$r as T,Hl as W,dl as a,Pl as b,Cl as c,$l as d,Ql as e,vl as f,ul as g,kl as h,yl as i,xl as j,gl as k,fl as l,wl as m,bl as n,li as o,Sl as p,Ol as q,Dl as r,zl as s,Ml as t,ol as u,ql as v,Bl as w,Il as x,jl as y,Wl as z};
