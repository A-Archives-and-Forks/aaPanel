const __vite__fileDeps=["js/index123.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang6.js?v=1721298337096","js/vue.js?v=1721298337096","js/index.js?v=1721298337096","js/pinia.js?v=1721298337096","css/index34.css?v=1721298337096","js/index100.js?v=1721298337096","js/use-theme-vars.js?v=1721298337096","css/index11.css?v=1721298337096","js/mail.js?v=1721298337096","js/useTableColumns.js?v=1721298337096","js/Progress.js?v=1721298337096","css/useTableColumns.css?v=1721298337096","js/index124.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang.js?v=1721298337096","js/useTableData.js?v=1721298337096","js/Skeleton.js?v=1721298337096","js/DataTable.js?v=1721298337096","js/Checkbox.js?v=1721298337096","js/Ellipsis.js?v=1721298337096","js/Select.js?v=1721298337096","js/Tag.js?v=1721298337096","js/Empty.js?v=1721298337096","js/omit.js?v=1721298337096","js/useLoading.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang2.js?v=1721298337096","js/RadioButton.js?v=1721298337096","js/index125.js?v=1721298337096","js/index136.js?v=1721298337096","js/Spin.js?v=1721298337096","css/index15.css?v=1721298337096","js/file2.js?v=1721298337096"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{g as t,M as e,e as s,j as a,k as o,m as i,h as n,B as r,q as l,r as d,v as p}from"./index.js?v=1721298337096";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang.js?v=1721298337096";import{_ as m}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1721298337096";import{u as _,_ as h}from"./useTableData.js?v=1721298337096";import{b as u}from"./useTableColumns.js?v=1721298337096";import{u as w,v as k}from"./mail.js?v=1721298337096";import{l as g,ad as j,f,P as y,q as b,t as x,S as E,U as S,V as T,W as v,a1 as C}from"./vue.js?v=1721298337096";import"./pinia.js?v=1721298337096";import"./DataTable.js?v=1721298337096";import"./Checkbox.js?v=1721298337096";import"./Ellipsis.js?v=1721298337096";import"./Select.js?v=1721298337096";import"./Tag.js?v=1721298337096";import"./Empty.js?v=1721298337096";import"./omit.js?v=1721298337096";import"./Skeleton.js?v=1721298337096";import"./Progress.js?v=1721298337096";const D=g({__name:"index",setup(g){const D=C((()=>p((()=>import("./index123.js?v=1721298337096")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])))),P=C((()=>p((()=>import("./index124.js?v=1721298337096")),__vite__mapDeps([13,3,2,4,5,14,10,11,12,15,16,17,18,19,20,21,22,23,24,9,25,26])))),W=C((()=>p((()=>import("./index125.js?v=1721298337096")),__vite__mapDeps([27,28,2,29,3,4,5,30,24,31])))),{t:L}=j(),z=f({p:1,size:10}),A=t("Add Forward",{isEdit:!1,row:void 0,onRefresh:()=>{M()}}),R=()=>{A.data.isEdit=!1,A.title="Add Forward",A.show=!0},{table:U,columns:V}=_([{key:"created",title:"Time",width:"16%",minWidth:140,render:t=>e(t.created)},{key:"task_name",title:"Name",width:"14%",minWidth:140,ellipsis:{tooltip:!0}},{key:"addresser",title:"Sender",minWidth:160,ellipsis:{tooltip:!0}},{key:"recipient_count",title:"To",width:"8%",minWidth:80},{key:"success_count",title:"Success",width:"8%",minWidth:80,render:t=>2===t.task_process?t.recipient_count-t.count.error_count:"--"},{key:"error_count",title:"Fail",width:"8%",minWidth:80,render:t=>2===t.task_process?y(s,{type:"error",onClick:()=>{I(t)}},{default:()=>[t.count.error_count]}):"--"},{key:"task_process",title:"Status",width:"8%",render:t=>0===t.task_process?y("span",{class:"text-#fcb040"},[b("Pending")]):1===t.task_process?y("span",{class:"text-#fcb040"},[b("Executing")]):"Done"},u({width:150,options:t=>[{label:"Log",show:!!t.task_process,onClick:()=>{q(t)}},{label:t.task_process?"Pause":"Send",show:2!==t.task_process,onClick:()=>{q(t)}},{label:L("Public.Btn.Del"),onClick:()=>{B(t)}}]})]),F=t("Error tasks"),I=t=>{F.data.row=t,F.title="Error tasks [".concat(t.task_name,"]"),F.show=!0},O=t("Send Log"),q=t=>{O.data.row=t,O.title="Send Log [".concat(t.task_name,"]"),O.show=!0},B=async t=>{n({title:"Delete task",content:"Whether to delete the [".concat(t.task_name,"] task?"),onConfirm:async()=>{await k({task_id:t.id}),M()}})},M=async()=>{try{U.loading=!0;const{message:t}=await w(x(z));a(t)&&(U.data=o(t.data)?t.data:[],U.total=i(t.page))}finally{U.loading=!1}};return M(),(t,e)=>{const s=r,a=h,o=m,i=c,n=l,p=d;return E(),S(p,{class:"p-16px"},{default:T((()=>[y(i,null,{toolsLeft:T((()=>[y(s,{type:"primary",onClick:R},{default:T((()=>[b("Add Send Tasks")])),_:1})])),table:T((()=>[y(a,{loading:v(U).loading,data:v(U).data,columns:v(V)},null,8,["loading","data","columns"])])),pageRight:T((()=>[y(o,{page:v(z).p,"onUpdate:page":e[0]||(e[0]=t=>v(z).p=t),"page-size":v(z).size,"onUpdate:pageSize":e[1]||(e[1]=t=>v(z).size=t),"item-count":v(U).total,onRefresh:M},null,8,["page","page-size","item-count"])])),_:1}),y(n,{show:v(A).show,"onUpdate:show":e[2]||(e[2]=t=>v(A).show=t),title:v(A).title,data:v(A).data,width:700,"min-height":200,footer:!0,component:v(D)},null,8,["show","title","data","component"]),y(n,{show:v(F).show,"onUpdate:show":e[3]||(e[3]=t=>v(F).show=t),title:v(F).title,data:v(F).data,width:700,"min-height":192,component:v(P)},null,8,["show","title","data","component"]),y(n,{show:v(O).show,"onUpdate:show":e[4]||(e[4]=t=>v(O).show=t),title:v(O).title,data:v(O).data,width:750,height:580,component:v(W)},null,8,["show","title","data","component"])])),_:1})}}});export{D as default};
