const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index197.js?v=1747989938512","js/index.js?v=1747989938512","js/vue.js?v=1747989938512","js/__commonjsHelpers__.js?v=1747989938512","js/common.js?v=1747989938512","js/public.js?v=1747989938512","js/page_layout.js?v=1747989938512","js/naive.js?v=1747989938512","css/page_layout.css?v=1747989938512","css/public.css?v=1747989938512","css/index96.css?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang.js?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang9.js?v=1747989938512","css/index84.css?v=1747989938512","js/index198.js?v=1747989938512","js/index228.js?v=1747989938512","css/index56.css?v=1747989938512","css/index85.css?v=1747989938512","js/dns-verification.js?v=1747989938512","js/index199.js?v=1747989938512","js/site.js?v=1747989938512","js/index200.js?v=1747989938512","js/index97.js?v=1747989938512","css/index13.css?v=1747989938512","css/index86.css?v=1747989938512","js/index201.js?v=1747989938512","js/ssl-log.js?v=1747989938512","js/index101.js?v=1747989938512","css/index17.css?v=1747989938512"])))=>i.map(i=>d[i]);
import{_ as e}from"./index103.js?v=1747989938512";import{u as a,a4 as t,c as n,a as s,_ as o,o as i}from"./page_layout.js?v=1747989938512";import{d as l,_ as r,O as d,j as _,P as u,c,R as p,a0 as h,a1 as m,V as w,U as S,a2 as f,Y as x,r as y,o as g,S as L,i as v,aj as k}from"./vue.js?v=1747989938512";import{_ as E}from"./index122.js?v=1747989938512";import{_ as b}from"./index.js?v=1747989938512";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1747989938512";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1747989938512";import{e as D,c as R,a2 as I,f as P,a3 as T,a as B,a4 as U,a5 as O,n as V,_ as A,h as N,a6 as M,a7 as z,a8 as F}from"./public.js?v=1747989938512";import{u as q,i as G,r as H}from"./utils2.js?v=1747989938512";import{A as X}from"./index202.js?v=1747989938512";import{c0 as $,T as Y,b_ as J,cm as K}from"./naive.js?v=1747989938512";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1747989938512";import{T as W}from"./transition.js?v=1747989938512";import"./common.js?v=1747989938512";import"./__commonjsHelpers__.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang.js?v=1747989938512";import"./paypal-js.js?v=1747989938512";const Z=l({__name:"index",setup(e){const l=x((()=>s((()=>import("./index197.js?v=1747989938512")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])))),y=x((()=>s((()=>import("./index198.js?v=1747989938512")),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17])))),g=x((()=>s((()=>import("./dns-verification.js?v=1747989938512")),__vite__mapDeps([18,5,6,2,3,7,4,8,9,11])))),L=a(),{userInfo:v}=r(L),{t:k}=d(),M=_({p:1,limit:10}),z=D(k("SSL.Business.index_41"),{onRefresh:(e,a)=>{K.data.request=!0,K.data.uc_id=a,K.data.verify=e,K.show=!0,ee()}}),F=D(k("SSL.index_44")),H=D(k("SSL.index_49"),{onRefresh:()=>{ee()}}),K=D(k("SSL.Business.index_42"),{onRefresh:()=>{ee()}}),{table:Q,columns:W}=R([{key:"provider",title:k("SSL.Domain.index_28"),render:e=>e.provider||"--"},{key:"verify_domains",title:k("SSL.index_53"),render:e=>u("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:k("Site.Cert.index_44"),render:e=>e.order_info.title},q({title:k("SSL.index_54")}),{key:"alarm",title:k("SSL.Domain.index_26"),render:e=>void 0!==e.alarm?u($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[a=>e.alarm=a,async a=>{try{await I({hash:e.hash,alarm:a})}catch(t){e.alarm=1===a?0:1}}]},null):u("span",null,[c("--")])},{key:"create_time",title:k("Docker.Container.index_9"),render:e=>t(e.order_info.create_time)},G(((e,a)=>{H.data.row=e,H.show=!0,H.data.menu=a})),{key:"order_status",title:k("SSL.Business.index_43"),render:e=>{const a=e.order_info;return a.certId||a.domains.length?!a.certId&&a.domains.length?u("span",{class:"color-warning"},[k("SSL.Business.index_45")]):"PENDING"===a.order_status&&1===a.status?u("span",{class:"color-warning"},[k("SSL.Business.index_46")]):"COMPLETE"===a.order_status&&1===a.status?u("span",{class:"color-#20a53a"},[k("SSL.Business.index_47")]):"CANCELLED"===a.order_status&&1===a.status||-1===a.status?u("span",{class:"color-warning"},[k("SSL.Business.index_48")]):"FAILED"===a.order_status&&1===a.status?u("span",{class:"color-error"},[k("SSL.Business.index_49")]):"EXPIRED"===a.order_status&&1===a.status?u("span",{class:"color-warning"},[k("SSL.Business.index_50")]):1!==a.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(a.order_status)?0===a.status?u("span",{class:"color-warning"},[k("SSL.Business.index_52")]):void 0:u("span",{class:"color-warning"},[k("SSL.Business.index_51")]):u("span",{class:"color-warning cursor-pointer",onClick:()=>Z(e)},[k("SSL.Business.index_44")])}},P({width:250,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:k("SSL.Business.index_53"),onClick:()=>{Z(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:k("SSL.Business.index_54"),onClick:async()=>{const{message:a}=await T({uc_id:e.order_info.uc_id});n(a)&&(K.data.uc_id=e.order_info.uc_id,K.data.verify=a.data,K.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:k("SSL.index_58"),onClick:async()=>{H.data.row=e,H.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:k("Ftp.Label.index_11"),onClick:async()=>{const a=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(a)}},{show:!1,label:k("Public.Btn.Del"),onClick:()=>{B({title:k("SSL.index_59"),content:k("SSL.index_60"),onConfirm:async()=>{await U({hash:e.hash}),ee()}})}}]})]),Z=e=>{z.data.row=e,z.show=!0},ee=async()=>{try{Q.loading=!0;const{message:e}=await O(M);n(e)&&(Q.data=e.data,Q.total=e.total)}finally{Q.loading=!1}};return v.value.status&&ee(),(e,a)=>{const t=Y,n=o,s=i,r=A,d=J,_=N,x=C,L=j,D=b,R=E;return p(),h(R,{install:w(v).status},{desc:m((()=>[a[7]||(a[7]=S("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),u(t,{type:"primary",onClick:w(V)},{default:m((()=>[c(f(e.$t("Login.index_3")),1)])),_:1},8,["onClick"])])),default:m((()=>[u(L,null,{toolsLeft:m((()=>[u(t,{type:"primary",onClick:a[0]||(a[0]=e=>w(F).show=!0)},{default:m((()=>[c(f(w(k)("SSL.index_44")),1)])),_:1}),u(d,{trigger:"hover"},{trigger:m((()=>[u(n,{name:"base-info",size:18,color:"#999"})])),default:m((()=>[u(r,null,{default:m((()=>[a[9]||(a[9]=S("li",null," If your site uses CDN, high-defence IP, reverse proxy, 301 redirect, etc., it may lead to validation failure ",-1)),a[10]||(a[10]=S("li",null," Certificates can be purchased for many years, and can only be issued once a year (valid for one year), and need to be renewed within 30 days before expiration (domain verification is not required for renewal) ",-1)),a[11]||(a[11]=S("li",null,"Apply for www.aapanel.com certificate with www as the secondary domain name, binding and resolving the top-level domain (aapanel.com) is required, otherwise the verification will fail",-1)),S("li",null,[a[8]||(a[8]=c("Compared with ordinary certificates, commercial certificates have higher security, compensation protection and support for wildcard and multi-domain names ")),u(s,{target:"_blank",href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html"},{default:m((()=>[c(f(e.$t("SSL.Business.index_20")),1)])),_:1})])])),_:1})])),_:1})])),table:m((()=>[u(_,{loading:w(Q).loading,data:w(Q).data,columns:w(W)},null,8,["loading","data","columns"])])),pageRight:m((()=>[u(x,{page:w(M).p,"onUpdate:page":a[1]||(a[1]=e=>w(M).p=e),"page-size":w(M).limit,"onUpdate:pageSize":a[2]||(a[2]=e=>w(M).limit=e),"item-count":w(Q).total,onRefresh:ee},null,8,["page","page-size","item-count"])])),_:1}),u(D,{show:w(F).show,"onUpdate:show":a[3]||(a[3]=e=>w(F).show=e),title:w(F).title,data:w(F).data,"min-height":250,component:X},null,8,["show","title","data"]),u(D,{show:w(z).show,"onUpdate:show":a[4]||(a[4]=e=>w(z).show=e),title:w(z).title,data:w(z).data,width:650,"min-height":450,component:w(l)},null,8,["show","title","data","component"]),u(D,{show:w(H).show,"onUpdate:show":a[5]||(a[5]=e=>w(H).show=e),title:w(H).title,data:w(H).data,width:720,height:530,component:w(y)},null,8,["show","title","data","component"]),u(D,{show:w(K).show,"onUpdate:show":a[6]||(a[6]=e=>w(K).show=e),title:w(K).title,data:w(K).data,width:650,"min-height":450,component:w(g)},null,8,["show","title","data","component"])])),_:1},8,["install"])}}});const ee=l({__name:"index",setup(e){const a=x((()=>s((()=>import("./index199.js?v=1747989938512")),__vite__mapDeps([19,5,6,2,3,7,4,8,9,11,20])))),t=x((()=>s((()=>import("./index200.js?v=1747989938512")),__vite__mapDeps([21,11,7,2,3,4,22,6,5,9,8,23,24])))),o=x((()=>s((()=>import("./index201.js?v=1747989938512")),__vite__mapDeps([25,6,2,3,7,4,5,9,8,1,10,22,23])))),l=x((()=>s((()=>import("./index198.js?v=1747989938512")),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17])))),r=x((()=>s((()=>import("./ssl-log.js?v=1747989938512")),__vite__mapDeps([26,27,6,2,3,7,4,5,9,8,28])))),{t:h}=d(),S=D(h("SSL.index_48"),{onRefresh:()=>{ae()}}),k=D(h("SSL.index_44"),{onRefresh:()=>{ae()},onOpenLog:e=>{W(e)}}),E=D(h("SSL.index_45"),{onRefresh:()=>{ae()}}),T=D(h("SSL.index_49"),{onRefresh:()=>{ae()}}),O=D(h("SSL.index_50")),V=_({p:1,limit:10,is_order:0,search:""}),A=()=>{V.p=1,ae()},X=()=>{B({title:h("SSL.index_51"),content:h("SSL.index_52"),onConfirm:async()=>{await F(),ae()}})},{table:J,columns:K}=R([H((e=>{W(e)})),{key:"ssl_type",title:h("SSL.index_53"),render:e=>u("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},q({title:h("SSL.index_54")}),{key:"proxy",title:h("SSL.index_55"),render:e=>u($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[a=>e.auto_renew=a,async()=>{try{await M({hash:e.hash})}catch(a){e.auto_renew=1===e.auto_renew?0:1}}]},null)},{key:"alarm",title:h("SSL.Domain.index_26"),render:e=>u($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[a=>e.alarm=a,async a=>{try{await I({hash:e.hash,alarm:a})}catch(t){e.alarm=1===a?0:1}}]},null)},G(((e,a)=>{T.data.row=e,T.show=!0,T.data.menu=a})),{key:"last_apply_time",title:h("SSL.index_56")},{key:"last_apply_log",title:h("SSL.index_57"),align:"center",render:e=>{let a;return e.log?u(i,{onClick:()=>{W(e.log)}},"function"==typeof(t=a=h("Ftp.Table.index_15"))||"[object Object]"===Object.prototype.toString.call(t)&&!v(t)?a:{default:()=>[a]}):"--";var t}},P({width:250,options:e=>[{label:h("SSL.index_58"),onClick:async()=>{T.data.row=e,T.show=!0}},{label:h("Mail.Mass.index_61"),onClick:()=>{S.data.row=e,S.show=!0}},{label:h("Public.Btn.Del"),onClick:()=>{B({title:h("SSL.index_59"),content:h("SSL.index_60"),onConfirm:async()=>{await U({hash:e.hash}),ae()}})}}]})]),W=e=>{O.data.path=e,O.show=!0};let Z=null;const ee=y(!1),ae=async()=>{try{ee.value||(J.loading=!0);const{message:e}=await z(V);n(e)&&(ee.value=e.data.some((e=>e.task.some((e=>100!==e.task_status)))),ee.value?te():Z&&clearTimeout(Z),J.data=e.data,J.total=e.total)}finally{J.loading=!1}},te=async()=>{Z=window.setTimeout((()=>{ae()}),5e3)};return ae(),g((()=>{Z&&clearTimeout(Z)})),(e,n)=>{const s=Y,i=Q,d=N,_=C,x=j,y=b;return p(),L("div",null,[u(x,null,{toolsLeft:m((()=>[u(s,{type:"primary",onClick:n[0]||(n[0]=e=>w(k).show=!0)},{default:m((()=>[c(f(w(h)("SSL.index_44")),1)])),_:1}),u(s,{onClick:n[1]||(n[1]=e=>w(E).show=!0)},{default:m((()=>[c(f(w(h)("SSL.index_45")),1)])),_:1}),u(s,{onClick:X},{default:m((()=>[c(f(w(h)("SSL.index_46")),1)])),_:1})])),toolsRight:m((()=>[u(i,{value:w(V).search,"onUpdate:value":n[2]||(n[2]=e=>w(V).search=e),onSearch:A},null,8,["value"])])),table:m((()=>[u(d,{loading:w(J).loading,data:w(J).data,columns:w(K)},null,8,["loading","data","columns"])])),pageRight:m((()=>[u(_,{page:w(V).p,"onUpdate:page":n[3]||(n[3]=e=>w(V).p=e),"page-size":w(V).limit,"onUpdate:pageSize":n[4]||(n[4]=e=>w(V).limit=e),"item-count":w(J).total,onRefresh:ae},null,8,["page","page-size","item-count"])])),_:1}),u(y,{show:w(k).show,"onUpdate:show":n[5]||(n[5]=e=>w(k).show=e),title:w(k).title,data:w(k).data,width:550,"min-height":250,footer:!0,component:w(a),"confirm-text":w(h)("SSL.index_47")},null,8,["show","title","data","component","confirm-text"]),u(y,{show:w(S).show,"onUpdate:show":n[6]||(n[6]=e=>w(S).show=e),title:w(S).title,data:w(S).data,width:650,footer:!1,component:w(o)},null,8,["show","title","data","component"]),u(y,{show:w(E).show,"onUpdate:show":n[7]||(n[7]=e=>w(E).show=e),title:w(E).title,data:w(E).data,width:800,"min-height":500,footer:!0,component:w(t)},null,8,["show","title","data","component"]),u(y,{show:w(O).show,"onUpdate:show":n[8]||(n[8]=e=>w(O).show=e),title:w(O).title,data:w(O).data,width:650,"min-height":450,component:w(r)},null,8,["show","title","data","component"]),u(y,{show:w(T).show,"onUpdate:show":n[9]||(n[9]=e=>w(T).show=e),title:w(T).title,data:w(T).data,width:720,height:530,component:w(l)},null,8,["show","title","data","component"])])}}}),ae=l({__name:"index",setup(t){const{t:n}=d(),s=a(),{userInfo:o}=r(s),i=y("business"),l=[{key:"business",label:n("SSL.index_9"),component:Z},{key:"let-encrypt",label:"Let's Encrypt",component:ee}];return(a,t)=>{const n=e,s=K;return w(o).status?(p(),h(s,{key:0,class:"p-16px"},{default:m((()=>[u(n,{value:w(i),"onUpdate:value":t[0]||(t[0]=e=>k(i)?i.value=e:null),options:l},null,8,["value"])])),_:1})):(p(),h(W,{key:1}))}}});export{ae as default};
