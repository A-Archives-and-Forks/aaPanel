import{G as a}from"./page_layout.js?v=1741416570306";import{c as e}from"./public.js?v=1741416570306";import{a as s}from"./mail.js?v=1741416570306";import{d as l,aq as t,ar as n,r as o,P as u,_ as i,S as r}from"./vue.js?v=1741416570306";import{ch as m}from"./naive.js?v=1741416570306";const p=l({__name:"index",props:t({isInit:{type:Boolean,default:!1}},{value:{},valueModifiers:{}}),emits:t(["change"],["update:value"]),setup(l,{expose:t,emit:p}){const v=l,c=p,{loading:d,setLoading:g}=e(),f=n(l,"value"),h=o([]),j=(a,e)=>{c("change",a,e)},y=async()=>{try{g(!0);const{message:e}=await s();a(e)&&e.length>0&&(h.value=[],h.value=e.map((a=>({label:a.username,value:a.username,data:a}))),f.value||(f.value=e[0].username,c("change",e[0].username,h.value[0])))}finally{g(!1)}};return v.isInit&&y(),t({getList:y}),(a,e)=>{const s=m;return u(),i(s,{value:f.value,"onUpdate:value":[e[0]||(e[0]=a=>f.value=a),j],loading:r(d),filterable:!0,options:r(h)},null,8,["value","loading","options"])}}});export{p as _};
