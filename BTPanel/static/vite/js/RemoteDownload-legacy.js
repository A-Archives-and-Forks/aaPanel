System.register(["./index-legacy.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1756367574781","./page_layout-legacy.js?v=1756367574781","./index-legacy39.js?v=1756367574781","./vue-legacy.js?v=1756367574781","./naive-legacy.js?v=1756367574781","./common-legacy.js?v=1756367574781","./__commonjsHelpers__-legacy.js?v=1756367574781","./public-legacy.js?v=1756367574781","./soft-legacy2.js?v=1756367574781","./soft-legacy.js?v=1756367574781","./file-legacy2.js?v=1756367574781","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1756367574781"],function(e,l){"use strict";var a,t,o,u,n,r,i,d,s,v,p,f,c,m,_,w,g,y,h,j;return{setters:[e=>{a=e._},e=>{t=e._},e=>{o=e.fK,u=e.t},e=>{n=e.a,r=e.g},e=>{i=e.k,d=e.P,s=e.i,v=e.r,p=e.aw,f=e.a2,c=e.V,m=e.a3,_=e.S,w=e.W,g=e.U,y=e.ak},e=>{h=e.dR,j=e.au},null,null,null,null,null,null,null],execute:function(){const l={class:"p-20px pt-28px"},x={class:"w-320px"},D={class:"w-320px"},b={class:"w-320px"};e("default",i({__name:"RemoteDownload",setup(e,{expose:i}){const{t:M}=d(),R=s("fileStore"),{downloadFileFormData:U,currentPath:E}=R,k=v(!1),q=p("formRef"),F={url:{trigger:["input","blur"],validator:()=>U.value.url?!!o(U.value.url)||new Error(M("file.remoteDownloadModal.validation.urlInvalid")):new Error(M("file.remoteDownloadModal.validation.urlRequired"))},path:{trigger:["input","blur"],validator:()=>!!U.value.path||new Error(M("file.remoteDownloadModal.validation.pathRequired"))},filename:{trigger:["input","blur"],validator:()=>!!U.value.filename||new Error(M("file.remoteDownloadModal.validation.filenameRequired"))}},S=e=>{const l=e.split("/").pop();U.value.filename=l||""};i({open(){U.value.url="http://",U.value.path=E.value,U.value.filename="",k.value=!0},close(){k.value=!1}});const P=async()=>{await(q.value?.validate()),await u.post("/files?action=DownloadFile",{...U.value}),n(R),r(R)};return(e,o)=>{const u=j,n=h,r=t,i=a;return c(),f(i,{show:g(k),"onUpdate:show":o[3]||(o[3]=e=>y(k)?k.value=e:null),title:g(M)("file.remoteDownloadModal.title"),width:500,footer:!0,onConfirm:P},{default:m(()=>[_("div",l,[w(r,{ref_key:"formRef",ref:q,model:g(U),rules:F},{default:m(()=>[w(n,{label:g(M)("file.remoteDownloadModal.urlAddress"),path:"url"},{default:m(()=>[_("div",x,[w(u,{value:g(U).url,"onUpdate:value":[o[0]||(o[0]=e=>g(U).url=e),S]},null,8,["value"])])]),_:1},8,["label"]),w(n,{label:g(M)("file.remoteDownloadModal.downloadTo"),path:"path"},{default:m(()=>[_("div",D,[w(u,{value:g(U).path,"onUpdate:value":o[1]||(o[1]=e=>g(U).path=e)},null,8,["value"])])]),_:1},8,["label"]),w(n,{label:g(M)("file.remoteDownloadModal.fileName"),path:"filename"},{default:m(()=>[_("div",b,[w(u,{value:g(U).filename,"onUpdate:value":o[2]||(o[2]=e=>g(U).filename=e)},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["show","title"])}}}))}}});
