import{_ as e}from"./index68.js?v=1721298337096";import{_ as t,a}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1721298337096";import{d as s,ab as l,B as r,r as i}from"./index.js?v=1721298337096";import{t as o}from"./mail.js?v=1721298337096";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1721298337096";import{l as u,r as c,f as p,x as d,y as m,S as _,U as f,V as v,P as j,_ as b,W as h,q as x}from"./vue.js?v=1721298337096";import"./pinia.js?v=1721298337096";import"./Select.js?v=1721298337096";import"./Tag.js?v=1721298337096";import"./Empty.js?v=1721298337096";const g=()=>CKEDITOR.instances.editor.getData(),y={class:"w-350px"},w={class:"w-760px"},E={class:"w-760px"},T=b("div",{class:"w-760px"},[b("textarea",{class:"hidden",name:"editor",id:"editor",rows:"10"})],-1),R=b("li",{class:"text-error"}," Tip: This feature is only recommended for testing the sending function. If you use it, please use the client software (such as foxmail) or api interface. ",-1),k=u({__name:"index",setup(u){const k=c(),C=c(null),D=p({sender:null,mail_to:"",subject:"",content:""}),I={mail_to:{trigger:["blur","input"],validator:()=>""!==D.mail_to.trim()||new Error("Enter the recipient please")},subject:{trigger:["blur","input"],validator:()=>""!==D.subject.trim()||new Error("Enter the subject of the email please")},content:{validator:()=>""!==g()||new Error("Enter the content of the email please")}},O=async()=>{var e;await(null==(e=C.value)?void 0:e.validate());const t={mail_from:D.sender||"",mail_to:JSON.stringify(D.mail_to.split(",")),subject:D.subject,content:g(),subtype:"html",smtp_server:"localhost"};var a;await o(t),D.mail_to="",D.subject="",a="",CKEDITOR.instances.editor.setData(a)};return d((()=>{(async e=>{await s("/static/ckeditor/ckeditor.js?v=1721298337096"),CKEDITOR.replace(e,{customConfig:"/static/ckeditor/config.js?v1.0"})})("editor"),k.value.getList()})),m((()=>{CKEDITOR.remove(CKEDITOR.instances.editor)})),(s,o)=>{const u=t,c=l,p=r,d=a,m=e,g=i;return _(),f(g,{class:"p-16px"},{default:v((()=>[j(d,{ref_key:"formRef",ref:C,class:"pt-8px",model:h(D),rules:I},{default:v((()=>[j(u,{label:"Sender",path:"sender"},{default:v((()=>[b("div",y,[j(n,{ref_key:"senderRef",ref:k,value:h(D).sender,"onUpdate:value":o[0]||(o[0]=e=>h(D).sender=e),placeholder:"Please enter or select user email"},null,8,["value"])])])),_:1}),j(u,{label:"Recipient",path:"mail_to"},{default:v((()=>[b("div",w,[j(c,{value:h(D).mail_to,"onUpdate:value":o[1]||(o[1]=e=>h(D).mail_to=e),placeholder:"Multiple recipients use  ,  to separate recipient mailboxes"},null,8,["value"])])])),_:1}),j(u,{label:"Theme",path:"subject"},{default:v((()=>[b("div",E,[j(c,{value:h(D).subject,"onUpdate:value":o[2]||(o[2]=e=>h(D).subject=e),placeholder:""},null,8,["value"])])])),_:1}),j(u,{label:"Text",path:"content"},{default:v((()=>[T])),_:1}),j(u,{label:" ","show-feedback":!1},{default:v((()=>[j(p,{type:"primary",size:"large",onClick:O},{default:v((()=>[x("Send")])),_:1})])),_:1})])),_:1},8,["model"]),j(m,{class:"ml-24px mt-24px"},{default:v((()=>[R])),_:1})])),_:1})}}});export{k as default};
