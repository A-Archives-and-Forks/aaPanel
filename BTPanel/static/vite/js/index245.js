import{_ as e}from"./index104.js?v=1744703330658";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang25.js?v=1744703330658";import{_ as t}from"./index95.js?v=1744703330658";import{_ as s}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1744703330658";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang10.js?v=1744703330658";import{m as o,fR as l,I as n,fS as i}from"./page_layout.js?v=1744703330658";import{b as d,c as p}from"./public.js?v=1744703330658";import{a2 as c,T as m}from"./naive.js?v=1744703330658";import{d as _,O as u,j as f,r as x,R as v,S as k,U as h,P as y,a0 as j,V as g,c as T,a1 as D,af as b,M as w}from"./vue.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1744703330658";import"./theme-chrome.js?v=1744703330658";import"./__commonjsHelpers__.js?v=1744703330658";import"./file.js?v=1744703330658";import"./index96.js?v=1744703330658";import"./common.js?v=1744703330658";const R={class:"px-16px"},U={class:"flex mb-10px"},C={class:"flex-1"},$={class:"ml-16px"},L={class:"text-error"},S=_({__name:"index",setup(e,{expose:a}){const{t:_}=u(),S=f({path:"",checked:!1}),z=x([]),{keys:P,table:B,columns:H}=d([{type:"selection",width:40},{key:"project_name",title:_("Docker.Template.add.index_9")},{key:"conf_file",title:_("Docker.Template.add.index_10")},{key:"remark",title:_("Docker.Template.add.index_3")}]),{loading:I,setLoading:K}=p(),M=async()=>{if(""!==S.path.trim())try{K(!0);const{message:e}=await l({path:S.path,sub_dir:S.checked?"1":"0"});B.data=n(e)?e:[]}finally{P.value=[],z.value=[],K(!1)}else o.error(_("Docker.Template.add.index_11"))},O=(e,a)=>{z.value=a};return a({onConfirm:async()=>{0!==z.value.length?await i({template_list:w(z.value)}):o.error(_("Docker.Template.add.index_12"))}}),(e,a)=>{const o=c,l=r,n=m,i=s,d=t;return v(),k("div",R,[h("div",U,[h("div",C,[y(l,{value:g(S).path,"onUpdate:value":a[1]||(a[1]=e=>g(S).path=e),placeholder:e.$t("Docker.Template.add.index_5")},{suffix:j((()=>[y(o,{checked:g(S).checked,"onUpdate:checked":a[0]||(a[0]=e=>g(S).checked=e),class:"mr-8px"},{default:j((()=>[T(D(e.$t("Docker.Template.add.index_6")),1)])),_:1},8,["checked"])])),_:1},8,["value","placeholder"])]),h("div",$,[y(n,{type:"primary",onClick:M},{default:j((()=>[T(D(e.$t("Public.Btn.Search")),1)])),_:1})])]),y(i,{"checked-row-keys":g(P),"onUpdate:checkedRowKeys":[a[2]||(a[2]=e=>b(P)?P.value=e:null),O],"row-key":"project_name",loading:g(I),"loading-num":7,columns:g(H),data:g(B).data},null,8,["checked-row-keys","loading","columns","data"]),y(d,{class:"mt-20px"},{default:j((()=>[h("li",L,D(e.$t("Docker.Template.add.index_8",[g(P).length])),1)])),_:1})])}}}),z={class:"p-16px"},P=_({__name:"index",emits:["refresh"],setup(t,{expose:s,emit:r}){const o=r,{t:l}=u(),n=x(),i=x("normal"),d=[{key:"normal",label:l("Docker.Template.add.index_13"),isLazy:!0,data:{onRefresh:()=>{o("refresh")}},component:a},{key:"command",label:l("Docker.Template.add.index_14"),isLazy:!0,data:{onRefresh:()=>{o("refresh")}},component:S}];return s({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.onConfirm()),o("refresh")}}),(a,t)=>{const s=e;return v(),k("div",z,[y(s,{ref_key:"tabsRef",ref:n,value:g(i),"onUpdate:value":t[0]||(t[0]=e=>b(i)?i.value=e:null),options:d},null,8,["value"])])}}});export{P as default};
