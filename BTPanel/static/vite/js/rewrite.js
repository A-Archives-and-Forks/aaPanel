import{_ as e}from"./public.js?v=1756367574781";import{o as t,d as s,m as a,w as l}from"./page_layout.js?v=1756367574781";import{u as r}from"./index84.js?v=1756367574781";import{s as i}from"./file.js?v=1756367574781";import u from"./index100.js?v=1756367574781";import{dV as o,da as p,aC as n,el as _}from"./naive.js?v=1756367574781";import{k as m,r as c,R as v,V as d,W as f,a3 as j,S as x,U as g,ak as h,j as w}from"./vue.js?v=1756367574781";import"./common.js?v=1756367574781";import"./__commonjsHelpers__.js?v=1756367574781";import"./index133.js?v=1756367574781";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1756367574781";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1756367574781";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1756367574781";import"./index.vue_vue_type_script_setup_true_lang12.js?v=1756367574781";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1756367574781";import"./index131.js?v=1756367574781";import"./php.js?v=1756367574781";import"./soft.js?v=1756367574781";import"./site.js?v=1756367574781";import"./soft2.js?v=1756367574781";import"./useOperate.js?v=1756367574781";import"./useModal2.js?v=1756367574781";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1756367574781";import"./index.js?v=1756367574781";import"./index.vue_vue_type_script_setup_true_lang.js?v=1756367574781";import"./index101.js?v=1756367574781";import"./theme-monokai.js?v=1756367574781";const y={class:"p-20px"},b={class:"w-160px"},k=m({__name:"rewrite",props:{fileContent:{default:""},filename:{default:""},rlist:{default:()=>[]}},emits:["close"],setup(m,{emit:k}){const C=m,U=k,{filename:R,rlist:S,fileContent:V}=C,A=r(),H=c(null),I=c(null),M=c([]),N=c(""),O=c(V),P=e=>{if("0.default"===e||"0.Current"===e)return R;{const{webserver:e}=A;return"/www/server/panel/rewrite/".concat("openlitespeed"===e?"apache":e,"/").concat(I.value,".conf")}},T=async()=>{const{message:e}=await i({path:R,data:O.value,encoding:"utf-8"});s(e)&&a.success(e.msg),U("close")},W=e=>{var t;N.value=P(e),null==(t=H.value)||t.getContent()};return(()=>{const e=l(S)?S:[];M.value=_(e).map(e=>({label:e,value:e})),e.length&&(I.value=e[0],N.value=P(e[0]))})(),(s,a)=>{const l=o,r=t,i=p,_=n,m=e;return d(),v("div",y,[f(i,{class:"items-center mb-12px"},{default:j(()=>[x("div",b,[f(l,{value:g(I),"onUpdate:value":[a[0]||(a[0]=e=>h(I)?I.value=e:null),W],options:g(M)},null,8,["value","options"])]),x("div",null,[a[4]||(a[4]=x("span",null,"Rewrite rule converter: ",-1)),f(r,{href:"https://www.bt.cn/Tools",target:"_blank"},{default:j(()=>a[3]||(a[3]=[w("Apache to Nginx",-1)])),_:1,__:[3]})])]),_:1}),f(u,{ref_key:"configRef",ref:H,path:g(N),"onUpdate:path":a[1]||(a[1]=e=>h(N)?N.value=e:null),value:g(O),"onUpdate:value":a[2]||(a[2]=e=>h(O)?O.value=e:null),height:350,"show-tips":!1},null,8,["path","value"]),f(i,{class:"items-center mt-12px"},{default:j(()=>[f(_,{type:"primary",onClick:T},{default:j(()=>a[5]||(a[5]=[w("Save",-1)])),_:1,__:[5]})]),_:1}),f(m,{class:"mt-24px"},{default:j(()=>a[6]||(a[6]=[x("li",null,"Please select your application.",-1),x("li",null," If the site cannot be accessed after the rewrite rules set, please try to reset to default. ",-1),x("li",null,"You are able to modify rewrite rules, just save it after modification.",-1)])),_:1,__:[6]})])}}});export{k as default};
