import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.js?v=1749179669910";import{d as a,O as s,_ as t,r as o,j as r,e as l,R as i,S as n,P as p,a1 as d,U as u,V as c}from"./vue.js?v=1749179669910";import{b7 as _,eZ as m,m as v}from"./page_layout.js?v=1749179669910";import{cp as f,cj as x}from"./naive.js?v=1749179669910";import"./__commonjsHelpers__.js?v=1749179669910";import"./common.js?v=1749179669910";import"./public.js?v=1749179669910";const b={class:"px-20px pt-24px pb-8px"},j={class:"w-260px"},h=a({__name:"index",setup(a,{expose:h}){const{t:g}=s(),w=_(),{remoteList:y}=t(w),D=o(null),R=r({sid:y.value.length>0?y.value[0].id:null}),E=l((()=>y.value.map((e=>({label:"".concat(e.ps||e.db_host," (").concat(e.db_host,")"),value:e.id}))))),U={sid:{trigger:"change",validator:(e,a)=>null!==a||new Error(g("Database.tools.index_63"))}};return h({onConfirm:async({hide:e})=>{var a;try{await(null==(a=D.value)?void 0:a.validate());const s=(()=>{const{sid:e}=R;if(null===e)throw v.error(g("Database.tools.index_64")),new Error(g("Database.tools.index_64"));return{sid:e}})();await m(w.type,s),w.setRefresh(!0),e()}catch(s){console.error(s)}}}),(a,s)=>{const t=f,o=x,r=e;return i(),n("div",b,[p(r,{ref_key:"formRef",ref:D,model:c(R),rules:U},{default:d((()=>[p(o,{label:a.$t("Database.tools.index_76"),path:"sid"},{default:d((()=>[u("div",j,[p(t,{value:c(R).sid,"onUpdate:value":s[0]||(s[0]=e=>c(R).sid=e),class:"server-select",options:c(E)},null,8,["value","options"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}});export{h as default};
