import{P as a,o as t,q as s,l as e,_ as o,d as n,p as l}from"./page_layout.js?v=1756367574781";import{d as i,a as r}from"./public.js?v=1756367574781";import{g as u,s as c}from"./php.js?v=1756367574781";import{a as m}from"./soft.js?v=1756367574781";import{dh as p,da as f,aC as d}from"./naive.js?v=1756367574781";import{k as _,P as v,r as S,c as b,a2 as g,V as y,a3 as P,W as x,U as C,j as k,a4 as h,S as j,H as $}from"./vue.js?v=1756367574781";const w={class:"m-2px"},N=l(_({__name:"index",props:{softName:{default:""},openSoft:{default:""}},setup(l){const _=l,{t:N}=v(),R=S({status:!0,s_status:!0,msg:"",version:"0",name:"",title:"",admin:!1,s_version:""}),q=b(()=>a(R.value.name)+" "+R.value.version),{loading:z,setLoading:L}=i(),D=async()=>{try{L(!0);const{message:a}=await u({name:_.softName});n(a)&&(R.value=a)}finally{L(!1)}},H=(t,s)=>{const e="".concat(s," ").concat(q.value),o=N("Component.SoftState.index_1",[s.toLowerCase(),a(R.value.name)]);r({title:e,content:o,onConfirm:async()=>{await c({name:R.value.s_version,type:t}),D()}})},I=()=>{m({name:_.openSoft?_.openSoft:_.softName,title:a(R.value.name),admin:!1})};return D(),(a,n)=>{const l=e,i=o,r=d,u=t,c=s,m=f,_=p;return y(),g(_,{trigger:"hover"},{trigger:P(()=>[C(z)?(y(),g(l,{key:0,width:120,height:32,sharp:!1})):(y(),g(r,{key:1,class:"min-w-120px soft-btn",type:C(R).s_status?"default":"error",onClick:I},{default:P(()=>[x(i,{name:"soft-".concat(a.softName),size:"20"},null,8,["name"]),j("span",w,h(C(q)),1),j("span",{class:$(["iconfont","icon-".concat(C(R).s_status?"start":"stop")])},null,2)]),_:1},8,["type"]))]),default:P(()=>[x(m,{class:"items-center",size:8},{default:P(()=>[x(u,{onClick:n[0]||(n[0]=t=>H(C(R).s_status?"stop":"start",C(R).s_status?a.$t("Public.Status.Stop"):a.$t("Public.Status.Start")))},{default:P(()=>[k(h(C(R).s_status?a.$t("Public.Status.Stop"):a.$t("Public.Status.Start")),1)]),_:1}),x(c,{class:"mx-0!",vertical:""}),x(u,{onClick:n[1]||(n[1]=a=>H("restart",C(N)("Public.Status.Restart")))},{default:P(()=>[k(h(a.$t("Public.Status.Restart")),1)]),_:1}),x(c,{class:"mx-0!",vertical:""}),x(u,{onClick:n[2]||(n[2]=a=>H("reload",C(N)("Public.Status.Reload")))},{default:P(()=>[k(h(a.$t("Public.Status.Reload")),1)]),_:1}),x(c,{class:"mx-0!",vertical:""}),x(u,{onClick:I},{default:P(()=>[k(h(a.$t("Database.Mysql.index_26")),1)]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-155ce671"]]);export{N as _};
