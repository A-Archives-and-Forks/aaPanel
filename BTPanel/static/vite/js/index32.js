const __vite__fileDeps=["js/index116.js?v=1721298337096","js/index.vue_vue_type_script_setup_true_lang6.js?v=1721298337096","js/vue.js?v=1721298337096","js/index.js?v=1721298337096","js/pinia.js?v=1721298337096","css/index34.css?v=1721298337096","js/mail.js?v=1721298337096","js/data.js?v=1721298337096","js/Select.js?v=1721298337096","js/Tag.js?v=1721298337096","js/Empty.js?v=1721298337096","js/useTableColumns.js?v=1721298337096","js/Progress.js?v=1721298337096","css/useTableColumns.css?v=1721298337096"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{g as a,L as t,j as e,k as s,m as i,h as o,B as l,q as n,r,v as m}from"./index.js?v=1721298337096";import{_ as d}from"./index.vue_vue_type_script_setup_true_lang.js?v=1721298337096";import{u,_ as p}from"./useTableData.js?v=1721298337096";import{_ as c,b as _}from"./useTableColumns.js?v=1721298337096";import{e as b,b as h,c as j}from"./mail.js?v=1721298337096";import{l as f,ad as y,f as g,P as w,t as k,S as v,U as x,V as E,q as C,W as q,a1 as A}from"./vue.js?v=1721298337096";import"./pinia.js?v=1721298337096";import"./Skeleton.js?v=1721298337096";import"./DataTable.js?v=1721298337096";import"./Checkbox.js?v=1721298337096";import"./Ellipsis.js?v=1721298337096";import"./Select.js?v=1721298337096";import"./Tag.js?v=1721298337096";import"./Empty.js?v=1721298337096";import"./omit.js?v=1721298337096";import"./Progress.js?v=1721298337096";const M=f({__name:"index",setup(f){const M=A((()=>m((()=>import("./index116.js?v=1721298337096")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])))),{t:T}=y(),D=g({p:1,size:10}),P=a("Add Mailbox",{isEdit:!1,row:void 0,onRefresh:()=>{S()}}),V=()=>{P.data.isEdit=!1,P.data.row=void 0,P.title="Add Mailbox",P.show=!0},{table:U,columns:B}=u([{key:"username",title:"Username",ellipsis:{tooltip:!0}},{key:"quota",title:"Quota",render:a=>t(a.quota)},{key:"domain",title:"Message",ellipsis:{tooltip:!0}},{key:"is_admin",title:"Type",render:a=>1===a.is_admin?"Admin":"General user"},{key:"active",title:"Active",render:a=>w(c,{value:a.active,size:"small",checkedValue:1,uncheckedValue:0,onUpdateValue:async e=>{await b({username:a.username,full_name:a.full_name,quota:t(a.quota),active:e,is_admin:a.is_admin}),a.active=e}},null)},_({width:150,options:a=>[{label:"WebMail",onClick:()=>{console.log(a)}},{label:T("Public.Btn.Edit"),onClick:()=>{L(a)}},{label:T("Public.Btn.Del"),onClick:()=>{R(a)}}]})]),L=a=>{P.data.isEdit=!0,P.data.row=a,P.title="Edit Mailbox",P.show=!0},R=async a=>{o({title:"Delete mailbox",content:"Whether to delete the [".concat(a.username,"] member?"),onConfirm:async()=>{await j({username:a.username}),S()}})},S=async()=>{try{U.loading=!0;const{message:a}=await h(k(D));e(a)&&(U.data=s(a.data)?a.data:[],U.total=i(a.page))}finally{U.loading=!1}};return S(),(a,t)=>{const e=l,s=p,i=d,o=n,m=r;return v(),x(m,{class:"p-16px"},{default:E((()=>[w(i,null,{toolsLeft:E((()=>[w(e,{type:"primary",onClick:V},{default:E((()=>[C("Add Mailbox")])),_:1})])),toolsRight:E((()=>[])),table:E((()=>[w(s,{loading:q(U).loading,data:q(U).data,columns:q(B)},null,8,["loading","data","columns"])])),_:1}),w(o,{show:q(P).show,"onUpdate:show":t[0]||(t[0]=a=>q(P).show=a),title:q(P).title,data:q(P).data,width:480,"min-height":236,footer:!0,component:q(M)},null,8,["show","title","data","component"])])),_:1})}}});export{M as default};
