System.register(["./index-legacy103.js?v=1749179669910","./index-legacy122.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1749179669910","./page_layout-legacy.js?v=1749179669910","./vue-legacy.js?v=1749179669910","./soft-legacy.js?v=1749179669910","./index-legacy84.js?v=1749179669910","./site-legacy.js?v=1749179669910","./public-legacy.js?v=1749179669910","./naive-legacy.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy18.js?v=1749179669910","./domain-input-legacy.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1749179669910","./file-legacy.js?v=1749179669910","./common-legacy.js?v=1749179669910","./__commonjsHelpers__-legacy.js?v=1749179669910","./index-legacy.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy13.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy9.js?v=1749179669910","./site-legacy4.js?v=1749179669910","./index-legacy228.js?v=1749179669910","./index-legacy97.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1749179669910","./theme-chrome-legacy.js?v=1749179669910","./cert-legacy.js?v=1749179669910","./php-legacy.js?v=1749179669910","./index-legacy101.js?v=1749179669910","./ssl-legacy.js?v=1749179669910","./utils-legacy2.js?v=1749179669910","./index-legacy202.js?v=1749179669910","./paypal-js-legacy.js?v=1749179669910","./ssl-lets-progress-legacy.js?v=1749179669910","./columns-legacy.js?v=1749179669910","./index-legacy96.js?v=1749179669910"],(function(e,l){"use strict";var a,t,n,i,r,u,s,d,o,p,_,c,v,m,g,h,f,b,x,w,y,S,j,k,$,P,L,E,U,R,W,q,A,V,C,z,H,F,D,M,N,I,O,T,B,J,Q,G,K,X,Y,Z,ee,le,ae,te,ne,ie,re;return{setters:[e=>{a=e._},e=>{t=e._},e=>{n=e._},e=>{i=e.dr,r=e.N,u=e.g,s=e.f,d=e.c,o=e.o,p=e._,_=e.m,c=e.cC},e=>{v=e.d,m=e._,g=e.ae,h=e.r,f=e.R,b=e.a0,x=e.V,w=e.n,y=e.w,S=e.e,j=e.O,k=e.j,$=e.a1,P=e.U,L=e.a2,E=e.c,U=e.ao,R=e.S,W=e.P,q=e.k,A=e.aj,V=e.v,C=e.m},e=>{z=e.b},e=>{H=e.g,F=e.a,D=e.c,M=e.b},e=>{N=e.aq},e=>{I=e.d},e=>{O=e.cp,T=e.co,B=e.cn,J=e.cj,Q=e._,G=e.c1,K=e.bU,X=e.a2,Y=e.c0,Z=e.T,ee=e.ct,le=e.cs,ae=e.y},e=>{te=e._},e=>{ne=e.D},e=>{ie=e._},e=>{re=e.u},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l=v({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const l=i(),{phpVersion:a}=m(l),t=g(e,"value"),{loading:n,setLoading:u}=I(),s=h([]),d=e=>{a.value=e};return(async()=>{try{u(!0);const{message:e}=await N(),l=r(e)?e:[];s.value=l.reverse().filter((e=>"00"!==e.version)).map((e=>({label:e.name,value:e.version}))),await w(),l.length>0&&(t.value="00"==l[0].version?"":l[0].version,a.value="00"==l[0].version?"":l[0].version)}finally{u(!1)}})(),(e,l)=>{const a=O;return f(),b(a,{value:t.value,"onUpdate:value":[l[0]||(l[0]=e=>t.value=e),d],loading:x(n),options:x(s)},null,8,["value","loading","options"])}}}),ue=v({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const l=i();y((()=>l.phpVersion),(e=>{d(e)}));const a=S((()=>l.phpVersion?"Not supported by current PHP":"Please select PHP version")),t=g(e,"value"),{loading:n,setLoading:u}=I(),s=h([]),d=async e=>{try{u(!0),t.value="";const{message:l}=await H({php_version_short:e});r(l)&&(s.value=l.map((e=>({label:e.version,value:e.version}))),await w(),l.length>0&&(t.value=l[0].version))}finally{u(!1)}};return l.phpVersion&&d(l.phpVersion),(e,l)=>{const i=O;return f(),b(i,{value:t.value,"onUpdate:value":l[0]||(l[0]=e=>t.value=e),loading:x(n),options:x(s),placeholder:x(a)},null,8,["value","loading","options","placeholder"])}}}),se={key:1},de={class:"w-400px"},oe={class:"w-400px"},pe={class:"w-230px"},_e={class:"w-230px"},ce={class:"w-400px"},ve={class:"w-230px mr-16px"},me={class:"w-400px"},ge={class:"w-400px"},he=v({__name:"index",props:{getList:{type:Function}},setup(e,{expose:a}){const r=e,{t:c}=j(),v=i(),{web:g,mysql:w,php:y}=m(v),S=h(null),C=h(null),H=h([]),D=k({type:0,domain_auto:[""],domain:"",weblog_title:"",language:"en",php_version:null,wp_version:null,user_name:u(6),admin_password:s(16,"wp"),pw_weak:!1,admin_email:"",Login_url:"wp-admin",redirection_url:"404",prefix:"wp_"+u(6)+"_",enable_cache:!1,wps:!1,is_create_default_file:!0}),M={domain:{required:!0,trigger:["blur","input"],validator:()=>0!==D.type||""!==D.domain.trim()||new Error(c("Site.RulesError.index_31"))},domain_auto:{trigger:["blur"],validator:(e,l)=>!(1===D.type&&!l[0])||new Error(c("Site.PHP.add_site_23"))},weblog_title:{required:!0,trigger:["blur","input"],validator:()=>""!==D.weblog_title.trim()||new Error(c("Site.RulesError.index_3"))},language:{trigger:"change",validator:()=>null!==D.language||new Error(c("Site.RulesError.index_4"))},php_version:{trigger:"change",validator:()=>null!==D.php_version||new Error(c("Site.RulesError.index_5"))},wp_version:{trigger:"change",validator:()=>null!==D.php_version||new Error(c("Site.RulesError.index_6"))},user_name:{required:!0,trigger:["blur","input"],validator:()=>""!==D.user_name.trim()||new Error(c("Site.RulesError.index_7"))},admin_password:{required:!0,trigger:["blur","input"],validator:()=>""!==D.admin_password.trim()||new Error(c("Site.RulesError.index_8"))},admin_email:{required:!0,trigger:["blur","input"],validator:()=>""!==D.admin_email.trim()||new Error(c("Site.RulesError.index_9"))},redirection_url:{required:!0,trigger:["blur","input"],validator:()=>""!==D.redirection_url.trim()||new Error(c("Site.RulesError.index_12"))},Login_url:{required:!0,trigger:["blur","input"],validator:()=>""!==D.Login_url.trim()||new Error(c("Site.RulesError.index_11"))},prefix:{required:!0,trigger:["blur","input"],validator:()=>""!==D.prefix.trim()||new Error(c("Site.RulesError.index_10"))}},N=e=>{if(S.value?.restoreValidation(),!e)return void(D.domain=D.domain_auto[0]);const l=D.domain.trim();l!==D.domain_auto[0]&&(D.domain_auto=l?[l]:[""],D.domain_auto.forEach(((e,l)=>C.value?.onDomainItemBlur(e,l))))},I=()=>{const{domain:e,php_version:l}=D,a=e.replace(new RegExp(/([-.])/g),"_");if(null===l)throw _.error(c("Site.RulesError.index_5")),new Error(c("Site.RulesError.index_5"));const t=H.value.filter((e=>e.hash)).map((e=>({domain:e.domain,hash:e.hash,support:[...e.auto?["auto"]:[],...e.ssl_cert?["ssl_cert"]:[],...e.cf_proxy?["cf_proxy"]:[]]})));return{webname:{domain:e,domainlist:[],count:0},type:"PHP",port:80,type_id:0,ftp:!1,sql:"MySQL",codeing:"utf8",set_ssl:0,force_ssl:0,project_type:"WP",path:v.sitePath+"/"+(0===D.type?e:D.domain_auto[0]),ps:a,version:l,datauser:"sql_"+a,datapassword:u(16),password:D.admin_password,pw_weak:D.pw_weak?"on":"off",email:D.admin_email,weblog_title:D.weblog_title,language:D.language,user_name:D.user_name,prefix:D.prefix,enable_cache:D.enable_cache?1:0,enable_whl:0,whl_page:D.Login_url?D.Login_url:null,whl_redirect_admin:D.redirection_url?D.redirection_url:null,package_version:D.wp_version,wp_parse_list:1===D.type&&t.length?JSON.stringify(t):null,is_create_default_file:D.is_create_default_file}},O=()=>new Promise(((e,l)=>{0===H.value.filter((e=>e.hash)).length&&1===D.type?(_.error("This domain does not support automatic resolution, please choose manual resolution"),l(!1)):e(!0)}));return a({onConfirm:async()=>{await O(),await(S.value?.validate());const{message:e}=await F(I());d(e)&&r.getList()}}),(e,a)=>{const i=o,r=T,u=B,s=p,d=J,_=Q,c=G,v=K,m=X,h=Y,j=n,k=t;return f(),b(k,{install:x(w).setup&&x(y).setup},{desc:$((()=>[P("span",null,L(e.$t("WP.index_6")),1),x(y).setup?U("",!0):(f(),b(i,{key:0,class:"ml-4px",onClick:a[0]||(a[0]=e=>x(z)("php-8.0"))},{default:$((()=>[E(L(e.$t("WP.index_7")),1)])),_:1})),x(w).setup?U("",!0):(f(),R("span",se,[a[17]||(a[17]=P("span",{class:"mx-4px"},"|",-1)),W(i,{onClick:a[1]||(a[1]=e=>x(z)("mysql"))},{default:$((()=>[E(L(e.$t("WP.index_8")),1)])),_:1})]))])),default:$((()=>[W(j,{ref_key:"formRef",ref:S,model:x(D),rules:M},{default:$((()=>[W(d,{label:e.$t("SSL.index_1")},{default:$((()=>[W(u,{value:x(D).type,"onUpdate:value":[a[2]||(a[2]=e=>x(D).type=e),N]},{default:$((()=>[W(r,{value:0},{default:$((()=>[E(L(e.$t("SSL.index_2")),1)])),_:1}),W(r,{value:1},{default:$((()=>[E(L(e.$t("SSL.index_3")),1)])),_:1})])),_:1},8,["value"]),W(s,{name:"ssl-stars",size:22})])),_:1},8,["label"]),q(W(d,{label:e.$t("Site.Lable.index_1"),path:"domain_auto"},{default:$((()=>[W(ne,{ref_key:"domainInputRef",ref:C,value:x(D).domain_auto,"onUpdate:value":a[3]||(a[3]=e=>x(D).domain_auto=e),"parse-list":x(H),"onUpdate:parseList":a[4]||(a[4]=e=>A(H)?H.value=e:null),is_wp:""},null,8,["value","parse-list"])])),_:1},8,["label"]),[[V,1===x(D).type]]),q(W(d,{label:e.$t("Site.Lable.index_1"),path:"domain"},{default:$((()=>[P("div",de,[W(_,{value:x(D).domain,"onUpdate:value":a[5]||(a[5]=e=>x(D).domain=e),placeholder:e.$t("Site.Placeholder.index_12")},null,8,["value","placeholder"])])])),_:1},8,["label"]),[[V,0===x(D).type]]),W(d,{label:e.$t("Site.Lable.index_20"),path:"weblog_title"},{default:$((()=>[P("div",oe,[W(_,{value:x(D).weblog_title,"onUpdate:value":a[6]||(a[6]=e=>x(D).weblog_title=e),placeholder:e.$t("Site.Placeholder.index_13")},null,8,["value","placeholder"])])])),_:1},8,["label"]),W(d,{label:e.$t("Site.Lable.index_21"),path:"language"},{default:$((()=>[P("div",pe,[W(te,{value:x(D).language,"onUpdate:value":a[7]||(a[7]=e=>x(D).language=e)},null,8,["value"])])])),_:1},8,["label"]),W(d,{label:e.$t("Site.Lable.index_22"),path:"php_version"},{default:$((()=>[P("div",_e,[W(l,{value:x(D).php_version,"onUpdate:value":a[8]||(a[8]=e=>x(D).php_version=e)},null,8,["value"])])])),_:1},8,["label"]),W(d,{label:e.$t("Site.Lable.index_23"),path:"wp_version"},{default:$((()=>[W(v,{class:"items-center",size:8},{default:$((()=>[W(ue,{value:x(D).wp_version,"onUpdate:value":a[9]||(a[9]=e=>x(D).wp_version=e),class:"w-230px"},null,8,["value"]),W(c,{trigger:"hover"},{trigger:$((()=>[W(s,{name:"common-ask",size:"18",color:"#999"})])),default:$((()=>[E(" "+L(e.$t("WP.Add.index_8")),1)])),_:1})])),_:1})])),_:1},8,["label"]),W(d,{label:e.$t("Site.Lable.index_24"),path:"user_name"},{default:$((()=>[P("div",ce,[W(_,{value:x(D).user_name,"onUpdate:value":a[10]||(a[10]=e=>x(D).user_name=e),placeholder:e.$t("Site.Placeholder.index_14")},null,8,["value","placeholder"])])])),_:1},8,["label"]),W(d,{label:e.$t("Site.Lable.index_27"),path:"admin_password"},{default:$((()=>[P("div",ve,[W(_,{value:x(D).admin_password,"onUpdate:value":a[11]||(a[11]=e=>x(D).admin_password=e),placeholder:e.$t("Site.Placeholder.index_15")},null,8,["value","placeholder"])]),W(m,{checked:x(D).pw_weak,"onUpdate:checked":a[12]||(a[12]=e=>x(D).pw_weak=e)},{default:$((()=>[P("span",null,L(e.$t("WP.Add.index_9")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),W(d,{label:e.$t("Site.Lable.index_28"),path:"admin_email"},{default:$((()=>[P("div",me,[W(_,{value:x(D).admin_email,"onUpdate:value":a[13]||(a[13]=e=>x(D).admin_email=e),placeholder:e.$t("Site.Placeholder.index_16")},null,8,["value","placeholder"])])])),_:1},8,["label"]),W(d,{label:e.$t("Site.Lable.index_29"),path:"prefix"},{default:$((()=>[P("div",ge,[W(_,{value:x(D).prefix,"onUpdate:value":a[14]||(a[14]=e=>x(D).prefix=e),placeholder:e.$t("Site.Placeholder.index_17")},null,8,["value","placeholder"])])])),_:1},8,["label"]),W(d,{label:e.$t("Site.Lable.index_31"),"show-feedback":!1},{default:$((()=>[W(m,{checked:x(D).enable_cache,"onUpdate:checked":a[15]||(a[15]=e=>x(D).enable_cache=e),disabled:"nginx"!==x(g).type},{default:$((()=>[P("span",null,L(e.$t("WP.Add.index_10")),1)])),_:1},8,["checked","disabled"])])),_:1},8,["label"]),W(d,{label:e.$t("SSL.SiteSSL.index_18")},{default:$((()=>[W(h,{value:x(D).is_create_default_file,"onUpdate:value":a[16]||(a[16]=e=>x(D).is_create_default_file=e)},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["install"])}}}),fe=v({__name:"upload",props:{path:{default:"/"}},emits:["finish"],setup(e,{emit:l}){const a=e,t=l,n=h([]),i=async({file:e})=>{try{const l=new FormData;l.append("f_path",a.path),l.append("f_name",e.name),l.append("f_start","0"),e.file&&(l.append("blob",e.file),l.append("f_size",e.file.size.toString())),await re(l),t("finish",`${a.path}/${e.name}`)}finally{n.value=[]}};return(e,l)=>{const a=Z,t=c;return f(),b(t,{ref:"upload",class:"w-auto",action:"","file-list":x(n),"onUpdate:fileList":l[0]||(l[0]=e=>A(n)?n.value=e:null),"show-file-list":!1,multiple:!1,"custom-request":i},{default:$((()=>[W(a,null,{default:$((()=>[C(e.$slots,"default")])),_:3})])),_:3},8,["file-list"])}}}),be={class:"w-302px ml-12px"},xe={class:"w-400px"},we={class:"w-230px"},ye=v({__name:"index",setup(e,{expose:a}){const{t:t}=j(),r=i(),{web:u}=m(r),s=h(null),d=h(null),o=k({method:1,bak_file:"",domain:"",sub_path:"",php_version:null,enable_cache:!1}),p={bak_file:{trigger:["blur","input"],validator:()=>""!==o.bak_file.trim()||new Error(t("WP.Add.import_6"))},domain:{trigger:["blur","input"],validator:()=>""!==o.domain.trim()||new Error(t("Site.RulesError.index_31"))},php_version:{trigger:"change",validator:()=>null!==o.php_version||new Error(t("Site.RulesError.index_5"))}},_=S((()=>o.domain?`/${o.domain}/`:"/")),c=()=>{d.value?.restoreValidation()},v=e=>{o.bak_file=e};return a({onConfirm:async()=>{await(s.value?.validate());const e={bak_file:o.bak_file,domain:o.domain,sub_path:o.sub_path,php_ver_short:o.php_version||"",enable_cache:o.enable_cache?1:0};1===o.method?await D(e):await M(e),r.setRefresh(!0)}}),(e,a)=>{const t=ee,i=B,m=J,g=ie,h=Q,w=le,y=ae,S=X,j=n;return f(),b(j,{ref_key:"formRef",ref:s,modelValue:x(o),"onUpdate:modelValue":a[6]||(a[6]=e=>A(o)?o.value=e:null),rules:p},{default:$((()=>[W(m,{label:e.$t("WP.Add.import_1")},{default:$((()=>[W(i,{value:x(o).method,"onUpdate:value":a[0]||(a[0]=e=>x(o).method=e)},{default:$((()=>[W(t,{label:e.$t("WP.Add.import_2"),value:1},null,8,["label"]),W(t,{label:e.$t("WP.Add.import_3"),value:2},null,8,["label"])])),_:1},8,["value"])])),_:1},8,["label"]),W(m,{ref_key:"bakFileRef",ref:d,label:e.$t("WP.Add.import_4"),path:"bak_file"},{default:$((()=>[W(fe,{path:"/www/server/panel/temp",onFinish:v},{default:$((()=>a[7]||(a[7]=[E(" Upload file ")]))),_:1}),P("div",be,[W(g,{value:x(o).bak_file,"onUpdate:value":a[1]||(a[1]=e=>x(o).bak_file=e),"default-path":"/www/backup/wordpress","checked-type":["file"],onChange:c},null,8,["value"])])])),_:1},8,["label"]),W(m,{label:e.$t("Site.Lable.index_1"),path:"domain"},{default:$((()=>[P("div",xe,[W(h,{value:x(o).domain,"onUpdate:value":a[2]||(a[2]=e=>x(o).domain=e),placeholder:e.$t("Site.Placeholder.index_12")},null,8,["value","placeholder"])])])),_:1},8,["label"]),W(m,{label:e.$t("Site.PHP.add_site_9"),path:"path"},{default:$((()=>[W(y,{class:"w-400px"},{default:$((()=>[W(w,null,{default:$((()=>[E(L(x(r).sitePath)+L(x(_)),1)])),_:1}),W(h,{value:x(o).sub_path,"onUpdate:value":a[3]||(a[3]=e=>x(o).sub_path=e),placeholder:e.$t("WP.Add.import_5")},null,8,["value","placeholder"])])),_:1})])),_:1},8,["label"]),W(m,{label:e.$t("Site.Lable.index_22"),path:"php_version"},{default:$((()=>[P("div",we,[W(l,{value:x(o).php_version,"onUpdate:value":a[4]||(a[4]=e=>x(o).php_version=e)},null,8,["value"])])])),_:1},8,["label"]),W(m,{label:e.$t("Site.Lable.index_31"),"show-feedback":!1},{default:$((()=>[W(S,{checked:x(o).enable_cache,"onUpdate:checked":a[5]||(a[5]=e=>x(o).enable_cache=e),disabled:"nginx"!==x(u).type},{default:$((()=>[E(L(e.$t("WP.Add.index_10")),1)])),_:1},8,["checked","disabled"])])),_:1},8,["label"])])),_:1},8,["modelValue"])}}}),Se={class:"p-20px h-full"};e("default",v({__name:"index",props:{done:{type:Function}},setup(e,{expose:l}){const{t:t}=j(),n=e,i=h("single"),r=h(),u=[{key:"single",label:t("WP.Add.index_1"),isLazy:!0,component:he,data:{getList:n.done}},{key:"import",label:t("WP.Add.index_2"),isLazy:!0,component:ye}];return l({onConfirm:async()=>{await(r.value?.onConfirm())}}),(e,l)=>{const t=a;return f(),R("div",Se,[W(t,{ref_key:"tabsRef",ref:r,value:x(i),"onUpdate:value":l[0]||(l[0]=e=>A(i)?i.value=e:null),options:u},null,8,["value"])])}}}))}}}));
