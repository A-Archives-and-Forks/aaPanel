import{_ as t}from"./index.js?v=1744703330658";import{_ as e}from"./index95.js?v=1744703330658";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1744703330658";import{_ as s}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1744703330658";import{O as o,P as i,d as l,_ as n,j as d,e as _,R as r,S as p,a0 as u,c as m,a1 as c,V as b,ap as y,U as x}from"./vue.js?v=1744703330658";import{bj as f,dU as w,dV as v}from"./page_layout.js?v=1744703330658";import{n as D,b as h,f as j,a as g,c as k}from"./public.js?v=1744703330658";import{_ as C}from"./form.vue_vue_type_script_setup_true_lang.js?v=1744703330658";import{T as R}from"./naive.js?v=1744703330658";import"./common.js?v=1744703330658";import"./__commonjsHelpers__.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang.js?v=1744703330658";import"./index243.js?v=1744703330658";function $(){const{t:t}=o();return{key:"db_password",title:t("Database.index_14"),width:160,render:t=>i(D,{value:t.db_password},null)}}function E(){const{t:t}=o();return{key:"ps",title:t("Database.tools.index_62")}}const q={class:"p-20px"},B={key:0},L=l({__name:"index",setup(l){const{t:D}=o(),L=f(),{type:P,remoteList:U}=n(L),V=d({show:!1,title:D("Database.tools.index_41"),data:{row:void 0,isEdit:!1}}),G=()=>{V.data.row=void 0,V.data.isEdit=!1,V.title=D("Database.tools.index_41"),V.show=!0},H=_((()=>U.value.filter((t=>0!==t.id)))),{columns:I}=h([{key:"db_host",title:D("Database.tools.index_42")},{key:"db_port",title:D("Docker.Container.create.index_7")},{key:"db_type",title:D("Database.tools.index_59")},{key:"db_user",title:D("Database.index_13")},$(),E(),j({width:"mysql"===L.type?150:100,options:t=>[{label:"Get DB",show:"mysql"===t.db_type,onClick:()=>{(async t=>{await w(P.value,{sid:t.id}),L.setRefresh(!0)})(t)}},{label:D("Public.Btn.Edit"),onClick:()=>{(t=>{V.data.row=t,V.data.isEdit=!0,V.title=D("Database.tools.index_58"),V.show=!0})(t)}},{label:D("Public.Btn.Del"),onClick:()=>{g({title:"".concat(D("Database.tools.index_60")," [").concat(t.db_host,"]"),content:D("Database.tools.index_61"),onConfirm:async({hide:e})=>{await(async t=>{await v(P.value,{id:t.id}),L.getRemote(),L.setRefresh(!0),L.setDelRemoteId(t.id)})(t),e()}})}}]})]),{loading:O,setLoading:S}=k();return(async()=>{try{S(!0),L.getRemote()}finally{S(!1)}})(),(o,l)=>{const n=R,d=s,_=a,f=e,w=t;return r(),p("div",q,[i(_,null,{toolsLeft:u((()=>[i(n,{type:"primary",onClick:G},{default:u((()=>[m(c(o.$t("Database.tools.index_41")),1)])),_:1})])),table:u((()=>[i(d,{loading:b(O),columns:b(I),data:b(H)},null,8,["loading","columns","data"])])),_:1}),i(f,{class:"mt-24px"},{default:u((()=>["mysql"===b(P)?(r(),p("li",B,c(o.$t("Database.tools.index_49")),1)):y("",!0),x("li",null,c(o.$t("Database.tools.index_50")),1),x("li",null,c(o.$t("Database.tools.index_51")),1),x("li",null,c(o.$t("Database.tools.index_52")),1)])),_:1}),i(w,{show:b(V).show,"onUpdate:show":l[0]||(l[0]=t=>b(V).show=t),title:b(V).title,width:460,footer:!0,data:b(V).data,component:C},null,8,["show","title","data"])])}}});export{L as default};
