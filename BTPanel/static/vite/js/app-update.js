import{_ as e}from"./index.js?v=1753954525509";import{e as t,_ as a}from"./public.js?v=1753954525509";import{u as s,b as l,c as i,p as n,cg as o,m as r,b_ as p,e as _}from"./page_layout.js?v=1753954525509";import{c as u}from"./soft.js?v=1753954525509";import{g as m}from"./soft2.js?v=1753954525509";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang18.js?v=1753954525509";import{cK as d,bY as f,ay as v}from"./naive.js?v=1753954525509";import{k as x,P as j,r as h,X as y,U as w,V as g,Q as b,a2 as k,W as H,a3 as S,j as P,al as $}from"./vue.js?v=1753954525509";import"./common.js?v=1753954525509";import"./__commonjsHelpers__.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang.js?v=1753954525509";import"./index.vue_vue_type_script_setup_true_lang14.js?v=1753954525509";import"./theme-chrome.js?v=1753954525509";import"./file2.js?v=1753954525509";const T={key:0,class:"p-30px"},U=["src"],W=["title"],C={class:"color-#888888"},I={class:"font-600 mt-30px"},L=["innerHTML"],M=_(x({__name:"app-update",props:{row:{},callback:{},hide:{}},setup(_){const{t:x}=j(),M=s(),N=_,{row:q}=N,K=["nginx","apache","mysql","php"],O=h(),Q=h(),R=h(),V=async(e=1)=>{var t;const{message:a}=await o({sName:q.name,version:5===R.value?q.m_version:Q.value,upgrade:5===R.value?q.m_version:Q.value,type:e});if(i(a)){if(a.result)return r.success(a.result),M.taskCount+=1,null==(t=N.callback)||t.call(N),N.hide(),void p();await u({name:a.name,tmp_path:a.tmp_path,title:x("Soft.index_21")},(()=>{var e;null==(e=N.callback)||e.call(N)}))}N.hide()},X=()=>{var e;(e=q.name,K.includes(e)||e.startsWith("php-"))?Y.show=!0:V(1)},Y=t(x("Home.Install.index_7"),{name:q.name,callback:()=>{V(0)}});return(async()=>{const{message:e}=await l({sName:q.name},!0);i(e)&&(R.value=e.type,Q.value=q.m_version+"."+q.version,O.value=e.version)})(),(t,s)=>{const l=d,i=f,o=v,r=n,p=a,_=e;return y(q)?(w(),g("div",T,[b(i,{class:"justify-between! items-center"},{default:k((()=>[b(i,{class:"items-center"},{default:k((()=>[H("img",{class:"w-40px",src:y(m)(y(q).name)},null,8,U),H("div",null,[H("p",{class:"font-600 text-18px max-w-290px truncate",title:"".concat(y(q).title," ").concat(y(O))},S(y(q).title)+" "+S(y(q).title.indexOf("PHP-")>-1?"":y(O)),9,W),b(l,{dot:""},{default:k((()=>[H("p",C,S(t.$t("Soft.index_51"))+"："+S(y(Q)),1)])),_:1})])])),_:1}),b(i,null,{default:k((()=>[b(o,{type:"primary",onClick:X},{default:k((()=>[P(S(t.$t("Home.Update.index_19")),1)])),_:1})])),_:1}),b(r)])),_:1}),H("div",I,S(y(x)("Soft.index_52"))+"：",1),H("span",{class:"py-10px inline-block leading-20px color-#777777",innerHTML:y(q).update_msg},null,8,L),b(p,null,{default:k((()=>[H("li",null,S(t.$t("Soft.index_35")),1),H("li",null,S(y(x)("Soft.index_53")),1),H("li",null,S(y(x)("Soft.index_54")),1)])),_:1}),b(_,{show:y(Y).show,"onUpdate:show":s[0]||(s[0]=e=>y(Y).show=e),title:y(Y).title,data:y(Y).data,width:480,footer:!0,"confirm-text":t.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):$("",!0)}}}),[["__scopeId","data-v-5996c66a"]]);export{M as default};
