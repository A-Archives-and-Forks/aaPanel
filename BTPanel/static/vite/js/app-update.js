import{_ as e}from"./index.js?v=1747989938512";import{e as t,_ as a}from"./public.js?v=1747989938512";import{u as s,b as l,c as i,q as n,R as o,m as r,S as p,p as u}from"./page_layout.js?v=1747989938512";import{u as _}from"./soft.js?v=1747989938512";import{g as m}from"./soft2.js?v=1747989938512";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1747989938512";import{cr as d,bU as f,T as v}from"./naive.js?v=1747989938512";import{d as x,O as h,r as j,V as w,R as y,S as g,P as b,a1 as k,U as S,a2 as H,c as P,ao as T}from"./vue.js?v=1747989938512";import"./common.js?v=1747989938512";import"./__commonjsHelpers__.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang.js?v=1747989938512";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1747989938512";import"./theme-chrome.js?v=1747989938512";import"./file.js?v=1747989938512";const U={key:0,class:"p-30px"},$=["src"],R=["title"],q={class:"color-#888888"},C={class:"font-600 mt-30px"},I=["innerHTML"],L=u(x({__name:"app-update",props:{row:{},callback:{},hide:{}},setup(u){const{t:x}=h(),L=s(),M=u,{row:N}=M,O=["nginx","apache","mysql","php"],W=j(),V=j(),z=j(),A=async(e=1)=>{var t;const{message:a}=await o({sName:N.name,version:5===z.value?N.m_version:V.value,upgrade:5===z.value?N.m_version:V.value,type:e});if(i(a)){if(a.result)return r.success(a.result),L.taskCount+=1,null==(t=M.callback)||t.call(M),M.hide(),void p();await _({name:a.name,tmp_path:a.tmp_path,title:x("Soft.index_21")},(()=>{var e;null==(e=M.callback)||e.call(M)}))}M.hide()},B=()=>{var e;(e=N.name,O.includes(e)||e.startsWith("php-"))?D.show=!0:A(1)},D=t(x("Home.Install.index_7"),{name:N.name,callback:()=>{A(0)}});return(async()=>{const{message:e}=await l({sName:N.name},!0);i(e)&&(z.value=e.type,V.value=N.m_version+"."+N.version,W.value=e.version)})(),(t,s)=>{const l=d,i=f,o=v,r=n,p=a,u=e;return w(N)?(y(),g("div",U,[b(i,{class:"justify-between! items-center"},{default:k((()=>[b(i,{class:"items-center"},{default:k((()=>[S("img",{class:"w-40px",src:w(m)(w(N).name)},null,8,$),S("div",null,[S("p",{class:"font-600 text-18px max-w-290px truncate",title:"".concat(w(N).title," ").concat(w(W))},H(w(N).title)+" "+H(w(N).title.indexOf("PHP-")>-1?"":w(W)),9,R),b(l,{dot:""},{default:k((()=>[S("p",q,H(t.$t("Soft.index_51"))+"："+H(w(V)),1)])),_:1})])])),_:1}),b(i,null,{default:k((()=>[b(o,{type:"primary",onClick:B},{default:k((()=>[P(H(t.$t("Home.Update.index_19")),1)])),_:1})])),_:1}),b(r)])),_:1}),S("div",C,H(w(x)("Soft.index_52"))+"：",1),S("span",{class:"py-10px inline-block leading-20px color-#777777",innerHTML:w(N).update_msg},null,8,I),b(p,null,{default:k((()=>[S("li",null,H(t.$t("Soft.index_35")),1),S("li",null,H(w(x)("Soft.index_53")),1),S("li",null,H(w(x)("Soft.index_54")),1)])),_:1}),b(u,{show:w(D).show,"onUpdate:show":s[0]||(s[0]=e=>w(D).show=e),title:w(D).title,data:w(D).data,width:480,footer:!0,"confirm-text":t.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):T("",!0)}}}),[["__scopeId","data-v-5996c66a"]]);export{L as default};
