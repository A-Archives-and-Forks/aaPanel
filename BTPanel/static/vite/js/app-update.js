import{_ as e}from"./index.js?v=1741416570306";import{_ as t}from"./index95.js?v=1741416570306";import{u as a,f as s,b as i,l,c5 as n,m as o,bo as r,k as p}from"./page_layout.js?v=1741416570306";import{d as _}from"./public.js?v=1741416570306";import{c as u}from"./soft.js?v=1741416570306";import{g as m}from"./soft2.js?v=1741416570306";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang19.js?v=1741416570306";import{ct as d,bO as f,T as v}from"./naive.js?v=1741416570306";import{d as x,M as j,r as h,S as y,P as w,Q as g,N as b,$ as k,R as S,a0 as H,c as $,ao as P}from"./vue.js?v=1741416570306";import"./common.js?v=1741416570306";import"./__commonjsHelpers__.js?v=1741416570306";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1741416570306";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1741416570306";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1741416570306";import"./index.vue_vue_type_script_setup_true_lang.js?v=1741416570306";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1741416570306";import"./theme-chrome.js?v=1741416570306";import"./file.js?v=1741416570306";const T={key:0,class:"p-30px"},M=["src"],N=["title"],C={class:"color-#888888"},I={class:"font-600 mt-30px"},L=["innerHTML"],O=p(x({__name:"app-update",props:{row:{},callback:{},hide:{}},setup(p){const{t:x}=j(),O=a(),R=p,{row:U}=R,W=["nginx","apache","mysql","php"],q=h(),Q=h(),z=h(),A=async(e=1)=>{var t;const{message:a}=await n({sName:U.name,version:5===z.value?U.m_version:Q.value,upgrade:5===z.value?U.m_version:Q.value,type:e});if(i(a)){if(a.result)return o.success(a.result),O.taskCount+=1,null==(t=R.callback)||t.call(R),R.hide(),void r();await u({name:a.name,tmp_path:a.tmp_path,title:x("Soft.index_21")},(()=>{var e;null==(e=R.callback)||e.call(R)}))}R.hide()},B=()=>{var e;(e=U.name,W.includes(e)||e.startsWith("php-"))?D.show=!0:A(1)},D=_(x("Home.Install.index_7"),{name:U.name,callback:()=>{A(0)}});return(async()=>{const{message:e}=await s({sName:U.name},!0);i(e)&&(z.value=e.type,Q.value=U.m_version+"."+U.version,q.value=e.version)})(),(a,s)=>{const i=d,n=f,o=v,r=l,p=t,_=e;return y(U)?(w(),g("div",T,[b(n,{class:"justify-between! items-center"},{default:k((()=>[b(n,{class:"items-center"},{default:k((()=>[S("img",{class:"w-40px",src:y(m)(y(U).name)},null,8,M),S("div",null,[S("p",{class:"font-600 text-18px max-w-290px truncate",title:"".concat(y(U).title," ").concat(y(q))},H(y(U).title)+" "+H(y(U).title.indexOf("PHP-")>-1?"":y(q)),9,N),b(i,{dot:""},{default:k((()=>[S("p",C,H(a.$t("Soft.index_51"))+"："+H(y(Q)),1)])),_:1})])])),_:1}),b(n,null,{default:k((()=>[b(o,{type:"primary",onClick:B},{default:k((()=>[$(H(a.$t("Home.Update.index_19")),1)])),_:1})])),_:1}),b(r)])),_:1}),S("div",I,H(y(x)("Soft.index_52"))+"：",1),S("span",{class:"py-10px inline-block leading-20px color-#777777",innerHTML:y(U).update_msg},null,8,L),b(p,null,{default:k((()=>[S("li",null,H(a.$t("Soft.index_35")),1),S("li",null,H(y(x)("Soft.index_53")),1),S("li",null,H(y(x)("Soft.index_54")),1)])),_:1}),b(_,{show:y(D).show,"onUpdate:show":s[0]||(s[0]=e=>y(D).show=e),title:y(D).title,data:y(D).data,width:480,footer:!0,"confirm-text":a.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):P("",!0)}}}),[["__scopeId","data-v-5996c66a"]]);export{O as default};
