import{_ as e}from"./index.js?v=1744703330658";import{_ as t}from"./index95.js?v=1744703330658";import{u as a,c as s,d as i,l,cR as n,m as o,c7 as r,k as p}from"./page_layout.js?v=1744703330658";import{d as _}from"./public.js?v=1744703330658";import{c as u}from"./soft.js?v=1744703330658";import{g as m}from"./soft2.js?v=1744703330658";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang19.js?v=1744703330658";import{cy as d,bU as v,T as f}from"./naive.js?v=1744703330658";import{d as x,O as j,r as h,V as y,R as w,S as g,P as b,a0 as k,U as S,a1 as H,c as P,ap as T}from"./vue.js?v=1744703330658";import"./common.js?v=1744703330658";import"./__commonjsHelpers__.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang4.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1744703330658";import"./theme-chrome.js?v=1744703330658";import"./file.js?v=1744703330658";const U={key:0,class:"p-30px"},$=["src"],R=["title"],C={class:"color-#888888"},I={class:"font-600 mt-30px"},L=["innerHTML"],M=p(x({__name:"app-update",props:{row:{},callback:{},hide:{}},setup(p){const{t:x}=j(),M=a(),N=p,{row:O}=N,W=["nginx","apache","mysql","php"],q=h(),V=h(),z=h(),A=async(e=1)=>{var t;const{message:a}=await n({sName:O.name,version:5===z.value?O.m_version:V.value,upgrade:5===z.value?O.m_version:V.value,type:e});if(i(a)){if(a.result)return o.success(a.result),M.taskCount+=1,null==(t=N.callback)||t.call(N),N.hide(),void r();await u({name:a.name,tmp_path:a.tmp_path,title:x("Soft.index_21")},(()=>{var e;null==(e=N.callback)||e.call(N)}))}N.hide()},B=()=>{var e;(e=O.name,W.includes(e)||e.startsWith("php-"))?D.show=!0:A(1)},D=_(x("Home.Install.index_7"),{name:O.name,callback:()=>{A(0)}});return(async()=>{const{message:e}=await s({sName:O.name},!0);i(e)&&(z.value=e.type,V.value=O.m_version+"."+O.version,q.value=e.version)})(),(a,s)=>{const i=d,n=v,o=f,r=l,p=t,_=e;return y(O)?(w(),g("div",U,[b(n,{class:"justify-between! items-center"},{default:k((()=>[b(n,{class:"items-center"},{default:k((()=>[S("img",{class:"w-40px",src:y(m)(y(O).name)},null,8,$),S("div",null,[S("p",{class:"font-600 text-18px max-w-290px truncate",title:"".concat(y(O).title," ").concat(y(q))},H(y(O).title)+" "+H(y(O).title.indexOf("PHP-")>-1?"":y(q)),9,R),b(i,{dot:""},{default:k((()=>[S("p",C,H(a.$t("Soft.index_51"))+"："+H(y(V)),1)])),_:1})])])),_:1}),b(n,null,{default:k((()=>[b(o,{type:"primary",onClick:B},{default:k((()=>[P(H(a.$t("Home.Update.index_19")),1)])),_:1})])),_:1}),b(r)])),_:1}),S("div",I,H(y(x)("Soft.index_52"))+"：",1),S("span",{class:"py-10px inline-block leading-20px color-#777777",innerHTML:y(O).update_msg},null,8,L),b(p,null,{default:k((()=>[S("li",null,H(a.$t("Soft.index_35")),1),S("li",null,H(y(x)("Soft.index_53")),1),S("li",null,H(y(x)("Soft.index_54")),1)])),_:1}),b(_,{show:y(D).show,"onUpdate:show":s[0]||(s[0]=e=>y(D).show=e),title:y(D).title,data:y(D).data,width:480,footer:!0,"confirm-text":a.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):T("",!0)}}}),[["__scopeId","data-v-5996c66a"]]);export{M as default};
