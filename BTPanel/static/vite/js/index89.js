import{o as e,H as a,d as s,m as l,I as t,J as n,D as i,K as r,p as o}from"./page_layout.js?v=1756367574781";import{_ as d}from"./index.vue_vue_type_script_setup_true_lang.js?v=1756367574781";import{_ as p}from"./public.js?v=1756367574781";import{k as u,P as m,r as c,e as x,a2 as _,V as v,a3 as g,S as f,a4 as w,R as y,W as h,U as $,j as b,aj as C,av as j,an as L,N as k}from"./vue.js?v=1756367574781";import"./index.js?v=1756367574781";import{dP as P,dQ as z,dR as A,au as U,aC as I,da as q,dS as B,d5 as R}from"./naive.js?v=1756367574781";import"./common.js?v=1756367574781";import"./__commonjsHelpers__.js?v=1756367574781";const F={class:"font-600"},S={class:"info flex mt-50px w-820px mx-auto"},H={class:"tips py-40px w-50%"},K={class:"font-600 text-16px"},D={class:"mt-10px mb-20px font-600 text-16px"},J={key:0,class:"w-50% p-30px"},N={class:"w-100%"},Q={class:"w-100%"},V={class:"flex justify-end mt-8px w-320px"},W={key:1,class:"w-50% p-30px"},E={class:"font-600 text-left"},G={class:"underline"},M={class:"text-16px my-20px text-left"},O={key:0,class:"ml-5px"},T=o(u({__name:"index",setup(o){const{t:u}=m(),T=c(null),X=c(null),Y=x({email:"",password:"",isPro:1}),Z={email:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_5")}},ee=x({username:"",password:"",isPro:1}),ae={username:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_5")}},se=c(!1),le=c(!1),te=e=>{le.value="login"===e},ne=c(60),ie=c(!0);let re;const oe=async()=>{var e;await(null==(e=T.value)?void 0:e.validate());const{message:t}=await a(k(Y));s(t)&&(t.status?(se.value=!0,l.success(t.msg)):l.error(t.msg))},de=async()=>{var e;await(null==(e=X.value)?void 0:e.validate());try{await t(k(le.value?ee:{username:Y.email,password:Y.password,isPro:1}))}catch(a){return void(R(a,"message.validated",!0)||(se.value=!0))}await n({force:1}),i.push("/")},pe=()=>{ie.value=!1,re&&clearInterval(re),re=setInterval(()=>{ne.value--,ne.value<=0&&(clearInterval(re),ne.value=60,ie.value=!0)},1e3);let e=le.value?ee.username:Y.email;r({email:e})};return(a,s)=>{const l=p,t=U,n=A,i=d,r=I,o=z,u=e,m=P,c=q,x=B;return v(),_(x,{class:"box pt-100px flex items-center text-center"},{default:g(()=>[f("h1",F,w(a.$t("Login.index_26")),1),f("div",S,[f("div",H,[s[7]||(s[7]=f("h3",{class:"font-600 mb-20px"},"aaPanel Pro",-1)),f("div",K,w(a.$t("Login.index_29")),1),f("div",D,w(a.$t("Login.index_30")),1),h(l,{class:"text-left pl-30px w-400px"},{default:g(()=>[f("li",null,w(a.$t("Login.index_27")),1),f("li",null,w(a.$t("Login.index_28")),1)]),_:1})]),$(se)?(v(),y("div",W,[f("h3",E,[b(w(a.$t("Login.index_35"))+": ",1),f("span",G,w($(le)?$(ee).username:$(Y).email),1)]),f("div",M,[b(w(a.$t("Login.index_36"))+": ",1),s[9]||(s[9]=f("span",{class:"underline"},"support@aapanel.com",-1))]),h(c,null,{default:g(()=>[h(r,{type:"primary",size:"large",onClick:s[6]||(s[6]=e=>de())},{default:g(()=>[b(w(a.$t("Login.index_37")),1)]),_:1}),h(r,{size:"large",onClick:pe,disabled:!$(ie)},{default:g(()=>[b(w(a.$t("Login.index_38"))+" ",1),$(ie)?L("",!0):(v(),y("span",O,"("+w($(ne))+")",1))]),_:1},8,["disabled"])]),_:1})])):(v(),y("div",J,[h(m,{"default-value":"signup",size:"large",animated:"","onUpdate:value":te},{default:g(()=>[h(o,{name:"signup",tab:"Sign up",class:"text-left"},{default:g(()=>[h(i,{ref_key:"signFormRef",ref:T,model:$(Y),rules:Z,size:"large"},{default:g(()=>[h(n,{path:"email"},{default:g(()=>[h(t,{value:$(Y).email,"onUpdate:value":s[0]||(s[0]=e=>$(Y).email=e),class:"w-320px!",placeholder:a.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])]),_:1}),h(n,{path:"password"},{default:g(()=>[h(t,{value:$(Y).password,"onUpdate:value":s[1]||(s[1]=e=>$(Y).password=e),class:"w-320px!",type:"password",placeholder:a.$t("Config.Panel.index_66")},null,8,["value","placeholder"])]),_:1})]),_:1},8,["model"]),f("div",N,[h(r,{type:"primary",onClick:oe,size:"large",class:"whitespace-normal w-320px!"},{default:g(()=>[b(w(a.$t("Login.index_31")),1)]),_:1})])]),_:1}),h(o,{name:"login",tab:"Login",class:"text-left"},{default:g(()=>[h(i,{ref_key:"loginFormRef",ref:X,model:$(ee),rules:ae,size:"large"},{default:g(()=>[h(n,{path:"username"},{default:g(()=>[h(t,{value:$(ee).username,"onUpdate:value":s[2]||(s[2]=e=>$(ee).username=e),class:"w-320px!",placeholder:a.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])]),_:1}),h(n,{path:"password"},{default:g(()=>[h(t,{value:$(ee).password,"onUpdate:value":s[3]||(s[3]=e=>$(ee).password=e),class:"w-320px!",type:"password",placeholder:a.$t("Config.Panel.index_66"),onKeyup:s[4]||(s[4]=C(j(e=>de(),["prevent"]),["enter"]))},null,8,["value","placeholder"])]),_:1})]),_:1},8,["model"]),f("div",Q,[h(r,{type:"primary",onClick:s[5]||(s[5]=e=>de()),size:"large",class:"whitespace-normal w-320px!"},{default:g(()=>[b(w(a.$t("Login.index_32")),1)]),_:1}),f("div",V,[h(u,{target:"_blank",href:"https://www.aapanel.com/user_admin/login?page=reset"},{default:g(()=>s[8]||(s[8]=[b("Forget Password>>",-1)])),_:1,__:[8]})])])]),_:1})]),_:1})]))])]),_:1})}}}),[["__scopeId","data-v-b6731c12"]]);export{T as default};
