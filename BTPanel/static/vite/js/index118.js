import{_ as e,a}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1721298337096";import{_ as s}from"./index100.js?v=1721298337096";import{i as r,E as l}from"./mail.js?v=1721298337096";import{l as o,r as t,f as d,S as i,Z as u,P as n,V as p,W as m,_ as v,U as f,af as c,t as _}from"./vue.js?v=1721298337096";import{_ as w}from"./useTableColumns.js?v=1721298337096";import{ab as h}from"./index.js?v=1721298337096";import"./use-theme-vars.js?v=1721298337096";import"./Progress.js?v=1721298337096";import"./pinia.js?v=1721298337096";const b={class:"p-20px pb-32px"},x={class:"w-300px"},j={class:"w-300px"},U={class:"w-300px"},k=o({__name:"index",props:{row:{},isEdit:{type:Boolean}},emits:["refresh"],setup(o,{expose:k,emit:y}){const E=o,g=y,{isEdit:C}=E,D=t(null),F=d({user:"",domain:"",forward_user:"",active:1}),P={};return(()=>{const{row:e,isEdit:a}=E;a&&e&&(F.active=e.active,F.user=e.address,F.domain=e.domain,F.forward_user=e.goto)})(),k({onConfirm:async()=>{var e;await(null==(e=D.value)?void 0:e.validate()),C?await r({user:F.user,forward_user:F.forward_user,active:F.active}):await l(_(F)),g("refresh")}}),(r,l)=>{const o=w,t=e,d=h,_=s,k=a;return i(),u("div",b,[n(k,{ref_key:"formRef",ref:D,model:m(F),rules:P},{default:p((()=>[n(t,{label:"Status"},{default:p((()=>[n(o,{value:m(F).active,"onUpdate:value":l[0]||(l[0]=e=>m(F).active=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1}),n(t,{label:"Forwarded users",path:"user"},{default:p((()=>[v("div",x,[n(d,{value:m(F).user,"onUpdate:value":l[1]||(l[1]=e=>m(F).user=e),disabled:m(C),placeholder:"Enter the mailbox that needs to be forwarded"},null,8,["value","disabled"])])])),_:1}),m(C)?c("",!0):(i(),f(t,{key:0,label:"Domain",path:"domain"},{default:p((()=>[v("div",j,[n(d,{value:m(F).domain,"onUpdate:value":l[2]||(l[2]=e=>m(F).domain=e),placeholder:"Domain name of the Forwarded users"},null,8,["value"])])])),_:1})),n(t,{label:"Receiving user",path:"forward_user","show-feedback":!1},{default:p((()=>[v("div",U,[n(_,{value:m(F).forward_user,"onUpdate:value":l[3]||(l[3]=e=>m(F).forward_user=e),rows:3,placeholder:"Users who need to accept forwarded mail. If there are multiple, please separate them with newlines."},null,8,["value"])])])),_:1})])),_:1},8,["model"])])}}});export{k as default};
