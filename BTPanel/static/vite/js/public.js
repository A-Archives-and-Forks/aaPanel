const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index90.js?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang15.js?v=1747989938512","js/page_layout.js?v=1747989938512","js/vue.js?v=1747989938512","js/__commonjsHelpers__.js?v=1747989938512","js/naive.js?v=1747989938512","js/common.js?v=1747989938512","css/page_layout.css?v=1747989938512","js/submit.js?v=1747989938512","js/index97.js?v=1747989938512","css/index13.css?v=1747989938512","css/submit.css?v=1747989938512","js/index91.js?v=1747989938512","js/index.js?v=1747989938512","css/index96.css?v=1747989938512","js/soft.js?v=1747989938512","js/soft2.js?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang4.js?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang5.js?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang6.js?v=1747989938512","css/index14.css?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang.js?v=1747989938512","js/index.vue_vue_type_script_setup_true_lang7.js?v=1747989938512","js/theme-chrome.js?v=1747989938512","js/file.js?v=1747989938512","css/index3.css?v=1747989938512","js/app-install-third.js?v=1747989938512","css/app-install-third.css?v=1747989938512","js/app-update.js?v=1747989938512","css/app-update.css?v=1747989938512","js/index92.js?v=1747989938512","css/index60.css?v=1747989938512","js/index93.js?v=1747989938512","js/paypal-js.js?v=1747989938512","js/open.js?v=1747989938512","js/index102.js?v=1747989938512","css/index18.css?v=1747989938512","css/open.css?v=1747989938512","js/weChat-pay.js?v=1747989938512","css/index61.css?v=1747989938512","js/index94.js?v=1747989938512","css/index59.css?v=1747989938512","js/index95.js?v=1747989938512","css/index67.css?v=1747989938512","js/quota-config.js?v=1747989938512","js/config3.js?v=1747989938512"])))=>i.map(i=>d[i]);
import{g as e,m as t,_ as a,a as s,i as n,u as i,b as l,c as o,d as c,e as u,f as r,h as d,s as p,j as m,k as g,l as _,n as h,o as f,p as v,q as b,r as x,t as y,v as w}from"./page_layout.js?v=1747989938512";import{bq as k,bY as C,_ as P,bR as j,bX as M,bZ as S,bz as O,b_ as q,S as L,bU as T,b$ as A,c0 as E,c1 as V,c2 as B,c3 as W,T as R}from"./naive.js?v=1747989938512";import{r as D,d as I,O as z,f as N,n as H,P as $,c as U,ab as F,j as Q,Y as K,ac as J,ad as Y,ae as G,af as X,e as Z,ag as ee,w as te,R as ae,a0 as se,a1 as ne,m as ie,u as le,V as oe,M as ce,a2 as ue,S as re,U as de,ah as pe,k as me,ai as ge,aj as _e,ak as he,F as fe,i as ve,al as be,am as xe,o as ye,_ as we,an as ke,y as Ce,G as Pe,ao as je,l as Me}from"./vue.js?v=1747989938512";import"./common.js?v=1747989938512";const Se={dynamicModals:D([]),modalInstRefs:{}},Oe=()=>Se;const qe=I({name:"BtModal",props:{data:{type:Object}},setup(e){const{t:a}=z(),s=D(0),n=D(0),i=D(null),l=D(null);return l.value=null,s.value=Math.round(9*Math.random()+1),n.value=Math.round(9*Math.random()+1),N((()=>{H((()=>{i.value&&i.value.focus()}))})),{sum:l,addend1:s,addend2:n,inputRef:i,onConfirm:async i=>{var o,c;return l.value===s.value+n.value?(await(null==(c=null==(o=e.data)?void 0:o.onConfirm)?void 0:c.call(o,i)),i.hide()):t.error(a("Component.Confirm.index_5")),!1}}},render(){var e;const{t:t}=z();return $("div",{class:"p-20px"},[$("div",{class:"flex items-center"},[$("div",{class:"flex-1 text-12px leading-20px"},[k(null==(e=this.data)?void 0:e.content)])]),$("div",{class:"confirm-calc-box flex items-center h-48px mt-12px px-12px bg-#f0f0f0"},[$("div",null,[t("Component.Confirm.index_4")]),$("div",{class:"confirm-calc-num mx-10px"},[this.addend1,U(" + "),this.addend2]),$("div",{class:"mr-10px"},[U("=")]),$("div",{class:"w-90px"},[$(C,{ref:"inputRef",size:"small",placeholder:"",inputProps:{name:"sum"},value:this.sum,showButton:!1,onUpdateValue:e=>{this.sum=e}},null)])])])}}),Le=I({name:"BtModal",props:{data:{type:Object}},setup(e){var a;const{t:s}=z(),n=D(null),i=D(""),l=D((null==(a=e.data)?void 0:a.text)||"");return N((()=>{H((()=>{n.value&&n.value.focus()}))})),{text:l,result:i,inputRef:n,onConfirm:async a=>{var n,o;return i.value===l.value?(await(null==(o=null==(n=e.data)?void 0:n.onConfirm)?void 0:o.call(n,a)),a.hide()):t.error(s("Component.Confirm.index_2")),!1}}},render(){var e;return $("div",{class:"p-20px"},[$("div",{class:"flex items-center"},[$(a,{name:"base-warning",size:"30",color:"#f0a020"},null),$("div",{class:"flex-1  ml-12px text-13px leading-20px"},[k(null==(e=this.data)?void 0:e.content)])]),$("div",{class:"mt-16px p-12px bg-#e6e6e6"},[$(F,{tag:"div",keypath:"Component.Confirm.index_1",scope:"global"},{text_:$("span",{class:"text-error"},[this.text])}),$(P,{ref:"inputRef",size:"small",class:"mt-8px",placeholder:"",inputProps:{name:"confirm_text"},value:this.result,onUpdateValue:e=>{this.result=e}},null)])])}}),Te=function(t){const a=e(),s=Oe();return s.dynamicModals.value.push({...t,key:a,destroy:()=>{s.modalInstRefs["modal-".concat(a)].hide()}}),{hide:()=>{s.modalInstRefs["modal-".concat(a)].hide()}}},Ae=({title:e,content:t,width:s=350,onConfirm:n=()=>{},onPublicClose:i=()=>{}})=>Te({title:e,width:s,footer:!0,onConfirm:n,onPublicClose:i,content:()=>$("div",{class:"flex p-20px"},[$(a,{name:"base-warning",size:"30",color:"#f0a020"},null),$("div",{class:"confirm-content flex-1 ml-10px pt-4px text-14px leading-22px"},[k(t)])])}),Ee=({title:e,content:t,width:a=350,onConfirm:s=()=>{}})=>{Te({title:e,width:a,footer:!0,data:{content:t,onConfirm:s},component:qe})},Ve=({text:e,title:t,content:a,width:s=470,onConfirm:n=()=>{}})=>{Te({title:t,width:s,footer:!0,data:{text:e,content:a,onConfirm:n},component:Le})},Be=({title:e="",desc:t="",data:a=[],columns:n=[],api:i,done:l})=>{Te({title:e,width:440,footer:!0,data:{title:e,desc:t,data:a,columns:n,api:i,done:l},component:K((()=>s((()=>import("./index90.js?v=1747989938512")),__vite__mapDeps([0,1,2,3,4,5,6,7]))))})};function We(e="",t={}){return Q({show:!1,title:e,data:t})}const{t:Re}=n.global,De=e=>"0.00"!==e.price&&(-1==e.endtime||-2==e.endtime),Ie=e=>{switch(e.task){case"-1":return Re("Soft.index_40");case"0":return Re("Soft.index_41");case"-2":return Re("Soft.index_42");case"1":return Re("Public.Btn.Install");default:return"unknown"}},ze=e=>e.versions.map((e=>"".concat(e.m_version,".").concat(e.version))).some((t=>5===e.type?He(e.version,t):$e(e.version,t)))&&e.setup&&!De(e),Ne=e=>e.versions.map((e=>"".concat(e.m_version,".").concat(e.version))).findIndex((t=>5===e.type?He(e.version,t):$e(e.version,t))),He=(e,t)=>{const a=e.split(".").map(Number),s=t.split(".").map(Number),n=a[0],i=a[1],l=a[2]||0,o=s[0],c=s[1],u=s[2]||0;return n===o&&i===c&&(!(0===i&&c>0)&&(l<u?"".concat(n,".").concat(i,".").concat(u+1):!(""!==e||!t)&&t))},$e=(e,t)=>{const a=e.split(".").map(Number),s=t.split(".").map(Number),n=a[0],i=a[1],l=a[2],o=s[0],c=s[1],u=s[2];if(o>n||o===n&&c>(void 0!==i?i:-1)||o===n&&c===(void 0!==i?i:-1)&&u>(void 0!==l?l:-1)){return[o,void 0!==c?c:"",void 0!==u?u:""].filter(Boolean).join(".")}return!1},Ue=()=>{Te({width:574,minHeight:400,component:K((()=>s((()=>import("./submit.js?v=1747989938512")),__vite__mapDeps([8,9,3,4,2,5,6,7,10,11]))))})},Fe=(e,t)=>{const a=Te({width:620,minHeight:200,data:{name:e,callback:t,hide:()=>a.hide()},component:K((()=>s((()=>import("./index91.js?v=1747989938512")),__vite__mapDeps([12,13,3,4,6,2,5,7,14,15,16,17,18,19,20,21,22,23,24,25]))))})},Qe=(e,t)=>{Te({title:Re("Soft.index_25"),width:500,data:{data:e,callback:t},footer:!0,confirmText:Re("Public.Btn.Install"),component:K((()=>s((()=>import("./app-install-third.js?v=1747989938512")),__vite__mapDeps([26,2,3,4,5,6,7,15,27]))))})},Ke=(e,t)=>{const a=Te({width:620,minHeight:200,data:{row:e,callback:t,hide:()=>a.hide()},component:K((()=>s((()=>import("./app-update.js?v=1747989938512")),__vite__mapDeps([28,13,3,4,6,2,5,7,14,15,16,17,18,19,20,21,22,23,24,29]))))})};function Je(){Te({width:950,component:K((()=>s((()=>import("./index92.js?v=1747989938512")),__vite__mapDeps([30,21,5,3,4,6,2,7,31]))))})}async function Ye(){if(!localStorage.getItem("loginActivityShown"))try{await c()}catch(e){Je()}}async function Ge(e){try{const{message:t}=await c(),a=j(t,"data.username","");Te({width:1024,height:680,data:{username:a,...e},component:K((()=>s((()=>import("./index93.js?v=1747989938512")),__vite__mapDeps([32,2,3,4,5,6,7,33,34,35,36,9,10,37,38,39]))))})}catch(t){Je()}}function Xe(e){return new Promise(((t,a)=>{if(i().isFree)return Ge(e),void a(!1);t(!0)}))}async function Ze(e){const{message:t}=await l({sName:e});if(o(t)&&!t.status)return Fe(e),Promise.reject(!1)}async function et(e){try{const t=i();let a="";if(t.aaPanelPro&&t.isFree)a=t.username;else{const{message:e}=await c();a=j(e,"data.username","")}Te({width:1e3,height:720,hideClose:t.aaPanelPro,data:{username:a,...e},component:K((()=>s((()=>import("./index94.js?v=1747989938512")),__vite__mapDeps([40,3,4,2,5,6,7,33,34,35,36,9,10,37,38,41]))))})}catch(t){Je()}}function tt(e=!1){const t=D(e);return{loading:t,setLoading:(e,a=!0)=>{a&&(t.value=e)}}}function at(e){const t=D([]),a=Q({data:[],total:0,loading:!1}),s=D(e);return{keys:t,table:a,columns:s,setLoading:(e,t=!0)=>{t&&(a.loading=e)}}}function st(e,t={}){const a={},s=J(function(){const{host:t,protocol:a}=window.location;return("http:"===a?"ws://":"wss://")+t+"/v2"+e}(),{autoReconnect:{retries:0,delay:500},immediate:t.immediate,onConnected:()=>{!function(){var e;const a={};a["x-http-token"]=null==(e=document.getElementById("request_token_head"))?void 0:e.getAttribute("token"),t.verifyData&&Object.assign(a,t.verifyData);n(a)}(),i()},onMessage:(e,s)=>{var n;if(u(s.data)){const t=JSON.parse(s.data),n=t.callback||t.ws_callback||t.def_name;n&&a[n]&&a[n].callback(e,s)}null==(n=t.onMessage)||n.call(t,e,s)},onDisconnected:t.onDisconnected});const n=e=>{(e=>s.status.value===e)("OPEN")&&s.send(o(e)?JSON.stringify(e):e)},i=()=>{Object.entries(a).forEach((([,e])=>{n(e.data)}))};return{...s,send:(e,t)=>{if(t)a[t.action]={data:e,callback:t.callback};else{const t=r(10);a[t]={data:e,callback:()=>{}}}n(e)},close:()=>{Object.keys(a).forEach((e=>{delete a[e]})),s.close()}}}function nt(){Te({title:n.global.t("Home.index_8"),width:350,minHeight:110,component:K((()=>s((()=>import("./index95.js?v=1747989938512")),__vite__mapDeps([42,13,3,4,6,2,5,7,14,43]))))})}const it=I({__name:"index",props:Y({data:{default:()=>[]},rowKey:{default:"id"},loading:{type:Boolean,default:!1},loadingNum:{default:10},isPage:{type:Boolean,default:!1},maxHeight:{},columns:{default:()=>[]},rowProps:{},storeKey:{}},{page:{default:()=>({page:1,pageSize:10})},pageModifiers:{}}),emits:["update:page"],setup(e){const t=e,a=G(e,"page"),{t:s}=z(),{columns:n,data:i}=X(t),l=()=>M(ce(n.value)),o=D(l()),c=l(),u=Z((()=>{const{rowKey:e}=t;return d(e)?t=>t[e]:e})),r=Z((()=>{const{storeKey:e}=t;return e?"".concat(e,"-page"):""})),h=D([]),f=ee(),v=Q({style:{width:"100%"},showSizePicker:!0,showQuickJumper:!0,pageSizes:[10,20,50,100],prefix:()=>{var e;return null==(e=f.pagePrefix)?void 0:e.call(f)},suffix:e=>$("span",{class:"text-13px text-default"},[s("Public.Table.Page.index_4",[e.itemCount])]),onChange:e=>{a.value.page=e},onUpdatePageSize:e=>{a.value.page=1,a.value.pageSize=e,r.value&&p(r.value,String(e))}});(()=>{if(r.value){const e=g(r.value);e&&(a.value.pageSize=_(e))}})();const b=Z((()=>({...v,page:a.value.page,pageSize:a.value.pageSize})));return te((()=>i.value),(e=>{t.loading||(h.value=e)}),{deep:!0}),te((()=>t.loading),(e=>{if(e){if(o.value.forEach((e=>{"selection"!==e.type&&(e.ellipsis&&delete e.ellipsis,e.render=()=>$(m,null,null))})),0===i.value.length)for(let a=0;a<t.loadingNum;a++){const e={},{rowKey:s}=t;e[d(s)?s:"id"]=a,h.value.push(e)}}else h.value=[],H((()=>{o.value.forEach(((e,t)=>{if("selection"===e.type)return;const a=c[t];a.ellipsis&&(e.ellipsis=a.ellipsis),e.render=a.render})),h.value=i.value}))}),{immediate:!0}),te((()=>t.columns),(()=>{o.value=l(),c.splice(0,c.length),c.push(...l())}),{deep:!0}),(e,t)=>{const a=S;return ae(),se(a,le(e.$attrs,{data:oe(h),"max-height":e.maxHeight,"row-key":oe(u),columns:oe(o),pagination:!!e.isPage&&oe(b),"row-props":e.rowProps}),{empty:ne((()=>[ie(e.$slots,"empty")])),default:ne((()=>[ie(e.$slots,"pagePrefix")])),_:3},16,["data","max-height","row-key","columns","pagination","row-props"])}}}),lt={class:"leading-20px"},ot=I({__name:"index",props:{type:{default:"site"},data:{},callback:{}},setup(e){const{t:t}=z(),a=e,n=Z((()=>{const{data:e}=a,{quota:t}=e;return!t.size})),i=Z((()=>{if(n.value)return 0;const{data:e}=a,t=j(e,"quota.used",0);let s=j(e,"quota.size",0);return s=1024*s*1024,0===s?0:t/s*100})),l=Z((()=>{const{data:e}=a,t=j(e,"quota.used",0);return h(t)})),o=Z((()=>{const{data:e}=a,t=j(e,"quota.size",0);return"".concat(t.toFixed(2)," MB")})),c=Z((()=>i.value<90?"success":"error")),u=new Map([["site","Site"],["ftp","FTP"],["database","Database"]]),r=()=>{Te({title:"".concat(t("Component.Quota.index_5",[a.data.name,u.get(a.type)||"--"])),width:480,minHeight:222,footer:!0,data:{type:a.type,info:a.data,callback:a.callback},component:K((()=>s((()=>import("./quota-config.js?v=1747989938512")),__vite__mapDeps([44,21,5,3,4,6,2,7,45]))))})};return(e,t)=>{const a=f,s=O,u=q;return oe(n)?(ae(),se(a,{key:0,onClick:r},{default:ne((()=>[U(ue(e.$t("Component.Quota.index_2")),1)])),_:1})):(ae(),re("div",{key:1,class:"cursor-pointer",onClick:r},[$(u,{placement:"bottom-start","arrow-point-to-center":!0},{trigger:ne((()=>[$(s,{type:"line",status:oe(c),percentage:oe(i),height:12,"border-radius":2,"show-indicator":!1},null,8,["status","percentage"])])),default:ne((()=>[de("div",lt,[de("p",null,ue(e.$t("Component.Quota.index_3",[oe(l)])),1),de("p",null,ue(e.$t("Component.Quota.index_12",[oe(o)])),1),de("p",null,ue(e.$t("Component.Quota.index_4")),1)])])),_:1})]))}}}),ct=v(I({__name:"index",props:{value:{default:""},onUpdateValue:{},onBlur:{}},setup(e){const t=e,a=pe(t,"value"),s=e=>{var a;const s=e.target;null==(a=null==t?void 0:t.onBlur)||a.call(t,s.value||"",e)};return(e,t)=>me((ae(),re("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>_e(a)?a.value=e:null),class:"bt-table-input",onBlur:s},null,544)),[[ge,oe(a)]])}}),[["__scopeId","data-v-04feea87"]]),ut=I({__name:"index",props:{value:{type:[Number,String,Boolean,null],default:"1"},checkedValue:{type:[Number,String,Boolean],default:"1"},uncheckedValue:{type:[Number,String,Boolean],default:"0"},checkedLabel:{default:""},uncheckedLabel:{default:""},onClick:{default:void 0}},setup(e){const t=e,a=()=>{const{value:e,checkedValue:a,uncheckedValue:s,onClick:n}=t;n&&L(n,e===a?s:a)};return(e,t)=>{const s=T;return ae(),se(s,{class:he(["items-center cursor-pointer",e.value===e.checkedValue?"text-primary":"text-error"]),size:0,inline:!0,onClick:a},{default:ne((()=>[de("span",null,ue(e.value===e.checkedValue?e.checkedLabel||e.$t("Public.Status.Running"):e.uncheckedLabel||e.$t("Public.Status.Stopped")),1),de("span",{class:he(["iconfont mt-1px","icon-".concat(e.value===e.checkedValue?"start":"stop")])},null,2)])),_:1},8,["class"])}}});const rt=I({name:"BtLinkGroup",props:{options:{type:Array,default:()=>[]}},render(){let e;return $(T,{class:"items-center",justify:"end",inline:!0,size:0},"function"==typeof(t=e=this.options.filter((e=>void 0===e.show||e.show)).map(((e,t)=>{const s=e.linkType||"default";return $(fe,null,[0!==t?$(b,{class:"mx-4px!",vertical:!0},null):"","default"===s?$(f,{disabled:e.disabled||!1,class:e.class,type:e.type,width:e.width||"auto",onClick:()=>{var t;null==(t=e.onClick)||t.call(e)}},{default:()=>[e.label]}):"","dropdown"===s?$(A,e.dropdown||{},{default:()=>[$(f,{disabled:e.disabled||!1,onClick:()=>{var t;null==(t=e.onClick)||t.call(e)}},{default:()=>[e.label,$(a,{name:"base-arrow-bottom",size:"13"},null)]})]}):""])})))||"[object Object]"===Object.prototype.toString.call(t)&&!ve(t)?e:{default:()=>[e]});var t}}),dt=I({__name:"index",props:{disabled:{type:Boolean,default:!1},tips:{},value:{type:[Boolean,String,Number],default:!1},onClick:{}},setup(e){let t=D(!0);const a=e;"string"==typeof a.value||"number"==typeof a.value?t.value=!!a.value:t.value=a.value;const s=()=>{const{onClick:e}=a;e&&L(e,t.value)};return(e,a)=>{const n=E,i=V;return ae(),se(i,{trigger:"hover",disabled:!(e.disabled&&oe(t))},{trigger:ne((()=>[$(n,{size:"small",value:oe(t),"onUpdate:value":[a[0]||(a[0]=e=>_e(t)?t.value=e:t=e),s],disabled:e.disabled&&oe(t)},null,8,["value","disabled"])])),default:ne((()=>[U(" "+ue(e.tips),1)])),_:1},8,["disabled"])}}}),pt=async e=>{const{copy:a,isSupported:s}=be({legacy:!0});s.value?(a(e),t.success(n.global.t("Utils.Copy.index_1"))):t.error(n.global.t("Utils.Copy.index_2"))},mt={class:"flex"},gt={class:"w-0 flex-1 flex items-center"},_t={class:"min-w-0"},ht=I({__name:"index",props:{value:{default:""}},setup(e){const t=e,s=D(!1),n=Z((()=>s.value?t.value:"**********")),i=Z((()=>s.value?"icon-eye-close":"icon-browse")),l=()=>{s.value=!s.value},o=async()=>{pt("".concat(t.value))};return(e,t)=>{const s=B,c=a;return ae(),re("div",mt,[de("div",gt,[de("div",_t,[$(s,{class:"max-w-full",tooltip:{contentStyle:{maxWidth:"200px"}}},{default:ne((()=>[U(ue(oe(n)),1)])),_:1})]),de("div",{class:"ml-6px text-15px cursor-pointer",title:"Show",onClick:l},[de("i",{class:he(["iconfont",oe(i)])},null,2)]),de("button",{class:"reset ml-6px text-15px cursor-pointer text-#333",title:"Copy",onClick:o},[$(c,{name:"common-copy"})])])])}}});function ft(e={}){return{key:e.key||"quota",title:e.title||n.global.t("Component.Quota.index_1"),width:e.width||"8%",minWidth:e.minWidth||100,maxWidth:e.maxWidth||120,render:t=>$(ot,{type:e.type||"",data:t,callback:e.callback},null)}}function vt(e={}){const t=xe();return{key:e.key||"path",title:e.title||n.global.t("Public.Table.Path"),width:e.width,minWidth:e.minWidth||120,ellipsis:{tooltip:!0},render:e=>$("a",{class:"text-primary hover:text-primary-hover",href:"javascript:;",onClick:()=>{x("Path",e.path),t.push("/files")}},[e.path])}}function bt(e){const{key:t="status"}=e;return{key:e.key||"status",title:e.title||n.global.t("Public.Table.Status"),width:e.width,minWidth:70,render:a=>$(ut,{value:a[t],"checked-title":e.checkedLabel||n.global.t("Public.Status.Running"),"unchecked-title":e.uncheckedLabel||n.global.t("Public.Status.Stop"),checkedValue:e.checkedValue,uncheckedValue:e.uncheckedValue,onClick:t=>{e.confirm&&Ae(e.confirm(t,a))}},null)}}function xt(e){const{key:t="status"}=e;return{key:e.key||"Caching(nginx)",title:e.title||"Caching(nginx)",width:e.width,minWidth:70,render:a=>$(dt,{disabled:!!e.disabled&&e.disabled(a),tips:e.tips,value:a[t],onClick:t=>{e.onClick(t,a)}},null)}}function yt(e){const{key:t="status"}=e;return{key:t,title:e.title||n.global.t("Public.Table.Status"),width:e.width||"8%",minWidth:e.minWidth||80,render:a=>{const s=e.status(a);return $(ut,{value:a[t],"checked-label":s.checkedLabel,"checked-value":s.checkedValue,"unchecked-label":s.uncheckedLabel,"unchecked-value":s.uncheckedValue,onClick:e=>{var t;null==(t=s.onClick)||t.call(s,e)}},null)}}}function wt(e){const{key:t="ps"}=e;return{key:t,title:e.title||n.global.t("Public.Table.Note"),width:e.width,minWidth:e.minWidth||120,render:a=>$(ct,{value:a[t],onBlur:async(s,n)=>{const i=a[t];if(i!==s)try{await e.onBlur(s,a),a[t]=s}catch(l){n.target.value=i,console.error(l)}}},null)}}function kt(e){return{key:e.key||"action",title:e.title||n.global.t("Public.Table.Action"),align:e.align||"right",width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,render:(t,a)=>{var s;return $(rt,{options:(null==(s=e.options)?void 0:s.call(e,t,a))||[]},null)}}}function Ct(e={}){const t=e.key||"password";return{key:t,title:e.title||n.global.t("Public.Table.Password"),width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,render:e=>{const a=e[t];return $(ht,{value:d(a)?a:""},null)}}}function Pt(e={}){const t=e.key||"progress",a=e.placement||"inside",s=e.loading||!0;return{key:t,title:e.title||n.global.t("Mail.Unsubscribe.index_26"),width:e.width||"10%",minWidth:100,maxWidth:e.maxWidth,render:n=>$(O,{type:"line","indicator-placement":a,percentage:n[t],processing:s&&100!==n[t],height:e.height,status:e.status,color:e.color},null)}}const jt=e=>y.post("/ssl_domain?action=list_dns_api",e),Mt=e=>y.post("/ssl_domain?action=create_dns_api",e,{requestOptions:{loading:n.global.t("WP.api.tamper_2"),successMessage:!0}}),St=e=>y.post("/ssl_domain?action=edit_dns_api",e,{requestOptions:{loading:n.global.t("Crontab.Api.index_5"),successMessage:!0}}),Ot=e=>y.post("/ssl_domain?action=delete_dns_api",e,{requestOptions:{loading:n.global.t("Mail.Api.index_37"),successMessage:!0}}),qt=()=>y.post("/ssl_domain?action=get_dns_support"),Lt=e=>y.post("/ssl_domain?action=list_dns_record",e),Tt=e=>y.post("/ssl_domain?action=create_dns_record",e,{requestOptions:{loading:n.global.t("WP.api.tamper_2"),successMessage:!0}}),At=e=>y.post("/ssl_domain?action=edit_dns_record",e,{requestOptions:{loading:n.global.t("Crontab.Api.index_5"),successMessage:!0}}),Et=e=>y.post("/ssl_domain?action=delete_dns_record",e,{requestOptions:{loading:n.global.t("Mail.Api.index_37"),successMessage:!0}}),Vt=e=>y.post("/ssl_domain?action=list_domain_details",e),Bt=e=>y.post("/ssl_domain?action=switch_ssl_alarm",e,{requestOptions:{loading:n.global.t("Crontab.Api.index_5"),successMessage:!0}}),Wt=e=>y.post("/ssl_domain?action=sync_dns_info",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!0}}),Rt=e=>y.post("/ssl_domain?action=list_ssl_info",e),Dt=e=>y.post("/ssl_domain?action=download_cert",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),It=e=>y.post("/ssl_domain?action=renew_cert",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!0}}),zt=(e,t=!0)=>y.post("/ssl_domain?action=apply_new_ssl",e,{requestOptions:{loading:t?n.global.t("Login.index_22"):"",successMessage:!1}}),Nt=e=>y.post("/ssl_domain?action=upload_cert",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),Ht=e=>y.post("/ssl_domain?action=switch_auto_renew",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!0}}),$t=e=>y.post("/ssl_domain?action=cert_domain_list",e),Ut=e=>y.post("/ssl_domain?action=cert_deploy_sites",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),Ft=e=>y.post("/ssl_domain?action=cert_deploy_mails",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),Qt=e=>y.post("/ssl_domain?action=cert_deploy_panel",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!0}}),Kt=e=>y.post("/ssl_domain?action=remove_cert",e,{requestOptions:{loading:n.global.t("Mail.Api.index_37"),successMessage:!0}}),Jt=e=>y.post("/ssl_domain?action=check_domain_automatic",e),Yt=e=>y.post("/files?action=GetFileBody",e,{requestOptions:{errorMessage:!1}}),Gt=()=>y.post("/ssl_domain?action=ssl_tasks_status"),Xt=e=>y.post("/plugin?action=a&name=mail_sys&s=get_auto_cert",e,{requestOptions:{loading:n.global.t("Login.index_22"),errorMessage:!1}}),Zt=e=>y.post("/plugin?action=a&name=mail_sys&s=auto_deploy_cert",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!0}}),ea=()=>y.post("/business_ssl?action=get_product_list"),ta=e=>y.post("/business_ssl?action=apply_cert_order_pay",e),aa=()=>y.post("/business_ssl?action=get_cert_admin"),sa=e=>y.post("/business_ssl?action=list_business_ssl",e),na=e=>y.post("/data?action=getData",e),ia=e=>y.post("/business_ssl?action=apply_order_ca",e,{requestOptions:{loading:n.global.t("Account.Account.accountState-721844-19"),successMessage:!0}}),la=e=>y.post("/business_ssl?action=get_verify_result",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),oa=e=>y.post("/business_ssl?action=check_domain_suitable",e),ca=()=>y.post("/ssl_domain?action=get_sites"),ua=e=>y.post("/ssl_domain?action=manual_apply_check",e,{requestOptions:{loading:n.global.t("Login.index_22"),successMessage:!1}}),ra={class:"bt-tips-ul flex flex-col gap-4px list-outside list-disc leading-20px text-[#777]"};const da=v({},[["render",function(e,t){return ae(),re("ul",ra,[ie(e.$slots,"default")])}]]);function pa(e,t=3){let a=null,s=!1,n=0;const i=()=>{s||n>=3?l():a=window.setTimeout((async()=>{try{await e(),n=0}catch(t){n++}finally{i()}}),1e3*t)},l=()=>{a&&(clearTimeout(a),a=null)};return ye((()=>{s=!0,l()})),{loop:i,clearTimer:l}}async function ma(){await w("/static/vite/oldjs/jquery-2.2.4.min.js?v=1747989938512"),await w("/static/layer/layer.js?v=1747989938512"),await w("/static/vite/oldjs/jsencrypt.min.js?v=1747989938512"),await w("/static/language/English/lan.js?v=1747989938512")}async function ga(){await Promise.all([w("/static/codemirror/lib/codemirror.js?v=1747989938512"),w("/static/laydate/laydate.js?v=1747989938512"),w("/static/vite/oldjs/clipboard.min.js?v=1747989938512"),w("/static/vite/oldjs/soft.js?v=1747989938512"),w("/static/vite/oldjs/public.js?v=1747989938512"),w("/static/vite/oldjs/public_backup.js?v=1747989938512"),w("/static/vite/oldjs/tools.js?v=1747989938512")])}async function _a(){await ma(),await ga(),loginActivity()}function ha(e){const t=D("auto"),a=i(),{mainHeight:s}=we(a),{top:n,bottom:l}=ke(e);return Ce((()=>{if(0===s.value)return;const e=document.querySelector("#layout-main"),a=null==e?void 0:e.children[0],i=null==a?void 0:a.getBoundingClientRect(),o=((null==i?void 0:i.bottom)||0)-l.value;t.value="".concat(s.value-n.value-o,"px")})),{height:t}}function fa(e){const t=i(),{mainHeight:a}=we(t),{top:s,bottom:n}=ke(e);return{height:Z((()=>{if(0===a.value)return"auto";const e=document.querySelector("#layout-main"),t=null==e?void 0:e.children[0],i=null==t?void 0:t.getBoundingClientRect(),l=((null==i?void 0:i.bottom)||0)-n.value;return"".concat(a.value-s.value-l,"px")}))}}function va(e=100){const t=D(0);let a=null;return function s(){a=requestAnimationFrame((()=>{t.value++,t.value>=e||s()}))}(),Pe((()=>{a&&cancelAnimationFrame(a)})),{defer:function(e){return t.value>=e}}}function ba(){N((()=>{setTimeout((()=>{ma()}),1e3)}))}const xa=["innerHTML"],ya=I({__name:"apply-progress",setup(e){const t=D("Applying for a certificate..."),a=async()=>{const{message:e}=await Yt({path:"/www/server/panel/logs/letsencrypt.log"});o(e)&&(t.value=e.data?e.data:"None")};a();let s=null;return N((()=>{s=setInterval((()=>{a()}),1e3)})),Pe((()=>{s&&clearInterval(s)})),(e,a)=>(ae(),re("pre",{innerHTML:oe(t),class:"h-full overflow-auto bg-black text-white p-10px whitespace-pre-wrap"},null,8,xa))}}),wa={class:"p-16px"},ka={class:"flex items-center"},Ca=I({__name:"manual-parse",props:{manualParse:{},site_id:{},callback:{type:Function},tips:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const{t:s}=z(),n=e,i=t,{table:l,columns:o}=at([{key:"domain",title:s("Mail.Domain.index_3")},{key:"auth_value",title:s("Mail.Domain.index_38")},{key:"type",title:s("Ftp.Table.index_3"),width:80},{key:"must",title:"Essential",width:100}]),{loading:c,setLoading:u}=tt(),r=async()=>{const e=Te({width:500,height:300,hideClose:!0,component:ya});try{await(t={site_id:n.site_id},y.post("/ssl_domain?action=manual_apply_vaild",t,{requestOptions:{loading:"",successMessage:!0,errorMessage:!1}}))}catch(a){ja(j(a,"message",""))}finally{e.hide(),i("close"),n.callback()}var t};return(()=>{try{u(!0),n.manualParse.length&&(l.data=n.manualParse.map((e=>({...e.data}))).flatMap((e=>Object.values(e))))}finally{u(!1)}})(),(e,t)=>{const s=W,i=a,u=it,d=R,p=T,m=da;return ae(),re("div",wa,[n.tips?(ae(),se(s,{key:0,type:"warning",class:"mb-10px"},{default:ne((()=>t[0]||(t[0]=[de("span",null,"You have unfinished application tasks, please complete them first.",-1)]))),_:1})):je("",!0),$(s,{"show-icon":!1,class:"mb-10px"},{default:ne((()=>[de("div",ka,[$(i,{name:"base-info",size:"17",class:"mr-8px"}),t[1]||(t[1]=de("span",{class:"leading-17px"},"Please do TXT analysis according to the following list",-1))])])),_:1}),$(u,{loading:oe(c),"loading-num":2,columns:oe(o),data:oe(l).data,"max-height":"450px"},null,8,["loading","columns","data"]),$(p,{justify:"end",class:"my-10px"},{default:ne((()=>[$(d,{type:"primary",onClick:r},{default:ne((()=>[U(ue(e.$t("SSL.Business.index_54")),1)])),_:1})])),_:1}),$(m,null,{default:ne((()=>[t[2]||(t[2]=de("li",{class:"text-error"},"It takes some time to resolve the domain name to take effect. After completing all the resolution operations, please wait 1 minute before clicking the verification button",-1)),de("li",null,"You can manually verify whether the domain name resolution is effective through CMD commands: nslookup -q=txt "+ue(oe(l).data[0].domain),1),t[3]||(t[3]=de("li",null,"If you are using Pagoda Cloud Resolution Plugin, Alibaba Cloud DNS, DnsPod as DNS, you can use the DNS interface to automatically resolve",-1))])),_:1})])}}});function Pa(e,t,a,s){Te({title:"Manually parse TXT records",width:700,minHeight:400,data:{manualParse:e,site_id:t,callback:a,tips:s},component:Ca})}function ja(e){Te({title:n.global.t("SSL.index_31"),content:()=>Me("pre",{style:{padding:"10px",color:"#fff",maxHeight:"300px",overflow:"auto",backgroundColor:"#000",whiteSpace:"pre-wrap",wordBreak:"break-word"}},JSON.stringify(e,null,2)),width:480})}export{Vt as $,fa as A,bt as B,vt as C,Xe as D,Ge as E,Ze as F,va as G,ba as H,Pt as I,Ct as J,xt as K,_a as L,ze as M,Ne as N,Ke as O,De as P,Ie as Q,Ue as R,dt as S,Qe as T,St as U,Ot as V,jt as W,At as X,Et as Y,Lt as Z,da as _,Ae as a,Wt as a0,rt as a1,Bt as a2,la as a3,Kt as a4,sa as a5,Ht as a6,Rt as a7,It as a8,ea as a9,ta as aa,Gt as ab,Nt as ac,Ut as ad,ua as ae,Pa as af,ya as ag,zt as ah,ja as ai,Ye as aj,Yt as ak,Ve as al,Zt as am,Xt as an,Mt as ao,qt as ap,Tt as aq,na as ar,oa as as,ia as at,aa as au,$t as av,Qt as aw,Ft as ax,ca as ay,Dt as az,et as b,at as c,tt as d,We as e,kt as f,Oe as g,it as h,pt as i,Jt as j,nt as k,pa as l,Fe as m,Je as n,yt as o,ut as p,ht as q,ft as r,wt as s,ma as t,Te as u,ga as v,Be as w,ha as x,st as y,Ee as z};
