const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index185.js?v=1744703330658","js/index95.js?v=1744703330658","js/page_layout.js?v=1744703330658","js/vue.js?v=1744703330658","js/__commonjsHelpers__.js?v=1744703330658","js/naive.js?v=1744703330658","js/common.js?v=1744703330658","js/public.js?v=1744703330658","css/public.css?v=1744703330658","css/page_layout.css?v=1744703330658","js/index.vue_vue_type_script_setup_true_lang.js?v=1744703330658","js/mail.js?v=1744703330658","js/index.vue_vue_type_script_setup_true_lang6.js?v=1744703330658","js/ssl.js?v=1744703330658","js/index.js?v=1744703330658","css/index93.css?v=1744703330658","js/index.vue_vue_type_script_setup_true_lang4.js?v=1744703330658","js/index.vue_vue_type_script_setup_true_lang8.js?v=1744703330658","css/index19.css?v=1744703330658","js/index.vue_vue_type_script_setup_true_lang5.js?v=1744703330658","js/index186.js?v=1744703330658","js/index187.js?v=1744703330658","js/index104.js?v=1744703330658","css/index21.css?v=1744703330658","js/index99.js?v=1744703330658","css/index16.css?v=1744703330658","css/index78.css?v=1744703330658","js/index188.js?v=1744703330658","css/index79.css?v=1744703330658","js/index189.js?v=1744703330658","css/index80.css?v=1744703330658","js/index190.js?v=1744703330658","js/index103.js?v=1744703330658","css/index20.css?v=1744703330658","js/install.js?v=1744703330658","js/site.js?v=1744703330658"])))=>i.map(i=>d[i]);
import{d as a,aS as t,i as e,u as i,_ as n,cC as o,h as s,j as l,I as d,b9 as r,a as m}from"./page_layout.js?v=1744703330658";import{_ as c}from"./index.js?v=1744703330658";import{_}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1744703330658";import{_ as u}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1744703330658";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1744703330658";import{d as h,b as w,f as g,a as x,e as f}from"./public.js?v=1744703330658";import{j as y,k as b,l as D,m as M,n as k,o as j,p as v}from"./mail.js?v=1744703330658";import{d as C,r as E,V as S,R as P,$ as R,a0 as O,ap as z,c as U,a1 as I,P as L,O as T,_ as W,j as V,F as q,M as A,S as $,i as N,Y as B}from"./vue.js?v=1744703330658";import{cq as F,T as H,bZ as Y,bU as Z,b$ as G,cp as J,a2 as K,ck as Q}from"./naive.js?v=1744703330658";const X=C({__name:"index",setup(t){const e=E(),i=E(0),n=async a=>{await b({operation:a}),o()},o=async()=>{const{message:t}=await y();a(t)&&(e.value=t.status,i.value=t.count)};return o(),(a,t)=>{const o=H,s=F;return 0===S(e)&&S(i)?(P(),R(s,{key:0,type:"warning",class:"mb-16px"},{default:O((()=>[U(I(a.$t("Mail.Domain.index_55"))+" ",1),L(o,{type:"primary",class:"mx-16px",onClick:t[0]||(t[0]=a=>n(1))},{default:O((()=>[U(I(a.$t("Mail.Domain.index_56")),1)])),_:1}),L(o,{type:"primary",text:"",onClick:t[1]||(t[1]=a=>n(-1))},{default:O((()=>[U(I(a.$t("Ftp.Table.index_8")),1)])),_:1})])),_:1})):z("",!0)}}}),aa=a=>t.post("/plugin?action=a&name=mail_sys&s=deploy_roundcube",a,{requestOptions:{loading:"Installing, please wait..."}}),ta=a=>t.post("/plugin?action=a&name=mail_sys&s=open_domain_ssl_alarm",a,{requestOptions:{loading:e.global.t("Crontab.Api.index_2"),successMessage:!0}}),ea=a=>t.post("/plugin?action=a&name=mail_sys&s=get_domain_record",a);const ia=C({__name:"index",setup(e){const y=B((()=>m((()=>import("./index185.js?v=1744703330658")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])))),b=B((()=>m((()=>import("./index186.js?v=1744703330658")),__vite__mapDeps([20,10,5,3,4,6,11,2,7,8,9])))),C=B((()=>m((()=>import("./index187.js?v=1744703330658")),__vite__mapDeps([21,22,3,4,5,6,2,7,8,9,23,1,24,25,11,10,12,13,14,15,16,17,18,19,26])))),R=B((()=>m((()=>import("./index188.js?v=1744703330658")),__vite__mapDeps([27,7,3,4,2,5,6,9,8,11,28])))),z=B((()=>m((()=>import("./index189.js?v=1744703330658")),__vite__mapDeps([29,12,2,3,4,5,6,7,8,9,30])))),F=B((()=>m((()=>import("./index190.js?v=1744703330658")),__vite__mapDeps([31,32,2,3,4,5,6,7,8,9,33,11])))),aa=B((()=>m((()=>import("./install.js?v=1744703330658")),__vite__mapDeps([34,10,5,3,4,6,2,7,8,9,35,14,15,16,17,18,19,12,11])))),{t:ta}=T(),ea=i(),{isPro:ia}=W(ea),na=V({p:1,size:10}),oa=h("",{isEdit:!1,onRefresh:()=>{va()}}),sa=()=>{oa.data.isEdit=!1,oa.title=ta("Mail.Domain.index_1"),oa.show=!0},{table:la,columns:da}=w([{key:"domain",title:ta("Mail.Domain.index_3"),minWidth:130,ellipsis:{tooltip:!0}},{key:"domain",width:"18%",minWidth:210,title:ta("Mail.Domain.index_51"),render:a=>{const{blacklisted:t}=a.domain_black_count,e=t?"base-error":"base-success",i=t?"#E85445":"#20a53a";return L(Z,{class:"items-center! cursor-pointer",size:5},{default:()=>[L("span",{class:"flex items-center",onClick:()=>ya(a.domain_black_count),title:ta("Mail.Mass.index_61")},[L(n,{class:"mr-3px",name:e,size:"18",color:i},null),L("span",null,[o(a.domain_black_count.time)])]),L(Y,{trigger:"hover"},{trigger:()=>L(n,{"aria-hidden":!1,name:"search",size:"18",color:"#20a53a",onClick:()=>Ma(a.a_record)},null),default:()=>ta("Mail.Domain.index_52")}),L(Y,{trigger:"hover"},{trigger:()=>L(n,{"aria-hidden":!1,name:"base-left-logs",size:"18",onClick:()=>{ka(a.domain_check_log)}},null),default:()=>ta("Docker.Container.index_14")})]})}},{key:"quota",title:ta("Mail.Domain.index_4"),width:"8%",minWidth:70,render:a=>"".concat(s(a.current_usage),"/").concat(s(a.quota))},{key:"mailboxes",width:"8%",minWidth:80,title:ta("Mail.Domain.index_5")},{key:"mailbox_quota",title:ta("Mail.Domain.index_6"),width:"12%",minWidth:120,render:a=>s(a.mailbox_quota)},{key:"domain",title:ta("Mail.Domain.index_7"),width:"7%",minWidth:70,render:a=>L(G,{size:"small",value:a.catch_all,onUpdateValue:t=>{t?ua(a):pa(a)}},null)},{key:"domain",title:"SSL",width:"9%",minWidth:90,render:a=>{let t;if(a.ssl_status){const t=a.ssl_info;return L(l,{type:t.endtime<0?"error":"primary",onClick:()=>{wa(a)}},{default:()=>[t.endtime<0?ta("Site.PHP.index_28"):ta("Site.PHP.index_29",[t.endtime])]})}return L(l,{type:"warning",onClick:()=>{wa(a)}},"function"==typeof(e=t=ta("Mail.Domain.index_9"))||"[object Object]"===Object.prototype.toString.call(e)&&!N(e)?t:{default:()=>[t]});var e}},{key:"roundcube_config",title:"WebMail",width:"10%",minWidth:140,render:a=>{const t=a.roundcube_config&&a.roundcube_config.status;return L("div",{onClick:()=>{a.roundcube_config&&a.roundcube_config.status?ca(a.roundcube_config):ma(a)}},[L(J,{class:"cursor-pointer",bordered:!1,size:"small",type:t?"success":"default"},{default:()=>[t?"Installed":"Not Installed"]})])}},g({width:170,options:a=>[{label:ta("Mail.Domain.index_10",["DNS"]),onClick:()=>{ba(a)}},{label:ta("Public.Btn.Edit"),onClick:()=>{Da(a)}},{label:ta("Public.Btn.Del"),onClick:()=>{ja(a)}}]})]),ra=h("Install WebMail",{domain:null,onRefresh:()=>{va()}}),ma=a=>{ra.data.domain=a,ra.show=!0},ca=a=>{const e=E(!0);x({title:ta("Mail.Setting.index_15"),width:420,content:()=>L(q,null,[L("div",{class:"mb-16px"},[ta("Mail.Setting.index_16",[a.site_name])]),L(K,{checked:e.value,onUpdateChecked:a=>{e.value=a}},{default:()=>[L("div",{class:"text-desc leading-[1.4]"},[ta("Mail.Setting.index_17")])]})]),onConfirm:async()=>{var i;await(i={id:a.id,site_name:a.site_name,force:e.value?1:0},t.post("/plugin?action=a&name=mail_sys&s=uninstall_roundcube",i,{requestOptions:{loading:"Uninstalling, please wait...",successMessage:!0}})),va()}})},_a=h(ta("Mail.Domain.index_11"),{onRefresh:()=>{va()}}),ua=a=>{_a.data.row=a,_a.show=!0},pa=a=>{x({title:ta("Mail.Domain.index_11"),content:ta("Mail.Domain.index_12"),onConfirm:async()=>{await D({domain:a.domain,email:""}),va()}})},ha=h(ta("Mail.Domain.index_13",["SSL"]),{onRefresh:()=>{va()}}),wa=a=>{ha.data.row=a,ha.show=!0},ga=h("",{onRefresh:async()=>{await va(),ba(ga.data.row)}}),xa=h(ta("Mail.Domain.index_53")),fa=h(ta("Mail.Domain.index_54")),ya=a=>{xa.data.row=a,xa.show=!0},ba=async a=>{ga.data.row=a,ga.title=ta("Mail.Domain.index_14",["DNS",a.domain]),ga.show=!0},Da=a=>{oa.data.row=a,oa.data.isEdit=!0,oa.title=ta("Mail.Domain.index_15",[a.domain]),oa.show=!0},Ma=async a=>{ia.value?await M({a_record:a}):f({source:320})},ka=async a=>{fa.data.log=a,fa.show=!0},ja=async a=>{x({title:ta("Mail.Domain.index_16"),content:ta("Mail.Domain.index_17",[a.domain]),onConfirm:async()=>{await j({domain:a.domain}),va()}})},va=async()=>{try{la.loading=!0;const{message:t}=await k(A(na));a(t)&&(la.data=d(t.data)?t.data:[],la.total=r(t.page))}finally{la.loading=!1}},Ca=async()=>{try{la.loading=!0,await v({domain:"all"}),na.p=1,va()}finally{la.loading=!1}};return va(),(a,t)=>{const e=p,i=u,n=_,o=c,s=Q;return P(),$(q,null,[L(X),L(s,{class:"p-16px"},{default:O((()=>[L(n,null,{toolsLeft:O((()=>[L(S(H),{type:"primary",onClick:sa},{default:O((()=>[U(I(a.$t("Mail.Domain.index_1")),1)])),_:1})])),toolsRight:O((()=>[L(S(H),{onClick:Ca},{default:O((()=>[U(I(a.$t("Mail.Domain.index_2")),1)])),_:1})])),table:O((()=>[L(e,{loading:S(la).loading,data:S(la).data,columns:S(da)},null,8,["loading","data","columns"])])),pageRight:O((()=>[L(i,{page:S(na).p,"onUpdate:page":t[0]||(t[0]=a=>S(na).p=a),"page-size":S(na).size,"onUpdate:pageSize":t[1]||(t[1]=a=>S(na).size=a),"item-count":S(la).total,onRefresh:va},null,8,["page","page-size","item-count"])])),_:1}),L(o,{show:S(oa).show,"onUpdate:show":t[2]||(t[2]=a=>S(oa).show=a),title:S(oa).title,data:S(oa).data,width:750,height:450,footer:!0,component:S(y)},null,8,["show","title","data","component"]),L(o,{show:S(_a).show,"onUpdate:show":t[3]||(t[3]=a=>S(_a).show=a),title:S(_a).title,data:S(_a).data,width:480,"min-height":72,footer:!0,component:S(b)},null,8,["show","title","data","component"]),L(o,{show:S(ha).show,"onUpdate:show":t[4]||(t[4]=a=>S(ha).show=a),title:S(ha).title,data:S(ha).data,width:650,"min-height":500,component:S(C)},null,8,["show","title","data","component"]),L(o,{show:S(ga).show,"onUpdate:show":t[5]||(t[5]=a=>S(ga).show=a),title:S(ga).title,data:S(ga).data,width:750,"min-height":652,component:S(R)},null,8,["show","title","data","component"]),L(o,{show:S(xa).show,"onUpdate:show":t[6]||(t[6]=a=>S(xa).show=a),title:S(xa).title,data:S(xa).data,width:650,"min-height":250,component:S(z)},null,8,["show","title","data","component"]),L(o,{show:S(fa).show,"onUpdate:show":t[7]||(t[7]=a=>S(fa).show=a),title:S(fa).title,data:S(fa).data,width:650,"min-height":350,component:S(F)},null,8,["show","title","data","component"]),L(o,{show:S(ra).show,"onUpdate:show":t[8]||(t[8]=a=>S(ra).show=a),title:S(ra).title,data:S(ra).data,width:440,"min-height":136,footer:!0,component:S(aa)},null,8,["show","title","data","component"])])),_:1})],64)}}}),na=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"}));export{na as a,ea as g,aa as i,ta as s};
