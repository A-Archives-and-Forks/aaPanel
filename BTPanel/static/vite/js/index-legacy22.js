System.register(["./page_layout-legacy.js?v=1741416570306","./index-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1741416570306","./index-legacy121.js?v=1741416570306","./public-legacy.js?v=1741416570306","./index-legacy122.js?v=1741416570306","./hooks-legacy.js?v=1741416570306","./vue-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1741416570306","./naive-legacy.js?v=1741416570306","./index-legacy95.js?v=1741416570306","./common-legacy.js?v=1741416570306","./__commonjsHelpers__-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1741416570306","./php-legacy.js?v=1741416570306","./soft-legacy.js?v=1741416570306","./index-legacy123.js?v=1741416570306","./index-legacy96.js?v=1741416570306"],(function(e,a){"use strict";var t,n,s,l,o,i,d,u,c,r,p,_,g,y,m,b,h,x,w,f,v,k,D,j,C,$,R,U,z,B,I,W,S,H,L,P,G,K,q,M,O,A,E,J,N,Q,T,V,F,X,Y,Z,ee,ae,te,ne,se,le,oe,ie,de,ue,ce,re,pe,_e,ge;return{setters:[e=>{t=e.d,n=e.j,s=e.aI,l=e.aJ,o=e.b,i=e.n,d=e.aK,u=e.aA,c=e.aD,r=e.aE,p=e.aH,_=e.G,g=e.av,y=e.aG,m=e.a,b=e.m,h=e.l},e=>{x=e._},e=>{w=e._},e=>{f=e._},e=>{v=e._},e=>{k=e._},e=>{D=e._},e=>{j=e._},e=>{C=e.n,$=e.c,R=e.d,U=e.b,z=e.p,B=e.f,I=e.a,W=e.q},e=>{S=e.a,H=e.b,L=e.c,P=e.u,G=e.d,K=e._,q=e.e,M=e.g},e=>{O=e.g},e=>{A=e.N,E=e.c,J=e.i,N=e.d,Q=e.M,T=e.r,V=e.j,F=e.P,X=e.Q,Y=e.$,Z=e.R,ee=e.S,ae=e.a7,te=e.a0,ne=e.w,se=e._,le=e.ao,oe=e.ae,ie=e.W},e=>{de=e._},e=>{ue=e._},e=>{ce=e.cb,re=e.bV,pe=e.T,_e=e.ce},e=>{ge=e._},null,null,null,null,null,null,null],execute:function(){const{t:ye}=t.global;function me(){return{key:"name",title:ye("Database.index_12"),width:"12%",minWidth:120}}function be(){return{key:"username",title:ye("Database.form.index_3"),width:"12%",minWidth:120}}function he(){return{key:"password",title:ye("Database.index_14"),minWidth:150,render:e=>A(C,{value:e.password},null)}}function xe(){return{key:"backup_count",title:ye("Database.index_16"),width:"12%",render:e=>{let a;return A("div",{class:"flex items-center"},[A(n,{type:e.backup_count>0?"primary":"warning",onClick:()=>{S(e)}},{default:()=>[e.backup_count>0?`${ye("Database.mongo.index_7")}(${e.backup_count})`:ye("Database.index_18")]}),A("span",{class:"mx-4px"},[E("|")]),A(n,{onClick:()=>{H(e)}},(t=a=ye("Public.Btn.Import"),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!J(t)?a:{default:()=>[a]}))]);var t}}}function we(){return{key:"sid",title:ye("Database.mongo.index_8"),width:"12%",minWidth:120,render:e=>O(e)}}const fe={class:"px-20px pt-24px pb-8px"},ve={class:"w-320px"},ke=N({__name:"index",setup(e,{expose:a}){const{t:t}=Q(),n=T(null),d=V({password:""}),u={password:{required:!0,message:t("Database.tools.index_65"),trigger:"blur"}},{loading:c,setLoading:r}=$();return(async()=>{try{r(!0);const{message:e}=await l();o(e)&&(d.password=i(e.root)?e.root:"")}finally{r(!1)}})(),a({onConfirm:async({hide:e})=>{try{await(n.value?.validate()),await s(ae(d)),e()}catch(a){console.error(a)}}}),(e,a)=>{const t=ue,s=ce,l=de;return F(),X("div",fe,[A(l,{ref_key:"formRef",ref:n,model:ee(d),rules:u},{default:Y((()=>[A(s,{label:e.$t("Database.index_2"),path:"password"},{default:Y((()=>[Z("div",ve,[A(t,{value:ee(d).password,"onUpdate:value":a[0]||(a[0]=e=>ee(d).password=e),loading:ee(c),default:!1},null,8,["value","loading"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}}),De={class:"px-20px py-24px"},je=N({__name:"index",props:{data:{}},setup(e){const a=e,{status:t,getInfo:n}=a.data,s=V({status:t}),l=async()=>{await d(ae(s)),n?.()};return(e,a)=>{const t=re,n=ce,o=de,i=ge;return F(),X("div",De,[A(o,{"label-width":"160"},{default:Y((()=>[A(n,{label:e.$t("Database.mongo.index_1"),"show-feedback":!1},{default:Y((()=>[A(t,{value:ee(s).status,"onUpdate:value":[a[0]||(a[0]=e=>ee(s).status=e),l],"checked-value":1},null,8,["value"])])),_:1},8,["label"])])),_:1}),A(i,{class:"mt-16px"},{default:Y((()=>[Z("li",null,te(e.$t("Database.mongo.index_2")),1)])),_:1})])}}}),Ce={class:"p-16px"};e("default",N({__name:"index",setup(e){const{t:t}=Q(),n=ie((()=>m((()=>a.import("./index-legacy125.js?v=1741416570306")),void 0))),s=u(),i=R(t("Database.mongo.index_4"),{status:!1}),d=()=>{i.data.status="enabled"===ce.authorization,i.show=!0},C=R(t("Database.tools.index_70")),S=()=>{"enabled"===ce.authorization?C.show=!0:(O(),b.warning(t("Database.mongo.index_5")))},H=R(t("Database.mongo.index_1"),{status:0}),O=()=>{H.data.status="enabled"===ce.authorization?1:0,H.data.getInfo=re,H.show=!0},J=()=>{M()},N=async()=>{await c(s.type,{ids:[]}),ve()},{keys:T,table:X,columns:de}=U([{type:"selection",width:40},me(),be(),he(),xe(),we(),z({onBlur:async(e,a)=>{await y({id:a.id,ps:e})}}),B({width:100,options:e=>[{label:"CHG PW",onClick:()=>{P(e)}},{label:t("Public.Btn.Del"),onClick:()=>{L([e])}}]})]),ue=[{key:"sync",label:t("Database.index_24"),onBatch:e=>{I({title:t("Database.index_25"),content:t("Database.index_26"),onConfirm:async({hide:a})=>{await c(s.type,{ids:e.map((e=>e.id))}),a()}})}},{key:"backup",type:"confirm",label:t("Database.index_27"),confirm:{title:t("Database.index_28"),desc:t("Database.index_29"),api:e=>r(s.type,{id:e.id},!1),done:()=>{ve()},columns:[{key:"name",title:t("Database.index_12")}]}},{key:"delete",label:t("Database.index_30"),onBatch:e=>{L(e)}}],ce=V({authorization:"",msg:"",port:"",root:""}),re=async()=>{const{message:e}=await l();o(e)&&(ce.authorization=e.authorization,ce.msg=e.msg,ce.port=e.port,ce.root=e.root)},{loading:ge,setLoading:ye}=$(),fe=V({p:1,limit:10,sid:-1,search:""}),ve=async()=>{try{ye(!0);const{message:e}=await p(s.type,(()=>{const e={...ae(fe)};return-1===e.sid&&delete e.sid,e})());o(e)?(X.data=_(e.data)?e.data:[],X.total=g(e.page)):(X.data=[],X.total=0)}finally{T.value=[],ye(!1)}};return ne((()=>s.isRefresh),(e=>{e&&(s.setRefresh(!1),s.delRemoteId===fe.sid&&(fe.sid=-1),ve())})),(async()=>{await s.getRemote(),s.install?(ve(),re()):W()})(),(e,a)=>{const t=pe,l=h,o=j,u=D,c=k,r=v,p=f,_=w,g=x,y=_e;return F(),se(ee(q),null,{default:Y((()=>[A(y,null,{default:Y((()=>[Z("div",Ce,[A(_,null,{toolsLeft:Y((()=>[A(t,{type:"primary",onClick:d},{default:Y((()=>[E(te(e.$t("Database.index_1")),1)])),_:1}),A(t,{onClick:S},{default:Y((()=>[E(te(e.$t("Database.index_2")),1)])),_:1}),A(t,{onClick:O},{default:Y((()=>[E(te(e.$t("Database.mongo.index_1")),1)])),_:1}),A(t,{onClick:J},{default:Y((()=>[E(te(e.$t("Database.index_4")),1)])),_:1}),A(l,{class:"mx-0!",vertical:""}),A(t,{onClick:N},{default:Y((()=>[E(te(e.$t("Database.index_5")),1)])),_:1}),A(t,{onClick:ee(G)},{default:Y((()=>[E(te(e.$t("Database.index_6")),1)])),_:1},8,["onClick"]),ee(s).isInstallMongoDB?(F(),se(o,{key:0,"soft-name":"mongodb"})):le("",!0)])),toolsRight:Y((()=>[A(ee(K),{value:ee(fe).sid,"onUpdate:value":a[0]||(a[0]=e=>ee(fe).sid=e),"store-key":"database-mongo-page",onChange:ve},null,8,["value"]),A(u,{value:ee(fe).search,"onUpdate:value":a[1]||(a[1]=e=>ee(fe).search=e),placeholder:e.$t("Database.mongo.index_3"),onSearch:ve},null,8,["value","placeholder"])])),table:Y((()=>[A(c,{"checked-row-keys":ee(T),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>oe(T)?T.value=e:null),loading:ee(ge),data:ee(X).data,columns:ee(de)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Y((()=>[A(r,{"checked-row-keys":ee(T),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>oe(T)?T.value=e:null),data:ee(X).data,options:ue},null,8,["checked-row-keys","data"])])),pageRight:Y((()=>[A(p,{page:ee(fe).p,"onUpdate:page":a[4]||(a[4]=e=>ee(fe).p=e),"page-size":ee(fe).limit,"onUpdate:pageSize":a[5]||(a[5]=e=>ee(fe).limit=e),"store-key":"database-mongo-page","item-count":ee(X).total,onRefresh:ve},null,8,["page","page-size","item-count"])])),_:1}),A(g,{show:ee(i).show,"onUpdate:show":a[6]||(a[6]=e=>ee(i).show=e),title:ee(i).title,width:540,minHeight:176,footer:!0,data:ee(i).data,component:ee(n)},null,8,["show","title","data","component"]),A(g,{show:ee(C).show,"onUpdate:show":a[7]||(a[7]=e=>ee(C).show=e),title:ee(C).title,width:520,footer:!0,component:ke},null,8,["show","title"]),A(g,{show:ee(H).show,"onUpdate:show":a[8]||(a[8]=e=>ee(H).show=e),title:ee(H).title,width:400,data:ee(H).data,component:je},null,8,["show","title","data"])])])),_:1})])),_:1})}}}))}}}));
