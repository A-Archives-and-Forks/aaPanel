const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index171.js?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang.js?v=1742891699271","js/vue.js?v=1742891699271","js/__commonjsHelpers__.js?v=1742891699271","js/naive.js?v=1742891699271","js/common.js?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang10.js?v=1742891699271","js/page_layout.js?v=1742891699271","js/public.js?v=1742891699271","css/public.css?v=1742891699271","css/page_layout.css?v=1742891699271","js/index96.js?v=1742891699271","css/index15.css?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang2.js?v=1742891699271","js/index243.js?v=1742891699271","js/ftp.js?v=1742891699271","js/index174.js?v=1742891699271","js/index95.js?v=1742891699271","js/index175.js?v=1742891699271","js/index176.js?v=1742891699271","js/index104.js?v=1742891699271","css/index21.css?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang4.js?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang8.js?v=1742891699271","css/index19.css?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang5.js?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang6.js?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang7.js?v=1742891699271"])))=>i.map(i=>d[i]);
import{_ as e}from"./index226.js?v=1742891699271";import{_ as t,a}from"./index.vue_vue_type_script_setup_true_lang21.js?v=1742891699271";import{cf as n,l as s,a as i,b as l,I as o,b7 as p,u as r,ep as c,j as _}from"./page_layout.js?v=1742891699271";import{h as u,b as d,y as m,z as f,p as x,f as g,u as h,a as y,c as b,q as v,e as w}from"./public.js?v=1742891699271";import{d as j,R as F,a0 as k,a1 as T,U as P,c as C,a2 as R,V as L,P as U,O as $,_ as D,r as E,j as A,Y as B,M as I,w as S,af as z,a3 as H}from"./vue.js?v=1742891699271";import{_ as O}from"./index.vue_vue_type_script_setup_true_lang22.js?v=1742891699271";import{_ as V}from"./index.js?v=1742891699271";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1742891699271";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1742891699271";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang12.js?v=1742891699271";import{_ as M}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1742891699271";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1742891699271";import{u as G,c as J}from"./tools.js?v=1742891699271";import{s as N,a as Q,d as W,g as X,h as ee}from"./ftp.js?v=1742891699271";import{T as te,ck as ae,bY as ne,bU as se,b$ as ie}from"./naive.js?v=1742891699271";import{_ as le}from"./index123.js?v=1742891699271";import{_ as oe}from"./index95.js?v=1742891699271";import{p as pe}from"./soft.js?v=1742891699271";import"./php.js?v=1742891699271";import"./alarm.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang11.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1742891699271";import"./theme-chrome.js?v=1742891699271";import"./__commonjsHelpers__.js?v=1742891699271";import"./file.js?v=1742891699271";import"./common.js?v=1742891699271";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1742891699271";const re={class:"bt-link",target:"_self",href:"https://download.bt.cn/win/filezilla/FileZilla-setup.exe"},ce=j({__name:"index",setup(e){const a=n();return a.getConfig(),(e,n)=>{const i=s;return F(),k(t,null,{center:T((()=>[P("span",null,[C(R(e.$t("Plugin.Ftp.index_7"))+"ï¼š ",1),P("span",{class:"cursor-pointer",onClick:n[0]||(n[0]=e=>L(u)(L(a).url))},R(L(a).url),1)]),U(i,{vertical:""}),P("a",re,R(e.$t("Plugin.Ftp.index_8")),1)])),_:1})}}}),_e=j({__name:"index",setup(e,{expose:t}){const a=B((()=>i((()=>import("./index171.js?v=1742891699271")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])))),{t:s}=$(),r=n(),{install:c}=D(r),_=E(!1),u=E(!1),w=()=>{u.value=!0},j=A({p:1,limit:10,search:""}),{keys:P,table:H,columns:O}=d([{type:"selection",width:40},{key:"name",title:s("Public.Table.Username"),width:"10%",ellipsis:{tooltip:!0}},G(),m({width:100,checkedLabel:s("Ftp.Table.index_27"),uncheckedLabel:s("Ftp.Table.index_28"),confirm:(e,t)=>({title:"".concat("".concat(s("1"===e?"Ftp.Table.index_16":"Ftp.Table.index_11"))," ").concat(s("Ftp.Table.index_18")," [").concat(t.name,"]"),content:()=>{const t="".concat(s("Ftp.Table.index_21")),a="".concat(s("Ftp.Table.index_22"));return"1"===e?t:a},onConfirm:async({hide:a})=>{await N({id:t.id,status:"1"===e?"1":"0",username:t.name}),le(),r.setRefresh(!0),a()}})}),f(),x({onBlur:async(e,t)=>{await Q({id:t.id,ps:e})}}),g({width:220,options:e=>[{label:s("Ftp.Table.index_2"),onClick:()=>{h({title:s("Ftp.Table.index_23"),width:450,minHeight:262,footer:!0,data:{row:e},component:B((()=>i((()=>import("./index174.js?v=1742891699271")),__vite__mapDeps([16,17,7,2,3,4,5,8,9,10,1,6,11,12,15,14]))))})}},{label:s("Ftp.Table.index_14"),onClick:()=>{h({title:s("Ftp.Table.index_24"),width:530,minHeight:136,footer:!0,data:{row:e},component:B((()=>i((()=>import("./index175.js?v=1742891699271")),__vite__mapDeps([18,1,2,3,4,5,13,11,7,8,9,10,12,15,14]))))})}},{label:s("Ftp.Table.index_15"),onClick:async()=>{ee(e)}},{label:s("Public.Btn.Del"),onClick:()=>{y({title:"".concat(s("Ftp.Table.index_25")," [").concat(e.name,"]"),content:"".concat(s("Ftp.Table.index_26")),onConfirm:async({hide:t})=>{await W({id:e.id,username:e.name}),le(),r.setRefresh(!0),t()}})}}]})]),ee=async e=>{await J(),h({title:"".concat(s("Ftp.Table.index_20"),"-[").concat(e.name,"]"),width:700,minHeight:136,footer:!1,data:{row:e},component:B((()=>i((()=>import("./index176.js?v=1742891699271")),__vite__mapDeps([19,20,2,3,4,5,7,8,9,10,21,22,23,24,25,26,27,15]))))})},ne=[{key:"del",type:"confirm",label:s("Public.Batch.ChooseDel"),confirm:{title:s("Ftp.Batch.DelFtp_T"),desc:s("Ftp.Batch.DelFtp_C"),api:e=>W({id:e.id,username:e.name},!1),done:()=>{le()},columns:[{key:"name",title:s("Public.Table.Username")}]}}],{loading:se,setLoading:ie}=b(!0),le=async()=>{try{ie(!0);const{message:e}=await X(I(j));l(e)?(H.data=o(e.data)?e.data:[],H.total=p(e.page)):(H.data=[],H.total=0),P.value=[]}finally{ie(!1)}};S((()=>r.isRefresh),(e=>{e&&(r.setRefresh(!1),le())}));const oe=async()=>{try{await r.getConfig(),c.value?(_.value=!0,le()):(_.value=!1,ie(!1),v())}catch(e){ie(!1)}};return oe(),t({init:oe}),(e,t)=>{const n=te,s=Z,i=M,l=q,o=Y,p=K,r=V,c=ae;return F(),k(c,null,{default:T((()=>[U(p,null,{toolsLeft:T((()=>[U(n,{id:"add-btn",type:"primary",onClick:w},{default:T((()=>[C(R(e.$t("Ftp.index_3")),1)])),_:1})])),toolsRight:T((()=>[U(s,{value:L(j).search,"onUpdate:value":t[0]||(t[0]=e=>L(j).search=e),placeholder:e.$t("Ftp.Label.index_8"),onSearch:le},null,8,["value","placeholder"])])),table:T((()=>[U(i,{"checked-row-keys":L(P),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>z(P)?P.value=e:null),loading:L(se),data:L(H).data,columns:L(O)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:T((()=>[U(l,{"checked-row-keys":L(P),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>z(P)?P.value=e:null),data:L(H).data,options:ne},null,8,["checked-row-keys","data"])])),pageRight:T((()=>[U(o,{page:L(j).p,"onUpdate:page":t[3]||(t[3]=e=>L(j).p=e),"page-size":L(j).limit,"onUpdate:pageSize":t[4]||(t[4]=e=>L(j).limit=e),"store-key":"ftp-page","item-count":L(H).total,onRefresh:le},null,8,["page","page-size","item-count"])])),_:1}),U(r,{show:L(u),"onUpdate:show":t[5]||(t[5]=e=>z(u)?u.value=e:null),data:{getList:le},title:e.$t("Ftp.Add.Title"),width:530,"min-height":192,footer:!0,component:L(a)},null,8,["show","data","title","component"])])),_:1})}}}),ue=j({__name:"index",setup(e){const t=n(),a=E(t.port),s=async()=>{await ee({port:a.value}),t.getConfig()};return(e,t)=>{const n=ne,i=te,l=se;return F(),k(l,{class:"items-center"},{default:T((()=>[C(R(e.$t("Ftp.Label.index_13"))+" ",1),U(n,{class:"w-100px!","show-button":!1,value:L(a),"onUpdate:value":t[0]||(t[0]=e=>z(a)?a.value=e:null),placeholder:e.$t("Site.TableRow.index_16")},null,8,["value","placeholder"]),U(i,{type:"primary",onClick:s},{default:T((()=>[C(R(e.$t("Public.Btn.Conf")),1)])),_:1})])),_:1})}}}),de=j({__name:"index",setup(e,{expose:t}){const{t:a}=$(),n=r(),i=E(!1),o=e=>{const t=a(e?"Plugin.Ftp.index_5":"Plugin.Ftp.index_6");y({title:"".concat(pe.title," ").concat(a("Plugin.Ftp.index_4")),content:t,onConfirm:async()=>{await c({exec_name:e?"start":"stop"}),m()}})},p=()=>{w({source:56})},{loading:u,setLoading:d}=b(),m=async()=>{if(n.isPro)try{d(!0);const{message:e}=await c({exec_name:"getlog"});l(e)&&(i.value="start"===e.result)}finally{d(!1)}};return m(),t({init:m}),(e,t)=>{const a=_,l=H("i18n-t"),r=ie,c=se,d=s,m=oe,f=le;return F(),k(f,{class:"h-full",install:L(n).isPro},{desc:T((()=>[U(l,{keypath:"Plugin.Ftp.index_1",scope:"global"},{a:T((()=>[U(a,{onClick:p},{default:T((()=>[C(R(e.$t("Component.Auth.index_3")),1)])),_:1})])),_:1})])),default:T((()=>[U(c,{class:"items-center"},{default:T((()=>[P("span",null,R(e.$t("Plugin.Ftp.index_2")),1),U(r,{value:L(i),loading:L(u),"onUpdate:value":o},null,8,["value","loading"])])),_:1}),U(d,{class:"my-16px!"}),U(m,{class:"mb-16px"},{default:T((()=>[P("li",null,R(e.$t("Plugin.Ftp.index_3")),1)])),_:1})])),_:1},8,["install"])}}}),me=j({__name:"index",setup(t){const{t:n}=$(),s=E("service"),i=[{key:"service",label:n("Security.History.Index_10"),component:ce},{key:"version",label:n("Plugin.Ftp.index_9"),component:O},{key:"user",label:n("Plugin.Ftp.index_10"),component:_e},{key:"port",label:n("Site.TableRow.index_16"),component:ue},{key:"file",label:n("Site.Config.index_15"),data:{path:"/www/server/pure-ftpd/etc/pure-ftpd.conf",height:400},component:a},{key:"log",label:n("Plugin.Ftp.index_4"),component:de}];return(t,a)=>{const n=e;return F(),k(n,{value:L(s),"onUpdate:value":a[0]||(a[0]=e=>z(s)?s.value=e:null),data:i},null,8,["value"])}}});export{me as default};
