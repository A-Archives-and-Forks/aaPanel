import{_ as a}from"./index95.js?v=1742891699271";import{_ as l}from"./index.vue_vue_type_script_setup_true_lang.js?v=1742891699271";import{ac as e,ad as i}from"./mail.js?v=1742891699271";import{u as o,h as s,J as t}from"./page_layout.js?v=1742891699271";import{e as n}from"./public.js?v=1742891699271";import{d,O as r,r as u,j as m,R as p,S as _,P as c,a1 as v,U as x,V as b,ap as f,a2 as h}from"./vue.js?v=1742891699271";import{_ as w,ch as M,bU as j,bY as D,cn as q}from"./naive.js?v=1742891699271";import"./common.js?v=1742891699271";import"./__commonjsHelpers__.js?v=1742891699271";const $={class:"p-20px"},U={class:"w-320px"},E={class:"w-320px"},y={class:"w-100px ml-20px"},B={class:"w-320px"},g={class:"text-error"},k=d({__name:"index",props:{row:{},isEdit:{type:Boolean}},emits:["refresh"],setup(d,{expose:k,emit:G}){const P=o(),R=d,C=G,{t:F}=r(),O=u(null),H=m({domain:"",a_record:"",quota:5,quota_unit:"GB",mailboxes:50,email:"",ips:""}),I=[{label:"GB",value:"GB"},{label:"MB",value:"MB"}],J={domain:{trigger:["blur","input"],validator:()=>""!==H.domain.trim()||new Error(F("Mail.Domain.index_27"))}},S=()=>{n({source:351})},V=()=>({domain:H.domain,a_record:H.a_record,ips:R.isEdit&&!H.ips?"del":H.ips,quota:H.quota+" "+H.quota_unit,mailboxes:H.mailboxes,email:H.email});return(()=>{const{isEdit:a,row:l}=R;if(a&&l){const a=l.ip_address.ipv4.join(""),e=l.ip_address.ipv6.join("");H.domain=l.domain,H.a_record=l.a_record,H.ips=a.length>0?a:e;const i=s(l.quota);H.quota=t(i.split(" ")[0]),H.quota_unit=i.split(" ")[1],H.mailboxes=l.mailboxes,H.email=l.email}})(),k({onConfirm:async()=>{var a;await(null==(a=O.value)?void 0:a.validate());const{isEdit:l}=R;l?await e(V()):await i(V()),C("refresh")}}),(e,i)=>{const o=w,s=M,t=j,n=D,d=q,r=l,u=a;return p(),_("div",$,[c(r,{ref_key:"formRef",ref:O,model:b(H),rules:J},{default:v((()=>[c(s,{label:e.$t("Mail.Domain.index_3"),path:"domain"},{default:v((()=>[x("div",U,[c(o,{value:b(H).domain,"onUpdate:value":i[0]||(i[0]=a=>b(H).domain=a),disabled:e.isEdit,placeholder:e.$t("Mail.Domain.index_18")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),c(s,{label:e.$t("Mail.Domain.index_19")},{default:v((()=>[x("div",E,[c(o,{value:b(H).a_record,"onUpdate:value":i[1]||(i[1]=a=>b(H).a_record=a),disabled:e.isEdit,placeholder:e.$t("Mail.Domain.index_20")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),c(s,{label:"IP"},{default:v((()=>[c(t,{class:"items-center"},{default:v((()=>[c(o,{class:"w-320px!",value:b(H).ips,"onUpdate:value":i[2]||(i[2]=a=>b(H).ips=a),disabled:b(P).isFree,placeholder:e.$t("Mail.Domain.index_65")},null,8,["value","disabled","placeholder"]),b(P).isFree?(p(),_("span",{key:0,class:"cursor-pointer color-#ffb800",onClick:S}," PRO ")):f("",!0)])),_:1})])),_:1}),c(s,{label:e.$t("Mail.Domain.index_21")},{default:v((()=>[c(n,{value:b(H).quota,"onUpdate:value":i[3]||(i[3]=a=>b(H).quota=a),class:"w-200px",min:0,"show-button":!1},null,8,["value"]),x("div",y,[c(d,{value:b(H).quota_unit,"onUpdate:value":i[4]||(i[4]=a=>b(H).quota_unit=a),options:I},null,8,["value"])])])),_:1},8,["label"]),c(s,{label:e.$t("Mail.Domain.index_22")},{default:v((()=>[c(n,{value:b(H).mailboxes,"onUpdate:value":i[5]||(i[5]=a=>b(H).mailboxes=a),class:"w-320px",min:0,"show-button":!1},null,8,["value"])])),_:1},8,["label"]),c(s,{label:e.$t("Mail.Domain.index_7")},{default:v((()=>[x("div",B,[c(o,{value:b(H).email,"onUpdate:value":i[6]||(i[6]=a=>b(H).email=a),placeholder:e.$t("Mail.Domain.index_23")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),c(u,null,{default:v((()=>[x("li",g,h(e.$t("Mail.Domain.index_24")),1),x("li",null,h(e.$t("Mail.Domain.index_25")),1),x("li",null,h(e.$t("Mail.Domain.index_26")),1)])),_:1})])}}});export{k as default};
