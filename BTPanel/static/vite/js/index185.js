import{_ as a}from"./index95.js?v=1741416570306";import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.js?v=1741416570306";import{ad as l,ae as i}from"./mail.js?v=1741416570306";import{u as o,h as s,H as t}from"./page_layout.js?v=1741416570306";import{e as n}from"./public.js?v=1741416570306";import{d,M as r,r as u,j as m,P as p,Q as _,N as c,$ as v,R as x,S as b,ao as f,a0 as h}from"./vue.js?v=1741416570306";import{_ as M,cb as w,bO as j,bS as D,ch as $}from"./naive.js?v=1741416570306";import"./common.js?v=1741416570306";import"./__commonjsHelpers__.js?v=1741416570306";const q={class:"p-20px"},E={class:"w-320px"},U={class:"w-320px"},y={class:"w-100px ml-20px"},B={class:"w-320px"},g={class:"text-error"},k=d({__name:"index",props:{row:{},isEdit:{type:Boolean}},emits:["refresh"],setup(d,{expose:k,emit:G}){const P=o(),R=d,C=G,{t:F}=r(),H=u(null),O=m({domain:"",a_record:"",quota:5,quota_unit:"GB",mailboxes:50,email:"",ips:""}),S=[{label:"GB",value:"GB"},{label:"MB",value:"MB"}],I={domain:{trigger:["blur","input"],validator:()=>""!==O.domain.trim()||new Error(F("Mail.Domain.index_27"))}},N=()=>{n({source:351})},Q=()=>({domain:O.domain,a_record:O.a_record,ips:R.isEdit&&!O.ips?"del":O.ips,quota:O.quota+" "+O.quota_unit,mailboxes:O.mailboxes,email:O.email});return(()=>{const{isEdit:a,row:e}=R;if(a&&e){const a=e.ip_address.ipv4.join(""),l=e.ip_address.ipv6.join("");O.domain=e.domain,O.a_record=e.a_record,O.ips=a.length>0?a:l;const i=s(e.quota);O.quota=t(i.split(" ")[0]),O.quota_unit=i.split(" ")[1],O.mailboxes=e.mailboxes,O.email=e.email}})(),k({onConfirm:async()=>{var a;await(null==(a=H.value)?void 0:a.validate());const{isEdit:e}=R;e?await l(Q()):await i(Q()),C("refresh")}}),(l,i)=>{const o=M,s=w,t=j,n=D,d=$,r=e,u=a;return p(),_("div",q,[c(r,{ref_key:"formRef",ref:H,model:b(O),rules:I},{default:v((()=>[c(s,{label:l.$t("Mail.Domain.index_3"),path:"domain"},{default:v((()=>[x("div",E,[c(o,{value:b(O).domain,"onUpdate:value":i[0]||(i[0]=a=>b(O).domain=a),disabled:l.isEdit,placeholder:l.$t("Mail.Domain.index_18")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),c(s,{label:l.$t("Mail.Domain.index_19")},{default:v((()=>[x("div",U,[c(o,{value:b(O).a_record,"onUpdate:value":i[1]||(i[1]=a=>b(O).a_record=a),disabled:l.isEdit,placeholder:l.$t("Mail.Domain.index_20")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),c(s,{label:"IP"},{default:v((()=>[c(t,{class:"items-center"},{default:v((()=>[c(o,{class:"w-320px!",value:b(O).ips,"onUpdate:value":i[2]||(i[2]=a=>b(O).ips=a),disabled:b(P).isFree,placeholder:l.$t("Mail.Domain.index_65")},null,8,["value","disabled","placeholder"]),b(P).isFree?(p(),_("span",{key:0,class:"cursor-pointer color-#ffb800",onClick:N}," PRO ")):f("",!0)])),_:1})])),_:1}),c(s,{label:l.$t("Mail.Domain.index_21")},{default:v((()=>[c(n,{value:b(O).quota,"onUpdate:value":i[3]||(i[3]=a=>b(O).quota=a),class:"w-200px",min:0,"show-button":!1},null,8,["value"]),x("div",y,[c(d,{value:b(O).quota_unit,"onUpdate:value":i[4]||(i[4]=a=>b(O).quota_unit=a),options:S},null,8,["value"])])])),_:1},8,["label"]),c(s,{label:l.$t("Mail.Domain.index_22")},{default:v((()=>[c(n,{value:b(O).mailboxes,"onUpdate:value":i[5]||(i[5]=a=>b(O).mailboxes=a),class:"w-320px",min:0,"show-button":!1},null,8,["value"])])),_:1},8,["label"]),c(s,{label:l.$t("Mail.Domain.index_7")},{default:v((()=>[x("div",B,[c(o,{value:b(O).email,"onUpdate:value":i[6]||(i[6]=a=>b(O).email=a),placeholder:l.$t("Mail.Domain.index_23")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),c(u,null,{default:v((()=>[x("li",g,h(l.$t("Mail.Domain.index_24")),1),x("li",null,h(l.$t("Mail.Domain.index_25")),1),x("li",null,h(l.$t("Mail.Domain.index_26")),1)])),_:1})])}}});export{k as default};
