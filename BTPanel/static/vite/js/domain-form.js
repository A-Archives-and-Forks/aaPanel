import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.js?v=1744703330658";import{b as a,u as l}from"./ssl.js?v=1744703330658";import{a as r,t as o,h as t,c as d}from"./transition.js?v=1744703330658";import{d as s,e as p,O as u,r as n,j as i,R as c,$ as _,a0 as v,P as m,U as x,V as b,ap as y}from"./vue.js?v=1744703330658";import{_ as h,ch as f,cn as S,bY as g,b$ as w}from"./naive.js?v=1744703330658";import"./page_layout.js?v=1744703330658";import"./common.js?v=1744703330658";import"./__commonjsHelpers__.js?v=1744703330658";import"./public.js?v=1744703330658";const j={class:"w-300px"},$={class:"w-300px"},L=s({__name:"domain-form",props:{row:{},isEdit:{type:Boolean},onRefresh:{}},setup(s,{expose:L}){const D=s,{isEdit:U,row:k,onRefresh:C}=D,R=p((()=>U&&k?k.provider_name.includes("CloudFlare"):r.value.includes("CloudFlare"))),{t:T}=u(),q=n(null),E=i({record_type:"A",record_value:"",ttl:1,ps:"",proxy:0,record:""}),F={record:{required:!0,trigger:"change",message:T("SSL.Domain.index_12")},record_value:{required:!0,trigger:"blur",message:T("SSL.Domain.index_14")},ttl:{required:!0,trigger:"blur",type:"number",message:T("SSL.Domain.index_15")}},P=()=>({id:U&&k?k.id:null,pid:t.value,domain:d.value,record:E.record,record_type:E.record_type,record_value:E.record_value,ttl:E.ttl,ps:E.ps,proxy:R.value?E.proxy:-1});return(()=>{const{row:e,isEdit:a}=D;a&&e&&(E.record=e.record,E.record_type=e.record_type,E.record_value=e.record_value,E.ttl=e.ttl,E.ps=e.ps,E.proxy=e.proxy)})(),L({onConfirm:async()=>{var e;await(null==(e=q.value)?void 0:e.validate()),U&&k?await a(P()):await l(P()),C()}}),(a,l)=>{const r=h,t=f,d=S,s=g,p=w,u=e;return c(),_(u,{class:"p-20px",ref_key:"formRef",ref:q,model:b(E),rules:F},{default:v((()=>[m(t,{label:a.$t("SSL.Domain.index_11"),path:"record"},{default:v((()=>[x("div",j,[m(r,{value:b(E).record,"onUpdate:value":l[0]||(l[0]=e=>b(E).record=e),placeholder:a.$t("SSL.Domain.index_12")},null,8,["value","placeholder"])])])),_:1},8,["label"]),m(t,{label:a.$t("Ftp.Table.index_3"),path:"record_type"},{default:v((()=>[m(d,{class:"w-300px",value:b(E).record_type,"onUpdate:value":l[1]||(l[1]=e=>b(E).record_type=e),options:b(o),disabled:b(U)},null,8,["value","options","disabled"])])),_:1},8,["label"]),m(t,{label:a.$t("SSL.Domain.index_13"),path:"record_value"},{default:v((()=>[x("div",$,[m(r,{value:b(E).record_value,"onUpdate:value":l[2]||(l[2]=e=>b(E).record_value=e),placeholder:a.$t("SSL.Domain.index_14")},null,8,["value","placeholder"])])])),_:1},8,["label"]),m(t,{label:"TTL",path:"ttl"},{default:v((()=>[m(s,{min:1,max:1800,"show-button":!1,class:"w-300px!",value:b(E).ttl,"onUpdate:value":l[3]||(l[3]=e=>b(E).ttl=e),placeholder:a.$t("SSL.Domain.index_15")},null,8,["value","placeholder"])])),_:1}),m(t,{label:a.$t("Public.Table.Ps"),path:"ps"},{default:v((()=>[m(r,{class:"w-300px!",value:b(E).ps,"onUpdate:value":l[4]||(l[4]=e=>b(E).ps=e),placeholder:a.$t("Crontab.arrange.index_27")},null,8,["value","placeholder"])])),_:1},8,["label"]),b(R)?(c(),_(t,{key:0,label:a.$t("SSL.Domain.index_16"),path:"proxy"},{default:v((()=>[m(p,{value:b(E).proxy,"onUpdate:value":l[5]||(l[5]=e=>b(E).proxy=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])):y("",!0)])),_:1},8,["model"])}}});export{L as default};
