const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index213.js?v=1758789124250","js/index.js?v=1758789124250","js/vue.js?v=1758789124250","js/__commonjsHelpers__.js?v=1758789124250","js/common.js?v=1758789124250","js/public.js?v=1758789124250","js/page_layout.js?v=1758789124250","js/naive.js?v=1758789124250","css/page_layout.css?v=1758789124250","css/public.css?v=1758789124250","css/index109.css?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang.js?v=1758789124250","js/index.vue_vue_type_script_setup_true_lang8.js?v=1758789124250","css/index92.css?v=1758789124250","js/index214.js?v=1758789124250","js/index245.js?v=1758789124250","css/index59.css?v=1758789124250","css/index93.css?v=1758789124250","js/domain-verification.js?v=1758789124250","js/index215.js?v=1758789124250","js/site.js?v=1758789124250","js/index216.js?v=1758789124250","js/index99.js?v=1758789124250","css/index14.css?v=1758789124250","css/index94.css?v=1758789124250","js/index217.js?v=1758789124250","js/ssl-log.js?v=1758789124250","js/index105.js?v=1758789124250","css/index19.css?v=1758789124250"])))=>i.map(i=>d[i]);
import{_ as e}from"./index108.js?v=1758789124250";import{k as a,a0 as t,P as n,e as s,W as o,j as i,a2 as l,V as r,a3 as d,U as _,a4 as u,S as c,_ as p,r as h,b as m,R as w,u as S,ak as f}from"./vue.js?v=1758789124250";import{u as y,a8 as x,d as g,o as L,_ as v,a as k}from"./page_layout.js?v=1758789124250";import{_ as E}from"./index133.js?v=1758789124250";import{_ as b}from"./index.js?v=1758789124250";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1758789124250";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1758789124250";import{e as D,c as I,f as R,a0 as P,a as U,a1 as B,a2 as T,h as V,_ as O,n as A,a3 as N,a4 as M,a5 as z,a6 as F}from"./public.js?v=1758789124250";import{u as q,i as G,r as H}from"./utils3.js?v=1758789124250";import{A as X}from"./index218.js?v=1758789124250";import{dj as $,aC as W,dh as J,dS as K}from"./naive.js?v=1758789124250";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1758789124250";import{T as Y}from"./transition.js?v=1758789124250";import"./__commonjsHelpers__.js?v=1758789124250";import"./common.js?v=1758789124250";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1758789124250";import"./index.vue_vue_type_script_setup_true_lang.js?v=1758789124250";import"./paypal-js.js?v=1758789124250";const Z=a({__name:"index",setup(e){const a=p(()=>k(()=>import("./index213.js?v=1758789124250"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),h=p(()=>k(()=>import("./index214.js?v=1758789124250"),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17]))),m=p(()=>k(()=>import("./domain-verification.js?v=1758789124250"),__vite__mapDeps([18,6,2,3,7,4,5,9,8,11]))),w=y(),{userInfo:S}=t(w),{t:f}=n(),z=s({p:1,limit:10}),F=D(f("SSL.Business.index_41"),{onRefresh:(e,a)=>{Q.data.request=!0,Q.data.uc_id=a,Q.data.verify=e,Q.show=!0,ae()}}),H=D(f("SSL.index_44")),K=D(f("SSL.index_49"),{onRefresh:()=>{ae()}}),Q=D(f("SSL.Business.index_42"),{onRefresh:()=>{ae()}}),{table:Y,columns:Z}=I([{key:"provider",title:f("SSL.Domain.index_28"),render:e=>e.provider||"--"},{key:"verify_domains",title:f("SSL.index_53"),render:e=>o("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:f("Site.Cert.index_44"),render:e=>e.order_info.title},q({title:f("SSL.index_54")}),{key:"proxy",title:f("SSL.index_55"),render:e=>void 0!==e.auto_renew?o($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[a=>e.auto_renew=a,async()=>{try{await N({hash:e.hash})}catch(a){e.auto_renew=1===e.auto_renew?0:1}}]},null):o("span",null,[i("--")])},{key:"alarm",title:f("SSL.Domain.index_26"),render:e=>void 0!==e.alarm?o($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[a=>e.alarm=a,async a=>{try{await M({hash:e.hash,alarm:a})}catch(t){e.alarm=1===a?0:1}}]},null):o("span",null,[i("--")])},{key:"create_time",title:f("Docker.Container.index_9"),render:e=>x(e.order_info.create_time)},G((e,a)=>{K.data.row=e,K.show=!0,K.data.menu=a}),{key:"order_status",title:f("SSL.Business.index_43"),render:e=>{const a=e.order_info;return a.certId||a.domains.length?!a.certId&&a.domains.length?o("span",{class:"color-warning"},[f("SSL.Business.index_45")]):"PENDING"===a.order_status&&1===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_46")]):"COMPLETE"===a.order_status&&1===a.status?o("span",{class:"color-#20a53a"},[f("SSL.Business.index_47")]):"CANCELLED"===a.order_status&&1===a.status||-1===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_48")]):"FAILED"===a.order_status&&1===a.status?o("span",{class:"color-error"},[f("SSL.Business.index_49")]):"EXPIRED"===a.order_status&&1===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_50")]):1!==a.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(a.order_status)?0===a.status?o("span",{class:"color-warning"},[f("SSL.Business.index_52")]):void 0:o("span",{class:"color-warning"},[f("SSL.Business.index_51")]):o("span",{class:"color-warning cursor-pointer",onClick:()=>ee(e)},[f("SSL.Business.index_44")])}},R({width:250,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:f("SSL.Business.index_53"),onClick:()=>{ee(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status||!e.order_info.order_status&&e.order_info.certId,label:f("SSL.Business.index_54"),onClick:async()=>{const{message:a}=await P({uc_id:e.order_info.uc_id});g(a)&&(Q.data.uc_id=e.order_info.uc_id,Q.data.verify=a.data,Q.data.paths=a.paths,Q.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:f("SSL.index_58"),onClick:async()=>{K.data.row=e,K.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:f("Ftp.Label.index_11"),onClick:async()=>{const a=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(a)}},{show:!1,label:f("Public.Btn.Del"),onClick:()=>{U({title:f("SSL.index_59"),content:f("SSL.index_60"),onConfirm:async()=>{await B({hash:e.hash}),ae()}})}}]})]),ee=e=>{F.data.row=e,F.show=!0},ae=async()=>{try{Y.loading=!0;const{message:e}=await T(z);g(e)&&(Y.data=e.data,Y.total=e.total)}finally{Y.loading=!1}};return S.value.status&&ae(),(e,t)=>{const n=W,s=v,p=L,w=O,y=J,x=V,g=C,k=j,D=b,I=E;return r(),l(I,{install:_(S).status},{desc:d(()=>[t[7]||(t[7]=c("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),o(n,{type:"primary",onClick:_(A)},{default:d(()=>[i(u(e.$t("Login.index_3")),1)]),_:1},8,["onClick"])]),default:d(()=>[o(k,{feedback:!0},{toolsLeft:d(()=>[o(n,{type:"primary",onClick:t[0]||(t[0]=e=>_(H).show=!0)},{default:d(()=>[i(u(_(f)("SSL.index_44")),1)]),_:1}),o(y,{trigger:"hover"},{trigger:d(()=>[o(s,{name:"base-info",size:18,color:"#999"})]),default:d(()=>[o(w,null,{default:d(()=>[t[9]||(t[9]=c("li",null," If your site uses CDN, high-defence IP, reverse proxy, 301 redirect, etc., it may lead to validation failure ",-1)),t[10]||(t[10]=c("li",null," Certificates can be purchased for many years, and can only be issued once a year (valid for one year), and need to be renewed within 30 days before expiration (domain verification is not required for renewal) ",-1)),t[11]||(t[11]=c("li",null,"Apply for www.aapanel.com certificate with www as the secondary domain name, binding and resolving the top-level domain (aapanel.com) is required, otherwise the verification will fail",-1)),c("li",null,[t[8]||(t[8]=i("Compared with ordinary certificates, commercial certificates have higher security, compensation protection and support for wildcard and multi-domain names ",-1)),o(p,{target:"_blank",href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html"},{default:d(()=>[i(u(e.$t("SSL.Business.index_20")),1)]),_:1})])]),_:1,__:[9,10,11]})]),_:1})]),table:d(()=>[o(x,{loading:_(Y).loading,data:_(Y).data,columns:_(Z)},null,8,["loading","data","columns"])]),pageRight:d(()=>[o(g,{page:_(z).p,"onUpdate:page":t[1]||(t[1]=e=>_(z).p=e),"page-size":_(z).limit,"onUpdate:pageSize":t[2]||(t[2]=e=>_(z).limit=e),"item-count":_(Y).total,onRefresh:ae},null,8,["page","page-size","item-count"])]),_:1}),o(D,{show:_(H).show,"onUpdate:show":t[3]||(t[3]=e=>_(H).show=e),title:_(H).title,data:_(H).data,"min-height":250,component:X},null,8,["show","title","data"]),o(D,{show:_(F).show,"onUpdate:show":t[4]||(t[4]=e=>_(F).show=e),title:_(F).title,data:_(F).data,width:650,"min-height":450,component:_(a)},null,8,["show","title","data","component"]),o(D,{show:_(K).show,"onUpdate:show":t[5]||(t[5]=e=>_(K).show=e),title:_(K).title,data:_(K).data,width:720,height:530,component:_(h)},null,8,["show","title","data","component"]),o(D,{show:_(Q).show,"onUpdate:show":t[6]||(t[6]=e=>_(Q).show=e),title:_(Q).title,data:_(Q).data,width:650,"min-height":450,component:_(m)},null,8,["show","title","data","component"])]),_:1},8,["install"])}}});const ee=a({__name:"index",setup(e){const a=p(()=>k(()=>import("./index215.js?v=1758789124250"),__vite__mapDeps([19,5,6,2,3,7,4,8,9,11,20]))),t=p(()=>k(()=>import("./index216.js?v=1758789124250"),__vite__mapDeps([21,11,2,3,7,4,22,6,5,9,8,23,24]))),l=p(()=>k(()=>import("./index217.js?v=1758789124250"),__vite__mapDeps([25,6,2,3,7,4,5,9,8,1,10,22,23]))),c=p(()=>k(()=>import("./index214.js?v=1758789124250"),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17]))),f=p(()=>k(()=>import("./ssl-log.js?v=1758789124250"),__vite__mapDeps([26,27,6,2,3,7,4,5,9,8,28]))),{t:y}=n(),x=D(y("SSL.index_48"),{onRefresh:()=>{ae()}}),v=D(y("SSL.index_44"),{onRefresh:()=>{ae()},onOpenLog:e=>{Y(e)}}),E=D(y("SSL.index_45"),{onRefresh:()=>{ae()}}),P=D(y("SSL.index_49"),{onRefresh:()=>{ae()}}),T=D(y("SSL.index_50")),O=s({p:1,limit:10,is_order:0,search:""}),A=()=>{O.p=1,ae()},X=()=>{U({title:y("SSL.index_51"),content:y("SSL.index_52"),onConfirm:async()=>{await F(),ae()}})},{table:J,columns:K}=I([H(e=>{Y(e)}),{key:"ssl_type",title:y("SSL.index_53"),render:e=>o("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},q({title:y("SSL.index_54")}),{key:"proxy",title:y("SSL.index_55"),render:e=>o($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[a=>e.auto_renew=a,async()=>{try{await N({hash:e.hash})}catch(a){e.auto_renew=1===e.auto_renew?0:1}}]},null)},{key:"alarm",title:y("SSL.Domain.index_26"),render:e=>o($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[a=>e.alarm=a,async a=>{try{await M({hash:e.hash,alarm:a})}catch(t){e.alarm=1===a?0:1}}]},null)},G((e,a)=>{P.data.row=e,P.show=!0,P.data.menu=a}),{key:"last_apply_time",title:y("SSL.index_56")},{key:"last_apply_log",title:y("SSL.index_57"),align:"center",render:e=>{let a;return e.log?o(L,{onClick:()=>{Y(e.log)}},"function"==typeof(t=a=y("Ftp.Table.index_15"))||"[object Object]"===Object.prototype.toString.call(t)&&!S(t)?a:{default:()=>[a]}):"--";var t}},R({width:250,options:e=>[{label:y("SSL.index_58"),onClick:async()=>{P.data.row=e,P.show=!0}},{label:y("Mail.Mass.index_61"),onClick:()=>{x.data.row=e,x.show=!0}},{label:y("Public.Btn.Del"),onClick:()=>{U({title:y("SSL.index_59"),content:y("SSL.index_60"),onConfirm:async()=>{await B({hash:e.hash}),ae()}})}}]})]),Y=e=>{T.data.path=e,T.show=!0};let Z=null;const ee=h(!1),ae=async()=>{try{ee.value||(J.loading=!0);const{message:e}=await z(O);g(e)&&(ee.value=e.data.some(e=>e.task.some(e=>100!==e.task_status)),ee.value?te():Z&&clearTimeout(Z),J.data=e.data,J.total=e.total)}finally{J.loading=!1}},te=async()=>{Z=window.setTimeout(()=>{ae()},5e3)};return ae(),m(()=>{Z&&clearTimeout(Z)}),(e,n)=>{const s=W,p=Q,h=V,m=C,S=j,g=b;return r(),w("div",null,[o(S,{feedback:!0},{toolsLeft:d(()=>[o(s,{type:"primary",onClick:n[0]||(n[0]=e=>_(v).show=!0)},{default:d(()=>[i(u(_(y)("SSL.index_44")),1)]),_:1}),o(s,{onClick:n[1]||(n[1]=e=>_(E).show=!0)},{default:d(()=>[i(u(_(y)("SSL.index_45")),1)]),_:1}),o(s,{onClick:X},{default:d(()=>[i(u(_(y)("SSL.index_46")),1)]),_:1})]),toolsRight:d(()=>[o(p,{value:_(O).search,"onUpdate:value":n[2]||(n[2]=e=>_(O).search=e),onSearch:A},null,8,["value"])]),table:d(()=>[o(h,{loading:_(J).loading,data:_(J).data,columns:_(K)},null,8,["loading","data","columns"])]),pageRight:d(()=>[o(m,{page:_(O).p,"onUpdate:page":n[3]||(n[3]=e=>_(O).p=e),"page-size":_(O).limit,"onUpdate:pageSize":n[4]||(n[4]=e=>_(O).limit=e),"item-count":_(J).total,onRefresh:ae},null,8,["page","page-size","item-count"])]),_:1}),o(g,{show:_(v).show,"onUpdate:show":n[5]||(n[5]=e=>_(v).show=e),title:_(v).title,data:_(v).data,width:550,"min-height":250,footer:!0,component:_(a),"confirm-text":_(y)("SSL.index_47")},null,8,["show","title","data","component","confirm-text"]),o(g,{show:_(x).show,"onUpdate:show":n[6]||(n[6]=e=>_(x).show=e),title:_(x).title,data:_(x).data,width:650,footer:!1,component:_(l)},null,8,["show","title","data","component"]),o(g,{show:_(E).show,"onUpdate:show":n[7]||(n[7]=e=>_(E).show=e),title:_(E).title,data:_(E).data,width:800,"min-height":500,footer:!0,component:_(t)},null,8,["show","title","data","component"]),o(g,{show:_(T).show,"onUpdate:show":n[8]||(n[8]=e=>_(T).show=e),title:_(T).title,data:_(T).data,width:650,"min-height":450,component:_(f)},null,8,["show","title","data","component"]),o(g,{show:_(P).show,"onUpdate:show":n[9]||(n[9]=e=>_(P).show=e),title:_(P).title,data:_(P).data,width:720,height:530,component:_(c)},null,8,["show","title","data","component"])])}}}),ae=a({__name:"index",setup(a){const{t:s}=n(),i=y(),{userInfo:u}=t(i),c=h("business"),p=[{key:"business",label:s("SSL.index_9"),component:Z},{key:"let-encrypt",label:"Let's Encrypt",component:ee}];return(a,t)=>{const n=e,s=K;return _(u).status?(r(),l(s,{key:0,class:"p-16px"},{default:d(()=>[o(n,{value:_(c),"onUpdate:value":t[0]||(t[0]=e=>f(c)?c.value=e:null),options:p},null,8,["value"])]),_:1})):(r(),l(Y,{key:1}))}}});export{ae as default};
