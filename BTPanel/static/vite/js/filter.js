import{_ as e}from"./index95.js?v=1744703330658";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1744703330658";import{I as i,m as l}from"./page_layout.js?v=1744703330658";import{b as t,f as s}from"./public.js?v=1744703330658";import{w as n,x as r,A as o}from"./site3.js?v=1744703330658";import{_ as u,T as m}from"./naive.js?v=1744703330658";import{d as f,O as d,j as p,R as _,S as c,U as x,P as g,V as v,a0 as C,c as j,a1 as y}from"./vue.js?v=1744703330658";import"./common.js?v=1744703330658";import"./__commonjsHelpers__.js?v=1744703330658";const S={class:"p-20px"},N={class:"flex mb-16px"},W={class:"flex-1 mr-16px"},$={class:"w-230px mr-16px"},b="url_rule",h=f({__name:"filter",props:{siteName:{default:""}},setup(f){const h=f,{t:w}=d(),k=p({url:"",filter:""}),U=async()=>{""!==k.url.trim()&&""!==k.filter.trim()?(await o({siteName:h.siteName,ruleName:b,ruleUri:k.url,ruleValue:k.filter}),k.url="",k.filter="",V()):l.error(w("Waf.Site.Config.index_85"))},{table:P,columns:A,setLoading:B}=t([{key:"uri",title:w("Waf.Site.Config.index_86")},{key:"name",title:w("Waf.Site.Config.index_87")},s({width:80,options:(e,a)=>[{label:w("Public.Btn.Del"),onClick:async()=>{await n({index:a,siteName:h.siteName,ruleName:b}),V()}}]})]),V=async()=>{try{B(!0);const{siteName:e}=h,{message:a}=await r({siteName:e,ruleName:b});i(a)&&(P.data=a.map((([e,a,i])=>({uri:e,name:a,value:i}))))}finally{B(!1)}};return V(),(i,l)=>{const t=u,s=m,n=a,r=e;return _(),c("div",S,[x("div",N,[x("div",W,[g(t,{value:v(k).url,"onUpdate:value":l[0]||(l[0]=e=>v(k).url=e),placeholder:i.$t("Waf.Site.Config.index_67")},null,8,["value","placeholder"])]),x("div",$,[g(t,{value:v(k).filter,"onUpdate:value":l[1]||(l[1]=e=>v(k).filter=e),placeholder:i.$t("Waf.Site.Config.index_79")},null,8,["value","placeholder"])]),g(s,{type:"primary",onClick:U},{default:C((()=>[j(y(i.$t("Public.Btn.Add")),1)])),_:1})]),g(n,{"max-height":230,loading:v(P).loading,data:v(P).data,columns:v(A)},null,8,["loading","data","columns"]),g(r,{class:"mt-16px"},{default:C((()=>[x("li",null,y(i.$t("Waf.Site.Config.index_80")),1),x("li",null,y(i.$t("Waf.Site.Config.index_81")),1),x("li",null,y(i.$t("Waf.Site.Config.index_82")),1),x("li",null,y(i.$t("Waf.Site.Config.index_83")),1),x("li",null,y(i.$t("Waf.Site.Config.index_84")),1)])),_:1})])}}});export{h as default};
