import{E as e,c as a,m as s,F as l,G as t,z as n,H as i,o as r,e as o}from"./page_layout.js?v=1753954525509";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang.js?v=1753954525509";import{_ as d}from"./public.js?v=1753954525509";import{k as u,P as c,r as m,e as x,U as _,a1 as v,a2 as g,W as f,a3 as w,Q as y,X as h,V as b,j as $,at as C,au as L,al as j,N as k}from"./vue.js?v=1753954525509";import"./index.js?v=1753954525509";import{bT as P,aq as z,cA as A,ay as U,cB as q,cC as B,bY as F,cD as I}from"./naive.js?v=1753954525509";import"./common.js?v=1753954525509";import"./__commonjsHelpers__.js?v=1753954525509";const H={class:"font-600"},R={class:"info flex mt-50px w-820px mx-auto"},D={class:"tips py-40px w-50%"},E={class:"font-600 text-16px"},G={class:"mt-10px mb-20px font-600 text-16px"},K={key:0,class:"w-50% p-30px"},N={class:"w-100%"},Q={class:"w-100%"},S={class:"flex justify-end mt-8px w-320px"},T={key:1,class:"w-50% p-30px"},V={class:"font-600 text-left"},W={class:"underline"},X={class:"text-16px my-20px text-left"},Y={key:0,class:"ml-5px"},J=o(u({__name:"index",setup(o){const{t:u}=c(),J=m(null),M=m(null),O=x({email:"",password:"",isPro:1}),Z={email:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_5")}},ee=x({username:"",password:"",isPro:1}),ae={username:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_5")}},se=m(!1),le=m(!1),te=e=>{le.value="login"===e},ne=m(60),ie=m(!0);let re;const oe=async()=>{var l;await(null==(l=J.value)?void 0:l.validate());const{message:t}=await e(k(O));a(t)&&(t.status?(se.value=!0,s.success(t.msg)):s.error(t.msg))},pe=async()=>{var e;await(null==(e=M.value)?void 0:e.validate());try{await l(k(le.value?ee:{username:O.email,password:O.password,isPro:1}))}catch(a){return void(P(a,"message.validated",!0)||(se.value=!0))}await t({force:1}),n.push("/")},de=()=>{ie.value=!1,re&&clearInterval(re),re=setInterval((()=>{ne.value--,ne.value<=0&&(clearInterval(re),ne.value=60,ie.value=!0)}),1e3);let e=le.value?ee.username:O.email;i({email:e})};return(e,a)=>{const s=d,l=z,t=A,n=p,i=U,o=q,u=r,c=B,m=F,x=I;return _(),v(x,{class:"box pt-100px flex items-center text-center"},{default:g((()=>[f("h1",H,w(e.$t("Login.index_26")),1),f("div",R,[f("div",D,[a[7]||(a[7]=f("h3",{class:"font-600 mb-20px"},"aaPanel Pro",-1)),f("div",E,w(e.$t("Login.index_29")),1),f("div",G,w(e.$t("Login.index_30")),1),y(s,{class:"text-left pl-30px w-400px"},{default:g((()=>[f("li",null,w(e.$t("Login.index_27")),1),f("li",null,w(e.$t("Login.index_28")),1)])),_:1})]),h(se)?(_(),b("div",T,[f("h3",V,[$(w(e.$t("Login.index_35"))+": ",1),f("span",W,w(h(le)?h(ee).username:h(O).email),1)]),f("div",X,[$(w(e.$t("Login.index_36"))+": ",1),a[9]||(a[9]=f("span",{class:"underline"},"support@aapanel.com",-1))]),y(m,null,{default:g((()=>[y(i,{type:"primary",size:"large",onClick:a[6]||(a[6]=e=>pe())},{default:g((()=>[$(w(e.$t("Login.index_37")),1)])),_:1}),y(i,{size:"large",onClick:de,disabled:!h(ie)},{default:g((()=>[$(w(e.$t("Login.index_38"))+" ",1),h(ie)?j("",!0):(_(),b("span",Y,"("+w(h(ne))+")",1))])),_:1},8,["disabled"])])),_:1})])):(_(),b("div",K,[y(c,{"default-value":"signup",size:"large",animated:"","onUpdate:value":te},{default:g((()=>[y(o,{name:"signup",tab:"Sign up",class:"text-left"},{default:g((()=>[y(n,{ref_key:"signFormRef",ref:J,model:h(O),rules:Z,size:"large"},{default:g((()=>[y(t,{path:"email"},{default:g((()=>[y(l,{value:h(O).email,"onUpdate:value":a[0]||(a[0]=e=>h(O).email=e),class:"w-320px!",placeholder:e.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])])),_:1}),y(t,{path:"password"},{default:g((()=>[y(l,{value:h(O).password,"onUpdate:value":a[1]||(a[1]=e=>h(O).password=e),class:"w-320px!",type:"password",placeholder:e.$t("Config.Panel.index_66")},null,8,["value","placeholder"])])),_:1})])),_:1},8,["model"]),f("div",N,[y(i,{type:"primary",onClick:oe,size:"large",class:"whitespace-normal w-320px!"},{default:g((()=>[$(w(e.$t("Login.index_31")),1)])),_:1})])])),_:1}),y(o,{name:"login",tab:"Login",class:"text-left"},{default:g((()=>[y(n,{ref_key:"loginFormRef",ref:M,model:h(ee),rules:ae,size:"large"},{default:g((()=>[y(t,{path:"username"},{default:g((()=>[y(l,{value:h(ee).username,"onUpdate:value":a[2]||(a[2]=e=>h(ee).username=e),class:"w-320px!",placeholder:e.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])])),_:1}),y(t,{path:"password"},{default:g((()=>[y(l,{value:h(ee).password,"onUpdate:value":a[3]||(a[3]=e=>h(ee).password=e),class:"w-320px!",type:"password",placeholder:e.$t("Config.Panel.index_66"),onKeyup:a[4]||(a[4]=C(L((e=>pe()),["prevent"]),["enter"]))},null,8,["value","placeholder"])])),_:1})])),_:1},8,["model"]),f("div",Q,[y(i,{type:"primary",onClick:a[5]||(a[5]=e=>pe()),size:"large",class:"whitespace-normal w-320px!"},{default:g((()=>[$(w(e.$t("Login.index_32")),1)])),_:1}),f("div",S,[y(u,{target:"_blank",href:"https://www.aapanel.com/user_admin/login?page=reset"},{default:g((()=>a[8]||(a[8]=[$("Forget Password>>")]))),_:1,__:[8]})])])])),_:1})])),_:1})]))])])),_:1})}}}),[["__scopeId","data-v-d3e16670"]]);export{J as default};
