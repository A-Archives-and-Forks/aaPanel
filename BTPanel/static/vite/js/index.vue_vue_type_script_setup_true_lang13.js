import{d as e,ad as a,ae as l,e as t,r as s,R as n,a0 as o,a1 as d,U as i,P as u,V as c,aj as p,S as r,F as v,c as h,a2 as f,ao as m,k as y,v as b}from"./vue.js?v=1747989938512";import{w as g}from"./public.js?v=1747989938512";import{h as k}from"./page_layout.js?v=1747989938512";import{a2 as w,cp as x,T as _,bU as j}from"./naive.js?v=1747989938512";const K={class:"flex justify-center w-42px"},B={class:"min-w-140px"},R={class:"ml-8px"},C=e({__name:"index",props:a({data:{default:()=>[]},rowKey:{default:"id"},options:{default:()=>[]}},{checkedRowKeys:{default:()=>[]},checkedRowKeysModifiers:{}}),emits:["update:checkedRowKeys"],setup(e){const a=e,C=l(e,"checkedRowKeys"),{rowKey:U}=a,$=k(U)?e=>e[U]:U,P=t({get:()=>C.value.length>0&&C.value.length===a.data.length,set(e){C.value=e?a.data.map((e=>$(e))):[]}}),z=t((()=>0===a.data.length)),E=t((()=>C.value.length>0&&C.value.length<a.data.length)),F=s(null),M=t((()=>a.options.map((e=>({label:e.label,value:e.key}))))),S=t((()=>0===C.value.length)),T=t((()=>S.value||null===F.value)),V=t((()=>a.data.filter((e=>C.value.includes($(e)))))),q=()=>{var e;const{options:l}=a;for(let a of l)if(a.key===F.value)if("confirm"===a.type)g({...a.confirm,data:V.value});else null==(e=a.onBatch)||e.call(a,V.value)},A=()=>{var e;const{options:l}=a,t=l[0];if("confirm"===t.type)g({...t.confirm,data:V.value});else null==(e=t.onBatch)||e.call(t,V.value)};return(e,a)=>{const l=w,t=x,s=_,g=j;return n(),o(g,{class:"bt-table-batch items-center",size:0},{default:d((()=>[i("div",K,[u(l,{checked:c(P),"onUpdate:checked":a[0]||(a[0]=e=>p(P)?P.value=e:null),disabled:c(z),indeterminate:c(E)},null,8,["checked","disabled","indeterminate"])]),e.options.length>1?(n(),r(v,{key:0},[i("div",B,[u(t,{value:c(F),"onUpdate:value":a[1]||(a[1]=e=>p(F)?F.value=e:null),options:c(M),disabled:c(S),placeholder:e.$t("Component.Batch.index_1")},null,8,["value","options","disabled","placeholder"])]),i("div",R,[u(s,{type:c(T)?"default":"primary",disabled:c(T),onClick:q},{default:d((()=>[h(f(e.$t("Public.Btn.Execute")),1)])),_:1},8,["type","disabled"])])],64)):m("",!0),1===e.options.length?(n(),o(s,{key:1,disabled:c(S),type:c(S)?"default":"primary",onClick:A},{default:d((()=>[i("span",null,f(e.options[0].label),1),y(i("span",null,f(e.$t("Component.Batch.index_2",[C.value.length])),513),[[b,C.value.length>0]])])),_:1},8,["disabled","type"])):m("",!0)])),_:1})}}});export{C as _};
