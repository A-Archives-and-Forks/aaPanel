import{_ as e}from"./index95.js?v=1744703330658";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang.js?v=1744703330658";import{v as l}from"./ssl.js?v=1744703330658";import{d as t,da as n}from"./page_layout.js?v=1744703330658";import{d as s,O as i,r,j as o,R as d,S as p,P as u,a0 as m,V as _,c as f,a1 as c,$ as v,ap as S,U as x}from"./vue.js?v=1744703330658";import{cm as y,cl as w,ch as L,cn as h,_ as g}from"./naive.js?v=1744703330658";import"./common.js?v=1744703330658";import"./__commonjsHelpers__.js?v=1744703330658";import"./public.js?v=1744703330658";const z={class:"p-16px"},A=s({__name:"index",props:{onRefresh:{type:Function},onOpenLog:{type:Function}},setup(s,{expose:A}){const{t:Z}=i(),b=s,j=r(null),$=o({verify_method:1,type:"wildcard",domains:""}),E=r([{label:Z("SSL.index_17"),value:"single"},{label:Z("SSL.index_18"),value:"wildcard"},{label:Z("SSL.index_19"),value:"wildcard_all"}]),U=()=>{$.domains=""},k={domains:{required:!0,trigger:"input",validator:(e,a)=>{if("single"===$.type){if(!a)return new Error(Z("SSL.index_20"));if(!/^[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+$/.test(a))return new Error(Z("SSL.index_21"))}else if("wildcard"===$.type){if(!a)return new Error(Z("SSL.index_22"));if(!/^(?:\*\.)?(?:[a-zA-Z0-9-]+\.)?[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+(\n(?:\*\.)?(?:[a-zA-Z0-9-]+\.)?[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+)*$/.test(a))return new Error(Z("SSL.index_23"))}else if("wildcard_all"===$.type){if(!a)return new Error(Z("SSL.index_24"));if(!/^\*\.[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+(\n\*\.[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+)*$/i.test(a))return new Error(Z("SSL.index_25"))}return!0}}};return A({onConfirm:async()=>{var e;await(null==(e=j.value)?void 0:e.validate());const{message:a}=await l({domains:JSON.stringify("single"===$.type?[$.domains]:$.domains.split("\n"))});t(a)&&b.onOpenLog(a.result),b.onRefresh()}}),(l,t)=>{const s=y,i=n,r=w,o=L,A=h,Z=g,b=a,O=e;return d(),p("div",z,[u(b,{ref_key:"formRef",ref:j,model:_($),rules:k},{default:m((()=>[u(o,{label:l.$t("SSL.index_11"),path:"verify_method"},{default:m((()=>[u(r,{value:_($).verify_method,"onUpdate:value":t[0]||(t[0]=e=>_($).verify_method=e),name:""},{default:m((()=>[u(i,null,{default:m((()=>[u(s,{value:1},{default:m((()=>[f(c(l.$t("SSL.index_12")),1)])),_:1})])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),u(o,{label:l.$t("SSL.index_13"),path:"type"},{default:m((()=>[u(A,{class:"w-300px",value:_($).type,"onUpdate:value":[t[1]||(t[1]=e=>_($).type=e),U],options:_(E)},null,8,["value","options"])])),_:1},8,["label"]),"single"===_($).type?(d(),v(o,{key:0,label:" ",path:"domains"},{default:m((()=>[u(Z,{class:"w-300px!",value:_($).domains,"onUpdate:value":t[2]||(t[2]=e=>_($).domains=e),placeholder:"aapanel.com"},null,8,["value"])])),_:1})):S("",!0),"wildcard"===_($).type?(d(),v(o,{key:1,label:" ",path:"domains"},{default:m((()=>[u(Z,{type:"textarea",class:"w-300px!",value:_($).domains,"onUpdate:value":t[3]||(t[3]=e=>_($).domains=e),placeholder:l.$t("SSL.index_14")},null,8,["value","placeholder"])])),_:1})):S("",!0),"wildcard_all"===_($).type?(d(),v(o,{key:2,label:" ",path:"domains"},{default:m((()=>[u(Z,{type:"textarea",class:"w-300px!",value:_($).domains,"onUpdate:value":t[4]||(t[4]=e=>_($).domains=e),placeholder:"*.aapanel.com"},null,8,["value"])])),_:1})):S("",!0)])),_:1},8,["model"]),u(O,{class:"mt-16px"},{default:m((()=>[x("li",null,c(l.$t("SSL.index_15")),1),x("li",null,c(l.$t("SSL.index_16")),1)])),_:1})])}}});export{A as default};
