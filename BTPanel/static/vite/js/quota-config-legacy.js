System.register(["./index-legacy68.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1721298337096","./index-legacy.js?v=1721298337096","./vue-legacy.js?v=1721298337096","./InputGroupLabel-legacy.js?v=1721298337096","./InputGroup-legacy.js?v=1721298337096","./pinia-legacy.js?v=1721298337096"],(function(e,a){"use strict";var t,s,u,l,o,i,n,p,d,r,c,_,f,q,y,g,m,x,v,b,h,z,j;return{setters:[e=>{t=e._},e=>{s=e._,u=e.a},e=>{l=e.at,o=e.au,i=e.al,n=e.L,p=e.ab,d=e.cJ},e=>{r=e.l,c=e.f,_=e.r,f=e.S,q=e.Z,y=e.P,g=e.V,m=e._,x=e.W,v=e.q,b=e.a3,h=e.af},e=>{z=e._},e=>{j=e._},null],execute:function(){const{t:a}=l.global,w={class:"px-20px py-24px"},M={class:"w-160px"},S={class:"w-160px"},O=m("li",{class:"text-error"},"Reminder: This feature is exclusive to the pro edition",-1),J=m("li",null,"Requires an XFS filesystem and includes the [prjquota] parameter to use",-1),P={key:0},W=m("li",null,'Quota: To cancel quota, set to "0"',-1);e("default",r({__name:"quota-config",props:{data:{}},setup(e,{expose:l}){const r=e,{type:k,info:B,callback:G}=r.data,I=c({used:"0",size:0}),L=_("MB");return(()=>{const e=i(B,"quota.used",0);if(e>0){const a=n(e).split(" ");I.used=a[0],L.value=a[1]}I.size=i(B,"quota.size",0)})(),l({onConfirm:async({hide:e})=>{var t;"site"!==k&&"ftp"!==k||await(t={size:I.size,quota_type:k,path:i(B,"path","")},o.post("/project/quota/modify_path_quota",{data:JSON.stringify({path:t.path,quota_type:t.quota_type,quota_push:{module:"",status:!1,size:0,push_count:0},quota_storage:{size:t.size}})},{requestOptions:{loading:a("WP.api.tamper_8"),successMessage:!0,errorMessage:{close:!0}}})),"database"===k&&await(e=>o.post("/project/quota/modify_database_quota",{data:JSON.stringify({db_name:e.db_name,quota_push:{module:"",status:!1,size:0,push_count:0},quota_storage:{size:e.size}})},{requestOptions:{loading:a("WP.api.tamper_8"),successMessage:!0,errorMessage:{close:!0}}}))({size:I.size,db_name:i(B,"name","")}),G?.(),e()}}),(e,a)=>{const l=p,o=z,i=j,n=s,r=d,c=u,_=t;return f(),q("div",w,[y(c,{"label-width":"180"},{default:g((()=>[y(n,{label:"Quota already set"},{default:g((()=>[m("div",M,[y(i,null,{default:g((()=>[y(l,{value:x(I).used,"onUpdate:value":a[0]||(a[0]=e=>x(I).used=e),disabled:!0},null,8,["value"]),y(o,{class:"w-44px text-center"},{default:g((()=>[v(b(x(L)),1)])),_:1})])),_:1})])])),_:1}),y(n,{label:"Set new quota"},{default:g((()=>[m("div",S,[y(i,null,{default:g((()=>[y(r,{value:x(I).size,"onUpdate:value":a[1]||(a[1]=e=>x(I).size=e),min:0,"show-button":!1},null,8,["value"]),y(o,{class:"w-44px text-center"},{default:g((()=>[v("MB")])),_:1})])),_:1})])])),_:1})])),_:1}),y(_,{class:"mt-8px"},{default:g((()=>[O,J,"database"!==x(k)?(f(),q("li",P," Example of fstab: /dev/vdc1 /data xfs defaults,prjquota 0 0 ")):h("",!0),W])),_:1})])}}}))}}}));
