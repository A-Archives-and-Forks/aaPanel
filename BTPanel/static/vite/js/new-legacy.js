System.register(["./page_layout-legacy.js?v=1744703330658","./index-legacy123.js?v=1744703330658","./index-legacy.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1744703330658","./site-legacy.js?v=1744703330658","./public-legacy.js?v=1744703330658","./vue-legacy.js?v=1744703330658","./soft-legacy.js?v=1744703330658","./naive-legacy.js?v=1744703330658"],(function(e,t){"use strict";var n,i,a,o,l,d,c,s,r,u,_,p,h,y,g,m,w,f,j,k,x,b,v,P,S,C,N,O,R,U,$,W,B,z,H,I,M,L,T,V,D,K,A,F,Y,q,E,G,J,Q,X,Z;return{setters:[e=>{n=e.i,i=e.d,a=e.j,o=e.a,l=e.d3,d=e.cx,c=e.h,s=e.d4,r=e.d5,u=e.d6,_=e.d7,p=e.I,h=e.b9,y=e.d8},e=>{g=e._},e=>{m=e._},e=>{w=e._},e=>{f=e._},e=>{j=e._},e=>{k=e._},e=>{x=e._},e=>{b=e.h},e=>{v=e.u,P=e.d,S=e.b,C=e.y,N=e.z,O=e.p,R=e.f,U=e.c,$=e.a},e=>{W=e.Y,B=e.P,z=e.i,H=e.d,I=e.O,M=e.r,L=e.j,T=e.w,V=e.R,D=e.$,K=e.a0,A=e.V,F=e.U,Y=e.a1,q=e.c,E=e.af,G=e.M},e=>{J=e.b,Q=e.a},e=>{X=e.T,Z=e.ck}],execute:function(){const{t:ee}=n.global;function te({onClick:e}){return{key:"ssl",title:ee("Site.PHP.index_27"),width:"9%",minWidth:100,render:t=>{let n;const{ssl:o}=t;return i(o)?B(a,{type:o.endtime<0?"error":"primary",onClick:()=>{e(t)}},{default:()=>[o.endtime<0?ee("Site.PHP.index_28"):ee("Site.PHP.index_29",[o.endtime])]}):B(a,{type:"warning",onClick:()=>{e(t)}},"function"==typeof(l=n=ee("WP.index_13"))||"[object Object]"===Object.prototype.toString.call(l)&&!z(l)?n:{default:()=>[n]});var l}}}const{t:ne}=n.global,ie=e("o",(()=>{J({name:"nodejs",title:ne("Node.index_3"),admin:!0})})),ae=H({__name:"new",setup(e){const n=W((()=>o((()=>t.import("./index-legacy222.js?v=1744703330658")),void 0))),z=W((()=>o((()=>t.import("./index-legacy223.js?v=1744703330658").then((e=>e.i))),void 0))),H=l(),J=d(),{t:ne}=I(),ae=M(!0),oe=()=>{Q("nodejs",(()=>{we()}))},le=P(ne("Node.index_2")),de=P(),ce=(e,t={})=>{de.title=ne("Site.PHP.index_13",[e.name,e.addtime]),de.data.siteInfo=e,de.data.config=Object.assign({menu:"",subMenu:""},t),de.show=!0},se=()=>{le.show=!0},{keys:re,table:ue,columns:_e}=S([{type:"selection",width:40},{key:"name",title:ne("Site.TableRow.index_2"),width:"12%",ellipsis:{tooltip:{width:"trigger"}},render:e=>B(a,{onClick:()=>{ce(e)}},{default:()=>[e.name]})},C({key:"run",width:"8%",checkedValue:!0,uncheckedValue:!1,minWidth:86,confirm:(e,t)=>({title:`${ne(e?"Public.Status.Start":"Public.Status.Stop")} ${ne("Node.index_5")}`,content:()=>{const n=ne("Node.index_6",[t.name]),i=ne("Node.index_7",[t.name]);return e?n:i},onConfirm:async({hide:n})=>{e?await s({project_name:t.name}):await r({project_name:t.name}),t.run=e,n()}})}),{key:"pid",title:"PID",width:"6%",minWidth:100,render:e=>0===Object.keys(e.load_info).length?"--":Object.keys(e.load_info).join(",")},{key:"cpu",title:"CPU",width:"6%",minWidth:70,render:e=>Object.keys(e.load_info).length?`${Object.values(e.load_info).reduce(((e,{cpu_percent:t})=>e+t),0).toFixed(2)}%`:"--"},{key:"ram",title:"RAM",width:"6%",minWidth:70,render:e=>{if(!Object.keys(e.load_info).length)return"--";const t=Object.values(e.load_info).reduce(((e,{memory_used:t})=>e+t),0);return c(t)}},N({minWidth:120}),{key:"noproject_config",title:ne("Node.index_8"),width:"9%",minWidth:100,render:e=>e.project_config.nodejs_version},O({width:"12%",onBlur:async(e,t)=>{await b({id:t.id,ps:e})}}),te({onClick:e=>{ce(e,{menu:"ssl"})}}),R({width:150,options:e=>[{label:ne("Public.Btn.Set"),onClick:()=>{ce(e)}},{label:ne("Public.Btn.Del"),onClick:()=>{$({title:ne("Node.index_9"),content:ne("Node.index_10",[e.name]),onConfirm:async({hide:t})=>{await u({project_name:e.name}),me(),t()}})}}]})]),pe=[{key:"delete",label:ne("Site.Batch.index_10"),onBatch:e=>{!function(e){v({title:ee("Site.Cert.index_57"),width:480,footer:!0,data:{rows:e},component:W((()=>o((()=>t.import("./index-legacy221.js?v=1744703330658")),void 0)))})}(e)}}],he=L({p:1,limit:10,search:""}),{loading:ye,setLoading:ge}=U(),me=async()=>{try{ge(!0);const e={...G(he)},{message:t}=await _(e);i(t)&&(ue.data=p(t.data)?t.data:[],ue.total=h(t.page))}finally{re.value=[],ge(!1)}};T((()=>H.isRefresh),(e=>{e&&(H.setRefresh(!1),me())}));const we=async()=>{await(async()=>{try{await y({name:"nodejs"})}catch(e){ae.value="string"==typeof e}})(),await J.getConfig(),me()};return we(),(e,t)=>{const i=X,o=x,l=k,d=j,c=f,s=w,r=m,u=Z,_=g;return V(),D(_,{install:A(ae)},{desc:K((()=>[F("span",null,Y(e.$t("Node.index_1"))+"ï¼Œ",1),B(a,{class:"ml-4px",onClick:oe},{default:K((()=>[q(Y(e.$t("Public.Btn.Install")),1)])),_:1})])),default:K((()=>[B(u,null,{default:K((()=>[B(s,{class:"p-16px"},{toolsLeft:K((()=>[B(i,{type:"primary",onClick:se},{default:K((()=>[q(Y(e.$t("Node.index_2")),1)])),_:1}),B(i,{onClick:A(ie)},{default:K((()=>[q(Y(e.$t("Node.index_3")),1)])),_:1},8,["onClick"])])),toolsRight:K((()=>[B(o,{value:A(he).search,"onUpdate:value":t[0]||(t[0]=e=>A(he).search=e),width:"300",placeholder:e.$t("Node.index_4"),onSearch:me},null,8,["value","placeholder"])])),table:K((()=>[B(l,{"checked-row-keys":A(re),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>E(re)?re.value=e:null),loading:A(ye),data:A(ue).data,columns:A(_e)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:K((()=>[B(d,{"checked-row-keys":A(re),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>E(re)?re.value=e:null),data:A(ue).data,options:pe},null,8,["checked-row-keys","data"])])),pageRight:K((()=>[B(c,{page:A(he).p,"onUpdate:page":t[3]||(t[3]=e=>A(he).p=e),"page-size":A(he).limit,"onUpdate:pageSize":t[4]||(t[4]=e=>A(he).limit=e),"item-count":A(ue).total,onRefresh:me},null,8,["page","page-size","item-count"])])),_:1}),B(r,{show:A(le).show,"onUpdate:show":t[5]||(t[5]=e=>A(le).show=e),title:A(le).title,width:640,height:730,footer:!0,component:A(n)},null,8,["show","title","component"]),B(r,{show:A(de).show,"onUpdate:show":t[6]||(t[6]=e=>A(de).show=e),title:A(de).title,data:A(de).data,width:860,height:720,component:A(z)},null,8,["show","title","data","component"])])),_:1})])),_:1},8,["install"])}}}),oe=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));e("_",oe)}}}));
