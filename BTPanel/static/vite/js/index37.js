const __vite__fileDeps=["js/index122.js?v=1721298337096","js/index.js?v=1721298337096","js/vue.js?v=1721298337096","js/pinia.js?v=1721298337096","css/index34.css?v=1721298337096","css/index28.css?v=1721298337096"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{M as a,g as t,j as e,k as s,m as i,q as l,r as o,v as n}from"./index.js?v=1721298337096";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang.js?v=1721298337096";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1721298337096";import{u as m,_ as u}from"./useTableData.js?v=1721298337096";import{b as d}from"./useTableColumns.js?v=1721298337096";import{l as _,q as c}from"./mail.js?v=1721298337096";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1721298337096";import{l as f,ad as g,r as h,f as x,P as w,q as b,x as y,S as v,U as k,V as E,a3 as M,W as C,a1 as T}from"./vue.js?v=1721298337096";import{_ as D}from"./InputGroupLabel.js?v=1721298337096";import{_ as L}from"./InputGroup.js?v=1721298337096";import"./pinia.js?v=1721298337096";import"./DataTable.js?v=1721298337096";import"./Checkbox.js?v=1721298337096";import"./Ellipsis.js?v=1721298337096";import"./Select.js?v=1721298337096";import"./Tag.js?v=1721298337096";import"./Empty.js?v=1721298337096";import"./omit.js?v=1721298337096";import"./Skeleton.js?v=1721298337096";import"./Progress.js?v=1721298337096";const P=f({__name:"index",setup(f){const P=T((()=>n((()=>import("./index122.js?v=1721298337096")),__vite__mapDeps([0,1,2,3,4,5])))),{t:R}=g(),U=h(),W=x({p:1,username:null}),{table:q,columns:I}=m([{key:"from",title:R("Mail.Email.index_2"),width:"25%",minWidth:140,ellipsis:{tooltip:!0}},{key:"theme",title:R("Mail.Email.index_3"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:a=>{const t=a.html.replace(/[^\u4e00-\u9fa5]/g,"");return w("span",{class:"cursor-pointer",onClick:()=>{G(a)}},[w("a",{class:"bt-link"},[a.subject]),w("span",{class:"text-desc"},[b(" - "),t||a.body])])}},{key:"time",title:R("Mail.Email.index_4"),width:"12%",minWidth:140,render:t=>a(t.time)},d({width:150,options:a=>[{label:R("Mail.Email.index_5"),onClick:()=>{G(a)}},{label:R("Public.Btn.Del"),onClick:()=>{V(a)}}]})]),S=t(),G=a=>{S.data.row=a,S.title=R("Mail.Email.index_7",[a.subject]),S.show=!0},V=async a=>{await _({path:a.path}),A()},A=async()=>{try{q.loading=!0;const{message:a}=await c({p:W.p,username:W.username||""});e(a)&&(q.data=s(a.data)?a.data:[],q.total=i(a.page))}finally{q.loading=!1}},B=()=>{W.p=1,A()};return y((async()=>{await U.value.getList()})),(a,t)=>{const e=D,s=L,i=u,n=p,m=r,d=l,_=o;return v(),k(_,{class:"p-16px"},{default:E((()=>[w(m,null,{toolsLeft:E((()=>[w(s,{class:"w-460px"},{default:E((()=>[w(e,null,{default:E((()=>[b(M(a.$t("Mail.Email.index_1")),1)])),_:1}),w(j,{ref_key:"senderRef",ref:U,value:C(W).username,"onUpdate:value":[t[0]||(t[0]=a=>C(W).username=a),B]},null,8,["value"])])),_:1})])),table:E((()=>[w(i,{loading:C(q).loading,data:C(q).data,columns:C(I)},null,8,["loading","data","columns"])])),pageRight:E((()=>[w(n,{page:C(W).p,"onUpdate:page":t[1]||(t[1]=a=>C(W).p=a),"item-count":C(q).total,onRefresh:A},null,8,["page","item-count"])])),_:1}),w(d,{show:C(S).show,"onUpdate:show":t[2]||(t[2]=a=>C(S).show=a),title:C(S).title,data:C(S).data,width:850,height:680,component:C(P)},null,8,["show","title","data","component"])])),_:1})}}});export{P as default};
