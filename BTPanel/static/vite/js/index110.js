import{d as a,_ as e,q as s}from"./public.js?v=1756367574781";import{a6 as t,a5 as n,n as l,_ as o,R as r,d as i}from"./page_layout.js?v=1756367574781";import p from"./backup-info.js?v=1756367574781";import{u,G as c,H as d}from"./utils.js?v=1756367574781";import{k as f,P as _,r as m,e as x,a2 as b,V as k,a3 as g,W as B,U as C,j as y,a4 as j,an as v,S as h}from"./vue.js?v=1756367574781";import{da as w,_ as R,dk as z}from"./naive.js?v=1756367574781";import"./common.js?v=1756367574781";import"./__commonjsHelpers__.js?v=1756367574781";import"./soft.js?v=1756367574781";const G={class:"text-error"},H=f({__name:"index",props:{onRefresh:{type:Function},data:{}},setup(f,{expose:H}){const{t:P}=_(),U=f,q=u(),D=m(),F=x({auto_exit:!1,force_restore:!1}),{loading:L,setLoading:M}=a();return(async()=>{try{M(!0);const{message:a}=await c({timestamp:U.data.timestamp,type:"backup"});i(a)&&(D.value=a,q.getData(a.data_status))}finally{M(!1)}})(),H({onConfirm:async()=>new Promise(a=>{s({title:P("Config.Backup.index_68"),content:()=>B(z,{type:"warning"},{default:()=>[B("span",{class:"color-warning font-bold"},[y(" "),P("Config.Backup.index_69"),y(" ")])]}),onConfirm:async()=>{await d({timestamp:U.data.timestamp,auto_exit:F.auto_exit?1:0,force_restore:F.force_restore?1:0}),U.onRefresh(),a(!0)}})})}),(a,s)=>{const i=n,u=t,c=R,d=w,f=o,_=e,m=r;return k(),b(m,{show:C(L),class:"p-16px"},{default:g(()=>[B(u,{class:"mb-16px",column:2,bordered:"","label-placement":"left","label-style":{width:"150px"}},{default:g(()=>[B(i,{label:C(P)("Config.Backup.index_59")},{default:g(()=>[y(j(U.data.backup_name),1)]),_:1},8,["label"]),B(i,{label:C(P)("Config.Backup.index_60")},{default:g(()=>{var a;return[y(j(null==(a=C(D))?void 0:a.done_time),1)]}),_:1},8,["label"]),B(i,{label:C(P)("Config.Backup.index_61")},{default:g(()=>{var a;return[y(j(C(l)(Number((null==(a=C(D))?void 0:a.backup_file_size)||0))),1)]}),_:1},8,["label"]),B(i,{label:C(P)("Config.Backup.index_62")},{default:g(()=>{var a;return[y(j(null==(a=C(D))?void 0:a.backup_file),1)]}),_:1},8,["label"]),B(i,{label:C(P)("Config.Backup.index_63")},{default:g(()=>{var a;return[y(j(null==(a=C(D))?void 0:a.backup_file_sha256),1)]}),_:1},8,["label"])]),_:1}),B(p),B(d,{class:"flex-col! my-20px gap-16px!"},{default:g(()=>[v("",!0),B(c,{checked:C(F).force_restore,"onUpdate:checked":s[1]||(s[1]=a=>C(F).force_restore=a)},{default:g(()=>[y(j(C(P)("Config.Backup.index_64")),1)]),_:1},8,["checked"]),v("",!0)]),_:1}),B(_,{class:"mt-16px"},{default:g(()=>[h("li",null,[B(f,{name:"base-warning",class:"text-warning mr-4px",size:"16"}),h("span",null,[h("text",null,j(C(P)("Config.Backup.index_65"))+" 252.97 MB "+j(C(P)("Config.Backup.index_66"))+" 16.97 GB",1),B(f,{name:"base-refresh",class:"text-primary ml-4px"})])]),h("li",G,j(C(P)("Config.Backup.index_67")),1)]),_:1})]),_:1},8,["show"])}}});export{H as default};
