System.register(["./index-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy2.js?v=1721298337096","./useTableData-legacy.js?v=1721298337096","./useTableColumns-legacy.js?v=1721298337096","./mail-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1721298337096","./vue-legacy.js?v=1721298337096","./InputGroupLabel-legacy.js?v=1721298337096","./InputGroup-legacy.js?v=1721298337096","./pinia-legacy.js?v=1721298337096","./DataTable-legacy.js?v=1721298337096","./Checkbox-legacy.js?v=1721298337096","./Ellipsis-legacy.js?v=1721298337096","./Select-legacy.js?v=1721298337096","./Tag-legacy.js?v=1721298337096","./Empty-legacy.js?v=1721298337096","./omit-legacy.js?v=1721298337096","./Skeleton-legacy.js?v=1721298337096","./Progress-legacy.js?v=1721298337096"],(function(e,l){"use strict";var a,t,n,i,s,u,c,o,p,r,d,g,m,_,y,h,j,x,w,b,f,v,k,E,M,C,S,T,U,W,D,L;return{setters:[e=>{a=e.M,t=e.g,n=e.j,i=e.k,s=e.m,u=e.q,c=e.r,o=e.v},e=>{p=e._},e=>{r=e._},e=>{d=e.u,g=e._},e=>{m=e.b},e=>{_=e.r,y=e.l,h=e.p},e=>{j=e._},e=>{x=e.l,w=e.ad,b=e.r,f=e.f,v=e.P,k=e.q,E=e.x,M=e.S,C=e.U,S=e.V,T=e.a3,U=e.W,W=e.a1},e=>{D=e._},e=>{L=e._},null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",x({__name:"index",setup(e){const x=W((()=>o((()=>l.import("./index-legacy122.js?v=1721298337096")),void 0))),{t:P}=w(),R=b(),q=f({p:1,username:null}),{table:G,columns:I}=d([{key:"from",title:P("Mail.Email.index_2"),width:"25%",minWidth:140,ellipsis:{tooltip:!0}},{key:"theme",title:P("Mail.Email.index_3"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:e=>{const l=e.html.replace(/[^\u4e00-\u9fa5]/g,"");return v("span",{class:"cursor-pointer",onClick:()=>{V(e)}},[v("a",{class:"bt-link"},[e.subject]),v("span",{class:"text-desc"},[k(" - "),l||e.body])])}},{key:"time",title:P("Mail.Email.index_4"),width:"12%",minWidth:140,render:e=>a(e.time)},m({width:150,options:e=>[{label:P("Mail.Email.index_5"),onClick:()=>{V(e)}},{label:P("Mail.Email.index_10"),onClick:()=>{$(e)}},{label:P("Public.Btn.Del"),onClick:()=>{z(e)}}]})]),B=t(),V=e=>{B.data.row=e,B.title=P("Mail.Email.index_7",[e.subject]),B.show=!0},$=async e=>{await _({path:e.path,username:q.username||""}),A()},z=async e=>{await y({path:e.path}),A()},A=async()=>{try{G.loading=!0;const{message:e}=await h({p:q.p,username:q.username||""});n(e)&&(G.data=i(e.data)?e.data:[],G.total=s(e.page))}finally{G.loading=!1}},F=()=>{q.p=1,A()};return E((async()=>{await R.value.getList()})),(e,l)=>{const a=D,t=L,n=g,i=r,s=p,o=u,d=c;return M(),C(d,{class:"p-16px"},{default:S((()=>[v(s,null,{toolsLeft:S((()=>[v(t,{class:"w-460px"},{default:S((()=>[v(a,null,{default:S((()=>[k(T(e.$t("Mail.Email.index_1")),1)])),_:1}),v(j,{ref_key:"senderRef",ref:R,value:U(q).username,"onUpdate:value":[l[0]||(l[0]=e=>U(q).username=e),F]},null,8,["value"])])),_:1})])),table:S((()=>[v(n,{loading:U(G).loading,data:U(G).data,columns:U(I)},null,8,["loading","data","columns"])])),pageRight:S((()=>[v(i,{page:U(q).p,"onUpdate:page":l[1]||(l[1]=e=>U(q).p=e),"item-count":U(G).total,onRefresh:A},null,8,["page","item-count"])])),_:1}),v(o,{show:U(B).show,"onUpdate:show":l[2]||(l[2]=e=>U(B).show=e),title:U(B).title,data:U(B).data,width:850,height:680,component:U(x)},null,8,["show","title","data","component"])])),_:1})}}}))}}}));
