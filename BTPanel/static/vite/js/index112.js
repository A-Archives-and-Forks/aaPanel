const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/backup-info.js?v=1756367574781","js/public.js?v=1756367574781","js/page_layout.js?v=1756367574781","js/vue.js?v=1756367574781","js/__commonjsHelpers__.js?v=1756367574781","js/naive.js?v=1756367574781","js/common.js?v=1756367574781","css/page_layout.css?v=1756367574781","css/public.css?v=1756367574781","js/utils.js?v=1756367574781","js/soft.js?v=1756367574781","css/backup-info.css?v=1756367574781"])))=>i.map(i=>d[i]);
import{a5 as a,n as e,a6 as t,R as l,a as s,d as i}from"./page_layout.js?v=1756367574781";import{_ as o}from"./index.js?v=1756367574781";import{_ as u}from"./index108.js?v=1756367574781";import{k as p,af as n,a2 as r,V as _,a3 as d,W as c,U as f,j as m,a4 as k,P as b,r as v,c as x,S as g,ak as h,_ as y}from"./vue.js?v=1756367574781";import{e as C,d as j}from"./public.js?v=1756367574781";import{u as B,G as w}from"./utils.js?v=1756367574781";import{aC as $}from"./naive.js?v=1756367574781";import"./common.js?v=1756367574781";import"./__commonjsHelpers__.js?v=1756367574781";import"./soft.js?v=1756367574781";const D=p({__name:"detail",props:{backupDetail:{default:()=>({type:"backup",done_time:"-",backup_file_size:"-",backup_file:"-",backup_file_sha256:"-",total_time:"-"})},type:{}},setup(l){const s=l,{backupDetail:i,type:o}=n(s);return(l,s)=>{const u=a,p=t;return _(),r(p,{column:1,bordered:"","label-placement":"left","label-style":{width:"150px"}},{default:d(()=>[c(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_70"):l.$t("Config.Backup.index_71")},{default:d(()=>{var a;return[m(k(null==(a=f(i))?void 0:a.done_time),1)]}),_:1},8,["label"]),c(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_72"):l.$t("Config.Backup.index_73")},{default:d(()=>{var a;return[m(k(f(e)(Number((null==(a=f(i))?void 0:a.backup_file_size)||0))),1)]}),_:1},8,["label"]),c(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_74"):l.$t("Config.Backup.index_75")},{default:d(()=>{var a;return[m(k(null==(a=f(i))?void 0:a.backup_file),1)]}),_:1},8,["label"]),c(u,{label:l.$t("Config.Backup.index_63")},{default:d(()=>{var a;return[m(k(null==(a=f(i))?void 0:a.backup_file_sha256),1)]}),_:1},8,["label"]),c(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_76"):l.$t("Config.Backup.index_77")},{default:d(()=>{var a;return[m(k((null==(a=f(i))?void 0:a.total_time)?"backup"===f(o)?f(i).total_time+" s":f(i).restore_total_time+" s":"-"),1)]}),_:1},8,["label"])]),_:1})}}}),R={class:"mt-16px text-right"},U=p({__name:"index",props:{data:{}},setup(a){const{t:e}=b(),t=y(()=>s(()=>import("./backup-info.js?v=1756367574781"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),p=B(),U=a,{data:z}=n(U),E=C(e("Config.Backup.index_89")),L=v({}),P=v("backup"),V=v(),A=[{key:"backup",label:e("Config.Backup.index_19"),component:D,data:{backupDetail:x(()=>L.value),type:"backup"}},{key:"restore",label:e("Config.Backup.index_90"),component:D,data:{backupDetail:x(()=>L.value),type:"restore"},show:0!==z.value.restore_status}],G=()=>{O()},H=()=>{E.show=!0,p.getData(L.value.data_status)},{loading:I,setLoading:N}=j(),O=async()=>{try{N(!0);const{message:a}=await w({timestamp:z.value.timestamp,type:P.value});i(a)&&(L.value=a)}finally{N(!1)}};return O(),(a,s)=>{const i=u,p=$,n=o,b=l;return _(),r(b,{class:"p-16px",show:f(I)},{default:d(()=>[c(i,{value:f(P),"onUpdate:value":[s[0]||(s[0]=a=>h(P)?P.value=a:null),G],ref_key:"tabsRef",ref:V,options:A},null,8,["value"]),g("div",R,[c(p,{type:"primary",class:"mr-16px",onClick:H},{default:d(()=>[m(k(f(e)("Config.Backup.index_88")),1)]),_:1})]),c(n,{show:f(E).show,"onUpdate:show":s[1]||(s[1]=a=>f(E).show=a),title:f(E).title,data:f(E).data,width:"750","min-height":250},{default:d(()=>[c(f(t),{class:"p-16px"})]),_:1},8,["show","title","data"])]),_:1},8,["show"])}}});export{U as default};
