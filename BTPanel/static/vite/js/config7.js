import{c as a,f as t,h as s,_ as l}from"./public.js?v=1749179669910";import{d as e,O as n,r as i,R as o,S as r,U as c,P as u,V as m,aj as p,as as f,a1 as d,c as g,a2 as _}from"./vue.js?v=1749179669910";import{N as v,m as x}from"./page_layout.js?v=1749179669910";import{q as y,t as j,v as b}from"./setting.js?v=1749179669910";import{_ as h,T as S}from"./naive.js?v=1749179669910";import"./common.js?v=1749179669910";import"./__commonjsHelpers__.js?v=1749179669910";const W={class:"p-20px"},$={class:"flex mb-16px"},w={class:"flex-1 mr-16px"},k=e({__name:"config",setup(e){const{t:k}=n(),P=i(""),U=async()=>{""!==P.value.trim()?(await b({text:P.value}),P.value="",R()):x.error(k("Waf.Setting.config_81"))},{table:B,columns:C,setLoading:L}=a([{key:"rule",title:"URL"},t({width:80,options:a=>[{label:k("Public.Btn.Del"),onClick:async()=>{await y({text:a.rule}),R()}}]})]),R=async()=>{try{L(!0);const{message:a}=await j();v(a)&&(B.data=a.map((a=>({rule:a}))))}finally{L(!1)}};return R(),(a,t)=>{const e=h,n=S,i=s,v=l;return o(),r("div",W,[c("div",$,[c("div",w,[u(e,{value:m(P),"onUpdate:value":t[0]||(t[0]=a=>p(P)?P.value=a:null),placeholder:a.$t("Waf.Setting.config_78"),onKeyup:f(U,["enter"])},null,8,["value","placeholder"])]),u(n,{type:"primary",onClick:U},{default:d((()=>[g(_(a.$t("Public.Btn.Add")),1)])),_:1})]),u(i,{"max-height":368,loading:m(B).loading,data:m(B).data,columns:m(C)},null,8,["loading","data","columns"]),u(v,{class:"mt-16px"},{default:d((()=>[c("li",null,_(a.$t("Waf.Setting.config_77")),1),c("li",null,_(a.$t("Waf.Setting.config_79")),1),c("li",null,_(a.$t("Waf.Setting.config_80")),1)])),_:1})])}}});export{k as default};
