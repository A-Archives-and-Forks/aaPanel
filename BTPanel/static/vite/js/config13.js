import{c as a,f as t,u as n,a as l,h as e,_ as o}from"./public.js?v=1747989938512";import{d as i,O as s,r,R as u,S as c,U as f,P as p,V as d,aj as m,as as g,a1 as _,c as v,a2 as y}from"./vue.js?v=1747989938512";import{N as j,m as x,fw as w}from"./page_layout.js?v=1747989938512";import{K as S,L as b,M as W,N as h,O as C}from"./setting.js?v=1747989938512";import{_ as $}from"./index97.js?v=1747989938512";import{_ as k,T as P,bU as U}from"./naive.js?v=1747989938512";import"./common.js?v=1747989938512";import"./__commonjsHelpers__.js?v=1747989938512";const B={class:"p-20px"},L={class:"flex mb-16px"},E={class:"flex-1 mr-16px"},K="uri_find",N=i({__name:"config",setup(i){const{t:N}=s(),O=r(""),R=async()=>{""!==O.value.trim()?(await W({url_find:O.value}),O.value="",V()):x.error(N("Waf.Setting.config_176"))},A=()=>{const a=r("");n({title:N("Waf.Setting.config_177"),width:440,footer:!0,content:()=>p("div",{class:"p-20px"},[p($,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,placeholder:N("Waf.Setting.config_178")},null)]),onConfirm:async()=>{if(""===a.value.trim())return x.error(N("Waf.Setting.config_179")),!1;await h({pdata:a.value,json:1}),V()}})},D=()=>{const a=r(I.data.map((a=>a.url)).join("\n"));n({title:N("Waf.Setting.config_177"),width:440,footer:!0,content:()=>p("div",{class:"p-20px"},[p($,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,readonly:!0},null)]),onConfirm:()=>(w(a.value,"".concat(K,".json")),!1)})},H=()=>{l({title:N("Waf.Setting.config_180"),content:N("Waf.Setting.config_181"),onConfirm:async()=>{await C({type:K}),V()}})},{table:I,columns:M,setLoading:T}=a([{key:"url",title:"URL"},t({width:80,options:a=>[{label:N("Public.Btn.Del"),onClick:async()=>{await S({url_find:a.url}),V()}}]})]),V=async()=>{try{T(!0);const{message:a}=await b();j(a)&&(I.data=a.map((a=>({url:a}))))}finally{T(!1)}};return V(),(a,t)=>{const n=k,l=P,i=e,s=U,r=o;return u(),c("div",B,[f("div",L,[f("div",E,[p(n,{value:d(O),"onUpdate:value":t[0]||(t[0]=a=>m(O)?O.value=a:null),placeholder:a.$t("Waf.Setting.config_173"),onKeyup:g(R,["enter"])},null,8,["value","placeholder"])]),p(l,{type:"primary",onClick:R},{default:_((()=>[v(y(a.$t("Public.Btn.Add")),1)])),_:1})]),p(i,{"max-height":258,loading:d(I).loading,data:d(I).data,columns:d(M)},null,8,["loading","data","columns"]),p(s,{class:"mt-16px"},{default:_((()=>[p(l,{onClick:A},{default:_((()=>[v(y(a.$t("Public.Btn.Import")),1)])),_:1}),p(l,{onClick:D},{default:_((()=>[v(y(a.$t("Public.Btn.Export")),1)])),_:1}),p(l,{onClick:H},{default:_((()=>[v(y(a.$t("Public.Btn.Empty")),1)])),_:1})])),_:1}),p(r,{class:"mt-16px"},{default:_((()=>[f("li",null,y(a.$t("Waf.Setting.config_174")),1),f("li",null,y(a.$t("Waf.Setting.config_175")),1)])),_:1})])}}});export{N as default};
