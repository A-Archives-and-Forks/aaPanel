import{_ as a}from"./index95.js?v=1741416570306";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1741416570306";import{d as n,M as e,r as l,P as i,Q as o,R as s,N as r,S as u,ae as c,am as f,$ as p,c as m,a0 as d}from"./vue.js?v=1741416570306";import{G as _,m as g,eK as v}from"./page_layout.js?v=1741416570306";import{b as y,f as x,u as j,a as b}from"./public.js?v=1741416570306";import{K as S,L as w,M as W,N as h,O as C}from"./setting.js?v=1741416570306";import{_ as $}from"./index99.js?v=1741416570306";import{_ as k,T as P,bO as B}from"./naive.js?v=1741416570306";import"./__commonjsHelpers__.js?v=1741416570306";import"./common.js?v=1741416570306";const U={class:"p-20px"},K={class:"flex mb-16px"},L={class:"flex-1 mr-16px"},E="uri_find",M=n({__name:"config",setup(n){const{t:M}=e(),N=l(""),O=async()=>{""!==N.value.trim()?(await W({url_find:N.value}),N.value="",Q()):g.error(M("Waf.Setting.config_176"))},R=()=>{const a=l("");j({title:M("Waf.Setting.config_177"),width:440,footer:!0,content:()=>r("div",{class:"p-20px"},[r($,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,placeholder:M("Waf.Setting.config_178")},null)]),onConfirm:async()=>{if(""===a.value.trim())return g.error(M("Waf.Setting.config_179")),!1;await h({pdata:a.value,json:1}),Q()}})},A=()=>{const a=l(G.data.map((a=>a.url)).join("\n"));j({title:M("Waf.Setting.config_177"),width:440,footer:!0,content:()=>r("div",{class:"p-20px"},[r($,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,readonly:!0},null)]),onConfirm:()=>(v(a.value,"".concat(E,".json")),!1)})},D=()=>{b({title:M("Waf.Setting.config_180"),content:M("Waf.Setting.config_181"),onConfirm:async()=>{await C({type:E}),Q()}})},{table:G,columns:H,setLoading:I}=y([{key:"url",title:"URL"},x({width:80,options:a=>[{label:M("Public.Btn.Del"),onClick:async()=>{await S({url_find:a.url}),Q()}}]})]),Q=async()=>{try{I(!0);const{message:a}=await w();_(a)&&(G.data=a.map((a=>({url:a}))))}finally{I(!1)}};return Q(),(n,e)=>{const l=k,_=P,g=t,v=B,y=a;return i(),o("div",U,[s("div",K,[s("div",L,[r(l,{value:u(N),"onUpdate:value":e[0]||(e[0]=a=>c(N)?N.value=a:null),placeholder:n.$t("Waf.Setting.config_173"),onKeyup:f(O,["enter"])},null,8,["value","placeholder"])]),r(_,{type:"primary",onClick:O},{default:p((()=>[m(d(n.$t("Public.Btn.Add")),1)])),_:1})]),r(g,{"max-height":258,loading:u(G).loading,data:u(G).data,columns:u(H)},null,8,["loading","data","columns"]),r(v,{class:"mt-16px"},{default:p((()=>[r(_,{onClick:R},{default:p((()=>[m(d(n.$t("Public.Btn.Import")),1)])),_:1}),r(_,{onClick:A},{default:p((()=>[m(d(n.$t("Public.Btn.Export")),1)])),_:1}),r(_,{onClick:D},{default:p((()=>[m(d(n.$t("Public.Btn.Empty")),1)])),_:1})])),_:1}),r(y,{class:"mt-16px"},{default:p((()=>[s("li",null,d(n.$t("Waf.Setting.config_174")),1),s("li",null,d(n.$t("Waf.Setting.config_175")),1)])),_:1})])}}});export{M as default};
