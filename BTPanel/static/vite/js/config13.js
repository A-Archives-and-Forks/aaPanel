import{_ as a}from"./index95.js?v=1744703330658";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1744703330658";import{d as n,O as l,r as e,R as i,S as o,U as s,P as r,V as u,af as c,an as f,a0 as p,c as m,a1 as d}from"./vue.js?v=1744703330658";import{I as _,m as g,ft as v}from"./page_layout.js?v=1744703330658";import{b as y,f as x,u as j,a as b}from"./public.js?v=1744703330658";import{K as S,L as w,M as W,N as h,O as C}from"./setting.js?v=1744703330658";import{_ as $}from"./index99.js?v=1744703330658";import{_ as k,T as P,bU as U}from"./naive.js?v=1744703330658";import"./__commonjsHelpers__.js?v=1744703330658";import"./common.js?v=1744703330658";const B={class:"p-20px"},L={class:"flex mb-16px"},E={class:"flex-1 mr-16px"},I="uri_find",K=n({__name:"config",setup(n){const{t:K}=l(),O=e(""),R=async()=>{""!==O.value.trim()?(await W({url_find:O.value}),O.value="",V()):g.error(K("Waf.Setting.config_176"))},A=()=>{const a=e("");j({title:K("Waf.Setting.config_177"),width:440,footer:!0,content:()=>r("div",{class:"p-20px"},[r($,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,placeholder:K("Waf.Setting.config_178")},null)]),onConfirm:async()=>{if(""===a.value.trim())return g.error(K("Waf.Setting.config_179")),!1;await h({pdata:a.value,json:1}),V()}})},D=()=>{const a=e(M.data.map((a=>a.url)).join("\n"));j({title:K("Waf.Setting.config_177"),width:440,footer:!0,content:()=>r("div",{class:"p-20px"},[r($,{value:a.value,"onUpdate:value":t=>a.value=t,rows:14,readonly:!0},null)]),onConfirm:()=>(v(a.value,"".concat(I,".json")),!1)})},H=()=>{b({title:K("Waf.Setting.config_180"),content:K("Waf.Setting.config_181"),onConfirm:async()=>{await C({type:I}),V()}})},{table:M,columns:N,setLoading:T}=y([{key:"url",title:"URL"},x({width:80,options:a=>[{label:K("Public.Btn.Del"),onClick:async()=>{await S({url_find:a.url}),V()}}]})]),V=async()=>{try{T(!0);const{message:a}=await w();_(a)&&(M.data=a.map((a=>({url:a}))))}finally{T(!1)}};return V(),(n,l)=>{const e=k,_=P,g=t,v=U,y=a;return i(),o("div",B,[s("div",L,[s("div",E,[r(e,{value:u(O),"onUpdate:value":l[0]||(l[0]=a=>c(O)?O.value=a:null),placeholder:n.$t("Waf.Setting.config_173"),onKeyup:f(R,["enter"])},null,8,["value","placeholder"])]),r(_,{type:"primary",onClick:R},{default:p((()=>[m(d(n.$t("Public.Btn.Add")),1)])),_:1})]),r(g,{"max-height":258,loading:u(M).loading,data:u(M).data,columns:u(N)},null,8,["loading","data","columns"]),r(v,{class:"mt-16px"},{default:p((()=>[r(_,{onClick:A},{default:p((()=>[m(d(n.$t("Public.Btn.Import")),1)])),_:1}),r(_,{onClick:D},{default:p((()=>[m(d(n.$t("Public.Btn.Export")),1)])),_:1}),r(_,{onClick:H},{default:p((()=>[m(d(n.$t("Public.Btn.Empty")),1)])),_:1})])),_:1}),r(y,{class:"mt-16px"},{default:p((()=>[s("li",null,d(n.$t("Waf.Setting.config_174")),1),s("li",null,d(n.$t("Waf.Setting.config_175")),1)])),_:1})])}}});export{K as default};
