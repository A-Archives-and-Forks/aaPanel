const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index238.js?v=1753954525509","js/page_layout.js?v=1753954525509","js/vue.js?v=1753954525509","js/__commonjsHelpers__.js?v=1753954525509","js/naive.js?v=1753954525509","js/common.js?v=1753954525509","js/public.js?v=1753954525509","css/public.css?v=1753954525509","css/page_layout.css?v=1753954525509","js/site.js?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang13.js?v=1753954525509","js/file2.js?v=1753954525509","css/index97.css?v=1753954525509","js/index239.js?v=1753954525509","js/index127.js?v=1753954525509","css/index21.css?v=1753954525509","js/index.js?v=1753954525509","css/index99.css?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang4.js?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang7.js?v=1753954525509","css/index16.css?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang5.js?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang11.js?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang6.js?v=1753954525509","js/site4.js?v=1753954525509","js/soft.js?v=1753954525509","js/index237.js?v=1753954525509","css/index54.css?v=1753954525509","js/index100.js?v=1753954525509","css/index17.css?v=1753954525509","js/index102.js?v=1753954525509","css/index19.css?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang.js?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang9.js?v=1753954525509","js/index96.js?v=1753954525509","css/index13.css?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang14.js?v=1753954525509","js/theme-chrome.js?v=1753954525509","js/refersh.js?v=1753954525509","js/php.js?v=1753954525509","js/index.vue_vue_type_script_setup_true_lang17.js?v=1753954525509","js/index101.js?v=1753954525509","css/index18.css?v=1753954525509","js/ssl.js?v=1753954525509","js/cert.js?v=1753954525509","js/utils3.js?v=1753954525509","js/index209.js?v=1753954525509","js/paypal-js.js?v=1753954525509","css/index43.css?v=1753954525509","js/ssl-lets-progress.js?v=1753954525509","css/ssl-lets-progress.css?v=1753954525509","js/Ssl.vue_vue_type_script_setup_true_lang.js?v=1753954525509","js/index240.js?v=1753954525509","js/index241.js?v=1753954525509","js/ssl-log.js?v=1753954525509","js/index204.js?v=1753954525509","css/index84.css?v=1753954525509","js/index205.js?v=1753954525509","css/index85.css?v=1753954525509","js/domain-verification.js?v=1753954525509","js/index242.js?v=1753954525509","js/domain-input.js?v=1753954525509","css/domain-input.css?v=1753954525509","js/upload.js?v=1753954525509","js/index243.js?v=1753954525509","js/index244.js?v=1753954525509","js/index245.js?v=1753954525509","js/form.vue_vue_type_script_setup_true_lang2.js?v=1753954525509","css/index94.css?v=1753954525509","js/index246.js?v=1753954525509","js/index247.js?v=1753954525509","css/index95.css?v=1753954525509","js/index248.js?v=1753954525509","js/index249.js?v=1753954525509","css/index96.css?v=1753954525509","js/batch3.js?v=1753954525509"])))=>i.map(i=>d[i]);
import{i as e,v as t,a,o as l,w as i,m as n,p as s,c as o,dc as d,aZ as r,aG as u,e as c,u as p,dd as _,t as m,de as h,_ as v,O as x,f as w,c8 as f,x as g}from"./page_layout.js?v=1753954525509";import{_ as y}from"./index127.js?v=1753954525509";import{_ as b}from"./index.js?v=1753954525509";import{_ as S}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1753954525509";import{_ as k}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1753954525509";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1753954525509";import{u as P,$,d as L,b as R,c as U,f as W,_ as E,s as T,h as O,e as q,a as j,J as B,ac as M,ad as D,a6 as I,a2 as A,a3 as N,a4 as H,n as z,ae as V,af as K,ag as F,ah as J,ai as X,j as G,q as Q,a5 as Y,F as Z,p as ee,aa as te}from"./public.js?v=1753954525509";import{_ as ae}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1753954525509";import{_ as le,Q as ie,P as ne,p as se,i as oe,k as de,r as re,U as ue,V as ce,W as pe,a2 as _e,a3 as me,X as he,ah as ve,j as xe,e as we,F as fe,al as ge,o as ye,a1 as be,N as Se,O as ke,n as Ce,ax as Pe,c as $e,$ as Le,l as Re,v as Ue,t as We,y as Ee,H as Te,aj as Oe,w as qe,m as je,x as Be,ac as Me,s as De,b as Ie}from"./vue.js?v=1753954525509";import{l as Ae}from"./site4.js?v=1753954525509";import{b as Ne}from"./soft.js?v=1753954525509";import{$ as He,a0 as ze,a1 as Ve,a2 as Ke,a3 as Fe,a4 as Je,a5 as Xe,a6 as Ge,a7 as Qe,a8 as Ye,a9 as Ze,aa as et,ab as tt,ac as at,ad as lt,ae as it,af as nt,ag as st,ah as ot,ai as dt,aj as rt,ak as ut,al as ct,am as pt,an as _t,ao as mt,ap as ht,aq as vt,ar as xt,as as wt,at as ft,au as gt,av as yt,aw as bt,ax as St,ay as kt,az as Ct,aA as Pt,aB as $t,aC as Lt,aD as Rt,aE as Ut,aF as Wt,aG as Et,X as Tt,aH as Ot,aI as qt,a as jt,aJ as Bt,g as Mt,aK as Dt,j as It}from"./site.js?v=1753954525509";import{_ as At}from"./index237.js?v=1753954525509";import{_ as Nt}from"./index100.js?v=1753954525509";import{ay as Ht,bY as zt,cA as Vt,cG as Kt,c5 as Ft,aq as Jt,bT as Xt,c1 as Gt,cI as Qt,av as Yt,_ as Zt,d1 as ea,c6 as ta,bX as aa,bA as la,cJ as ia,cE as na,cP as sa,b$ as oa,cF as da,D as ra,bC as ua,c2 as ca,cD as pa}from"./naive.js?v=1753954525509";import{_ as _a}from"./index102.js?v=1753954525509";import{_ as ma}from"./index.vue_vue_type_script_setup_true_lang.js?v=1753954525509";import{_ as ha}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1753954525509";import{_ as va}from"./index.vue_vue_type_script_setup_true_lang14.js?v=1753954525509";import{_ as xa,a as wa,b as fa}from"./refersh.js?v=1753954525509";import{d as ga,e as ya}from"./php.js?v=1753954525509";import{_ as ba}from"./index.vue_vue_type_script_setup_true_lang17.js?v=1753954525509";import{_ as Sa}from"./index101.js?v=1753954525509";import{c as ka,s as Ca,a as Pa,g as $a,b as La}from"./ssl.js?v=1753954525509";import{C as Ra}from"./cert.js?v=1753954525509";import{u as Ua}from"./utils3.js?v=1753954525509";import{A as Wa}from"./index209.js?v=1753954525509";import{a as Ea}from"./ssl-lets-progress.js?v=1753954525509";import{_ as Ta}from"./Ssl.vue_vue_type_script_setup_true_lang.js?v=1753954525509";const{t:Oa}=e.global,qa=e=>t.post("/site?action=AddWPSite",{...e,webname:JSON.stringify(e.webname),project_type:"WP2"},{requestOptions:{loading:Oa("WP.api.tamper_7")}}),ja=e=>t.post("/site?action=get_wp_versions",e),Ba=e=>t.post("/site?action=get_wp_configurations",e,{requestOptions:{loading:Oa("WP.api.tamper_8")}}),Ma=e=>t.post("/site?action=wp_backup_list",e),Da=(e,a=!0)=>t.post("/site?action=wp_backup",e,{requestOptions:{loading:a?Oa("WP.api.tamper_9"):"",successMessage:a}}),Ia=(e,a=!0)=>t.post("/site?action=wp_restore",e,{requestOptions:{loading:a?Oa("WP.api.tamper_10"):"",successMessage:!0}}),Aa=(e,a=!0)=>t.post("/site?action=wp_remove_backup",e,{requestOptions:{loading:a?Oa("WP.api.tamper_8"):"",successMessage:a}}),Na=()=>t.post("/site?action=wp_can_migrate_from_website_to_wptoolkit"),Ha=e=>t.post("/site?action=wp_migrate_from_website_to_wptoolkit",e,{requestOptions:{loading:Oa("WP.api.tamper_11"),successMessage:!1}}),za=e=>t.post("/site?action=get_wp_security_info",e),Va=e=>t.post("/site?action=open_wp_file_protection",{paths:JSON.stringify(e.paths)},{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}),Ka=e=>t.post("/site?action=close_wp_file_protection",e,{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}),Fa=e=>t.post("/site?action=get_wp_file_info",e),Ja=e=>t.post("/site?action=open_wp_firewall_protection",{obj:"open",...e},{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}),Xa=e=>t.post("/site?action=close_wp_firewall_protection",e,{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}),Ga=e=>t.post("/site?action=wp_clone",e,{requestOptions:{loading:Oa("WP.api.index_1"),successMessage:!0}}),Qa=e=>t.post("/site?action=wp_create_with_aap_bak",e,{requestOptions:{loading:Oa("WP.api.index_2"),successMessage:!0}}),Ya=e=>t.post("/site?action=wp_create_with_plesk_or_cpanel_bak",e,{requestOptions:{loading:Oa("WP.api.index_2"),successMessage:!0}}),Za=e=>t.post("/site?action=wp_create_with_manual_bak",e,{requestOptions:{loading:Oa("WP.api.index_2"),successMessage:!0}}),el=e=>t.post("/site?action=wp_integrity_check",e,{requestOptions:{loading:"",successMessage:!1,errorMessage:!1}}),tl=e=>t.post("/site?action=wp_reinstall_files",e,{requestOptions:{loading:"",successMessage:!1}}),al=(e,a=!1)=>t.post("/site?action=wp_theme_list",e,{requestOptions:{loading:a?Oa("WP.api.tamper_17"):"",successMessage:!1}}),ll=(e,a=!1)=>t.post("/site?action=wp_plugin_list",e,{requestOptions:{loading:a?Oa("WP.api.tamper_17"):"",successMessage:!1}}),il=e=>t.post("/site?action=wp_set_list",e),nl=e=>t.post("/site?action=wp_remove_set",e,{requestOptions:{loading:Oa("WP.api.tamper_3"),successMessage:!0}}),sl=e=>t.post("/site?action=wp_create_set",e,{requestOptions:{loading:Oa("WP.api.tamper_2"),successMessage:!0}}),ol=e=>t.post("/site?action=wp_update_item_state_with_set",e,{requestOptions:{loading:Oa("WP.api.tamper_1"),successMessage:!0}}),dl=e=>t.post("/site?action=wp_remove_items_from_set",e,{requestOptions:{loading:Oa("WP.api.tamper_3"),successMessage:!0}}),rl=e=>t.post("/site?action=wp_add_items_to_set",e,{requestOptions:{loading:Oa("WP.api.tamper_2"),successMessage:!0}}),ul=e=>t.post("/site?action=wp_install_with_set",e,{requestOptions:{loading:Oa("WP.api.tamper_16"),successMessage:!0}}),cl=e=>t.post("/site?action=wp_get_items_from_set",e),pl=()=>t.post("/site?action=wp_all_sites"),_l=e=>t.post("/site?action=wordpress_vulnerabilities_scan",e,{requestOptions:{loading:Oa("WP.index_63"),successMessage:!1}}),ml=e=>t.post("/site?action=get_ignore_vuln",e),hl=e=>t.post("/site?action=ignore_vuln",e,{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}),vl=e=>t.post("/site?action=set_auth_scan",e,{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}),xl=e=>t.post("/site?action=get_auth_scan_status",e),wl=()=>t.post("/data?action=get_wp_classification"),fl=e=>t.post("/site?action=set_wp_site_type",e,{requestOptions:{loading:Oa("Login.index_22"),successMessage:!0}}),gl=e=>t.post("/site?action=get_source_tables",e),yl=()=>t.post("/site?action=get_wp_sites"),bl=e=>t.post("/site?action=wp_copy_data",e,{requestOptions:{loading:Oa("Login.index_22"),successMessage:!0}}),Sl=()=>t.post("/site?action=get_wp_copy_progress"),{t:kl}=e.global;function Cl(e){P({title:1===e.length?"".concat(kl("Site.Cert.index_56")," [").concat(e[0].name,"]"):"".concat(kl("Site.Cert.index_57")),width:480,minHeight:248,footer:!0,data:{rows:e},component:le((()=>a((()=>import("./index238.js?v=1753954525509")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))))})}function Pl({onClick:e}){return{key:"action",title:kl("Site.TableRow.index_30"),width:180,align:"right",render:t=>ie($,{options:[{label:kl("Site.TableOP.index_1"),disabled:"0"==t.status,onClick:()=>{var e;e=t,P({title:kl("WP.index_21"),width:420,minHeight:180,footer:!1,data:e,component:le((()=>a((()=>import("./index239.js?v=1753954525509")),__vite__mapDeps([13,1,2,3,4,5,6,7,8,14,15,16,17,18,19,20,21,22,23,24,25,9,26,27,28,29,30,31,32,33,34,35,36,37,11,38,39,40,41,42,43,44,45,46,47,48,49,50,51]))))})}},{label:kl("Site.TableOP.index_2"),onClick:()=>{e(t)}},{label:kl("Public.Btn.Del"),onClick:()=>{Cl([t])}}]},null)}}const $l=e=>{const{row:t}=e;return ie("a",{class:"text-primary hover:text-primary-hover",href:"javascript:;"},[t.name])},Ll=e=>{const{row:t}=e,{t:i}=ne();return ie(l,{type:t.backup_count>0?"primary":"warning",onClick:()=>{P({title:"".concat(i("Site.Config.index_26")," [").concat(t.name,"]"),width:720,minHeight:200,data:{row:t},component:le((()=>a((()=>import("./index240.js?v=1753954525509")),__vite__mapDeps([52,18,19,1,2,3,4,5,6,7,8,20,21,22,14,15,16,17,23,24,25,9,26,27,28,29,30,31,32,33,34,35,36,37,11,38,39,40,41,42,43,44,45,46,47,48,49,50,51]))))})}},{default:()=>[t.backup_count>0?"".concat(i("Database.mongo.index_7"),"(").concat(t.backup_count,")"):i("Site.PHP.index_32")]})},Rl=e=>{const{row:t}=e;return ie(l,null,{default:()=>[t.php_version]})},Ul=e=>{var t;const{t:a}=ne(),{row:i}=e;return ie(l,{class:0===(null==(t=i.scan)?void 0:t.vulnerabilities)?"color-#20a53a":"color-#ff0000"},{default:()=>{var e;return[(null==(e=i.scan)?void 0:e.vulnerabilities)+" "+a("WP.index_44")]}})},Wl=Symbol("server-list");function El(){return oe(Wl)}const{t:Tl}=e.global;function Ol({delDomain:e}){return{key:"action",title:Tl("Public.Table.Action"),width:80,align:"right",render:t=>ie($,{options:[{label:Tl("Public.Btn.Del"),onClick:()=>{L({title:"".concat(Tl("Site.Batch.index_12"),"[").concat(t.name,"]"),content:Tl("Site.Batch.index_13"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const ql={class:"flex justify-between items-center mb-24px"},jl={class:"w-400px"},Bl={class:"pr-40px"},Ml=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{data:s}=El(),o=re(""),d=async()=>{""!==o.value.trim()?(await Ve({id:s.id,webname:s.name,domain:o.value.trim().split("\n").join(",")}),o.value="",x()):n.error(a("Site.RulesError.index_31"))},r=async e=>{await He({id:s.id,webname:s.name,domain:e.name,port:e.port}),x()},{keys:u,table:c,columns:p}=R([{type:"selection",width:40},{key:"name",title:Tl("Site.TableRow.index_19"),render:e=>ie(l,{href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},{default:()=>[e.name]})},{key:"port",title:Tl("Site.TableRow.index_16"),width:100},Ol({delDomain:r})]),_=()=>{c.data.length>1?p.value[p.value.length-1]=Ol({delDomain:r}):p.value[p.value.length-1]={key:"action",title:Tl("Public.Table.Action"),width:80,align:"right",render:()=>ie("span",{class:"text-default"},[Tl("Site.TableOP.index_9")])}},m=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>He({id:s.id,webname:s.name,domain:e.name,port:e.port},!1),done:()=>{x()},columns:[{key:"name",title:a("Site.Cert.index_29"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:h,setLoading:v}=U(),x=async()=>{try{v(!0);const e={id:s.id},{message:t}=await ze(e);c.data=i(t)?t:[],_()}finally{u.value=[],v(!1)}};return x(),t({init:x}),(e,t)=>{const a=Nt,l=Ht,i=W,n=C,s=S;return ue(),ce("div",null,[pe("div",ql,[pe("div",jl,[ie(a,{value:he(o),"onUpdate:value":t[0]||(t[0]=e=>ve(o)?o.value=e:null)},{default:_e((()=>[pe("p",null,me(e.$t("Site.Config.index_30")),1),pe("p",null,me(e.$t("Site.Config.index_31")),1),pe("p",null,me(e.$t("Site.Config.index_32")),1)])),_:1},8,["value"])]),pe("div",Bl,[ie(l,{type:"primary",onClick:d},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_62")),1)])),_:1})])]),ie(s,null,{table:_e((()=>[ie(i,{"checked-row-keys":he(u),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>ve(u)?u.value=e:null),loading:he(h),"max-height":400,data:he(c).data,columns:he(p)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:_e((()=>[ie(n,{"checked-row-keys":he(u),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>ve(u)?u.value=e:null),data:he(c).data,options:m},null,8,["checked-row-keys","data"])])),_:1})])}}}),Dl={class:"pt-16px"},Il={class:"flex-1"},Al={class:"w-240px"},Nl={class:"mt-8px text-desc"},Hl={class:"flex-1"},zl={class:"w-240px"},Vl={class:"mt-12px text-desc"},Kl={class:"my-16px"},Fl={class:"text-desc"},Jl={class:"my-20px"},Xl={class:"w-240px"},Gl={class:"w-240px"},Ql={class:"w-240px"},Yl=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{data:l}=El(),i=re("");let d="";const r=async()=>{""!==i.value.trim()?i.value!==d?(await Ke({id:l.id,name:l.name,path:i.value}),y()):n.success(a("Site.RulesError.index_13")):n.error(a("Site.RulesError.index_13"))},u=re(null),c=re([]),p=async()=>{null!==u.value?(await Fe({id:l.id,runPath:u.value}),y()):n.error(a("Site.RulesError.index_15"))},_=re(!1),m=async()=>{await Je({id:l.id,path:l.path}),y()},h=re(!1),v=async()=>{await Xe({id:l.id}),y()},x=re(!1),w=we({username_get:"",password_get_1:"",password_get_2:""}),f=async e=>{e||(await Ge({id:l.id}),y())},g=async()=>{""!==w.username_get.trim()?""!==w.password_get_1.trim()?""!==w.password_get_2.trim()?w.username_get.trim().length<3||w.password_get_1.trim().length<3?n.error(a("Site.RulesError.index_35")):w.password_get_1.trim()===w.password_get_2.trim()?(await Qe({id:l.id,username:w.username_get,password:w.password_get_1}),w.username_get="",w.password_get_1="",w.password_get_2="",y()):n.error(a("Site.RulesError.index_38")):n.error(a("Site.RulesError.index_37")):n.error(a("Site.RulesError.index_36")):n.error(a("Site.RulesError.index_34"))},y=()=>{(async()=>{const{message:e}=await Ye({id:l.id});o(e)&&(i.value=e.result||"/www",d=i.value)})(),(async()=>{const{message:e}=await Ze({id:l.id,path:l.path});if(o(e)){u.value=Xt(e,"runPath.runPath",null),_.value=Xt(e,"userini",!1),h.value=Xt(e,"logs.result",!1),x.value=Xt(e,"pass.result",!1);const t=Xt(e,"runPath.dirs",[]);c.value=t.map((e=>({label:e,value:e})))}})()};return y(),t({init:y}),(e,t)=>{const a=ha,l=Ht,n=zt,o=Vt,d=Kt,y=s,b=Ft,S=Jt,k=ma;return ue(),ce("div",Dl,[ie(k,{"label-width":"140"},{default:_e((()=>[ie(o,{label:e.$t("Site.Lable.index_2"),"show-feedback":!1},{default:_e((()=>[pe("div",Il,[ie(n,null,{default:_e((()=>[pe("div",Al,[ie(a,{value:he(i),"onUpdate:value":t[0]||(t[0]=e=>ve(i)?i.value=e:null)},null,8,["value"])]),ie(l,{type:"primary",onClick:r},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1}),pe("div",Nl,me(e.$t("Site.Config.index_35")),1)])])),_:1},8,["label"]),ie(o,{class:"mt-16px",label:e.$t("Site.Lable.index_3"),"show-feedback":!1},{default:_e((()=>[pe("div",Hl,[ie(n,null,{default:_e((()=>[pe("div",zl,[ie(d,{value:he(u),"onUpdate:value":t[1]||(t[1]=e=>ve(u)?u.value=e:null),options:he(c)},null,8,["value","options"])]),ie(l,{type:"primary",onClick:p},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1}),pe("div",Vl,me(e.$t("Site.Config.index_36")),1)])])),_:1},8,["label"]),pe("div",Kl,[ie(y,{dashed:""})]),ie(o,{label:e.$t("Site.Lable.index_4"),"show-feedback":!1},{default:_e((()=>[ie(n,{class:"items-center"},{default:_e((()=>[ie(b,{value:he(_),"onUpdate:value":[t[2]||(t[2]=e=>ve(_)?_.value=e:null),m]},null,8,["value"]),pe("div",Fl,me(e.$t("Site.Config.index_37")),1)])),_:1})])),_:1},8,["label"]),ie(o,{class:"mt-16px",label:e.$t("Site.Lable.index_5"),"show-feedback":!1},{default:_e((()=>[ie(n,{class:"items-center"},{default:_e((()=>[ie(b,{value:he(h),"onUpdate:value":[t[3]||(t[3]=e=>ve(h)?h.value=e:null),v]},null,8,["value"]),t[8]||(t[8]=pe("div",{class:"text-desc"},null,-1))])),_:1,__:[8]})])),_:1},8,["label"]),pe("div",Jl,[ie(y,{dashed:""})]),ie(o,{label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:_e((()=>[ie(n,{class:"items-center"},{default:_e((()=>[ie(b,{value:he(x),"onUpdate:value":[t[4]||(t[4]=e=>ve(x)?x.value=e:null),f]},null,8,["value"]),t[9]||(t[9]=pe("div",{class:"text-desc"},null,-1))])),_:1,__:[9]})])),_:1},8,["label"]),he(x)?(ue(),ce(fe,{key:0},[ie(o,{class:"mt-16px",label:e.$t("Site.Lable.index_17"),"show-feedback":!1},{default:_e((()=>[pe("div",Xl,[ie(S,{value:he(w).username_get,"onUpdate:value":t[5]||(t[5]=e=>he(w).username_get=e),placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),ie(o,{class:"mt-16px",label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:_e((()=>[pe("div",Gl,[ie(S,{value:he(w).password_get_1,"onUpdate:value":t[6]||(t[6]=e=>he(w).password_get_1=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),ie(o,{class:"mt-16px",label:e.$t("Site.Lable.index_18"),"show-feedback":!1},{default:_e((()=>[pe("div",Ql,[ie(S,{value:he(w).password_get_2,"onUpdate:value":t[7]||(t[7]=e=>he(w).password_get_2=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),ie(o,{class:"mt-16px",label:" ","show-feedback":!1},{default:_e((()=>[ie(l,{type:"primary",onClick:g},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})],64)):ge("",!0)])),_:1})])}}}),Zl={class:"mt-8px"},ei=de({__name:"index",setup(e,{expose:t}){const{data:a}=El(),l=d(),i=re(null),n=re((()=>{const{webserver:e}=l,t="openlitespeed"===e?"".concat(e,"/detail"):e;return"/www/server/panel/vhost/".concat(t,"/").concat(a.name,".conf")})()),s=async()=>{var e;null==(e=i.value)||e.getContent()},o=()=>{var e;null==(e=i.value)||e.saveFile()};return ye((()=>{s()})),t({init:s}),(e,t)=>{const a=Ht,l=E;return ue(),ce("div",null,[ie(va,{ref_key:"configRef",ref:i,path:he(n),"onUpdate:path":t[0]||(t[0]=e=>ve(n)?n.value=e:null),height:"480"},null,8,["path"]),pe("div",Zl,[ie(a,{type:"primary",onClick:o},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_60")),1)])),_:1})]),ie(l,{class:"mt-16px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.Config.index_54")),1),pe("li",null,me(e.$t("Site.Config.index_55")),1)])),_:1})])}}}),ti={class:"px-20px py-24px"},ai={class:"w-120px"},li={class:"w-120px"},ii={class:"w-200px"},ni={class:"w-200px"},si={class:"w-200px"},oi=de({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=ne(),l=e,{isEdit:n,siteId:s,siteName:o,row:d,getList:r}=l.data,u=re(null),c=we({redirectname:"".concat((new Date).valueOf()),type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),p={redirectdomain:{trigger:["change"],validator:()=>0!==c.redirectdomain.length||new Error(a("Site.RulesError.index_23"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==c.redirectpath.trim()||new Error(a("Site.RulesError.index_24"))},tourl:{trigger:["blur","input"],validator:()=>""!==c.tourl.trim()||new Error(a("Site.RulesError.index_25"))}},_=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],m=[{label:"301",value:"301"},{label:"302",value:"302"}],h=re([]),v=()=>{c.redirectdomain=[],c.redirectpath=""},{loading:x,setLoading:w}=U();return n&&d&&(c.redirectname=d.redirectname,c.type=d.type,c.holdpath=d.holdpath,c.redirecttype=d.redirecttype,c.redirectpath=d.redirectpath,c.domainorpath=d.domainorpath,c.redirectdomain=d.redirectdomain,c.tourl=d.tourl),(async()=>{try{w(!0);const{message:e}=await ze({id:s});h.value=i(e)?e.map((e=>({label:e.name,value:e.name}))):[]}finally{w(!1)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=u.value)?void 0:t.validate());const a={...Se(c),sitename:o};n?await tt(a):await et(a),null==r||r(),e()}}),(e,t)=>{const a=Ft,l=Vt,i=zt,n=Kt,s=Jt,o=ma,d=E;return ue(),ce("div",ti,[ie(o,{ref_key:"formRef",ref:u,model:he(c),rules:p},{default:_e((()=>[ie(i,{size:60},{default:_e((()=>[ie(l,{label:e.$t("Site.Lable.index_34")},{default:_e((()=>[ie(a,{value:he(c).type,"onUpdate:value":t[0]||(t[0]=e=>he(c).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.TableRow.index_13"),"label-width":"120"},{default:_e((()=>[ie(a,{value:he(c).holdpath,"onUpdate:value":t[1]||(t[1]=e=>he(c).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),ie(i,{size:30},{default:_e((()=>[ie(l,{label:e.$t("Site.TableRow.index_11")},{default:_e((()=>[pe("div",ai,[ie(n,{value:he(c).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>he(c).domainorpath=e),v],options:_},null,8,["value"])])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.TableRow.index_12"),"label-width":"70"},{default:_e((()=>[pe("div",li,[ie(n,{value:he(c).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>he(c).redirecttype=e),options:m},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===he(c).domainorpath?(ue(),be(l,{key:0,label:e.$t("Site.Lable.index_32"),path:"redirectdomain"},{default:_e((()=>[pe("div",ii,[ie(n,{value:he(c).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>he(c).redirectdomain=e),multiple:!0,loading:he(x),options:he(h),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):ge("",!0),"path"===he(c).domainorpath?(ue(),be(l,{key:1,label:e.$t("Site.Lable.index_30"),path:"redirectpath"},{default:_e((()=>[pe("div",ni,[ie(s,{value:he(c).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>he(c).redirectpath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):ge("",!0),ie(l,{label:e.$t("Site.Lable.index_33"),path:"tourl"},{default:_e((()=>[pe("div",si,[ie(s,{value:he(c).tourl,"onUpdate:value":t[6]||(t[6]=e=>he(c).tourl=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),ie(d,{class:"mt-12px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.Config.index_77")),1),pe("li",null,me(e.$t("Site.Config.index_78")),1),pe("li",null,me(e.$t("Site.Config.index_79")),1),pe("li",null,me(e.$t("Site.Config.index_80")),1),pe("li",null,me(e.$t("Site.Config.index_81")),1),pe("li",null,me(e.$t("Site.Config.index_82")),1)])),_:1})])}}}),di={class:"p-20px"},ri={class:"mt-12px"},ui=de({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:s}=a.data,r=t,u=d(),c=re(""),p=re(""),_=re(""),m=async()=>{const{message:e}=await lt({path:_.value,data:c.value,encoding:p.value});o(e)&&n.success(e.msg),null==s||s(),r("close")};return(async()=>{const{message:e}=await at({sitename:i,redirectname:l.redirectname,webserver:u.webserver});o(e)&&(_.value=e.file,c.value=e.data,p.value=e.encoding)})(),(e,t)=>{const a=Ht,l=E;return ue(),ce("div",di,[ie(va,{value:he(c),"onUpdate:value":t[0]||(t[0]=e=>ve(c)?c.value=e:null),height:350,"show-tips":!1},null,8,["value"]),pe("div",ri,[ie(a,{type:"primary",onClick:m},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_60")),1)])),_:1})]),ie(l,{class:"mt-24px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.Config.index_83")),1)])),_:1})])}}}),ci=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{data:n}=El(),s=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:o,table:d,columns:r}=R([{type:"selection",width:40},{key:"sitename",title:a("Site.TableRow.index_11"),ellipsis:{tooltip:{width:"trigger"}},render:e=>"path"===e.domainorpath?e.redirectpath:e.sitename},{key:"redirecttype",title:a("Site.TableRow.index_12"),width:90},{key:"holdpath",title:a("Site.TableRow.index_13"),width:140,render:e=>ie(l,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await it({...s(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?"Enable":"Turn off"]})},{key:"type",title:"Status",width:100,render:e=>ie(T,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await it({...s(e),type:t,holdpath:e.holdpath,status:e.type}),e.type=t}},null)},O({width:120,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{w(e)}},{label:a("Site.TableOP.index_7"),onClick:()=>{v(e)}},{label:a("Public.Btn.Del"),onClick:()=>{L({title:"".concat(a("Site.Batch.index_14")," [").concat(e.redirectname,"]"),content:a("Site.Batch.index_15"),onConfirm:async({hide:t})=>{await nt({sitename:n.name,redirectname:e.redirectname}),_(),t()}})}}]})]),u=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[r.value[1]],api:e=>nt({sitename:n.name,redirectname:e.redirectname},!1),done:()=>{_()}}}],{loading:c,setLoading:p}=U(),_=async()=>{try{p(!0);const{message:e}=await st({sitename:n.name});d.data=i(e)?e:[]}finally{o.value=[],p(!1)}},m=q(a("Site.Config.index_74"),{row:void 0,siteId:n.id,siteName:n.name,isEdit:!1,getList:_}),h=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=a("Site.Config.index_74"),m.show=!0},v=e=>{m.data.row=e,m.data.isEdit=!0,m.title="".concat(a("Site.Config.index_75")," [").concat(e.redirectname,"]"),m.show=!0},x=q("",{row:void 0,siteName:n.name,getList:_}),w=e=>{x.data.row=e,x.title="".concat(a("Site.Config.index_76")," [").concat(e.redirectname,"]"),x.show=!0};return _(),t({init:_}),(e,t)=>{const a=Ht,l=W,i=C,n=S,s=b;return ue(),ce("div",null,[ie(n,null,{toolsLeft:_e((()=>[ie(a,{type:"primary",onClick:h},{default:_e((()=>[xe(me(e.$t("Site.Config.index_73")),1)])),_:1})])),table:_e((()=>[ie(l,{"checked-row-keys":he(o),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>ve(o)?o.value=e:null),"row-key":"redirectname",loading:he(c),"max-height":440,data:he(d).data,columns:he(r)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:_e((()=>[ie(i,{"checked-row-keys":he(o),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>ve(o)?o.value=e:null),"row-key":"redirectname",data:he(d).data,options:u},null,8,["checked-row-keys","data"])])),_:1}),ie(s,{show:he(m).show,"onUpdate:show":t[2]||(t[2]=e=>he(m).show=e),title:he(m).title,data:he(m).data,width:660,footer:!0,component:oi},null,8,["show","title","data"]),ie(s,{show:he(x).show,"onUpdate:show":t[3]||(t[3]=e=>he(x).show=e),title:he(x).title,data:he(x).data,width:580,component:ui},null,8,["show","title","data"])])}}}),pi={class:"px-20px py-24px"},_i={class:"w-220px"},mi={class:"w-220px"},hi={class:"w-220px"},vi={class:"w-220px"},xi={class:"w-220px"},wi={class:"w-220px"},fi={class:"w-220px"},gi=de({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=ne(),i=e,{isEdit:n,siteName:s,row:o,getList:d}=i.data,r=re(null),u=we({type:1,proxyname:"",cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advanced:0,sitename:s}),c={proxyname:{trigger:["blur","input"],validator:()=>""!==u.proxyname.trim()||new Error(a("Site.RulesError.index_26"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===u.cache&&!u.cachetime)||new Error(a("Site.RulesError.index_27"))},proxydir:{trigger:["blur","input"],validator:()=>1!==u.advanced||""!==u.proxydir.trim()||new Error(a("Site.RulesError.index_28"))},proxysite:{trigger:["blur","input"],validator:()=>""!==u.proxysite.trim()||new Error(a("Site.RulesError.index_25"))},todomain:{trigger:["blur","input"],validator:()=>""!==u.todomain.trim()||new Error(a("Site.RulesError.index_29"))}},p=e=>{e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)?u.todomain="$host":u.todomain=e},_=re([]),m=()=>{_.value.length>=3||_.value.push({sub1:"",sub2:""})};m();return(()=>{if(n&&o){u.type=o.type,u.cache=o.cache,u.advanced=o.advanced,u.proxyname=o.proxyname,u.cachetime=o.cachetime,u.proxydir=o.proxydir,u.proxysite=o.proxysite,u.todomain=o.todomain,u.sitename=o.sitename;const e=o.subfilter.filter((e=>""!==e.sub1||""!==e.sub2));e.length>0&&(_.value=e)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate());const a=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];return e.forEach(((e,t)=>{_.value.length-1<t||(e.sub1=_.value[t].sub1,e.sub2=_.value[t].sub2)})),{...Se(u),subfilter:e}})();n?await dt(a):await ot(a),null==d||d(),e()}}),(e,t)=>{const a=Ft,i=Vt,s=zt,o=Jt,d=Gt,h=Qt,v=Yt,x=l,w=Ht,f=ma,g=E;return ue(),ce("div",pi,[ie(f,{ref_key:"formRef",ref:r,model:he(u),rules:c},{default:_e((()=>[ie(s,{size:32},{default:_e((()=>[ie(i,{label:e.$t("Site.Lable.index_46")},{default:_e((()=>[ie(a,{value:he(u).type,"onUpdate:value":t[0]||(t[0]=e=>he(u).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),ie(i,{label:e.$t("Site.Lable.index_47"),"label-width":"100"},{default:_e((()=>[ie(a,{value:he(u).cache,"onUpdate:value":t[1]||(t[1]=e=>he(u).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),ie(i,{label:e.$t("Site.Lable.index_35"),"label-width":"126"},{default:_e((()=>[ie(a,{value:he(u).advanced,"onUpdate:value":t[2]||(t[2]=e=>he(u).advanced=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),ie(i,{label:e.$t("Site.Lable.index_38"),path:"proxyname"},{default:_e((()=>[pe("div",_i,[ie(o,{value:he(u).proxyname,"onUpdate:value":t[3]||(t[3]=e=>he(u).proxyname=e),disabled:he(n),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),1===he(u).cache?(ue(),be(i,{key:0,label:e.$t("Site.Lable.index_39"),path:"cachetime"},{default:_e((()=>[pe("div",mi,[ie(v,null,{default:_e((()=>[ie(d,{value:he(u).cachetime,"onUpdate:value":t[4]||(t[4]=e=>he(u).cachetime=e),min:1,"show-button":!1,placeholder:""},null,8,["value"]),ie(h,{class:"w-70px text-center"},{default:_e((()=>[xe(me(he(u).cachetime>1?"Minutes":"Minute"),1)])),_:1})])),_:1})])])),_:1},8,["label"])):ge("",!0),1===he(u).advanced?(ue(),be(i,{key:1,label:e.$t("Site.TableRow.index_17"),path:"proxydir"},{default:_e((()=>[pe("div",hi,[ie(o,{value:he(u).proxydir,"onUpdate:value":t[5]||(t[5]=e=>he(u).proxydir=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):ge("",!0),ie(i,{label:e.$t("Site.Lable.index_33")},{default:_e((()=>[pe("div",vi,[ie(o,{value:he(u).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>he(u).proxysite=e),p],placeholder:""},null,8,["value"])])])),_:1},8,["label"]),ie(i,{label:e.$t("Site.Lable.index_36")},{default:_e((()=>[pe("div",xi,[ie(o,{value:he(u).todomain,"onUpdate:value":t[7]||(t[7]=e=>he(u).todomain=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),ie(i,{label:e.$t("Site.Lable.index_37")},{default:_e((()=>[ie(s,{class:"flex-1",vertical:""},{default:_e((()=>[(ue(!0),ce(fe,null,ke(he(_),((t,a)=>(ue(),be(s,{key:"".concat(a+1),class:"items-center"},{default:_e((()=>[pe("div",wi,[ie(o,{value:t.sub1,"onUpdate:value":e=>t.sub1=e,placeholder:e.$t("Site.Placeholder.index_20")},null,8,["value","onUpdate:value","placeholder"])]),pe("div",fi,[ie(o,{value:t.sub2,"onUpdate:value":e=>t.sub2=e,placeholder:e.$t("Site.Placeholder.index_21")},null,8,["value","onUpdate:value","placeholder"])]),pe("div",null,[ie(x,{type:"error",disabled:0===a&&1===he(_).length,onClick:e=>(e=>{_.value.length<=1||_.value.splice(e,1)})(a)},{default:_e((()=>[xe(me(e.$t("Public.Btn.Del")),1)])),_:2},1032,["disabled","onClick"])])])),_:2},1024)))),128)),pe("div",null,[ie(w,{type:"primary",disabled:he(_).length>=3,onClick:m},{default:_e((()=>[pe("span",null,me(e.$t("Site.Config.index_87")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["label"])])),_:1},8,["model"]),ie(g,{class:"mt-12px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.Config.index_88")),1),pe("li",null,me(e.$t("Site.Config.index_89")),1),pe("li",null,me(e.$t("Site.Config.index_90")),1),pe("li",null,me(e.$t("Site.Config.index_91")),1)])),_:1})])}}}),yi={class:"p-20px"},bi={class:"mt-12px"},Si=de({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:i,getList:s}=a.data,r=t,u=d(),c=re(""),p=re(""),_=re(""),m=async()=>{const{message:e}=await ut({path:_.value,data:c.value,encoding:p.value});o(e)&&n.success(e.msg),null==s||s(),r("close")};return(async()=>{const{message:e}=await rt({sitename:i,proxyname:l.proxyname,webserver:u.webserver});o(e)&&(_.value=e.file,c.value=e.data,p.value=e.encoding)})(),(e,t)=>{const a=Ht,l=E;return ue(),ce("div",yi,[ie(va,{value:he(c),"onUpdate:value":t[0]||(t[0]=e=>ve(c)?c.value=e:null),height:350,"show-tips":!1},null,8,["value"]),pe("div",bi,[ie(a,{type:"primary",onClick:m},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_60")),1)])),_:1})]),ie(l,{class:"mt-24px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.Config.index_83")),1)])),_:1})])}}}),ki=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{data:n}=El(),s=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime}),{keys:o,table:d,columns:r}=R([{type:"selection",width:40},{key:"proxyname",title:a("Site.TableRow.index_2"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:a("Site.TableRow.index_17"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:a("Site.Lable.index_33"),ellipsis:{tooltip:{width:"trigger"}},render:e=>ie("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:a("Site.Lable.index_31"),width:90,render:e=>ie(l,{type:1===e.cache?"primary":"error",onClick:async()=>{await dt({...s(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:a("Site.TableRow.index_14"),width:90,render:e=>ie(T,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await dt({...s(e),type:t,cache:e.cache}),e.type=t}},null)},O({width:120,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{w(e)}},{label:a("Site.TableOP.index_7"),onClick:()=>{v(e)}},{label:a("Public.Btn.Del"),onClick:()=>{L({title:"".concat(a("Site.Batch.index_16")," [").concat(e.proxyname,"]"),content:a("Site.Batch.index_17"),onConfirm:async({hide:t})=>{await ct({sitename:n.name,proxyname:e.proxyname}),_(),t()}})}}]})]),u=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>ct({sitename:n.name,proxyname:e.proxyname},!1),done:()=>{_()},columns:[{key:"proxyname",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:c,setLoading:p}=U(),_=async()=>{try{p(!0);const{message:e}=await pt({sitename:n.name});d.data=i(e)?e:[]}finally{o.value=[],p(!1)}},m=q(a("Site.Config.index_86"),{row:void 0,siteName:n.name,isEdit:!1,getList:_}),h=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=a("Site.Config.index_86"),m.show=!0},v=e=>{m.data.row=e,m.data.isEdit=!0,m.title="".concat(a("Site.Config.index_75")," [").concat(e.proxyname,"]"),m.show=!0},x=q("",{row:void 0,siteName:n.name,getList:_}),w=e=>{x.data.row=e,x.title="".concat(a("Site.Config.index_76")," [").concat(e.proxyname,"]"),x.show=!0};return _(),t({init:_}),(e,t)=>{const a=Ht,l=W,i=C,n=S,s=b;return ue(),ce("div",null,[ie(n,null,{toolsLeft:_e((()=>[ie(a,{type:"primary",onClick:h},{default:_e((()=>[xe(me(e.$t("Site.Config.index_85")),1)])),_:1})])),table:_e((()=>[ie(l,{"checked-row-keys":he(o),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>ve(o)?o.value=e:null),"row-key":"proxyname",loading:he(c),"max-height":440,data:he(d).data,columns:he(r)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:_e((()=>[ie(i,{"checked-row-keys":he(o),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>ve(o)?o.value=e:null),"row-key":"proxyname",data:he(d).data,options:u},null,8,["checked-row-keys","data"])])),_:1}),ie(s,{show:he(m).show,"onUpdate:show":t[2]||(t[2]=e=>he(m).show=e),title:he(m).title,data:he(m).data,width:660,footer:!0,component:gi},null,8,["show","title","data"]),ie(s,{show:he(x).show,"onUpdate:show":t[3]||(t[3]=e=>he(x).show=e),title:he(x).title,data:he(x).data,width:580,component:Si},null,8,["show","title","data"])])}}}),Ci={class:"pt-8px"},Pi={class:"w-200px"},$i={class:"flex flex-col"},Li={class:"w-200px"},Ri={class:"mt-8px text-desc"},Ui={class:"flex flex-col"},Wi={class:"w-200px"},Ei={class:"mt-8px text-desc"},Ti={class:"flex flex-col"},Oi={class:"w-200px"},qi={class:"mt-8px text-desc"},ji=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{data:l}=El(),i=re(null),n=we({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),s={perserver:{trigger:["blur","change"],validator:()=>!!n.perserver||new Error(a("Site.RulesError.index_318"))},perip:{trigger:["blur","change"],validator:()=>!!n.perip||new Error(a("Site.RulesError.index_319"))},limit_rate:{trigger:["blur","change"],validator:()=>!!n.limit_rate||new Error(a("Site.RulesError.index_320"))}},d=re([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),u=async e=>{e?_():(await _t({id:l.id}),m())},c=(e,t)=>{const{items:a}=t;o(a)&&p(a)},p=e=>{n.perserver=e.perserver,n.perip=e.perip,n.limit_rate=e.limit_rate},_=async()=>{var e;await(null==(e=i.value)?void 0:e.validate()),await mt({id:l.id,perserver:n.perserver,perip:n.perip,limit_rate:n.limit_rate}),m()},m=async()=>{const{message:e}=await ht({id:l.id});o(e)&&(n.status=0!=e.perserver,p(d.value[0].items),r(e.perserver)&&0!=e.perserver&&(n.perserver=e.perserver),r(e.perip)&&0!=e.perip&&(n.perip=e.perip),r(e.limit_rate)&&0!=e.limit_rate&&(n.limit_rate=e.limit_rate))};return m(),t({init:m}),(e,t)=>{const a=Zt,l=Vt,o=Kt,r=Gt,p=Ht,m=ma;return ue(),ce("div",Ci,[ie(m,{ref_key:"formRef",ref:i,"label-width":"150",class:"px-8px",model:he(n),rules:s},{default:_e((()=>[ie(l,{label:" "},{default:_e((()=>[ie(a,{checked:he(n).status,"onUpdate:checked":[t[0]||(t[0]=e=>he(n).status=e),u]},{default:_e((()=>[xe(me(e.$t("Site.Config.index_46")),1)])),_:1},8,["checked"])])),_:1}),ie(l,{label:e.$t("Site.Lable.index_40"),path:"type"},{default:_e((()=>[pe("div",Pi,[ie(o,{value:he(n).type,"onUpdate:value":[t[1]||(t[1]=e=>he(n).type=e),c],options:he(d)},null,8,["value","options"])])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.Lable.index_41"),path:"perserver"},{default:_e((()=>[pe("div",$i,[pe("div",Li,[ie(r,{value:he(n).perserver,"onUpdate:value":t[2]||(t[2]=e=>he(n).perserver=e),"show-button":!1,min:0},null,8,["value"])]),pe("div",Ri,me(e.$t("Site.Config.index_47")),1)])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.Lable.index_45"),path:"perip"},{default:_e((()=>[pe("div",Ui,[pe("div",Wi,[ie(r,{value:he(n).perip,"onUpdate:value":t[3]||(t[3]=e=>he(n).perip=e),"show-button":!1,min:0},null,8,["value"])]),pe("div",Ei,me(e.$t("Site.Config.index_48")),1)])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.Config.index_6"),path:"limit_rate"},{default:_e((()=>[pe("div",Ti,[pe("div",Oi,[ie(r,{value:he(n).limit_rate,"onUpdate:value":t[4]||(t[4]=e=>he(n).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),pe("div",qi,me(e.$t("Site.Config.index_49")),1)])])),_:1},8,["label"]),ie(l,{label:" "},{default:_e((()=>[ie(p,{type:"primary",onClick:_},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Bi=de({__name:"index",setup(e,{expose:t}){const l=le((()=>a((()=>import("./index241.js?v=1753954525509")),__vite__mapDeps([53,16,2,3,5,6,1,4,8,7,17,32,9,36,37,11,14,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,33,34,35,38,39,40,41,42,43,44,45,46,47,48,49,50,51])))),{t:i}=ne(),{config:n}=El(),s=re("access"),o=re(),d=[{key:"directory",label:i("Site.Config.index_4"),component:Yl},{key:"file",label:i("Site.Config.index_15"),component:ei},{key:"rewrite",label:i("Site.Config.index_7"),component:l},{key:"redirect",label:i("Site.Config.index_21"),component:ci},{key:"proxy",label:i("Site.Config.index_23"),component:ki},{key:"traffic",label:i("Site.Config.index_6"),component:ji}];return s.value=n.subMenu||"directory",n.subMenu="",t({init:()=>{s.value="directory",Ce((()=>{var e;null==(e=o.value)||e.init()}))}}),(e,t)=>{const a=_a;return ue(),be(a,{value:he(s),"onUpdate:value":t[0]||(t[0]=e=>ve(s)?s.value=e:null),ref_key:"tabsRef",ref:o,options:d},null,8,["value"])}}}),Mi={class:"p-8"},Di=de({__name:"form",setup(e,{expose:t}){const a=re(null),l=re(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=we({path:"",operation:[]}),s=(e,t)=>{"dir"===t.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return t({onConfirm:async()=>{var e;await(null==(e=a.value)?void 0:e.validate())}}),(e,t)=>{const o=ha,d=Vt,r=Zt,c=u,p=ea,_=ma,m=zt,h=E;return ue(),ce("div",Mi,[ie(m,null,{default:_e((()=>[ie(_,{ref_key:"formRef",ref:a,model:he(n),rules:i},{default:_e((()=>[ie(d,{label:"Detection path",path:"path"},{default:_e((()=>[ie(o,{disabled:"",value:he(n).path,"onUpdate:value":t[0]||(t[0]=e=>he(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:s},null,8,["value"])])),_:1}),ie(d,{label:"Alert operation",path:"operation"},{default:_e((()=>[ie(p,{value:he(n).operation,"onUpdate:value":t[1]||(t[1]=e=>he(n).operation=e)},{default:_e((()=>[ie(c,null,{default:_e((()=>[ie(r,{value:0},{default:_e((()=>t[2]||(t[2]=[xe(" Read ")]))),_:1,__:[2]}),ie(r,{value:1,disabled:he(l)},{default:_e((()=>t[3]||(t[3]=[xe(" delete ")]))),_:1,__:[3]},8,["disabled"]),ie(r,{value:2,disabled:he(l)},{default:_e((()=>t[4]||(t[4]=[xe(" Modify/increase ")]))),_:1,__:[4]},8,["disabled"])])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),ie(h,{class:"mt-16px"},{default:_e((()=>t[5]||(t[5]=[pe("li",null,"Directory temporarily only supports reading alarm operation",-1)]))),_:1,__:[5]})])}}}),Ii={class:"p-5"},Ai={class:"mt-16px"},Ni=de({__name:"monitor",setup(e){const t=re(!1),a=re(!1),l=re([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=re([]);return(e,n)=>{const s=Ht,o=zt,d=W,r=E,u=b;return ue(),ce("div",Ii,[pe("div",null,[ie(o,{justify:"space-between"},{default:_e((()=>[ie(s,{type:"primary",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:_e((()=>n[2]||(n[2]=[xe(" Add monitor ")]))),_:1,__:[2]}),ie(s,null,{icon:_e((()=>n[3]||(n[3]=[pe("img",{src:xa,class:"w-5"},null,-1)]))),_:1})])),_:1})]),pe("div",Ai,[ie(d,{loading:he(a),"loading-num":6,data:he(i),columns:he(l)},null,8,["loading","data","columns"])]),pe("div",null,[ie(r,{class:"mt-16px"},{default:_e((()=>[n[5]||(n[5]=pe("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1)),n[6]||(n[6]=pe("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1)),pe("li",null,[ie(s,{text:"",class:"color-#20a53a"},{default:_e((()=>n[4]||(n[4]=[xe("Tutorial")]))),_:1,__:[4]})])])),_:1,__:[5,6]})]),ie(u,{show:he(t),"onUpdate:show":n[1]||(n[1]=e=>ve(t)?t.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:Di},null,8,["show"])])}}});const Hi=c({},[["render",function(e,t){return ue(),ce("div",null,"555")}]]),zi={class:"box mt-16px"},Vi={key:0,class:"items-center warning"},Ki={class:"warning"},Fi={class:"color-#f23836"},Ji=c(de({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=d(),a=re(!1),i=re(!1),n=re(!1),s=e,o=p(),r=()=>{j({source:114})},u=()=>{const e=a.value?"Open the site security alarm":"Close the site security alarm",t=a.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";L({title:e,content:t,onConfirm:async()=>{const e=ga(a.value);console.log(e,"result")},onPublicClose:()=>{a.value=!a.value}})};return(e,d)=>{const c=Ft,p=zt,_=Ht,m=E,h=l,v=y,x=b;return ue(),ce(fe,null,[pe("div",zi,[ie(v,{install:he(o).isPro,class:"install"},Pe({default:_e((()=>[ie(p,{class:"items-center color-#666"},{default:_e((()=>[d[8]||(d[8]=pe("div",null,"Site protection",-1)),pe("div",null,[ie(c,{value:he(a),"onUpdate:value":[d[0]||(d[0]=e=>ve(a)?a.value=e:null),u]},null,8,["value"])]),d[9]||(d[9]=pe("div",null,"today: 0",-1)),d[10]||(d[10]=pe("div",null,"Total alarm: 0",-1)),he(a)?ge("",!0):(ue(),ce("div",Vi,[d[7]||(d[7]=pe("img",{src:fa,class:"h-8"},null,-1)),pe("span",Ki,[d[5]||(d[5]=xe(" Please open ")),pe("span",Fi,"PHP-"+me(s.phpVersion),1),d[6]||(d[6]=xe(" protection first "))])]))])),_:1,__:[8,9,10]}),ie(p,{class:"mt-16px"},{default:_e((()=>[ie(_,{onClick:d[1]||(d[1]=e=>i.value=!0)},{default:_e((()=>d[11]||(d[11]=[xe("Monitor")]))),_:1,__:[11]}),ie(_,{onClick:d[2]||(d[2]=e=>n.value=!0)},{default:_e((()=>d[12]||(d[12]=[xe("Trigger log")]))),_:1,__:[12]})])),_:1}),ie(m,{class:"mt-16px"},{default:_e((()=>d[13]||(d[13]=[pe("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1),pe("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1)]))),_:1,__:[13]})])),_:2},[s.isInstall?{name:"desc",fn:_e((()=>[ie(p,{class:"items-center"},{default:_e((()=>[d[16]||(d[16]=pe("img",{src:wa,class:"h-10"},null,-1)),pe("span",null,[d[15]||(d[15]=xe("If you need to use the [PHP website security alarm] function, please buy first ")),ie(h,{onClick:r},{default:_e((()=>d[14]||(d[14]=[xe("click to buy")]))),_:1,__:[14]})])])),_:1,__:[16]})])),key:"0"}:{name:"desc",fn:_e((()=>[ie(p,{class:"items-center"},{default:_e((()=>[d[19]||(d[19]=pe("img",{src:wa,class:"h-10"},null,-1)),pe("span",null,[d[18]||(d[18]=xe("Currently not installed [PHP website security alarm], ")),ie(h,null,{default:_e((()=>d[17]||(d[17]=[xe("Click to install")]))),_:1,__:[17]})])])),_:1,__:[19]})])),key:"1"}]),1032,["install"])]),ie(x,{show:he(i),"onUpdate:show":d[3]||(d[3]=e=>ve(i)?i.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:Ni},null,8,["show"]),ie(x,{show:he(n),"onUpdate:show":d[4]||(d[4]=e=>ve(n)?n.value=e:null),title:"[".concat(he(t).siteName,"] Site security log"),width:1e3,"min-height":148,footer:!1,component:Hi},null,8,["show","title"])],64)}}}),[["__scopeId","data-v-6d68f8a5"]]),Xi={class:"w-140px"},Gi={class:"my-16px"},Qi={key:0,class:"my-16px"},Yi=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{data:l}=El(),r=d(),u=re(null),c=re(!1),p=re(!1);let m="";const h=re([]),v=async()=>{null!==u.value?(await vt({siteName:l.name,version:u.value,other:m}),r.setRefresh(!0),f()):n.error(a("Site.RulesError.index_322"))},x=async()=>{const{message:e}=await gt({id:l.id});o(e)&&(c.value=e.result)},w=async e=>{await xt({id:l.id,act:e?1:0}),x()},f=()=>{(async()=>{const{message:e}=await ya();o(e)&&(p.value=e.php_status)})(),x(),(async()=>{const{message:e}=await ft();i(e)&&(h.value=e.reverse().map((e=>({label:e.name,value:e.version}))))})(),(async()=>{const{message:e}=await wt({siteName:l.name});o(e)&&(u.value=e.phpversion,m=e.php_other||"")})()};return f(),t({init:f}),(e,t)=>{const a=Kt,l=Ht,i=zt,n=E,o=s,d=Ft;return ue(),ce("div",null,[ie(i,{class:"items-center"},{default:_e((()=>[pe("div",null,me(e.$t("Site.Lable.index_22")),1),pe("div",Xi,[ie(a,{value:he(u),"onUpdate:value":t[0]||(t[0]=e=>ve(u)?u.value=e:null),options:he(h)},null,8,["value","options"])]),pe("div",null,[ie(l,{type:"primary",onClick:v},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_61")),1)])),_:1})])])),_:1}),ie(n,{class:"mt-16px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.Config.index_65")),1),pe("li",null,me(e.$t("Site.Config.index_66")),1),pe("li",null,me(e.$t("Site.Config.index_67")),1),pe("li",null,me(e.$t("Site.Config.index_68")),1),pe("li",null,me(e.$t("Site.Config.index_69")),1),pe("li",null,me(e.$t("Site.Config.index_70")),1)])),_:1}),pe("div",Gi,[ie(o,{dashed:""})]),ie(i,{class:"items-center"},{default:_e((()=>[pe("div",null,me(e.$t("Site.Config.index_64")),1),pe("div",null,[ie(d,{value:he(c),"onUpdate:value":[t[1]||(t[1]=e=>ve(c)?c.value=e:null),w]},null,8,["value"])])])),_:1}),ie(n,{class:"mt-16px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.Config.index_71")),1),pe("li",null,me(e.$t("Site.Config.index_72")),1)])),_:1}),he(_)?(ue(),ce("div",Qi,[ie(o,{dashed:""}),ie(Ji,{isInstall:he(p),phpVersion:he(u)},null,8,["isInstall","phpVersion"])])):ge("",!0)])}}}),Zi={class:"w-200px"},en={class:"w-200px mr-8px"},tn={class:"flex flex-col"},an={class:"mt-8px text-desc"},ln={class:"flex flex-col"},nn={class:"mt-8px text-desc"},sn=de({__name:"index",setup(e,{expose:a}){const{t:i}=ne(),s=d(),r=re(null),{data:u}=El(),c=we({Login_url:"",redirection_url:"",wps:!1,admin_email:"",home_url:"",wp_title:"",wp_home:"",site_url:""}),p=re(!1),_=re("--"),h=re("--"),v=$e((()=>p.value?"".concat(i("WP.index_40")," (").concat(h.value,") ").concat(i("WP.index_41")):"".concat(i("WP.TableRow.index_1")," ").concat(_.value," ").concat(i("WP.index_39")))),x=re(!1),w=re(null),f=re("en"),g=re(""),y=re("--"),b=async()=>{var e;await(null==(e=r.value)?void 0:e.validate()),await(e=>t.post("/site?action=save_wp_configurations",e,{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}))({s_id:u.id,language:f.value,admin_password:g.value?g.value:null,admin_email:c.admin_email,whl_enabled:c.wps?1:0,whl_page:c.Login_url,whl_redirect_admin:c.redirection_url,wp_title:c.wp_title,wp_home:c.wp_home,site_url:c.site_url}),L()},S={admin_email:{required:!0,trigger:["blur","input"],message:i("WP.index_42")},redirection_url:{required:!0,trigger:["blur","input"],message:i("Security.Conf.Index_28")},Login_url:{required:!0,trigger:["blur","input"],message:i("Security.Conf.Index_28")}},k=async()=>{p.value?(await yt({s_id:u.id,version:h.value}),L()):n.error(i("WP.index_39"))},C=async e=>{await bt({version:u.php_version,sitename:u.name,act:e}),s.setRefresh(!0)},P=async()=>{await St({s_id:u.id})},$=async()=>{g.value=m(16,"wp")},L=async()=>{const{message:e}=await Ba({s_id:u.id});o(e)&&(x.value=e.cache_enabled,_.value=e.local_version,h.value=e.latest_version,p.value=e.can_upgrade,y.value=e.login_url,w.value=e.admin_user,f.value=e.language,c.admin_email=e.admin_email,c.Login_url=e.whl_page,c.home_url=e.home_url,c.redirection_url=e.whl_redirect_admin,c.wps=e.whl_enabled,c.wp_title=e.wp_title,c.wp_home=e.wp_home,c.site_url=e.site_url)};return L(),a({init:L}),(e,t)=>{const a=l,i=Vt,n=ta,s=Ht,o=Ft,d=Jt,u=Zt,_=zt,m=ma;return ue(),ce("div",null,[ie(m,{"label-width":"160px",model:he(c),ref_key:"formRef",ref:r,rules:S},{default:_e((()=>[ie(i,{label:e.$t("WP.Config.index_1")},{default:_e((()=>[ie(a,{href:he(y),target:"_blank"},{default:_e((()=>[xe(me(he(y)),1)])),_:1},8,["href"])])),_:1},8,["label"]),ie(i,{label:e.$t("Site.TableRow.index_14")},{default:_e((()=>[ie(n,{type:he(p)?"warning":"default","show-icon":!1},{default:_e((()=>[xe(me(he(v)),1)])),_:1},8,["type"]),ie(s,{class:"ml-8px",type:"primary",onClick:k},{default:_e((()=>[xe(me(e.$t("WP.Config.index_2")),1)])),_:1})])),_:1},8,["label"]),ie(i,{label:e.$t("Site.Lable.index_31")},{default:_e((()=>[ie(o,{value:he(x),"onUpdate:value":[t[0]||(t[0]=e=>ve(x)?x.value=e:null),C],class:"mr-20px"},null,8,["value"]),ie(s,{onClick:P},{default:_e((()=>[xe(me(e.$t("WP.Config.index_3")),1)])),_:1})])),_:1},8,["label"]),ie(i,{label:e.$t("Site.Lable.index_24")},{default:_e((()=>[pe("div",Zi,[ie(d,{value:he(w),"onUpdate:value":t[1]||(t[1]=e=>ve(w)?w.value=e:null),readonly:""},null,8,["value"])])])),_:1},8,["label"]),ie(i,{label:e.$t("WP.Label.index_1")},{default:_e((()=>[pe("div",en,[ie(d,{value:he(g),"onUpdate:value":t[2]||(t[2]=e=>ve(g)?g.value=e:null),placeholder:e.$t("WP.index_38")},null,8,["value","placeholder"])]),ie(s,{type:"primary",onClick:$},{default:_e((()=>[xe(me(e.$t("WP.Config.index_4")),1)])),_:1})])),_:1},8,["label"]),ie(i,{label:e.$t("WP.Label.index_2"),path:"admin_email"},{default:_e((()=>[ie(d,{class:"w-410px!",value:he(c).admin_email,"onUpdate:value":t[3]||(t[3]=e=>he(c).admin_email=e),placeholder:e.$t("Site.Placeholder.index_16")},null,8,["value","placeholder"])])),_:1},8,["label"]),ie(i,{label:e.$t("WP.Label.index_3")},{default:_e((()=>[ie(ba,{class:"w-410px",value:he(f),"onUpdate:value":t[4]||(t[4]=e=>ve(f)?f.value=e:null)},null,8,["value"])])),_:1},8,["label"]),ie(i,{label:"Website Title",path:"wp_title"},{default:_e((()=>[ie(d,{class:"w-410px!",value:he(c).wp_title,"onUpdate:value":t[5]||(t[5]=e=>he(c).wp_title=e)},null,8,["value"])])),_:1}),ie(i,{label:"Home Domain",path:"wp_home"},{default:_e((()=>[ie(d,{class:"w-410px!",value:he(c).wp_home,"onUpdate:value":t[6]||(t[6]=e=>he(c).wp_home=e)},null,8,["value"])])),_:1}),ie(i,{label:"Website Domain",path:"site_url"},{default:_e((()=>[ie(d,{class:"w-410px!",value:he(c).site_url,"onUpdate:value":t[7]||(t[7]=e=>he(c).site_url=e)},null,8,["value"])])),_:1}),ie(i,{label:e.$t("WP.Label.index_4")},{default:_e((()=>[ie(u,{checked:he(c).wps,"onUpdate:checked":t[8]||(t[8]=e=>he(c).wps=e)},{default:_e((()=>[pe("span",null,me(e.$t("WP.Add.index_11")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),he(c).wps?(ue(),ce(fe,{key:0},[ie(i,{label:e.$t("WP.Add.index_12"),path:"Login_url"},{default:_e((()=>[pe("div",tn,[pe("div",null,[ie(_,{class:"items-center"},{default:_e((()=>[pe("div",null,me(he(c).home_url)+"/",1),ie(d,{class:"w-200px!",value:he(c).Login_url,"onUpdate:value":t[9]||(t[9]=e=>he(c).Login_url=e),placeholder:e.$t("Site.Placeholder.index_18")},null,8,["value","placeholder"])])),_:1})]),pe("div",an,me(e.$t("WP.Config.index_8")),1)])])),_:1},8,["label"]),ie(i,{label:e.$t("WP.Add.index_13"),path:"redirection_url"},{default:_e((()=>[pe("div",ln,[pe("div",null,[ie(_,{class:"items-center"},{default:_e((()=>[pe("div",null,me(he(c).home_url)+"/",1),ie(d,{class:"w-200px!",value:he(c).redirection_url,"onUpdate:value":t[10]||(t[10]=e=>he(c).redirection_url=e),placeholder:e.$t("Site.Placeholder.index_19")},null,8,["value","placeholder"])])),_:1})]),pe("div",nn,me(e.$t("WP.Config.index_9")),1)])])),_:1},8,["label"])],64)):ge("",!0),ie(i,{label:" "},{default:_e((()=>[ie(s,{type:"primary",onClick:b},{default:_e((()=>[xe(me(e.$t("WP.Config.index_5")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),on={class:"p-10px"},dn=c(de({__name:"install",props:{data:{}},setup(e){const{t:a}=ne(),{data:l}=El(),s=e,{getList:d}=s.data,r=we({s_id:l.id,p:1,p_size:10,keyword:""}),u=()=>{r.p=1,w()},{loading:c,setLoading:p}=U(),{keys:_,table:m,columns:x}=R([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:a("Site.TableRow.index_2"),render:e=>ie("span",null,[ie("img",{class:"w-25px h-25px",src:e.icons["1x"]?e.icons["1x"]:e.icons.default},null),ie("span",{class:"ml-5px"},[e.name])])},{key:"short_description",title:a("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:a("WP.index_17"),render:e=>ie("span",{innerHTML:e.author},null)},{key:"requires",title:"WP",render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:a("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:a("WP.index_19"),render:e=>ie(h,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},O({width:60,options:e=>[{label:e.installed?a("WP.TableRow.index_14"):a("WP.TableRow.index_13"),disabled:l.wp_version<e.requires||l.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(i={s_id:l.id,slug:e.slug},t.post("/site?action=wp_install_plugin",i,{requestOptions:{loading:Oa("WP.api.tamper_16"),successMessage:!1}})),n.success(a("WP.index_20")),w(),null==d||d()}catch(s){console.error(s)}var i}}]}),{key:"",title:"",width:"25px",render:e=>l.wp_version<e.requires||l.php_version<e.requires_php||e.installed?ie(aa,{trigger:"hover"},{trigger:()=>ie(v,{name:"common-ask",size:"18",color:"#999"},null),default:()=>l.wp_version<e.requires||l.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),w=async()=>{try{p(!0);const{message:e}=await ll(Se(r));o(e)&&(m.total=e.total,i(e.list)?m.data=e.list.map((e=>({...e,author:e.author.replace('href="','target="_blank" style="color: #1d9534" href="')}))):(m.data=[],m.total=0))}finally{_.value=[],p(!1)}};return w(),(e,t)=>{const a=ae,l=W,i=k,n=S;return ue(),ce("div",on,[ie(n,{feedback:!1},{toolsLeft:_e((()=>t[3]||(t[3]=[]))),toolsRight:_e((()=>[ie(a,{value:he(r).keyword,"onUpdate:value":t[0]||(t[0]=e=>he(r).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:u},null,8,["value","placeholder"])])),table:_e((()=>[ie(l,{loading:he(c),data:he(m).data,columns:he(x),"max-height":500,"row-class-name":"row-padding"},null,8,["loading","data","columns"])])),pageRight:_e((()=>[ie(i,{page:he(r).p,"onUpdate:page":t[1]||(t[1]=e=>he(r).p=e),"page-size":he(r).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>he(r).p_size=e),"item-count":he(m).total,onRefresh:w},null,8,["page","page-size","item-count"])])),_:1})])}}}),[["__scopeId","data-v-4c2240a4"]]),rn=de({__name:"index",setup(e,{expose:a}){const{t:l}=ne(),{data:n}=El(),s=p(),{isPro:o}=Le(s),d=()=>{o.value?window.open(n.login_url,"_blank"):j({source:213})},r=()=>{x.show=!0},{keys:u,table:c,columns:_}=R([{key:"title",title:l("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},B({key:"is_plugin_activate",title:l("WP.TableRow.index_8"),minWidth:60,onClick:async(e,a)=>{await(e=>t.post("/site?action=wp_set_plugin_status",e,{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}))({s_id:n.id,plugin_file:a.plugin_file,activate:e?1:0})}}),B({key:"auto_update",title:l("WP.TableRow.index_10"),minWidth:60,onClick:async(e,a)=>{await(e=>t.post("/site?action=wp_set_plugin_auto_update",e,{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}))({s_id:n.id,plugin_file:a.plugin_file,enable:e?1:0})}}),O({width:130,options:e=>[{label:l("WP.TableRow.index_11"),show:e.can_update,onClick:()=>{L({title:"".concat(l("WP.TableRow.index_11")," [").concat(e.name,"]"),content:l("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:a})=>{await(e=>t.post("/site?action=wp_update_plugin",e,{requestOptions:{loading:Oa("WP.api.tamper_15"),successMessage:!0}}))({s_id:n.id,plugin_file:e.plugin_file}),v(),a()}})}},{label:l("WP.TableRow.index_12"),onClick:()=>{L({title:"".concat(l("WP.TableRow.index_12")," [").concat(e.name,"]"),content:l("WP.index_10"),onConfirm:async({hide:a})=>{await(e=>t.post("/site?action=wp_uninstall_plugin",e,{requestOptions:{loading:Oa("WP.api.tamper_14"),successMessage:!0}}))({s_id:n.id,plugin_file:e.plugin_file}),v(),a()}})}}]})]),{loading:m,setLoading:h}=U(),v=async()=>{try{h(!0);const{message:e}=await(e=>t.post("/site?action=wp_installed_plugins",e))({s_id:n.id});i(e)&&(c.data=e)}finally{u.value=[],h(!1)}},x=q(l("WP.index_15"),{getList:v});return v(),a({init:v}),(e,t)=>{const a=Ht,l=W,i=S,n=b;return ue(),ce(fe,null,[pe("div",null,[ie(i,null,{toolsLeft:_e((()=>[ie(a,{type:"primary",onClick:d},{default:_e((()=>[xe(me(e.$t("WP.index_3")),1)])),_:1}),ie(a,{onClick:r},{default:_e((()=>[xe(me(e.$t("WP.TableRow.index_13")),1)])),_:1})])),table:_e((()=>[ie(l,{"checked-row-keys":he(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>ve(u)?u.value=e:null),"row-key":"title",loading:he(m),data:he(c).data,columns:he(_)},null,8,["checked-row-keys","loading","data","columns"])])),_:1})]),ie(n,{show:he(x).show,"onUpdate:show":t[1]||(t[1]=e=>he(x).show=e),title:he(x).title,data:he(x).data,width:750,"min-height":400,footer:!1,component:dn},null,8,["show","title","data"])],64)}}}),un={class:"p-10px"},cn=c(de({__name:"install",props:{data:{}},setup(e){const{t:a}=ne(),{data:l}=El(),s=e,{getList:d}=s.data,r=we({s_id:l.id,p:1,p_size:10,keyword:""}),u=()=>{r.p=1,w()},{loading:c,setLoading:p}=U(),{keys:_,table:m,columns:x}=R([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:a("Site.TableRow.index_2"),render:e=>ie("span",null,[ie("img",{class:"w-25px",src:e.screenshot_url},null),ie("span",{class:"ml-5px"},[e.name])])},{key:"description",title:a("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:a("WP.index_17"),render:e=>ie("a",{target:"_blank",style:"color : #1d9534",href:e.author.author_url},[e.author.author])},{key:"requires",title:a("WP.index_18"),render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:a("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:a("WP.index_19"),render:e=>ie(h,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},O({width:60,options:e=>[{label:e.installed?a("WP.TableRow.index_14"):a("WP.TableRow.index_13"),disabled:l.wp_version<e.requires||l.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(i={s_id:l.id,slug:e.slug},t.post("/site?action=wp_install_theme",i,{requestOptions:{loading:Oa("WP.api.tamper_16"),successMessage:!1}})),n.success(a("WP.index_20")),null==d||d(),w()}catch(s){console.error(s)}var i}}]}),{key:"",title:"",width:"30px",render:e=>l.wp_version<e.requires||l.php_version<e.requires_php||e.installed?ie(aa,{trigger:"hover"},{trigger:()=>ie(v,{name:"common-ask",size:"18",color:"#999"},null),default:()=>l.wp_version<e.requires||l.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),w=async()=>{try{p(!0);const{message:e}=await al(Se(r));o(e)&&(m.total=e.total,i(e.list)?m.data=e.list:(m.data=[],m.total=0))}finally{_.value=[],p(!1)}};return w(),(e,t)=>{const a=ae,l=W,i=k,n=S;return ue(),ce("div",un,[ie(n,{feedback:!1},{toolsLeft:_e((()=>t[3]||(t[3]=[]))),toolsRight:_e((()=>[ie(a,{value:he(r).keyword,"onUpdate:value":t[0]||(t[0]=e=>he(r).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:u},null,8,["value","placeholder"])])),table:_e((()=>[ie(l,{loading:he(c),data:he(m).data,columns:he(x),"max-height":500,"row-class-name":"row-padding"},null,8,["loading","data","columns"])])),pageRight:_e((()=>[ie(i,{page:he(r).p,"onUpdate:page":t[1]||(t[1]=e=>he(r).p=e),"page-size":he(r).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>he(r).p_size=e),"item-count":he(m).total,onRefresh:w},null,8,["page","page-size","item-count"])])),_:1})])}}}),[["__scopeId","data-v-8fe25d5b"]]),pn=de({__name:"index",setup(e,{expose:a}){const{t:l}=ne(),{data:n}=El(),s=p(),{isPro:o}=Le(s),d=()=>{o.value?window.open(n.login_url,"_blank"):j({source:213})},r=()=>{x.show=!0},{keys:u,table:c,columns:_}=R([{key:"title",title:l("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},B({key:"is_theme_activate",title:l("WP.TableRow.index_8"),minWidth:30,disabled:e=>(console.log(e.name),!0),tips:l("WP.index_12"),onClick:async(e,a)=>{await(e=>t.post("/site?action=wp_switch_theme",e,{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}))({s_id:n.id,stylesheet:a.stylesheet}),v()}}),B({key:"auto_update",title:l("WP.TableRow.index_10"),minWidth:60,onClick:async(e,a)=>{await(e=>t.post("/site?action=wp_set_theme_auto_update",e,{requestOptions:{loading:Oa("WP.api.tamper_8"),successMessage:!0}}))({s_id:n.id,stylesheet:a.stylesheet,enable:e?1:0})}}),O({width:130,options:e=>[{label:l("WP.TableRow.index_11"),show:e.can_update,onClick:()=>{L({title:"".concat(l("WP.TableRow.index_11")," [").concat(e.name,"]"),content:l("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:a})=>{await(e=>t.post("/site?action=wp_update_theme",e,{requestOptions:{loading:Oa("WP.api.tamper_15"),successMessage:!0}}))({s_id:n.id,stylesheet:e.stylesheet}),v(),a()}})}},{label:l("WP.TableRow.index_12"),disabled:e.is_theme_activate,onClick:()=>{L({title:"".concat(l("WP.TableRow.index_12")," [").concat(e.name,"]"),content:l("WP.index_11"),onConfirm:async({hide:a})=>{await(e=>t.post("/site?action=wp_uninstall_theme",e,{requestOptions:{loading:Oa("WP.api.tamper_14"),successMessage:!0}}))({s_id:n.id,stylesheet:e.stylesheet}),v(),a()}})}}]})]),{loading:m,setLoading:h}=U(),v=async()=>{try{h(!0);const{message:e}=await(e=>t.post("/site?action=wp_installed_themes",e))({s_id:n.id});i(e)&&(c.data=e)}finally{u.value=[],h(!1)}},x=q(l("WP.index_16"),{getList:v});return v(),a({init:v}),(e,t)=>{const a=Ht,l=W,i=S,n=b;return ue(),ce(fe,null,[pe("div",null,[ie(i,null,{toolsLeft:_e((()=>[ie(a,{type:"primary",onClick:d},{default:_e((()=>[xe(me(e.$t("WP.index_3")),1)])),_:1}),ie(a,{onClick:r},{default:_e((()=>[xe(me(e.$t("WP.TableRow.index_13")),1)])),_:1})])),table:_e((()=>[ie(l,{"checked-row-keys":he(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>ve(u)?u.value=e:null),"row-key":"title",loading:he(m),data:he(c).data,columns:he(_)},null,8,["checked-row-keys","loading","data","columns"])])),_:1})]),ie(n,{show:he(x).show,"onUpdate:show":t[1]||(t[1]=e=>he(x).show=e),title:he(x).title,data:he(x).data,width:750,"min-height":400,footer:!1,component:cn},null,8,["show","title","data"])],64)}}}),_n=c(de({__name:"index",setup(e,{expose:a}){const{data:l}=El(),i=we({wp_debug:!1,wp_debug_log:!1,script_debug:!1,wp_debug_display:!1,save_queries:!1,search_engine:!1}),n=async()=>{var e;await(e={set_id:l.id,...i},t.post("/site?action=set_wp_tool",e,{requestOptions:{loading:Oa("Login.index_22"),successMessage:!0}})),r()};a({onConfirm:n});const{loading:s,setLoading:d}=U(),r=async()=>{try{d(!0);const{message:a}=await(e={set_id:l.id},t.post("/site?action=get_wp_tool",e));o(a)&&Object.keys(a).forEach((e=>{Object.prototype.hasOwnProperty.call(a,e)&&(i[e]="true"===a[e])}))}finally{d(!1)}var e};return r(),(e,t)=>{const a=Ft,l=Vt,o=Ht,d=ma,r=x;return ue(),be(r,{show:he(s)},{default:_e((()=>[ie(d,{model:he(i),"label-width":"150"},{default:_e((()=>[ie(l,{label:"Enable debug mode"},{default:_e((()=>[ie(a,{value:he(i).wp_debug,"onUpdate:value":t[0]||(t[0]=e=>he(i).wp_debug=e)},null,8,["value"]),t[6]||(t[6]=pe("span",{class:"tips"},"Enable main debug mode in WordPress.",-1))])),_:1,__:[6]}),Re(ie(l,{label:"Error Log"},{default:_e((()=>[ie(a,{value:he(i).wp_debug_log,"onUpdate:value":t[1]||(t[1]=e=>he(i).wp_debug_log=e)},null,8,["value"]),t[7]||(t[7]=pe("span",{class:"tips"},"Save all errors to the debug.log file in the wp-content directory.",-1))])),_:1,__:[7]},512),[[Ue,he(i).wp_debug]]),Re(ie(l,{label:"Display PHP Errors"},{default:_e((()=>[ie(a,{value:he(i).wp_debug_display,"onUpdate:value":t[2]||(t[2]=e=>he(i).wp_debug_display=e)},null,8,["value"]),t[8]||(t[8]=pe("span",{class:"tips"},"Display debugging information in HTML pages.",-1))])),_:1,__:[8]},512),[[Ue,he(i).wp_debug]]),ie(l,{label:"Enable script debug"},{default:_e((()=>[ie(a,{value:he(i).script_debug,"onUpdate:value":t[3]||(t[3]=e=>he(i).script_debug=e)},null,8,["value"]),t[9]||(t[9]=pe("span",{class:"tips"},"Force WordPress to use non-minified versions of core CSS and JavaScript files.",-1))])),_:1,__:[9]}),ie(l,{label:"Save Queries"},{default:_e((()=>[ie(a,{value:he(i).save_queries,"onUpdate:value":t[4]||(t[4]=e=>he(i).save_queries=e)},null,8,["value"]),t[10]||(t[10]=pe("span",{class:"tips"},"Record all database queries executed on the website and save them in a global variable. Note: Please avoid using this in non-debug environments.",-1))])),_:1,__:[10]}),ie(l,{label:"Disable Search Engine Indexing"},{default:_e((()=>[ie(a,{value:he(i).search_engine,"onUpdate:value":t[5]||(t[5]=e=>he(i).search_engine=e)},null,8,["value"]),t[11]||(t[11]=pe("span",{class:"tips"},"If your website is not ready to be publicly viewed, please enable this option to ensure that search engines do not display your website in search results.",-1))])),_:1,__:[11]}),ie(l,{label:" "},{default:_e((()=>[ie(o,{type:"primary",onClick:n},{default:_e((()=>[xe(me(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["show"])}}}),[["__scopeId","data-v-aa6a1ab9"]]),mn=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{config:l}=El(),i=re("setup"),n=re(),s=[{key:"setup",label:a("Site.Config.index_16"),component:sn},{key:"plugin",label:a("Site.Config.index_17"),component:rn},{key:"theme",label:a("Site.Config.index_18"),component:pn},{key:"utils",label:"Utils",component:_n}];return i.value=l.subMenu||"setup",l.subMenu="",t({init:()=>{i.value="setup",Ce((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=_a;return ue(),be(a,{value:he(i),"onUpdate:value":t[0]||(t[0]=e=>ve(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),hn={class:"p-20px"},vn={class:"w-280px"},xn={class:"w-280px"},wn={class:"w-280px"},fn={class:"w-280px"},gn=de({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=ne(),l=e,{isEdit:i,siteId:n,row:s,getList:o}=l.data,d=re(null),r=we({name:"",site_dir:"",username:"",password:""}),u={name:{required:!0,message:a("Site.RulesError.index_316"),trigger:["blur","input"]},site_dir:{required:!0,message:a("Site.RulesError.index_317"),trigger:["blur","input"]},username:{required:!0,message:a("Site.RulesError.index_71"),trigger:["blur","input"]},password:{required:!0,message:a("Site.RulesError.index_81"),trigger:["blur","input"]}};return i&&s&&(r.name=s.name,r.site_dir=s.site_dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate()),i?await kt({id:n,name:r.name,username:r.username,password:r.password}):await Ct({...Se(r),id:n}),null==o||o(),e()}}),(e,t)=>{const a=Jt,l=Vt,n=ma,s=E;return ue(),ce("div",hn,[ie(n,{ref_key:"formRef",ref:d,model:he(r),rules:u},{default:_e((()=>[ie(l,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:_e((()=>[pe("div",vn,[ie(a,{value:he(r).name,"onUpdate:value":t[0]||(t[0]=e=>he(r).name=e),disabled:he(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.TableRow.index_15"),path:"site_dir"},{default:_e((()=>[pe("div",xn,[ie(a,{value:he(r).site_dir,"onUpdate:value":t[1]||(t[1]=e=>he(r).site_dir=e),disabled:he(i),placeholder:"Enter the path: /text/，/test/api"},null,8,["value","disabled"])])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.Lable.index_24"),path:"username"},{default:_e((()=>[pe("div",wn,[ie(a,{value:he(r).username,"onUpdate:value":t[2]||(t[2]=e=>he(r).username=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.Lable.index_27"),path:"password"},{default:_e((()=>[pe("div",fn,[ie(a,{value:he(r).password,"onUpdate:value":t[3]||(t[3]=e=>he(r).password=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),ie(s,{class:"mt-4px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.Config.index_40")),1),pe("li",null,me(e.$t("Site.Config.index_41")),1)])),_:1})])}}}),yn=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{data:l}=El(),{keys:i,table:n,columns:s}=R([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:a("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},O({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{m(e)}},{label:a("Public.Btn.Del"),onClick:()=>{L({title:"".concat(a("Site.TableOP.index_6")," [").concat(e.name,"]"),content:a("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await Pt({id:l.id,name:e.name}),c(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[s.value[1]],api:e=>Pt({id:l.id,name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=U(),c=async()=>{try{u(!0);const{message:e}=await $t({id:l.id});if(o(e)){n.data=[];for(const[t,a]of Object.entries(e))if(l.name===t){n.data=a;break}}}finally{i.value=[],u(!1)}},p=q(a("Site.Config.index_38"),{row:void 0,siteId:l.id,isEdit:!1,getList:c}),_=()=>{p.data.isEdit=!1,p.title=a("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=a("Site.Config.index_39"),p.show=!0};return c(),t({init:c}),(e,t)=>{const a=Ht,l=W,o=C,u=S,c=E,m=b;return ue(),ce("div",null,[ie(u,null,{toolsLeft:_e((()=>[ie(a,{type:"primary",onClick:_},{default:_e((()=>[xe(me(e.$t("Site.Config.index_38")),1)])),_:1})])),table:_e((()=>[ie(l,{"checked-row-keys":he(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>ve(i)?i.value=e:null),"row-key":"name",loading:he(r),"max-height":440,data:he(n).data,columns:he(s)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:_e((()=>[ie(o,{"checked-row-keys":he(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>ve(i)?i.value=e:null),"row-key":"name",data:he(n).data,options:d},null,8,["checked-row-keys","data"])])),_:1}),ie(c,{class:"mt-16px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.Config.index_40")),1),pe("li",null,me(e.$t("Site.Config.index_41")),1)])),_:1}),ie(m,{show:he(p).show,"onUpdate:show":t[2]||(t[2]=e=>he(p).show=e),title:he(p).title,data:he(p).data,width:480,footer:!0,component:gn},null,8,["show","title","data"])])}}}),bn={class:"p-20px"},Sn={class:"w-280px"},kn={class:"w-280px"},Cn={class:"w-280px"},Pn=de({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=ne(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,d=re(null),r=we({deny_name:"",suffix:"php|jsp",dir:""}),u={deny_name:{required:!0,message:a("Site.Placeholder.Index_4"),trigger:["blur","input"]},suffix:{required:!0,message:a("Site.Placeholder.Index_5"),trigger:["blur","input"]},dir:{required:!0,message:a("Site.Placeholder.Index_6"),trigger:["blur","input"]}},c=()=>({...Se(r),dir:r.dir.replace(/\/$/,"")+"/",website:n});return i&&s&&(r.deny_name=s.name,r.suffix=s.suffix,r.dir=s.dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate()),i?await Lt(c()):await Rt(c()),null==o||o(),e()}}),(e,t)=>{const a=Jt,l=Vt,n=ma,s=E;return ue(),ce("div",bn,[ie(n,{ref_key:"formRef",ref:d,model:he(r),rules:u},{default:_e((()=>[ie(l,{label:e.$t("Site.TableRow.index_2"),path:"deny_name"},{default:_e((()=>[pe("div",Sn,[ie(a,{value:he(r).deny_name,"onUpdate:value":t[0]||(t[0]=e=>he(r).deny_name=e),disabled:he(i),placeholder:e.$t("Site.Placeholder.Index_1")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.TableRow.index_18"),path:"suffix"},{default:_e((()=>[pe("div",kn,[ie(a,{value:he(r).suffix,"onUpdate:value":t[1]||(t[1]=e=>he(r).suffix=e),placeholder:e.$t("Site.Placeholder.Index_2")},null,8,["value","placeholder"])])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.TableRow.index_15"),path:"dir"},{default:_e((()=>[pe("div",Cn,[ie(a,{value:he(r).dir,"onUpdate:value":t[2]||(t[2]=e=>he(r).dir=e),placeholder:e.$t("Site.Placeholder.Index_3")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),ie(s,{class:"mt-4px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.PHP.index_72")),1),pe("li",null,me(e.$t("Site.PHP.index_73")),1),pe("li",null,me(e.$t("Site.PHP.index_74")),1),pe("li",null,me(e.$t("Site.PHP.index_75")),1),pe("li",null,me(e.$t("Site.PHP.index_76")),1)])),_:1})])}}}),$n=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{data:l}=El(),{keys:n,table:s,columns:o}=R([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:a("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:a("Site.TableRow.index_18"),ellipsis:{tooltip:{width:"trigger"}}},O({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{m(e)}},{label:a("Public.Btn.Del"),onClick:()=>{L({title:"".concat(a("Site.TableOP.index_6")," [").concat(e.name,"]"),content:a("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await Ut({website:l.name,deny_name:e.name}),c(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[o.value[1]],api:e=>Ut({website:l.name,deny_name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=U(),c=async()=>{try{u(!0);const{message:e}=await Wt({website:l.name});s.data=i(e)?e:[]}finally{n.value=[],u(!1)}},p=q(a("Site.Config.index_38"),{row:void 0,siteName:l.name,isEdit:!1,getList:c}),_=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=a("Site.Config.index_39"),p.show=!0};return c(),t({init:c}),(e,t)=>{const a=Ht,l=W,i=C,u=S,c=E,m=b;return ue(),ce("div",null,[ie(u,null,{toolsLeft:_e((()=>[ie(a,{type:"primary",onClick:_},{default:_e((()=>[xe(me(e.$t("Site.Config.index_38")),1)])),_:1})])),table:_e((()=>[ie(l,{"checked-row-keys":he(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>ve(n)?n.value=e:null),"row-key":"name",loading:he(r),"max-height":440,data:he(s).data,columns:he(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:_e((()=>[ie(i,{"checked-row-keys":he(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>ve(n)?n.value=e:null),"row-key":"name",data:he(s).data,options:d},null,8,["checked-row-keys","data"])])),_:1}),ie(c,{class:"mt-16px"},{default:_e((()=>[pe("li",null,me(e.$t("Site.Config.index_42"))+" |",1),pe("li",null,me(e.$t("Site.Config.index_43")),1),pe("li",null,me(e.$t("Site.Config.index_44")),1),pe("li",null,me(e.$t("Site.Config.index_45")),1)])),_:1}),ie(m,{show:he(p).show,"onUpdate:show":t[2]||(t[2]=e=>he(p).show=e),title:he(p).title,data:he(p).data,width:480,footer:!0,component:Pn},null,8,["show","title","data"])])}}}),Ln={class:"w-300px"},Rn={class:"w-300px"},Un={class:"w-300px"},Wn={class:"flex flex-col"},En=de({__name:"form",props:{site:{}},emits:["changeHotlink"],setup(e,{expose:t,emit:a}){const{t:l}=ne(),i=a,n=We(e,"site"),s=re(null),d=we({fix:"",domains:"",return_rule:"",status:!1,http_status:!1}),r={fix:{trigger:["blur","change"],validator:()=>""!==d.fix.trim()||new Error(l("Site.RulesError.index_330"))},return_rule:{trigger:["blur","change"],validator:()=>""!==d.return_rule.trim()||new Error(l("Site.RulesError.index_330"))}},u=()=>{p()},c=()=>{p()},p=async()=>{var e;await(null==(e=s.value)?void 0:e.validate()),await Et({id:n.value.id,name:n.value.name,fix:d.fix,domains:d.domains.trim().split("\n").join(","),return_rule:d.return_rule,status:d.status,http_status:d.http_status}),i("changeHotlink",d.status),_()},_=async()=>{const{message:e}=await Tt({id:n.value.id,name:n.value.name});o(e)&&(d.fix=e.fix,d.domains=e.domains.split(",").join("\n"),d.return_rule=e.return_rule,d.status=e.status,d.http_status="true"===e.http_status||!0===e.http_status)};return _(),t({init:_}),(e,t)=>{const a=Jt,l=Vt,i=Zt,n=Ht,o=ma,_=E;return ue(),ce("div",null,[ie(o,{ref_key:"formRef",ref:s,class:"px-8px",model:he(d),rules:r},{default:_e((()=>[ie(l,{label:e.$t("Site.Lable.index_6"),path:"fix"},{default:_e((()=>[pe("div",Ln,[ie(a,{value:he(d).fix,"onUpdate:value":t[0]||(t[0]=e=>he(d).fix=e),disabled:he(d).status,placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.Lable.index_7")},{default:_e((()=>[pe("div",Rn,[ie(a,{value:he(d).domains,"onUpdate:value":t[1]||(t[1]=e=>he(d).domains=e),type:"textarea",autosize:{minRows:6,maxRows:6},placeholder:""},null,8,["value"])])])),_:1},8,["label"]),ie(l,{label:e.$t("Site.Lable.index_13"),path:"return_rule"},{default:_e((()=>[pe("div",Un,[ie(a,{value:he(d).return_rule,"onUpdate:value":t[2]||(t[2]=e=>he(d).return_rule=e),disabled:he(d).status,placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),ie(l,{label:" "},{default:_e((()=>[pe("div",Wn,[ie(i,{checked:he(d).status,"onUpdate:checked":[t[3]||(t[3]=e=>he(d).status=e),u]},{default:_e((()=>[xe(me(e.$t("Site.Config.index_94")),1)])),_:1},8,["checked"]),ie(i,{checked:he(d).http_status,"onUpdate:checked":[t[4]||(t[4]=e=>he(d).http_status=e),c],class:"mt-16px"},{default:_e((()=>[xe(me(e.$t("Site.Config.index_95")),1)])),_:1},8,["checked"])])])),_:1}),ie(l,{label:" ","show-feedback":!1},{default:_e((()=>[ie(n,{type:"primary",onClick:p},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})])),_:1},8,["model"]),ie(_,{class:"mt-20px"},{default:_e((()=>[pe("li",null,[xe(me(e.$t("Site.Config.index_96")),1),t[5]||(t[5]=pe("br",null,null,-1)),xe(" "+me(e.$t("Site.Config.index_97")),1)]),pe("li",null,me(e.$t("Site.Config.index_98")),1),pe("li",null,me(e.$t("Site.Config.index_99")),1)])),_:1})])}}}),Tn={class:"pt-8px"},On=de({__name:"index",setup(e,{expose:t}){const{data:a}=El(),l=re();return t({init:async()=>{l.value.init()}}),(e,t)=>(ue(),ce("div",Tn,[ie(En,{ref_key:"formRef",ref:l,site:he(a)},null,8,["site"])]))}}),qn=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{config:l}=El(),i=re("access"),n=re(),s=[{key:"access",label:a("Site.Config.index_5"),component:yn},{key:"deny",label:a("Site.Config.index_14"),component:$n},{key:"hotlink",label:a("Site.Config.index_24"),component:On}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Ce((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=_a;return ue(),be(a,{value:he(i),"onUpdate:value":t[0]||(t[0]=e=>ve(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),jn=de({__name:"index",setup(e,{expose:t}){const{data:a}=El(),l=re("None"),{loading:i,setLoading:n}=U(),s=async()=>{try{n(!0);const{message:e}=await Ot({siteName:a.name});o(e)&&(l.value=w(e.result)?e.result:"None")}finally{n(!1)}};return s(),t({init:s}),(e,t)=>{const a=Sa,n=x;return ue(),be(n,{class:"h-560px",show:he(i)},{default:_e((()=>[ie(a,{log:he(l)},null,8,["log"])])),_:1},8,["show"])}}}),Bn=de({__name:"index",setup(e,{expose:t}){const{data:a}=El(),l=re("None"),{loading:i,setLoading:n}=U(),s=async()=>{try{n(!0);const{message:e}=await qt({siteName:a.name});o(e)&&(l.value=w(e.result)?e.result:"None")}finally{n(!1)}};return s(),t({init:s}),(e,t)=>{const a=Sa,n=x;return ue(),be(n,{class:"h-560px",show:he(i)},{default:_e((()=>[ie(a,{log:he(l)},null,8,["log"])])),_:1},8,["show"])}}}),Mn=de({__name:"logs",props:{data:{}},setup(e){const t=e,{type:a,path:l}=t.data,i=re(""),{loading:n,setLoading:s}=U();return(async()=>{try{s(!0);const{message:e}=await jt({type:a,path:l});o(e)&&(i.value=e.result)}finally{s(!1)}})(),(e,t)=>{const a=Sa,l=x;return ue(),be(l,{class:"w-650px h-550px bg-#282C34",show:he(n)},{default:_e((()=>[ie(a,{log:he(i)},null,8,["log"])])),_:1},8,["show"])}}}),Dn={class:"text-error"},In={class:"w-400px p-20px"},An={class:"mb-16px"},Nn=de({__name:"index",setup(e,{expose:t}){const a=d(),{t:i}=ne(),{data:s}=El(),r=$e((()=>{let e="";switch(a.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return"/www/wwwlogs/".concat(s.name).concat(e)})),u=$e((()=>{const e=r.value.split("/");return e[e.length-1]})),c=()=>{L({title:i("Site.Config.index_104"),content:"".concat(i("Site.Config.index_105")," [").concat(u.value,"] ").concat(i("Site.Config.index_106")),onConfirm:async({hide:e})=>{await Bt({path:r.value}),e(),m()}})},p=re(!1),_=re(0),m=async()=>{p.value=!0,h()},h=(e=0)=>{let t=setTimeout((async()=>{const{message:e}=await Mt({path:r.value});o(e)&&(_.value=e.result,_.value>=100?(n.success(i("Site.Config.index_107")),p.value=!1,_.value=0,y(),clearTimeout(t)):h(1e3))}),e)},v=e=>{P({title:"[".concat(e,"] ").concat(i("Site.Config.index_103")),data:{type:e,path:r.value},component:Mn})},{table:x,columns:w}=R([{key:"start_time",title:i("Site.Cert.index_68")},{key:"time",title:i("Site.DelSite.index_6"),render:e=>"".concat(e.time.substring(0,4)," s")},{key:"xss",title:i("Site.TableRow.index_4"),render:e=>e.xss>0?ie("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:i("Site.TableRow.index_5"),render:e=>e.sql>0?ie("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:i("Site.TableRow.index_6"),render:e=>e.san>0?ie("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:i("Site.TableRow.index_27"),render:e=>e.php>0?ie("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:i("Site.TableRow.index_7"),render:e=>e.ip>0?ie(l,{onClick:()=>{v("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:i("Site.TableRow.index_8"),render:e=>e.url>0?ie(l,{onClick:()=>{v("url")}},{default:()=>[e.url]}):e.url}]),{loading:f,setLoading:g}=U(),y=async()=>{try{g(!0);const{message:e}=await Dt({path:r.value});o(e)&&(x.data=[e])}finally{g(!1)}},k=()=>{y()};return k(),t({init:k}),(e,t)=>{const a=Ht,i=W,n=S,s=E,o=la,d=b;return ue(),ce("div",null,[ie(n,null,{toolsLeft:_e((()=>[ie(a,{type:"primary",onClick:c},{default:_e((()=>[xe(me(e.$t("Site.Config.index_104")),1)])),_:1})])),table:_e((()=>[ie(i,{loading:he(f),"loading-num":1,data:he(x).data,columns:he(w)},null,8,["loading","data","columns"])])),_:1}),ie(s,{class:"mt-16px"},{default:_e((()=>[pe("li",null,[xe(me(e.$t("Site.Config.index_108"))+" ",1),pe("span",Dn,me(e.$t("Site.Config.index_109")),1)]),pe("li",null,me(e.$t("Site.Config.index_110")),1),pe("li",null,me(e.$t("Site.Config.index_111")),1),pe("li",null,me(e.$t("Site.Config.index_112")),1),pe("li",null,[ie(l,{href:"https://www.aapanel.com/forum/d/3351-nginx-waf-instructions",target:"_blank"},{default:_e((()=>[xe(me(e.$t("Site.Config.index_113")),1)])),_:1}),xe(" "+me(e.$t("Site.Config.index_114")),1)])])),_:1}),ie(d,{show:he(p),"onUpdate:show":t[0]||(t[0]=e=>ve(p)?p.value=e:null)},{default:_e((()=>[pe("div",In,[pe("div",An,me(e.$t("Site.Config.index_115")),1),ie(o,{type:"line",status:"success",height:24,percentage:he(_),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])])),_:1},8,["show"])])}}}),Hn={class:"text-right mt-10px color-#333"},zn=de({__name:"index",setup(e,{expose:a}){const{data:l}=El(),i=re("None"),n=we({lines:50,total:0}),{loading:s,setLoading:d}=U(),r=async()=>{await u()},u=async()=>{try{d(!0);const{message:e}=await(e=>t.post("/site?action=get_wp_debug_log",e))({set_id:l.id,lines:n.lines});o(e)&&(i.value=e.last_lines.join("\n"),n.total=e.total)}finally{d(!1)}};return u(),a({init:u}),(e,t)=>{const a=Ht,l=E,o=zt,d=Sa,u=ia,c=na,p=x;return ue(),be(p,{class:"h-530px",show:he(s)},{default:_e((()=>[ie(o,{class:"items-center! mb-10px flex-nowrap!"},{default:_e((()=>[ie(a,{type:"primary",onClick:r},{default:_e((()=>[xe(me(e.$t("Public.Btn.Refresh")),1)])),_:1}),ie(l,null,{default:_e((()=>t[1]||(t[1]=[pe("li",null,"WP debug logs are obtained by default from/wp-content/debug.log, do not change the log path.",-1),pe("li",null,"Note: that debug logging can be enabled in the WordPress Setting Utils tab.",-1)]))),_:1,__:[1]})])),_:1}),ie(d,{log:he(i)},null,8,["log"]),pe("div",Hn,[t[4]||(t[4]=pe("span",null,"Last",-1)),ie(c,{value:he(n).lines,"onUpdate:value":[t[0]||(t[0]=e=>he(n).lines=e),r],class:"px-5px"},{default:_e((()=>[ie(u,{value:50},{default:_e((()=>t[2]||(t[2]=[xe(" 50 ")]))),_:1,__:[2]}),ie(u,{value:100},{default:_e((()=>t[3]||(t[3]=[xe(" 100 ")]))),_:1,__:[3]}),ie(u,{value:""},{default:_e((()=>[xe(me(e.$t("Public.All")),1)])),_:1})])),_:1},8,["value"]),xe(" "+me(e.$t("Home.index_57"))+" "+me(he(n).total),1)])])),_:1},8,["show"])}}}),Vn=de({__name:"index",setup(e,{expose:t}){const{t:a}=ne(),{config:l}=El(),i=re("access"),n=re(),s=[{key:"access",label:a("Site.Config.index_100"),component:jn},{key:"error",label:a("Site.Config.index_101"),component:Bn},{key:"security",label:a("Site.Config.index_102"),component:Nn},{key:"debug",label:"Debug Log",component:zn}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Ce((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=_a;return ue(),be(a,{value:he(i),"onUpdate:value":t[0]||(t[0]=e=>ve(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),Kn={class:"cert-info"},Fn={class:"cert-label"},Jn={class:"cert-value"},Xn={class:"cert-info"},Gn={class:"cert-label"},Qn={class:"cert-value"},Yn={class:"cert-info"},Zn={class:"cert-label"},es={class:"cert-value"},ts={class:"cert-info"},as={class:"cert-label"},ls={class:"cert-value"},is={key:0,class:"text-primary"},ns={key:1,class:"text-error"},ss={class:"cert-info"},os={class:"cert-label"},ds={class:"cert-value"},rs={class:"w-48%"},us={class:"mb-8px"},cs={class:"w-48%"},ps={class:"mb-8px"},_s=c(de({__name:"index",props:{info:{default:null},isRenew:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{expose:t,emit:i}){const s=le((()=>a((()=>import("./ssl-log.js?v=1753954525509")),__vite__mapDeps([54,41,2,3,1,4,5,6,7,8,42])))),r=e,u=i,{t:c}=ne(),{data:p}=El(),_=q(c("SSL.index_43")),m=d(),h=re(-1),v=re(!1),w=re(!1),g=re(""),y=re("");let S="";const k=re("");let C="";const P=re({issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),$=$e((()=>h.value===Ra.LetsEncryptDeploy?c("Site.Cert.index_65"):h.value===Ra.BusinessDeploy?c("Site.Cert.index_64"):h.value===Ra.TestDeploy?c("Site.Cert.index_38"):c("Site.Cert.index_37"))),R=$e((()=>!!k.value)),U=$e((()=>r.isRenew||h.value===Ra.LetsEncryptDeploy)),W=$e((()=>!1)),T=$e((()=>v.value)),O=async e=>{e?(await Ca({siteName:p.name}),u("refresh")):L({title:c("Site.Cert.index_12"),content:c("Site.Cert.index_13"),onConfirm:async()=>{await ka({siteName:p.name}),u("refresh")},onPublicClose:()=>{w.value=!0}})},j=()=>{""!==y.value.trim()&&""!==k.value.trim()?y.value!==S&&S||k.value!==C&&C?L({title:c("Site.Cert.index_10"),content:c("Site.Cert.index_11"),onConfirm:async()=>{await B()}}):B():n.error(c("Site.Cert.index_9"))},B=async()=>{const{message:e}=await M({key:y.value,cert:k.value});o(e)&&e.hash&&(await D({hash:e.hash,domains:JSON.stringify([p.name]),append:1}),n.success(c("SSL.index_32"))),H()},A=async()=>{var e;const{message:t}=await I({hash:(null==(e=r.info)?void 0:e.hash)||""});o(t)&&(_.data.path=t.result,_.show=!0)},N=async()=>{await Pa({updateOf:1,siteName:p.name}),H()},H=()=>{u("refresh"),m.setRefresh(!0)};return Ee((()=>{const{info:e}=r;e&&(h.value=e.type,v.value=e.status,w.value=e.httpTohttps,y.value=e.key||"",S=e.key||"",k.value=e.csr||"",C=e.csr||"",P.value=e.cert_data,g.value=e.index)})),t({init:u("refresh")}),(e,t)=>{const a=l,i=sa,n=oa,o=Ft,d=f,r=ta,u=Nt,c=zt,p=Ht,m=E,h=b,g=x;return ue(),be(g,{show:e.loading},{default:_e((()=>[he(R)?(ue(),be(r,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:_e((()=>[ie(d,{"x-gap":12,cols:"15"},{default:_e((()=>[ie(i,{span:"8"},{default:_e((()=>[pe("div",Kn,[pe("div",Fn,me(e.$t("Site.Cert.index_44"))+me(e.$t("Public.Punctuation.Colon")),1),pe("div",Jn,[ie(a,null,{default:_e((()=>[xe(me(he($)),1)])),_:1})])])])),_:1}),ie(i,{span:"7"},{default:_e((()=>[pe("div",Xn,[pe("div",Gn,me(e.$t("Site.Cert.index_45"))+me(e.$t("Public.Punctuation.Colon")),1),pe("div",Qn,[ie(n,null,{default:_e((()=>[xe(me(he(P).issuer),1)])),_:1})])])])),_:1}),ie(i,{span:"8"},{default:_e((()=>[pe("div",Yn,[pe("div",Zn,me(e.$t("Site.Cert.index_46"))+me(e.$t("Public.Punctuation.Colon")),1),pe("div",es,[ie(n,null,{default:_e((()=>[xe(me(he(P).dns.join(e.$t("Public.Punctuation.Comma"))),1)])),_:1})])])])),_:1}),ie(i,{span:"7"},{default:_e((()=>[pe("div",ts,[pe("div",as,me(e.$t("Site.Cert.index_47"))+me(e.$t("Public.Punctuation.Colon")),1),pe("div",ls,[he(P).endtime>0?(ue(),ce("span",is,me(e.$t("Site.Cert.index_48",{date:he(P).notAfter,days:he(P).endtime})),1)):(ue(),ce("span",ns,me(e.$t("Site.Cert.index_47")),1))])])])),_:1}),ie(i,{span:"8"},{default:_e((()=>[pe("div",ss,[pe("div",os,me(e.$t("Site.Cert.index_49"))+me(e.$t("Public.Punctuation.Colon")),1),pe("div",ds,[ie(o,{value:he(w),"onUpdate:value":[t[0]||(t[0]=e=>ve(w)?w.value=e:null),O],size:"small"},null,8,["value"])])])])),_:1})])),_:1})])),_:1})):ge("",!0),ie(c,{class:"mb-16px",size:10,justify:"space-between"},{default:_e((()=>[pe("div",rs,[pe("div",us,me(e.$t("Site.Cert.index_50")),1),ie(u,{value:he(y),"onUpdate:value":t[1]||(t[1]=e=>ve(y)?y.value=e:null),rows:10},null,8,["value"])]),pe("div",cs,[pe("div",ps,me(e.$t("Site.Cert.index_51")),1),ie(u,{value:he(k),"onUpdate:value":t[2]||(t[2]=e=>ve(k)?k.value=e:null),rows:10},null,8,["value"])])])),_:1}),ie(c,{class:"mb-12px"},{default:_e((()=>[ie(p,{type:"primary",onClick:j},{default:_e((()=>[xe(me(he(v)?e.$t("Public.Btn.Save"):e.$t("Site.Cert.index_52")),1)])),_:1}),he(U)?(ue(),be(p,{key:0,type:"primary",onClick:A},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_53")),1)])),_:1})):ge("",!0),he(W)?(ue(),be(p,{key:1},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_54")),1)])),_:1})):ge("",!0),he(T)?(ue(),be(p,{key:2,onClick:N},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_55")),1)])),_:1})):ge("",!0)])),_:1}),ie(m,null,{default:_e((()=>[pe("li",null,me(e.$t("Site.Cert.index_33")),1),pe("li",null,me(e.$t("Site.Cert.index_34")),1),pe("li",null,me(e.$t("Site.Cert.index_35")),1),pe("li",null,me(e.$t("Site.Cert.index_36")),1)])),_:1}),ie(h,{show:he(_).show,"onUpdate:show":t[3]||(t[3]=e=>he(_).show=e),title:he(_).title,data:he(_).data,width:650,"min-height":450,component:he(s)},null,8,["show","title","data","component"])])),_:1},8,["show"])}}}),[["__scopeId","data-v-5b421d8b"]]),ms={class:"flex flex-wrap bg-#dff0d8 border-#d6e9c6 border-1px rounded-5px p-12px"},hs={class:"text-#3c763d w-100%"},vs=de({__name:"top-tips",setup(e){const{t:t}=ne(),a=[t("SSL.SiteSSL.index_5"),t("SSL.SiteSSL.index_6"),t("SSL.SiteSSL.index_7"),t("SSL.SiteSSL.index_8"),t("SSL.SiteSSL.index_9"),t("SSL.SiteSSL.index_10"),t("SSL.SiteSSL.index_11")];return(e,t)=>{const l=v,i=zt;return ue(),ce("div",ms,[(ue(),ce(fe,null,ke(a,((e,t)=>ie(i,{size:5,key:e,class:Te(["flex-nowrap! leading-20px",{"w-33%":t!==a.length-1}])},{default:_e((()=>[ie(l,{name:"base-tick",size:16,color:"#ff8d00"}),pe("span",hs,me(e),1)])),_:2},1032,["class"]))),64))])}}}),xs={class:"my-10px"},ws=de({__name:"table",setup(e){const t=le((()=>a((()=>import("./index204.js?v=1753954525509")),__vite__mapDeps([55,16,2,3,5,6,1,4,8,7,17,32,23,56])))),l=le((()=>a((()=>import("./index205.js?v=1753954525509")),__vite__mapDeps([57,26,2,3,4,5,1,6,7,8,27,58])))),i=le((()=>a((()=>import("./domain-verification.js?v=1753954525509")),__vite__mapDeps([59,1,2,3,4,5,6,7,8,32])))),n=p(),{userInfo:s}=Le(n),r=d(),{t:u}=ne(),c=we({p:1,limit:9999}),_=q(u("SSL.Business.index_41"),{onRefresh:(e,t)=>{v.data.request=!0,v.data.uc_id=t,v.data.verify=e,v.show=!0,g()}}),m=q(u("SSL.index_44")),h=q(u("SSL.index_49"),{onRefresh:()=>{g(),r.setRefresh(!0)}}),v=q(u("SSL.Business.index_42"),{onRefresh:()=>{g()}}),{table:x,columns:w}=R([{key:"verify_domains",title:u("Layout.Sider.mail_3"),render:e=>ie("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:u("Site.Cert.index_44"),render:e=>e.order_info.title,ellipsis:{tooltip:!0}},Ua({title:u("SSL.index_54")}),{key:"order_status",title:u("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?ie("span",{class:"color-warning"},[xe(" "),u("SSL.Business.index_45"),xe(" ")]):"PENDING"===t.order_status&&1===t.status?ie("span",{class:"color-warning"},[xe(" "),u("SSL.Business.index_46"),xe(" ")]):"COMPLETE"===t.order_status&&1===t.status?ie("span",{class:"color-#20a53a"},[xe(" "),u("SSL.Business.index_47"),xe(" ")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?ie("span",{class:"color-warning"},[xe(" "),u("SSL.Business.index_48"),xe(" ")]):"FAILED"===t.order_status&&1===t.status?ie("span",{class:"color-error"},[xe(" "),u("SSL.Business.index_49"),xe(" ")]):"EXPIRED"===t.order_status&&1===t.status?ie("span",{class:"color-warning"},[xe(" "),u("SSL.Business.index_50"),xe(" ")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?ie("span",{class:"color-warning"},[xe(" "),u("SSL.Business.index_52"),xe(" ")]):void 0:ie("span",{class:"color-warning"},[xe(" "),u("SSL.Business.index_51"),xe(" ")]):ie("span",{class:"color-warning cursor-pointer",onClick:()=>f(e)},[" ",u("SSL.Business.index_44")," "])}},O({width:140,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:u("SSL.Business.index_53"),onClick:()=>{f(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:u("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await A({uc_id:e.order_info.uc_id});o(t)&&(v.data.uc_id=e.order_info.uc_id,v.data.verify=t.data,v.data.paths=t.paths,v.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:u("SSL.index_58"),onClick:async()=>{h.data.row=e,h.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:u("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:u("Public.Btn.Del"),onClick:()=>{L({title:u("SSL.index_59"),content:u("SSL.index_60"),onConfirm:async()=>{await N({hash:e.hash}),g()}})}}]})]),f=e=>{_.data.row=e,_.show=!0},g=async()=>{try{x.loading=!0;const{message:e}=await H(c);o(e)&&(x.data=e.data,x.total=e.total)}finally{x.loading=!1}};return s.value.status&&g(),(e,a)=>{const n=Ht,o=W,d=S,r=b,c=y;return ue(),ce("div",xs,[ie(c,{install:he(s).status},{desc:_e((()=>[a[5]||(a[5]=pe("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),ie(n,{type:"primary",onClick:he(z)},{default:_e((()=>[xe(me(e.$t("Login.index_3")),1)])),_:1},8,["onClick"])])),default:_e((()=>[ie(d,null,{toolsLeft:_e((()=>[ie(n,{type:"primary",onClick:a[0]||(a[0]=e=>he(m).show=!0)},{default:_e((()=>[xe(me(he(u)("SSL.index_44")),1)])),_:1})])),table:_e((()=>[ie(o,{loading:he(x).loading,data:he(x).data,columns:he(w),"max-height":220},null,8,["loading","data","columns"])])),_:1}),ie(r,{show:he(m).show,"onUpdate:show":a[1]||(a[1]=e=>he(m).show=e),title:he(m).title,data:he(m).data,"min-height":250,component:Wa},null,8,["show","title","data"]),ie(r,{show:he(_).show,"onUpdate:show":a[2]||(a[2]=e=>he(_).show=e),title:he(_).title,data:he(_).data,width:650,"min-height":450,component:he(t)},null,8,["show","title","data","component"]),ie(r,{show:he(h).show,"onUpdate:show":a[3]||(a[3]=e=>he(h).show=e),title:he(h).title,data:he(h).data,width:720,height:530,component:he(l)},null,8,["show","title","data","component"]),ie(r,{show:he(v).show,"onUpdate:show":a[4]||(a[4]=e=>he(v).show=e),title:he(v).title,data:he(v).data,width:650,"min-height":450,component:he(i)},null,8,["show","title","data","component"])])),_:1},8,["install"])])}}}),fs={class:"text-error"};const gs=c({},[["render",function(e,t){const a=l,i=E;return ue(),be(i,null,{default:_e((()=>[pe("li",fs,me(e.$t("SSL.SiteSSL.index_1")),1),pe("li",null,me(e.$t("SSL.SiteSSL.index_2")),1),pe("li",null,me(e.$t("SSL.SiteSSL.index_3")),1),pe("li",null,[xe(me(e.$t("SSL.SiteSSL.index_4"))+" ",1),ie(a,{href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html",target:"_blank"},{default:_e((()=>[xe(me(e.$t("SSL.Business.index_20")),1)])),_:1})])])),_:1})}]]),ys=de({__name:"index",setup:e=>(e,t)=>(ue(),ce("div",null,[ie(vs),ie(ws),ie(gs)]))}),bs={class:"cert-info"},Ss={class:"cert-label"},ks={class:"cert-value"},Cs={class:"cert-info"},Ps={class:"cert-label"},$s={class:"cert-value"},Ls={class:"cert-info"},Rs={class:"cert-label"},Us={class:"cert-value"},Ws={class:"cert-info"},Es={class:"cert-label"},Ts={class:"cert-value"},Os={key:0,class:"text-primary"},qs={key:1,class:"text-error"},js={class:"w-48%"},Bs={class:"mb-8px"},Ms={class:"w-48%"},Ds={class:"mb-8px"},Is=c(de({__name:"cert",emits:["update"],setup(e,{emit:t}){const l=le((()=>a((()=>import("./ssl-log.js?v=1753954525509")),__vite__mapDeps([54,41,2,3,1,4,5,6,7,8,42])))),i=t,{t:n}=ne(),{data:s}=El(),r=q(n("SSL.index_43")),u=d(),c=re(!1),p=re(1),_=re(""),m=re(""),h=we({hash:"",issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),v=async()=>{const{message:e}=await I({hash:h.hash});o(e)&&(r.data.path=e.result,r.show=!0)},w=async()=>{await Pa({updateOf:1,siteName:s.name}),i("update"),u.setRefresh(!0)},{loading:g,setLoading:y}=U();return(async()=>{try{y(!0);const{message:e}=await $a({siteName:s.name});o(e)&&(c.value=e.status,h.hash=e.hash,h.issuer=e.cert_data.issuer,h.notAfter=e.cert_data.notAfter,h.notBefore=e.cert_data.notBefore,h.dns=e.cert_data.dns,h.subject=e.cert_data.subject,h.endtime=e.cert_data.endtime,_.value=e.key,m.value=e.csr,p.value=e.auto_renew)}finally{y(!1)}})(),(e,t)=>{const a=sa,i=oa,n=f,s=ta,o=Nt,d=zt,u=Ht,c=E,y=b,S=x;return ue(),be(S,{show:he(g)},{default:_e((()=>[ie(s,{class:"mb-16px",type:"success","show-icon":!1},{default:_e((()=>[ie(n,{"x-gap":12,cols:"15"},{default:_e((()=>[he(p)?(ue(),be(a,{key:0,span:"16"},{default:_e((()=>[pe("div",bs,[pe("div",Ss,me(e.$t("SSL.SiteSSL.index_22"))+"： ",1),pe("div",ks,me(e.$t("SSL.SiteSSL.index_23")),1)])])),_:1})):ge("",!0),ie(a,{span:"7"},{default:_e((()=>[pe("div",Cs,[pe("div",Ps,me(e.$t("Site.Cert.index_45"))+"： ",1),pe("div",$s,[ie(i,null,{default:_e((()=>[xe(me(he(h).issuer),1)])),_:1})])])])),_:1}),ie(a,{span:"8"},{default:_e((()=>[pe("div",Ls,[pe("div",Rs,me(e.$t("Site.Cert.index_46"))+"： ",1),pe("div",Us,[ie(i,null,{default:_e((()=>[xe(me(he(h).dns.join(e.$t("Public.Punctuation.Comma"))),1)])),_:1})])])])),_:1}),ie(a,{span:"7"},{default:_e((()=>[pe("div",Ws,[pe("div",Es,me(e.$t("Site.Cert.index_47"))+me(e.$t("Public.Punctuation.Colon")),1),pe("div",Ts,[he(h).endtime>0?(ue(),ce("span",Os,me(e.$t("Site.Cert.index_48",{date:he(h).notAfter,days:he(h).endtime})),1)):(ue(),ce("span",qs,me(e.$t("Site.Cert.index_47")),1))])])])),_:1})])),_:1})])),_:1}),ie(d,{class:"mb-16px",size:10,justify:"space-between"},{default:_e((()=>[pe("div",js,[pe("div",Bs,me(e.$t("Site.Cert.index_50")),1),ie(o,{readonly:"",value:he(_),"onUpdate:value":t[0]||(t[0]=e=>ve(_)?_.value=e:null),rows:14},null,8,["value"])]),pe("div",Ms,[pe("div",Ds,me(e.$t("Site.Cert.index_51")),1),ie(o,{readonly:"",value:he(m),"onUpdate:value":t[1]||(t[1]=e=>ve(m)?m.value=e:null),rows:14},null,8,["value"])])])),_:1}),ie(d,{class:"mb-12px"},{default:_e((()=>[ie(u,{type:"primary",onClick:v},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_53")),1)])),_:1}),ie(u,{onClick:w},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_55")),1)])),_:1})])),_:1}),ie(c,null,{default:_e((()=>[pe("li",null,me(e.$t("SSL.SiteSSL.index_24")),1),pe("li",null,me(e.$t("SSL.SiteSSL.index_25")),1)])),_:1}),ie(y,{show:he(r).show,"onUpdate:show":t[2]||(t[2]=e=>he(r).show=e),title:he(r).title,data:he(r).data,width:650,"min-height":450,component:he(l)},null,8,["show","title","data","component"])])),_:1},8,["show"])}}}),[["__scopeId","data-v-7a84f263"]]),As={class:"flex items-center"},Ns={class:"leading-17px"},Hs={class:"w-full"},zs={class:"w-full"},Vs={class:"text-error"},Ks=de({__name:"apply",emits:["update"],setup(e,{emit:t}){const a=Oe(),{t:l}=ne(),{data:s}=El(),r=d(),c=t,p=we({auth_type:"http",dns_manual:0,auto_wildcard:0,domains:[],all:!1}),_={domains:{required:!0,trigger:"change",type:"array",message:l("SSL.SiteSSL.index_16")}},m=re(null),h=re([]),w=e=>{var t;return null==(t=h.value.find((t=>t.name===e)))?void 0:t.auto},f=()=>{a.push("/ssl_domain/domain")},g=$e((()=>p.domains.length>0&&p.domains.length<h.value.length));qe((()=>p.domains),(e=>{e.length===h.value.length?p.all=!0:e.length||(p.all=!1)})),qe((()=>p.all),(e=>{var t;e?(p.domains=h.value.map((e=>e.name)),null==(t=m.value)||t.validate()):p.domains=[]})),qe((()=>p.auth_type),(e=>{var t;"dns"===e?(p.domains=h.value.filter((e=>e.auto)).map((e=>e.name)),null==(t=m.value)||t.validate()):p.domains=[]}));const y=$e((()=>p.domains.filter((e=>!w(e))))),b=async()=>{var e;if(await(null==(e=m.value)?void 0:e.validate()),"dns"===p.auth_type&&y.value.length&&!p.dns_manual)return void n.error({content:()=>je("span",{innerHTML:"".concat(y.value.join("<br/>")).concat(l("SSL.SiteSSL.index_14"))})});let t={auth_type:p.dns_manual?"dns_manual":p.auth_type,auto_wildcard:p.auto_wildcard,domains:JSON.stringify(p.domains),site_id:p.dns_manual?s.id:void 0,deploy:p.dns_manual?0:1};if(p.dns_manual&&"dns"===p.auth_type){const{message:e}=await V({site_id:s.id,domains:JSON.stringify(p.domains)});if(o(e)&&Object.keys(e).length)return void K(e.auths,s.id,p.domains,(()=>{c("update"),r.setRefresh(!0)}),!0);const a=P({width:500,height:300,hideClose:!0,component:F});try{const{message:e}=await J(t,!1);o(e)&&(e.deploy?(n.success(e.result||l("SSL.index_32")),c("update"),r.setRefresh(!0)):Array.isArray(e.auths)&&e.auths.length&&K(e.auths,s.id,p.domains,(()=>{c("update"),r.setRefresh(!0)})))}catch(i){X(Xt(i,"message",""))}finally{a.hide()}return}const{message:a}=await J(t);o(a)&&P({hideClose:!0,data:{isJump:!1,task_id:a.task_id,onFinish:()=>{c("update"),r.setRefresh(!0)}},component:Ea})},{loading:S,setLoading:k}=U();return ye((()=>{(async()=>{try{k(!0);const{message:e}=await ze({id:s.id});if(i(e)){const t=e.map((async e=>{const{message:t}=await G({domain:e.name});o(t)&&h.value.push({name:e.name,auto:!!t.hash})}));await Promise.all(t)}}finally{k(!1)}})()})),(e,t)=>{const a=v,l=ta,i=da,n=u,s=na,o=Vt,d=Zt,r=zt,c=ea,k=ra,C=x,P=Ht,$=ma,L=E;return ue(),ce("div",null,[Re(ie(l,{"show-icon":!1,class:"mb-10px"},{default:_e((()=>[pe("div",As,[ie(a,{name:"base-info",size:"17",class:"mr-8px"}),pe("span",Ns,me(e.$t("SSL.SiteSSL.index_12")),1)])])),_:1},512),[[Ue,"dns"===he(p).auth_type]]),ie($,{ref_key:"formRef",ref:m,model:he(p),rules:_,"label-width":"140"},{default:_e((()=>[ie(o,{label:e.$t("Config.Safe.Ssl.index_2")},{default:_e((()=>[ie(s,{value:he(p).auth_type,"onUpdate:value":t[0]||(t[0]=e=>he(p).auth_type=e)},{default:_e((()=>[ie(n,null,{default:_e((()=>[ie(i,{value:"http"},{default:_e((()=>[xe(me(e.$t("SSL.SiteSSL.index_17")),1)])),_:1}),ie(i,{value:"dns"},{default:_e((()=>[xe(me(e.$t("SSL.index_12"))+" (Wildcard support) ",1)])),_:1})])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),Re(ie(o,{label:" ","show-feedback":!1},{default:_e((()=>[ie(d,{checked:he(p).dns_manual,"onUpdate:checked":t[1]||(t[1]=e=>he(p).dns_manual=e),"checked-value":1,"unchecked-value":0},{default:_e((()=>[xe(me(e.$t("SSL.index_2")),1)])),_:1},8,["checked"])])),_:1},512),[[Ue,"dns"===he(p).auth_type]]),Re(ie(o,{label:" "},{default:_e((()=>[ie(d,{checked:he(p).auto_wildcard,"onUpdate:checked":t[2]||(t[2]=e=>he(p).auto_wildcard=e),"checked-value":1,"unchecked-value":0},{default:_e((()=>[xe(me(e.$t("SSL.SiteSSL.index_20")),1)])),_:1},8,["checked"])])),_:1},512),[[Ue,"dns"===he(p).auth_type]]),ie(o,{label:e.$t("Mail.Domain.index_3"),path:"domains"},{default:_e((()=>[ie(C,{show:he(S),class:"p-12px w-300px max-h-300px min-h-100px overflow-auto border border-solid border-#ccc"},{default:_e((()=>[ie(d,{class:"mb-12px",checked:he(p).all,"onUpdate:checked":t[3]||(t[3]=e=>he(p).all=e),label:e.$t("Public.SelectAll"),indeterminate:he(g)},null,8,["checked","label","indeterminate"]),he(h).length?(ue(),be(c,{key:0,value:he(p).domains,"onUpdate:value":t[4]||(t[4]=e=>he(p).domains=e)},{default:_e((()=>[ie(r,{class:"flex-col!",size:12},{default:_e((()=>[(ue(!0),ce(fe,null,ke(he(h),(e=>(ue(),be(d,{key:e.name,value:e.name,label:e.name},null,8,["value","label"])))),128))])),_:1})])),_:1},8,["value"])):(ue(),be(k,{key:1,description:"No domain name"}))])),_:1},8,["show"])])),_:1},8,["label"]),Re(ie(o,{label:" "},{default:_e((()=>[ie(l,{"show-icon":!1,type:he(y).length?"warning":"success"},{default:_e((()=>[(ue(!0),ce(fe,null,ke(he(p).domains,(t=>(ue(),be(r,{key:t},{default:_e((()=>[w(t)?(ue(),be(r,{key:0,class:"flex-nowrap! py-3px"},{default:_e((()=>[ie(a,{name:"base-success",size:"17",color:"#20a53a"}),pe("span",Hs,"["+me(t)+"] "+me(e.$t("SSL.SiteSSL.index_13")),1)])),_:2},1024)):(ue(),be(r,{key:1,class:"flex-nowrap! py-3px items-center!"},{default:_e((()=>[ie(a,{name:"base-error",size:"17",color:"#E85445"}),pe("span",zs,"["+me(t)+"] "+me(e.$t("SSL.SiteSSL.index_14")),1),ie(P,{type:"primary",size:"tiny",onClick:f},{default:_e((()=>[xe(me(e.$t("SSL.SiteSSL.index_21")),1)])),_:1})])),_:2},1024))])),_:2},1024)))),128))])),_:1},8,["type"])])),_:1},512),[[Ue,"dns"===he(p).auth_type&&he(p).domains.length&&!he(p).dns_manual]]),ie(o,{label:" "},{default:_e((()=>[ie(P,{type:"primary",onClick:b},{default:_e((()=>[xe(me(e.$t("Public.Btn.Apply")),1)])),_:1})])),_:1})])),_:1},8,["model"]),Re(ie(L,{class:"mt-16px"},{default:_e((()=>[pe("li",Vs,me(e.$t("SSL.SiteSSL.index_15")),1),pe("li",null,me(e.$t("Site.Cert.index_21")),1),pe("li",null,me(e.$t("Site.Cert.index_23")),1),pe("li",null,me(e.$t("Site.Cert.index_24")),1)])),_:1},512),[[Ue,"http"===he(p).auth_type]]),Re(ie(L,{class:"mt-24px"},{default:_e((()=>[t[5]||(t[5]=pe("li",null,"Manually resolved certificates do not support auto-renewal",-1)),pe("li",null,me(e.$t("Site.Cert.index_25")),1),pe("li",null,me(e.$t("Site.Cert.index_26")),1),pe("li",null,me(e.$t("Site.Cert.index_27")),1),pe("li",null,me(e.$t("Site.Cert.index_28")),1)])),_:1,__:[5]},512),[[Ue,"dns"===he(p).auth_type]])])}}}),Fs=de({__name:"index",props:{isOpen:{type:Boolean},type:{},onRefresh:{type:Function}},setup(e){const t=e,a=()=>{t.onRefresh()};return(e,l)=>(ue(),ce("div",null,[t.isOpen&&"Let's Encrypt"===t.type?(ue(),be(Is,{key:0,onUpdate:a})):(ue(),be(Ks,{key:1,onUpdate:a}))]))}}),Js=de({__name:"index",props:{onMenuChange:{type:Function}},setup(e,{expose:t}){const{data:a}=El(),{t:l}=ne(),i=we({p:1,limit:99999}),{columns:s,table:d}=R([{key:"domain",title:l("Site.Cert.index_29"),render:e=>ie("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},Ua({title:l("SSL.index_54"),width:140}),{key:"issuer",title:l("Site.Cert.index_30"),ellipsis:{tooltip:!0}},O({width:150,options:t=>[{label:l("Public.Btn.Deploy"),onClick:async()=>{try{await D({hash:t.hash,domains:JSON.stringify([a.name]),append:1}),n.success(l("SSL.index_32")),setTimeout((()=>{e.onMenuChange()}),500)}catch(i){console.log(i)}}},{show:"Let's Encrypt"===t.provider,label:l("Public.Btn.Del"),onClick:()=>{(e=>{Q({title:l("Site.Cert.index_31"),content:l("Site.Cert.index_32"),onConfirm:async()=>{await N({hash:e.hash}),c()}})})(t)}}]})]),{loading:r,setLoading:u}=U(!0),c=async()=>{try{u(!0);const{message:e}=await Y(i);o(e)&&(d.data=e.data)}finally{u(!1)}};return c(),t({init:c}),(e,t)=>{const a=W;return ue(),ce("div",null,[ie(a,{loading:he(r),columns:he(s),data:he(d).data,"max-height":510},null,8,["loading","columns","data"])])}}}),Xs={class:"mr-12px"},Gs={key:0,class:"mr-12px"},Qs={key:1,class:"mr-12px"},Ys=de({__name:"index",setup(e,{expose:t}){const l=le((()=>a((()=>import("./ssl-log.js?v=1753954525509")),__vite__mapDeps([54,41,2,3,1,4,5,6,7,8,42])))),i=d(),{data:n}=El(),{t:s}=ne(),r=re("current"),u=re(""),c=q(s("SSL.index_43")),p=re(Ra.NotDeploy),_=re(""),m=re(!1),h=re(0),v=re(!1),x=re(""),w=async()=>{const{message:e}=await I({hash:u.value});o(e)&&(c.data.path=e.result,c.show=!0)},f=e=>{y.value[0].data&&(y.value[0].data.loading=e)},g=async()=>{try{f(!0);const{message:a}=await La({siteName:n.name});o(a)&&(p.value=a.type,m.value=a.status,h.value=Xt(a,"cert_data.endtime",0),x.value=a.cert_data.issuer_O,v.value=(()=>{let e=!1;return h.value<=30&&(e=!0),p.value===Ra.TestDeploy&&h.value<0&&(e=!0),p.value!==Ra.SaveOrHolderDeploy&&p.value!==Ra.NotDeploy||(e=!1),e})(),_.value=a.cert_data.dns.join(","),u.value=a.hash,t=a,y.value[0].data&&(y.value[0].data.info=t),e=v.value,y.value[0].data&&(y.value[0].data.isRenew=e))}catch(a){m.value=!1,v.value=!1}finally{f(!1)}var e,t},y=re([{key:"current",label:()=>ie("div",null,[ie("span",null,[xe("Current Certs - ")]),ie("span",{class:m.value?"text-#1d9534":"text-red-500"},[xe("["),m.value?"Deployed":"Not Deployed",xe("]")])]),data:{info:null,isRenew:!1,loading:!0,onRefresh:g},component:Be(_s)},{key:"business",label:s("Site.Cert.index_64"),component:Be(ys)},{key:"let",label:s("Site.Cert.index_65"),data:{isOpen:$e((()=>m.value)),type:$e((()=>x.value)),onRefresh:g},component:Be(Fs)},{key:"holder",label:s("Site.Cert.index_66"),component:Be(Js),data:{onMenuChange:()=>{r.value="current",g(),i.setRefresh(!0)}}}]);return t({init:()=>{g()}}),(e,t)=>{const a=Ht,i=ta,n=_a,s=b;return ue(),ce("div",null,[he(m)?ge("",!0):(ue(),be(i,{key:0,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:_e((()=>[pe("span",Xs,me(e.$t("Site.Cert.index_41")),1),ie(a,{size:"tiny",type:"primary",onClick:t[0]||(t[0]=e=>r.value="business")},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_43")),1)])),_:1})])),_:1})),he(m)&&he(v)?(ue(),be(i,{key:1,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:_e((()=>[he(h)>0?(ue(),ce("span",Gs,me(e.$t("SSL.SiteSSL.index_26",[he(_),he(h)])),1)):(ue(),ce("span",Qs,me(e.$t("SSL.SiteSSL.index_19",[he(_)])),1)),ie(a,{size:"tiny",type:"primary",onClick:w},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_53")),1)])),_:1})])),_:1})):ge("",!0),ie(n,{value:he(r),"onUpdate:value":t[1]||(t[1]=e=>ve(r)?r.value=e:null),options:he(y)},null,8,["value","options"]),ie(s,{show:he(c).show,"onUpdate:show":t[2]||(t[2]=e=>he(c).show=e),title:he(c).title,data:he(c).data,width:650,"min-height":450,component:he(l)},null,8,["show","title","data","component"])])}}}),Zs=de({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:t}=ne(),a=d(),{siteName:l}=Le(a),i=e,{siteInfo:n,config:s}=i;l.value=i.siteInfo.name;const o=re();n&&se(Wl,{data:n,config:s});const r=re("domain"),u=[{key:"domain",label:t("Site.Config.index_1"),component:Ml},{key:"wordpress",label:t("Site.Config.index_2"),component:mn},{key:"security",label:t("Site.Config.index_13"),component:qn},{key:"config",label:t("Site.Config.index_10"),component:Bi},{key:"ssl",label:()=>ie(fe,null,[t("Site.Config.index_11")]),component:Ys},{key:"php",label:t("Site.Lable.index_22"),component:Yi},{key:"logs",label:t("Site.Config.index_25"),component:Vn}];return r.value=s.menu||"domain",s.menu="",ye((()=>{window.siteConfigInit=o.value.init})),(e,t)=>{const a=At;return ue(),be(a,{value:he(r),"onUpdate:value":t[0]||(t[0]=e=>ve(r)?r.value=e:null),ref_key:"tabsRef",ref:o,data:u},null,8,["value"])}}}),eo={class:"pt-50px pb-40px"},to={class:"mb-24px text-center text-22px font-bold"},ao={class:"mb-16px"},lo={class:"ul-style"},io={class:"ml-4px"},no={class:"ml-4px"},so={class:"ml-4px"},oo={class:"ml-4px"},ro={class:"text-center text-14px color-desc"},uo={class:"text-center my-24px"},co={class:"flex justify-center"},po=c(de({__name:"transition",setup(e){const t=()=>{z()};return(e,a)=>{const l=v,i=Ht,n=ua;return ue(),ce("div",eo,[pe("div",to,me(e.$t("WP.Transition.index_1")),1),pe("div",ao,[pe("ul",lo,[pe("li",null,[ie(l,{name:"wp-install",size:"22"}),pe("span",io,me(e.$t("WP.Transition.index_2")),1)]),pe("li",null,[ie(l,{name:"wp-safe",size:"22"}),pe("span",no,me(e.$t("WP.Transition.index_3")),1)]),pe("li",null,[ie(l,{name:"wp-backup",size:"22"}),pe("span",so,me(e.$t("WP.Transition.index_4")),1)]),pe("li",null,[ie(l,{name:"wp-cache",size:"22"}),pe("span",oo,me(e.$t("WP.Transition.index_5")),1)])])]),pe("div",ro,me(e.$t("WP.Transition.index_6")),1),pe("div",uo,[ie(i,{type:"primary",class:"h-36px text-14px",onClick:t},{default:_e((()=>[xe(me(e.$t("WP.Transition.index_8")),1)])),_:1})]),pe("div",co,[ie(n,{class:"justify-center",width:"50%",src:he("/static/vite/images/preview.png")},null,8,["src"])])])}}}),[["__scopeId","data-v-0744d9b2"]]),_o={class:"p-20px"},mo={class:"flex-1"},ho={class:"mt-12px"},vo={class:"px-20px pt-24px pb-8px"},xo={class:"w-150px"},wo=de({__name:"set",props:{data:{}},setup(e){const{t:a}=ne(),l=e,{setOptions:s}=l.data,o=re(""),d=async()=>{const e=o.value.trim();var l;""!==e?(await(l={name:e},t.post("/site?action=add_wp_site_type",l,{requestOptions:{loading:Oa("Login.index_22"),successMessage:!0}})),o.value="",await v(),s()):n.error(a("Site.PHP.index_46"))},r=q(),u=re(null),c=we({id:-1,name:""}),p={name:{required:!0,message:a("Site.PHP.index_46"),trigger:["blur","change"]}},_=async({hide:e})=>{var a,l;await(null==(a=u.value)?void 0:a.validate()),await(l=Se(c),t.post("/site?action=edit_wp_site_type",l,{requestOptions:{loading:Oa("Login.index_22"),successMessage:!0}})),await v(),s(),e()},{table:m,columns:h}=R([{key:"name",title:"Name"},O({width:120,options:e=>[{label:a("Public.Btn.Edit"),disabled:1===e.id,onClick:()=>{(e=>{c.id=e.id,c.name=e.name,r.title="".concat(a("Site.PHP.index_48")," [").concat(e.name,"]"),r.show=!0})(e)}},{label:a("Public.Btn.Delete"),disabled:1===e.id,onClick:()=>{L({title:"".concat(a("Site.PHP.index_49")," [").concat(e.name,"]"),content:a("Site.PHP.index_50"),onConfirm:async({hide:a})=>{var l;await(l={id:e.id},t.post("/site?action=del_wp_site_type",l,{requestOptions:{loading:Oa("Login.index_22"),successMessage:!0}})),await v(),s(e.id),a()}})}}]})]),v=async()=>{const{message:e}=await wl();m.data=i(e)?e:[]};return v(),(e,t)=>{const a=Jt,l=Ht,i=zt,n=ca,s=Vt,v=ma,x=b;return ue(),ce("div",_o,[ie(i,null,{default:_e((()=>[pe("div",mo,[ie(a,{value:he(o),"onUpdate:value":t[0]||(t[0]=e=>ve(o)?o.value=e:null),placeholder:e.$t("Site.PHP.index_46")},null,8,["value","placeholder"])]),pe("div",null,[ie(l,{type:"primary",onClick:d},{default:_e((()=>[xe(me(e.$t("Site.Cert.index_62")),1)])),_:1})])])),_:1}),pe("div",ho,[ie(n,{"max-height":300,data:he(m).data,columns:he(h)},null,8,["data","columns"])]),ie(x,{show:he(r).show,"onUpdate:show":t[2]||(t[2]=e=>he(r).show=e),title:he(r).title,width:350,footer:!0,onConfirm:_},{default:_e((()=>[pe("div",vo,[ie(v,{ref_key:"formRef",ref:u,model:he(c),rules:p},{default:_e((()=>[ie(s,{label:e.$t("Site.PHP.index_47"),path:"name"},{default:_e((()=>[pe("div",xo,[ie(a,{value:he(c).name,"onUpdate:value":t[1]||(t[1]=e=>he(c).name=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])])),_:1},8,["show","title"])])}}}),fo={class:"w-160px"},go=de({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e,{expose:t}){const a=Me(e,"value"),{t:l}=ne(),{loading:n,setLoading:s}=U(),o=re([]),d=q(l("Site.PHP.index_44"),{setOptions:e=>{u(),a.value===e&&(a.value="")}}),r=()=>{d.show=!0},u=async()=>{try{s(!0);const{message:e}=await wl();i(e)&&(o.value=e.map((e=>({label:e.name,value:e.id}))))}finally{o.value.unshift({label:l("Site.PHP.index_45"),value:""}),s(!1)}};return t({getList:u}),(e,t)=>{const l=Ht,i=Kt,s=b;return ue(),ce("div",fo,[ie(i,De(e.$attrs,{value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),loading:he(n),options:he(o)}),{action:_e((()=>[ie(l,{block:"",onClick:r},{default:_e((()=>[xe(me(e.$t("Site.PHP.index_43")),1)])),_:1})])),_:1},16,["value","loading","options"]),ie(s,{show:he(d).show,"onUpdate:show":t[1]||(t[1]=e=>he(d).show=e),width:350,title:he(d).title,data:he(d).data,component:wo},null,8,["show","title","data"])])}}}),yo={class:"w-860px h-720px"},bo=de({__name:"index",setup(e){const n=le((()=>a((()=>import("./index242.js?v=1753954525509")),__vite__mapDeps([60,30,2,3,4,5,1,6,7,8,31,14,15,32,25,61,62,9,40,33,34,35,63,16,17,18,19,20,21,22,23,24,26,27,28,29,36,37,11,38,39,41,42,43,44,45,46,47,48,49,50,51])))),s=le((()=>a((()=>import("./index243.js?v=1753954525509")),__vite__mapDeps([64,1,2,3,4,5,6,7,8,18,19,20,14,15,16,17,21,22,23,24,25,9,26,27,28,29,30,31,32,33,34,35,36,37,11,38,39,40,41,42,43,44,45,46,47,48,49,50,51])))),r=le((()=>a((()=>import("./index244.js?v=1753954525509")),__vite__mapDeps([65,32,4,2,3,5,1,6,7,8,14,15,16,17,18,19,20,21,22,23,24,25,9,26,27,28,29,30,31,33,34,35,36,37,11,38,39,40,41,42,43,44,45,46,47,48,49,50,51])))),u=le((()=>a((()=>import("./index245.js?v=1753954525509")),__vite__mapDeps([66,16,2,3,5,6,1,4,8,7,17,24,9,30,31,67,32,14,15,18,19,20,21,22,23,25,26,27,28,29,33,34,35,36,37,11,38,39,40,41,42,43,44,45,46,47,48,49,50,51,68])))),c=le((()=>a((()=>import("./index246.js?v=1753954525509")),__vite__mapDeps([69,6,1,2,3,4,5,8,7,14,15,16,17,18,19,20,21,22,23,24,25,9,26,27,28,29,30,31,32,33,34,35,36,37,11,38,39,40,41,42,43,44,45,46,47,48,49,50,51])))),_=le((()=>a((()=>import("./index247.js?v=1753954525509")),__vite__mapDeps([70,16,2,3,5,6,1,4,8,7,17,18,19,20,21,23,32,14,15,22,24,25,9,26,27,28,29,30,31,33,34,35,36,37,11,38,39,40,41,42,43,44,45,46,47,48,49,50,51,71])))),m=le((()=>a((()=>import("./index248.js?v=1753954525509")),__vite__mapDeps([72,30,2,3,4,5,1,6,7,8,31,18,19,20,14,15,16,17,21,22,23,24,25,9,26,27,28,29,32,33,34,35,36,37,11,38,39,40,41,42,43,44,45,46,47,48,49,50,51])))),h=le((()=>a((()=>import("./ssl-log.js?v=1753954525509")),__vite__mapDeps([54,41,2,3,1,4,5,6,7,8,42])))),v=le((()=>a((()=>import("./index249.js?v=1753954525509")),__vite__mapDeps([73,14,1,2,3,4,5,6,7,8,15,16,17,32,18,19,20,21,22,23,24,25,9,26,27,28,29,30,31,33,34,35,36,37,11,38,39,40,41,42,43,44,45,46,47,48,49,50,51,74])))),{t:x}=ne(),w=d(),f=p(),{web:$}=Le(w),{userInfo:L}=Le(f),E=re(),T=q(x("WP.index_27")),M=q(x("WP.Add.index_7"),{done:async()=>{await Re(),Ee()}}),D=q(x("Site.Config.index_19")),I=q("Data Copy"),A=()=>{M.show=!0},N=()=>{T.show=!0},H=()=>{D.show=!0},z=()=>{f.isFree?j({source:370}):I.show=!0},V=re([]),K=q(x("SSL.Domain.index_5")),F=we({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),J=(e,t={})=>{F.title="".concat(x("Site.Cert.index_58")," [").concat(e.name,"] -- ").concat(x("Site.Cert.index_59")," [").concat(e.addtime,"]"),F.siteInfo=e,F.config=Object.assign({menu:"",subMenu:""},t),F.show=!0},{keys:X,table:G,columns:Q}=R([{type:"selection",width:40},{key:"name",title:x("Site.TableRow.index_1"),width:"12%",minWidth:120,ellipsis:{tooltip:!0},render:e=>ie($l,{row:e,onClick:()=>{J(e)}},null)},Z({width:"8%",minWidth:90,checkedLabel:"Running",uncheckedLabel:"Stopped",confirm:(e,t)=>({title:"".concat("1"===e?"Start":"Stop "," site [").concat(t.name,"]"),content:()=>{const t=x("Site.Cert.index_14"),a=x("Site.Cert.index_15");return"1"===e?t:a},onConfirm:async({hide:a})=>{await It("1"===e,{id:t.id,name:t.name}),t.status="1"===e?"1":"0",a()}})}),{key:"backup_count",title:x("Site.TableRow.index_20"),width:"8%",minWidth:80,render:e=>ie(Ll,{row:e},null)},ee({width:"15%"}),B({key:"cache_status",title:x("Site.Lable.index_31"),width:"6%",minWidth:60,onClick:async(e,t)=>{await bt({version:t.php_version,sitename:t.name,act:e})}}),{key:"name",title:x("WP.index_43"),align:"center",width:"120",render:e=>ie(Ul,{row:e,onClick:()=>{de(e)}},null)},O({title:x("WP.TableRow.index_2"),align:"center",width:"30%",options:e=>[{label:"00"==e.wp_version?"Static":e.wp_version,width:"30px",onClick:()=>{J(e,{menu:"wordpress"})}},{label:x("WP.index_1"),onClick:()=>{se(e)}},{label:x("WP.TableRow.index_5"),onClick:()=>{J(e,{menu:"wordpress",subMenu:"plugin"})}},{label:x("WP.TableRow.index_6"),onClick:()=>{J(e,{menu:"wordpress",subMenu:"theme"})}},{label:x("WP.TableRow.index_3"),onClick:()=>{fe(e)}},{label:x("WP.TableRow.index_4"),onClick:()=>{ye(e)}}]}),{key:"php_version",title:x("Site.TableRow.index_27"),width:"6%",minWidth:60,render:e=>ie(Rl,{row:e,onClick:()=>{J(e,{menu:"php"})}},null)},{key:"site_ssl",title:x("Site.PHP.index_27"),width:"12%",minWidth:90,sorter:!0,sortOrder:!1,render:e=>{const t=V.value.filter((t=>t.target_id===e.id));return ie(Ta,{config:e.ssl,sslApplyList:t,onClick:()=>{J(e,{menu:"ssl"})}},null)}},Pl({onClick:e=>{J(e)}})]),Y=q(x("WP.index_2")),se=async e=>{Y.data.row=e,Y.show=!0},oe=q(x("WP.index_43")),de=e=>{oe.data.row=e,oe.show=!0},ce=q(),fe=async e=>{ce.title="".concat(x("WP.Config.index_10")," [").concat(e.name,"]"),ce.data.site=e,ce.show=!0},ge=q(),ye=async e=>{ge.title="".concat(x("WP.index_32")," [").concat(e.name,"]"),ge.data.site=e,ge.show=!0},ke=[{key:"enable",type:"confirm",label:x("Site.Batch.index_1"),confirm:{title:x("Site.Batch.index_2"),desc:x("Site.Batch.index_3"),columns:[Q.value[1]],api:e=>It(!0,{id:e.id,name:e.name},!1),done:()=>{Re()}}},{key:"disable",type:"confirm",label:x("Site.Batch.index_4"),confirm:{title:x("Site.Batch.index_5"),desc:x("Site.Batch.index_6"),columns:[Q.value[1]],api:e=>It(!1,{id:e.id,name:e.name},!1),done:()=>{Re()}}},{key:"backup",type:"confirm",label:x("Site.Batch.index_7"),confirm:{title:x("Site.Batch.index_8"),desc:x("Site.Batch.index_9"),columns:[Q.value[1]],api:e=>Da({s_id:e.id,bak_type:3},!1),done:()=>{Re()}}},{key:"delete",label:x("Site.Batch.index_10"),onBatch:e=>{Cl(e)}},{key:"category",label:x("Crontab.Planned.index_19"),onBatch:e=>{P({title:x("Site.Batch.index_22"),width:350,minHeight:72,footer:!0,data:{rows:e},component:le((()=>a((()=>import("./batch3.js?v=1753954525509")),__vite__mapDeps([75,32,4,2,3,5,1,6,7,8,14,15,16,17,18,19,20,21,22,23,24,25,9,26,27,28,29,30,31,33,34,35,36,37,11,38,39,40,41,42,43,44,45,46,47,48,49,50,51]))))})}}],{loading:Ce,setLoading:Pe}=U(!0),$e=we({p:1,limit:10,table:"sites",search:"",site_type:""}),Re=async(e=!1)=>{try{Pe(!(V.value.length>0||e));const{message:l}=await(a=Se($e),t.post("/data?action=getData",{...a,table:"sites",project_type:"WP2"}));o(l)?(G.data=i(l.data)?l.data:[],G.total=g(l.page)):(G.data=[],G.total=0)}finally{X.value=[],Pe(!1)}var a};let Ue=null;const We=re(!1),Ee=async()=>{Ue&&clearTimeout(Ue);const{message:e}=await te();i(e)&&(V.value=e,e.length>0?(We.value=!0,Ue=window.setTimeout((()=>{Ee()}),3e3)):(We.value&&Re(!0),Ue&&clearTimeout(Ue)))};qe((()=>w.isRefresh),(e=>{e&&(w.setRefresh(!1),Re())}));return(async()=>{var e;try{await w.getConfig(),w.web.setup?(await Re(),Ee(),null==(e=E.value)||e.getList()):(Pe(!1),Ae())}catch(t){Pe(!1)}})(),Ie((()=>{Ue&&clearTimeout(Ue)})),(e,t)=>{const a=l,i=Ht,o=ae,d=W,p=C,x=k,w=S,f=b,g=y,P=pa;return ue(),be(P,null,{default:_e((()=>[he(L).status?(ue(),be(g,{key:0,install:he($).setup},{desc:_e((()=>[pe("span",null,me(e.$t("Site.PHP.index_1")),1),ie(a,{class:"ml-4px",onClick:t[0]||(t[0]=e=>he(Ne)("nginx"))},{default:_e((()=>[xe(me(e.$t("Site.PHP.index_2")),1)])),_:1}),t[20]||(t[20]=pe("span",{class:"mx-4px"},"|",-1)),ie(a,{onClick:t[1]||(t[1]=e=>he(Ne)("apache"))},{default:_e((()=>[xe(me(e.$t("Site.PHP.index_3")),1)])),_:1})])),default:_e((()=>[ie(w,{class:"p-16px",feedback:!0},{toolsLeft:_e((()=>[ie(i,{type:"primary",onClick:A},{default:_e((()=>[xe(me(e.$t("WP.index_5")),1)])),_:1}),ie(i,{onClick:N},{default:_e((()=>[xe(me(e.$t("WP.index_27")),1)])),_:1}),ie(i,{onClick:H},{default:_e((()=>[xe(me(e.$t("Site.Config.index_19")),1)])),_:1}),ie(i,{onClick:z},{default:_e((()=>t[21]||(t[21]=[xe("Data Copy")]))),_:1,__:[21]})])),toolsRight:_e((()=>[ie(go,{ref_key:"siteCategoryRef",ref:E,value:he($e).site_type,"onUpdate:value":[t[2]||(t[2]=e=>he($e).site_type=e),t[3]||(t[3]=e=>Re(!1))]},null,8,["value"]),ie(o,{value:he($e).search,"onUpdate:value":t[4]||(t[4]=e=>he($e).search=e),placeholder:e.$t("WP.index_4"),onSearch:t[5]||(t[5]=e=>Re(!1))},null,8,["value","placeholder"])])),table:_e((()=>[ie(d,{"checked-row-keys":he(X),"onUpdate:checkedRowKeys":t[6]||(t[6]=e=>ve(X)?X.value=e:null),loading:he(Ce),data:he(G).data,columns:he(Q)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:_e((()=>[ie(p,{"checked-row-keys":he(X),"onUpdate:checkedRowKeys":t[7]||(t[7]=e=>ve(X)?X.value=e:null),data:he(G).data,options:ke},null,8,["checked-row-keys","data"])])),pageRight:_e((()=>[ie(x,{page:he($e).p,"onUpdate:page":t[8]||(t[8]=e=>he($e).p=e),"page-size":he($e).limit,"onUpdate:pageSize":t[9]||(t[9]=e=>he($e).limit=e),"item-count":he(G).total,"store-key":"wp-toolkit",onRefresh:Re},null,8,["page","page-size","item-count"])])),_:1}),ie(f,{show:he(M).show,"onUpdate:show":t[10]||(t[10]=e=>he(M).show=e),title:he(M).title,data:he(M).data,width:640,height:590,footer:!0,component:he(n)},null,8,["show","title","data","component"]),ie(f,{show:he(T).show,"onUpdate:show":t[11]||(t[11]=e=>he(T).show=e),title:he(T).title,width:640,"min-height":205,footer:!1,component:he(s)},null,8,["show","title","component"]),ie(f,{show:he(Y).show,"onUpdate:show":t[12]||(t[12]=e=>he(Y).show=e),title:he(Y).title,data:he(Y).data,width:640,"min-height":268,footer:!0,component:he(r)},null,8,["show","title","data","component"]),ie(f,{show:he(ce).show,"onUpdate:show":t[13]||(t[13]=e=>he(ce).show=e),title:he(ce).title,data:he(ce).data,width:600,"min-height":268,component:he(u)},null,8,["show","title","data","component"]),ie(f,{show:he(ge).show,"onUpdate:show":t[14]||(t[14]=e=>he(ge).show=e),title:he(ge).title,data:he(ge).data,width:600,"min-height":190,component:he(c)},null,8,["show","title","data","component"]),ie(f,{show:he(D).show,"onUpdate:show":t[15]||(t[15]=e=>he(D).show=e),title:he(D).title,width:700,"min-height":300,component:he(_)},null,8,["show","title","component"]),ie(f,{show:he(oe).show,"onUpdate:show":t[16]||(t[16]=e=>he(oe).show=e),title:he(oe).title,data:he(oe).data,width:800,"min-height":500,component:he(m)},null,8,["show","title","data","component"]),ie(f,{show:he(F).show,"onUpdate:show":t[17]||(t[17]=e=>he(F).show=e),title:he(F).title},{default:_e((()=>[pe("div",yo,[ie(Zs,{"site-info":he(F).siteInfo,config:he(F).config},null,8,["site-info","config"])])])),_:1},8,["show","title"]),ie(f,{show:he(K).show,"onUpdate:show":t[18]||(t[18]=e=>he(K).show=e),title:he(K).title,data:he(K).data,width:700,height:450,footer:!1,component:he(h)},null,8,["show","title","data","component"]),ie(f,{show:he(I).show,"onUpdate:show":t[19]||(t[19]=e=>he(I).show=e),title:he(I).title,component:he(v),width:700,"min-height":200,footer:!0},null,8,["show","title","component"])])),_:1},8,["install"])):(ue(),be(po,{key:1}))])),_:1})}}}),So=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"}));export{il as A,_l as B,ml as C,vl as D,xl as E,Sl as F,bl as G,gl as H,yl as I,wl as J,fl as K,Ba as L,Aa as M,Ma as N,Da as O,Ia as P,El as Q,So as R,hl as W,qa as a,Ya as b,Qa as c,Za as d,Na as e,Ga as f,ja as g,Fa as h,Ka as i,Ja as j,Xa as k,za as l,Ha as m,el as n,Va as o,sl as p,pl as q,ul as r,ol as s,dl as t,cl as u,rl as v,tl as w,ll as x,al as y,nl as z};
