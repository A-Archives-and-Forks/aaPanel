import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.js?v=1741416570306";import{_ as a}from"./index95.js?v=1741416570306";import{d as s,M as l,r as t,j as n,P as i,_ as r,$ as o,R as d,a0 as p,N as u,S as c,Q as m,c as x,am as _,an as v,ao as g,a7 as f}from"./vue.js?v=1741416570306";import{x as w,b as y,m as h,y as b,z as $,r as L,A as C,k as j}from"./page_layout.js?v=1741416570306";import"./index.js?v=1741416570306";import{bL as k,_ as z,cb as P,T as A,cc as U,cd as q,bO as B,ce as I}from"./naive.js?v=1741416570306";import"./__commonjsHelpers__.js?v=1741416570306";import"./common.js?v=1741416570306";import"./public.js?v=1741416570306";const R={class:"font-600"},F={class:"info flex mt-50px w-820px mx-auto"},S={class:"tips py-40px w-50%"},H={class:"font-600 text-16px"},K={class:"mt-10px mb-20px font-600 text-16px"},M={key:0,class:"w-50% p-30px"},N={class:"w-100%"},O={class:"w-100%"},Q={key:1,class:"w-50% p-30px"},T={class:"font-600 text-left"},D={class:"underline"},E={class:"text-16px my-20px text-left"},G={key:0,class:"ml-5px"},J=j(s({__name:"index",setup(s){const{t:j}=l(),J=t(null),V=t(null),W=n({email:"",password:"",isPro:1}),X={email:{required:!0,trigger:["blur","input"],message:j("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:j("Component.BindAccount.index_5")}},Y=n({username:"",password:"",isPro:1}),Z={username:{required:!0,trigger:["blur","input"],message:j("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:j("Component.BindAccount.index_5")}},ee=t(!1),ae=t(!1),se=e=>{ae.value="login"===e},le=t(60),te=t(!0);let ne;const ie=async()=>{var e;await(null==(e=J.value)?void 0:e.validate());const{message:a}=await w(f(W));y(a)&&(a.status?(ee.value=!0,h.success(a.msg)):h.error(a.msg))},re=async()=>{var e;await(null==(e=V.value)?void 0:e.validate());try{await b(f(ae.value?Y:{username:W.email,password:W.password,isPro:1}))}catch(a){return void(k(a,"message.validated",!0)||(ee.value=!0))}await $({force:1}),L.push("/")},oe=()=>{te.value=!1,ne&&clearInterval(ne),ne=setInterval((()=>{le.value--,le.value<=0&&(clearInterval(ne),le.value=60,te.value=!0)}),1e3);let e=ae.value?Y.username:W.email;C({email:e})};return(s,l)=>{const t=a,n=z,f=P,w=e,y=A,h=U,b=q,$=B,L=I;return i(),r(L,{class:"box pt-100px flex items-center text-center"},{default:o((()=>[d("h1",R,p(s.$t("Login.index_26")),1),d("div",F,[d("div",S,[l[7]||(l[7]=d("h3",{class:"font-600 mb-20px"},"aaPanel Pro",-1)),d("div",H,p(s.$t("Login.index_29")),1),d("div",K,p(s.$t("Login.index_30")),1),u(t,{class:"text-left pl-30px w-400px"},{default:o((()=>[d("li",null,p(s.$t("Login.index_27")),1),d("li",null,p(s.$t("Login.index_28")),1)])),_:1})]),c(ee)?(i(),m("div",Q,[d("h3",T,[x(p(s.$t("Login.index_35"))+": ",1),d("span",D,p(c(ae)?c(Y).username:c(W).email),1)]),d("div",E,[x(p(s.$t("Login.index_36"))+": ",1),l[8]||(l[8]=d("span",{class:"underline"},"support@aapanel.com",-1))]),u($,null,{default:o((()=>[u(y,{type:"primary",size:"large",onClick:l[6]||(l[6]=e=>re())},{default:o((()=>[x(p(s.$t("Login.index_37")),1)])),_:1}),u(y,{size:"large",onClick:oe,disabled:!c(te)},{default:o((()=>[x(p(s.$t("Login.index_38"))+" ",1),c(te)?g("",!0):(i(),m("span",G,"("+p(c(le))+")",1))])),_:1},8,["disabled"])])),_:1})])):(i(),m("div",M,[u(b,{"default-value":"signup",size:"large",animated:"","onUpdate:value":se},{default:o((()=>[u(h,{name:"signup",tab:"Sign up",class:"text-left"},{default:o((()=>[u(w,{ref_key:"signFormRef",ref:J,model:c(W),rules:X,size:"large"},{default:o((()=>[u(f,{path:"email"},{default:o((()=>[u(n,{value:c(W).email,"onUpdate:value":l[0]||(l[0]=e=>c(W).email=e),class:"w-320px!",placeholder:s.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])])),_:1}),u(f,{path:"password"},{default:o((()=>[u(n,{value:c(W).password,"onUpdate:value":l[1]||(l[1]=e=>c(W).password=e),class:"w-320px!",type:"password",placeholder:s.$t("Config.Panel.index_66")},null,8,["value","placeholder"])])),_:1})])),_:1},8,["model"]),d("div",N,[u(y,{type:"primary",onClick:ie,size:"large",class:"whitespace-normal w-320px!"},{default:o((()=>[x(p(s.$t("Login.index_31")),1)])),_:1})])])),_:1}),u(h,{name:"login",tab:"Login",class:"text-left"},{default:o((()=>[u(w,{ref_key:"loginFormRef",ref:V,model:c(Y),rules:Z,size:"large"},{default:o((()=>[u(f,{path:"username"},{default:o((()=>[u(n,{value:c(Y).username,"onUpdate:value":l[2]||(l[2]=e=>c(Y).username=e),class:"w-320px!",placeholder:s.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])])),_:1}),u(f,{path:"password"},{default:o((()=>[u(n,{value:c(Y).password,"onUpdate:value":l[3]||(l[3]=e=>c(Y).password=e),class:"w-320px!",type:"password",placeholder:s.$t("Config.Panel.index_66"),onKeyup:l[4]||(l[4]=_(v((e=>re()),["prevent"]),["enter"]))},null,8,["value","placeholder"])])),_:1})])),_:1},8,["model"]),d("div",O,[u(y,{type:"primary",onClick:l[5]||(l[5]=e=>re()),size:"large",class:"whitespace-normal w-320px!"},{default:o((()=>[x(p(s.$t("Login.index_32")),1)])),_:1})])])),_:1})])),_:1})]))])])),_:1})}}}),[["__scopeId","data-v-506702ce"]]);export{J as default};
