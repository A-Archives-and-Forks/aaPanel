import{M as a,j as e,W as s,b7 as t,B as l,eu as i,a as d}from"./index.js?v=1721298337096";import{l as n,ad as c,r as o,k as p,R as r,X as x,S as v,Z as m,_ as u,a3 as _,F as b,ag as f,aj as y,W as h,P as k,V as H,al as U,b as g,$ as w,q as $,a5 as j,a6 as C}from"./vue.js?v=1721298337096";import{f as M,h as B,u as I}from"./index27.js?v=1721298337096";import{_ as z}from"./Checkbox.js?v=1721298337096";const L={class:"w-650px"},P={class:"card"},T={class:"mb-12px font-bold text-18px text-center"},W={class:"min-h-172px text-13px"},q={class:"card"},F={class:"mb-10px text-16px text-center"},R={class:"h-180px overflow-auto"},S=(a=>(j("data-v-72768618"),a=a(),C(),a))((()=>u("div",{class:"active"},null,-1))),V={class:"date"},X={class:"text"},Z=["innerHTML"],A={class:"font-bold"},D={class:"text-error"},E=d(n({__name:"details",emits:["close"],setup(d,{emit:n}){const j=n,{t:C}=c(),E=o(!1),G=o(5),J=p((()=>G.value>0)),K=p((()=>!E.value)),N=o([]),O=o([]),{height:Q}=r(),Y=p((()=>Q.value?"".concat(.9*Q.value,"px"):"auto")),aa=()=>{const a=setInterval((()=>{G.value--,G.value<=0&&clearInterval(a)}),1e3)},ea=()=>{j("close")},sa=()=>{s({title:C("Home.Update.index_24"),content:C("Home.Update.index_25"),onConfirm:async()=>{await B(),await I(),t()}})};return(async()=>{const{message:a}=await M();e(a)&&(N.value=a.beta_ps.split("<br>").map((a=>a.trim())),O.value=a.list,aa())})(),(e,s)=>{const t=x("i18n-t"),d=z,n=l,c=i;return v(),m("div",L,[u("div",{class:"p-20px overflow-auto",style:w({maxHeight:h(Y)})},[u("div",P,[u("div",T,_(e.$t("Home.Update.index_20")),1),u("ul",W,[(v(!0),m(b,null,f(h(N),((a,e)=>(v(),m("li",{key:a,class:y(["indent--15px pl-15px leading-20px",{"mt-8px":0!==e}])},_(a),3)))),128))])]),u("div",q,[u("div",F,_(e.$t("Home.Update.index_21")),1),u("div",R,[(v(!0),m(b,null,f(h(O),(e=>(v(),m("div",{key:e.version,class:"version"},[S,u("div",V,_(h(a)(e.uptime,"yyyy-MM-dd")),1),u("div",X,_(e.version),1),u("div",{class:"content",innerHTML:e.upmsg},null,8,Z)])))),128))])]),u("div",null,[k(d,{checked:h(E),"onUpdate:checked":s[0]||(s[0]=a=>g(E)?E.value=a:null),disabled:h(J)},{default:H((()=>[k(t,{tag:"div",class:"text-14px",keypath:"Home.Update.index_23.0"},U({title:H((()=>[u("span",A,_(e.$t("Home.Update.index_23.1")),1)])),_:2},[h(G)>0?{name:"wait",fn:H((()=>[u("span",D,_(e.$t("Home.Update.index_23.2",[h(G)])),1)])),key:"0"}:void 0]),1024)])),_:1},8,["checked","disabled"])])],4),k(c,null,{default:H((()=>[k(n,{class:"cancel-btn",size:"small",color:"#cbcbcb",onClick:ea},{default:H((()=>[$(_(e.$t("Public.Btn.Cancel")),1)])),_:1}),k(n,{type:"primary",size:"small",disabled:h(K),onClick:sa},{default:H((()=>[$(_(e.$t("Home.Update.index_19")),1)])),_:1},8,["disabled"])])),_:1})])}}}),[["__scopeId","data-v-72768618"]]);export{E as B};
