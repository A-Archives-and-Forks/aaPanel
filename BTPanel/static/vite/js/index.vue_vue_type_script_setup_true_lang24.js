const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index245.js?v=1742891699271","js/index104.js?v=1742891699271","js/vue.js?v=1742891699271","js/__commonjsHelpers__.js?v=1742891699271","js/naive.js?v=1742891699271","js/common.js?v=1742891699271","js/page_layout.js?v=1742891699271","js/public.js?v=1742891699271","css/public.css?v=1742891699271","css/page_layout.css?v=1742891699271","css/index21.css?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang25.js?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang.js?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang15.js?v=1742891699271","js/theme-chrome.js?v=1742891699271","js/file.js?v=1742891699271","js/index95.js?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang6.js?v=1742891699271","js/index.vue_vue_type_script_setup_true_lang10.js?v=1742891699271","js/index96.js?v=1742891699271","css/index15.css?v=1742891699271"])))=>i.map(i=>d[i]);
import{bz as e,f3 as a,I as o,a as t,f4 as r,f5 as l,j as s}from"./page_layout.js?v=1742891699271";import{_ as i}from"./index.vue_vue_type_script_setup_true_lang.js?v=1742891699271";import{_ as m}from"./index99.js?v=1742891699271";import{c as p,u as n}from"./public.js?v=1742891699271";import{d,O as _,r as c,j as u,R as f,S as v,P as k,a1 as x,U as j,V as w,c as h,a2 as g,Y as b}from"./vue.js?v=1742891699271";import{cn as C,ch as D,_ as y}from"./naive.js?v=1742891699271";const E={class:"p-20px"},$={class:"w-300px"},R={class:"w-300px"},U={class:"w-300px"},I=d({__name:"index",props:{row:{default:void 0},isEdit:{type:Boolean,default:!1}},setup(d,{expose:I}){const L=d,{t:O}=_(),P=e(),V=c(null),z=u({template_id:null,project_name:"",remark:""}),A={template_id:{trigger:["change"],validator:()=>null!=z.template_id||new Error(O("Docker.Compose.form.index_5"))},project_name:{trigger:["blur","input"],validator:()=>""!==z.project_name.trim()||new Error(O("Docker.Compose.form.index_6"))}},B=c([]),{loading:H,setLoading:S}=p(),T=async()=>{try{S(!0);const{message:e}=await a();o(e)&&(B.value=e.map((e=>({label:e.name,value:e.id}))),z.template_id=e[0].id)}finally{S(!1)}},Y=()=>{n({title:O("Docker.Compose.form.index_7"),footer:!0,width:650,minHeight:484,data:{onRefresh:()=>{T()}},component:b((()=>t((()=>import("./index245.js?v=1742891699271")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]))))})};return(()=>{const{row:e,isEdit:a}=L;a&&e&&(z.template_id=e.template_id,z.project_name=e.name,z.remark=e.remark)})(),T(),I({onConfirm:async()=>{var e;await(null==(e=V.value)?void 0:e.validate());const a={template_id:z.template_id||0,project_name:z.project_name,remark:z.remark},{row:o,isEdit:t}=L;t&&o?await r({...a,project_id:o.id}):await l(a),P.setRefresh(!0)}}),(e,a)=>{const o=C,t=s,r=D,l=y,p=m,n=i;return f(),v("div",E,[k(n,{ref_key:"formRef",ref:V,model:w(z),rules:A,"label-width":"150"},{default:x((()=>[k(r,{label:e.$t("Docker.Compose.form.index_1"),path:"template_id"},{default:x((()=>[j("div",$,[k(o,{value:w(z).template_id,"onUpdate:value":a[0]||(a[0]=e=>w(z).template_id=e),loading:w(H),options:w(B)},null,8,["value","loading","options"])]),k(t,{class:"ml-8px",onClick:Y},{default:x((()=>[h(g(e.$t("Docker.Compose.form.index_2")),1)])),_:1})])),_:1},8,["label"]),k(r,{label:e.$t("Docker.Compose.form.index_3"),path:"project_name"},{default:x((()=>[j("div",R,[k(l,{value:w(z).project_name,"onUpdate:value":a[1]||(a[1]=e=>w(z).project_name=e),placeholder:e.$t("Docker.Compose.form.index_3")},null,8,["value","placeholder"])])])),_:1},8,["label"]),k(r,{label:e.$t("Docker.Compose.form.index_4"),path:"remark","show-feedback":!1},{default:x((()=>[j("div",U,[k(p,{value:w(z).remark,"onUpdate:value":a[2]||(a[2]=e=>w(z).remark=e),rows:3,placeholder:e.$t("Docker.Compose.form.index_4")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}});export{I as _};
