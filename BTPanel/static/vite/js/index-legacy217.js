System.register(["./index-legacy223.js?v=1741416570306","./index-legacy104.js?v=1741416570306","./page_layout-legacy.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy15.js?v=1741416570306","./naive-legacy.js?v=1741416570306","./vue-legacy.js?v=1741416570306","./index-legacy95.js?v=1741416570306","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1741416570306","./public-legacy.js?v=1741416570306","./site-legacy.js?v=1741416570306","./php-legacy.js?v=1741416570306","./common-legacy.js?v=1741416570306","./__commonjsHelpers__-legacy.js?v=1741416570306","./theme-chrome-legacy.js?v=1741416570306","./file-legacy.js?v=1741416570306"],(function(e,l){"use strict";var a,t,n,i,s,u,o,d,r,p,c,v,_,m,g,y,f,x,P,h,b,w,S,H,j,$,k,C,U,R,L,B,E,M,q,D,F;return{setters:[e=>{a=e._},e=>{t=e._},e=>{n=e.bO,i=e.b,s=e.G,u=e.n,o=e.m},e=>{d=e._},e=>{r=e.T,p=e.ch,c=e.cb,v=e.bV},e=>{_=e.d,m=e.M,g=e.r,y=e.f,f=e.P,x=e.Q,P=e.N,h=e.S,b=e.ae,w=e.R,S=e.$,H=e.c,j=e.a0,$=e.n,k=e.j,C=e.a7},e=>{U=e._},e=>{R=e._},e=>{L=e.c},e=>{B=e.a$,E=e.b0,M=e.b,q=e.b1},e=>{D=e.c,F=e.d},null,null,null,null],execute:function(){const l={class:"mt-12px"},G=_({__name:"default-page",setup(e){const{t:a}=m(),i=n(),s=g(null),u=g("index"),o=new Map([["index",{label:a("Site.PHP.index_51"),path:"/www/server/panel/data/defaultDoc.html"}],["404",{label:a("Site.PHP.index_52"),path:"/www/server/panel/data/404.html"}],["blank",{label:a("Site.PHP.index_53"),path:"nginx"===i.web.type?"/www/server/nginx/html/index.html":"/www/server/apache/htdocs/index.html"}],["stop",{label:a("Site.PHP.index_54"),path:"/www/server/stop/index.html"}]]),p=(()=>{const e=[];return o.forEach(((l,a)=>{e.push({key:a,label:l.label})})),e})(),c=()=>o.get(u.value)?.path||"",v=g(c()),_=()=>{v.value=c()},k=()=>{$((()=>{s.value?.getContent()}))},C=async()=>{s.value?.saveFile()};return y((()=>{s.value?.getContent()})),(e,a)=>{const n=t,i=r;return f(),x("div",null,[P(n,{value:h(u),"onUpdate:value":[a[0]||(a[0]=e=>b(u)?u.value=e:null),_],options:h(p),onClick:k},null,8,["value","options"]),P(d,{ref_key:"configRef",ref:s,path:h(v),"onUpdate:path":a[1]||(a[1]=e=>b(v)?v.value=e:null),height:440,"show-encoding":!0},null,8,["path"]),w("div",l,[P(i,{type:"primary",onClick:C},{default:S((()=>[H(j(e.$t("Site.Cert.index_60")),1)])),_:1})])])}}}),N={class:"w-300px"},O=_({__name:"default-site",setup(e,{expose:l}){const{t:a}=m(),t=g(null),{loading:n,setLoading:o}=L(),d=k({name:"0"}),v=g([]),_=async()=>{try{o(!0);const{message:e}=await B();if(i(e)){const{sites:l,defaultSite:a}=e;v.value=s(l)?l.map((e=>({label:e.name,value:e.name}))):[],y(),d.name=u(a)?a:"0"}}finally{o(!1)}},y=()=>{v.value.unshift({label:a("Site.PHP.index_58"),value:"0"})},b=async()=>{await(t.value?.validate()),await E(C(d))};return y(),_(),l({init:_}),(e,l)=>{const a=p,i=c,s=R,u=r,o=U;return f(),x("div",null,[P(s,{ref_key:"formRef",ref:t,model:h(d)},{default:S((()=>[P(i,{label:e.$t("Site.PHP.index_11")},{default:S((()=>[w("div",N,[P(a,{value:h(d).name,"onUpdate:value":l[0]||(l[0]=e=>h(d).name=e),class:"name-select",loading:h(n),options:h(v)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),P(u,{type:"primary",onClick:b},{default:S((()=>[H(j(e.$t("Public.Btn.Save")),1)])),_:1}),P(o,{class:"mt-20px"},{default:S((()=>[w("li",null,j(e.$t("Site.PHP.index_56")),1),w("li",null,j(e.$t("Site.PHP.index_57")),1)])),_:1})])}}}),Q={class:"w-300px"},T=_({__name:"https",setup(e,{expose:l}){const{loading:a,setLoading:t}=L(),n=k({value:!1}),s=async()=>{try{t(!0),await D()}catch{n.value=!n.value}finally{t(!1)}},u=async()=>{try{t(!0);const{message:e}=await F();i(e)&&(n.value=e.result)}finally{t(!1)}};return u(),l({init:u}),(e,l)=>{const t=v,i=c,u=R,o=U;return f(),x("div",null,[P(u,{model:h(n)},{default:S((()=>[P(i,{label:e.$t("Site.PHP.index_86")},{default:S((()=>[w("div",Q,[P(t,{value:h(n).value,"onUpdate:value":[l[0]||(l[0]=e=>h(n).value=e),s],loading:h(a)},null,8,["value","loading"])])])),_:1},8,["label"])])),_:1},8,["model"]),P(o,{class:"mt-8px"},{default:S((()=>[w("li",null,j(e.$t("Site.PHP.index_87")),1),w("li",null,j(e.$t("Site.PHP.index_88")),1)])),_:1})])}}}),V={class:"w-300px"},z=_({__name:"index",setup(e,{expose:l}){const{t:a}=m(),t=g(null),{loading:n,setLoading:u}=L(),d=k({php_version:null}),v={php_version:{required:!0,message:a("Site.PHP.index_67"),trigger:"change"}},_=g([]),y=async()=>{try{u(!0);const{message:e}=await M();if(i(e)){const l=s(e.versions)?e.versions:[];_.value=l.map((e=>({label:e.name,value:e.version}))),i(e.select)&&(d.php_version=`${e.select.version}`)}}finally{u(!1)}},b=async()=>{await(t.value?.validate());const e=(()=>{const e=d.php_version;if(null===e)throw o.error(a("Site.PHP.index_67")),new Error(a("Site.PHP.index_67"));return{php_version:e}})();await q(e)};return y(),l({init:y}),(e,l)=>{const a=p,i=c,s=R,u=r,o=U;return f(),x("div",null,[P(s,{ref_key:"formRef",ref:t,model:h(d),rules:v},{default:S((()=>[P(i,{label:e.$t("Site.PHP.index_55"),path:"php_version"},{default:S((()=>[w("div",V,[P(a,{value:h(d).php_version,"onUpdate:value":l[0]||(l[0]=e=>h(d).php_version=e),class:"php-version-select",loading:h(n),options:h(_)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),P(u,{type:"primary",onClick:b},{default:S((()=>[H(j(e.$t("Public.Btn.Save")),1)])),_:1}),P(o,{class:"mt-20px"},{default:S((()=>[w("li",null,j(e.$t("Site.PHP.index_68")),1),w("li",null,j(e.$t("Site.PHP.index_69")),1)])),_:1})])}}}),A={class:"h-full"};e("default",_({__name:"index",props:{data:{}},setup(e){const{t:l}=m(),t=e,{config:n}=t.data||{},i=g("default-page"),s=[{key:"default-page",label:l("Site.PHP.index_5"),component:G},{key:"default-site",label:l("Site.PHP.index_6"),component:O},{key:"php-version",label:l("Site.PHP.index_7"),component:z},{key:"https",label:l("Site.PHP.index_86"),component:T}];return i.value=n?.menu||"default-page",n&&(n.menu=""),(e,l)=>{const t=a;return f(),x("div",A,[P(t,{value:h(i),"onUpdate:value":l[0]||(l[0]=e=>b(i)?i.value=e:null),data:s},null,8,["value"])])}}}))}}}));
