System.register(["./index-legacy98.js?v=1741416570306","./index-legacy99.js?v=1741416570306","./page_layout-legacy.js?v=1741416570306","./vue-legacy.js?v=1741416570306","./global-legacy.js?v=1741416570306","./naive-legacy.js?v=1741416570306"],(function(e,a){"use strict";var l,t,n,i,s,o,r,c,f,u,d,p,v,x,m,g,_,y,w,h,b,C,S,$,k,j,P,U,E,K,N,O;return{setters:[e=>{l=e.s,t=e._,n=e.f},e=>{i=e._},e=>{s=e.m,o=e.F,r=e.as,c=e.aw,f=e._,u=e.b,d=e.k},e=>{p=e.d,v=e.M,x=e.r,m=e.a1,g=e.P,_=e.Q,y=e.R,w=e.N,h=e.a0,b=e.$,C=e.S,S=e.ae,$=e.k,k=e.v,j=e.c},e=>{P=e.w,U=e.O,E=e.P,K=e.x},e=>{N=e.ch,O=e._}],execute:function(){var a=document.createElement("style");a.textContent=".form-label[data-v-02bc9a9f]{display:flex;align-items:center;justify-content:flex-end;min-width:100px;height:32px;padding-right:20px;text-align:right}\n",document.head.appendChild(a);const R={class:"px-40px py-24px"},z={class:"flex-center mb-20px"},F={class:"min-w-32px"},I={class:"ml-4px text-21px"},L={class:"text-error"},M={class:"bt-link",href:"https://www.aapanel.com/forum/d/167-common-problems-after-opening-the-panel-certificate",target:"_blank"},Q={class:"flex"},T={class:"form-label"},q={class:"w-280px"},A={class:"flex mt-16px"},B={class:"form-label"},D={class:"w-280px"},G={class:"flex mt-16px"},H={class:"form-label"},J={class:"w-280px"},V={class:"flex mt-16px"},W={class:"form-label"},X={class:"w-280px"},Y={class:"flex justify-between mt-24px"},Z={class:"bt-link",href:"https://www.aapanel.com/forum/d/167-common-problems-after-opening-the-panel-certificate",target:"_blank"};e("O",d(p({__name:"open",setup(e,{expose:a}){const{t:d}=v(),p=x(),ee=x(1),ae=x(""),le=x(""),te=x(""),ne=[{label:d("Config.Safe.index_30"),value:1},{label:"Let's Encrypt",value:2},{label:d("Config.Safe.index_31"),value:3}],ie=async()=>{const{message:e}=await E();u(e)&&(ee.value=e.cert_type?Number(e.cert_type):1,ae.value=e.email||"")},se=async()=>{const{message:e}=await K();u(e)&&(le.value=e.privateKey||"",te.value=e.certPem||"")};return(async()=>{const e=s.loading(d("Config.Safe.index_32"));try{await Promise.all([ie(),se()])}finally{e.close()}})(),a({onConfirm:async()=>{if(await p.value.validate(),2===ee.value&&""===ae.value.trim())return s.error(d("Config.Safe.index_33")),!1;if(2===ee.value&&!o(ae.value))return s.error(d("Config.Safe.index_34")),!1;if(3===ee.value&&(""===le.value.trim()||""===te.value.trim()))return s.error(d("Config.Safe.index_35")),!1;const e=s.loading(d("Config.Safe.index_36"));try{3===ee.value&&await P({privateKey:le.value,certPem:te.value}),await U((()=>{const e=2===ee.value?{email:ae.value}:{};return{cert_type:ee.value,...e}})(),!1),await r(),setTimeout((()=>{if(c){const e="http:"===location.protocol?"https":"http";window.location.href=`${e}://${window.location.host}${l.value.adminPath}`}}),1500)}finally{e.close()}return!1}}),(e,a)=>{const l=f,s=m("i18n-t"),o=t,r=N,c=O,u=i,d=n;return g(),_("div",R,[y("div",z,[y("div",F,[w(l,{name:"scan-success",size:"32"})]),y("span",I,h(e.$t("Config.Safe.index_18")),1)]),w(o,{class:"mb-20px"},{default:b((()=>[y("li",L,h(e.$t("Config.Safe.index_19")),1),y("li",null,h(e.$t("Config.Safe.index_20")),1),w(s,{tag:"li",scope:"global",keypath:"Config.Safe.index_21"},{link_:b((()=>[y("a",M,h(e.$t("Config.Safe.index_22")),1)])),_:1})])),_:1}),y("div",Q,[y("span",T,h(e.$t("Config.Safe.index_24")),1),y("div",q,[w(r,{value:C(ee),"onUpdate:value":a[0]||(a[0]=e=>S(ee)?ee.value=e:null),options:ne},null,8,["value"])])]),$(y("div",A,[y("span",B,h(e.$t("Config.Safe.index_25")),1),y("div",D,[w(c,{value:C(ae),"onUpdate:value":a[1]||(a[1]=e=>S(ae)?ae.value=e:null),placeholder:e.$t("Config.Safe.index_26")},null,8,["value","placeholder"])])],512),[[k,2===C(ee)]]),$(y("div",G,[y("span",H,h(e.$t("Config.Safe.index_27")),1),y("div",J,[w(u,{value:C(le),"onUpdate:value":a[2]||(a[2]=e=>S(le)?le.value=e:null),rows:4,placeholder:""},null,8,["value"])])],512),[[k,3===C(ee)]]),$(y("div",V,[y("span",W,h(e.$t("Config.Safe.index_28")),1),y("div",X,[w(u,{value:C(te),"onUpdate:value":a[3]||(a[3]=e=>S(te)?te.value=e:null),rows:4,placeholder:""},null,8,["value"])])],512),[[k,3===C(ee)]]),y("div",Y,[w(d,{ref_key:"riskRef",ref:p},{default:b((()=>[j(h(e.$t("Config.Safe.index_29")),1)])),_:1},512),y("a",Z,h(e.$t("Config.Safe.index_167")),1)])])}}}),[["__scopeId","data-v-02bc9a9f"]]))}}}));
