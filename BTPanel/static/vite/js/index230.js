import{_ as e}from"./index237.js?v=1753954525509";import{_ as a}from"./index102.js?v=1753954525509";import{u as l}from"./index225.js?v=1753954525509";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang14.js?v=1753954525509";import{ay as n,cG as i,cA as s,c5 as o}from"./naive.js?v=1753954525509";import{k as u,P as r,r as p,o as d,U as v,V as m,Q as _,X as c,ah as f,W as P,a2 as x,j as h,a3 as y,n as g,e as w,N as b}from"./vue.js?v=1753954525509";import{c as S,_ as H}from"./public.js?v=1753954525509";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang.js?v=1753954525509";import{c as k,w as $,f as C,m as U}from"./page_layout.js?v=1753954525509";import{b8 as D,b9 as L,b as R,ba as B}from"./site.js?v=1753954525509";import{f as E,h as V}from"./php.js?v=1753954525509";import"./theme-chrome.js?v=1753954525509";import"./__commonjsHelpers__.js?v=1753954525509";import"./file2.js?v=1753954525509";import"./common.js?v=1753954525509";const q={class:"mt-12px"},A=u({__name:"DefaultPage",setup(e){const{t:i}=r(),s=l(),o=p(null),u=p("index"),w=new Map([["index",{label:i("Site.PHP.index_51"),path:"/www/server/panel/data/defaultDoc.html"}],["404",{label:i("Site.PHP.index_52"),path:"/www/server/panel/data/404.html"}],["blank",{label:i("Site.PHP.index_53"),path:"nginx"===s.web.type?"/www/server/nginx/html/index.html":"/www/server/apache/htdocs/index.html"}],["stop",{label:i("Site.PHP.index_54"),path:"/www/server/stop/index.html"}]]),b=(()=>{const e=[];return w.forEach(((a,l)=>{e.push({key:l,label:a.label})})),e})(),S=()=>{var e;return(null==(e=w.get(u.value))?void 0:e.path)||""},H=p(S()),j=()=>{H.value=S()},k=()=>{g((()=>{var e;null==(e=o.value)||e.getContent()}))},$=async()=>{var e;null==(e=o.value)||e.saveFile()};return d((()=>{var e;null==(e=o.value)||e.getContent()})),(e,l)=>{const i=a,s=n;return v(),m("div",null,[_(i,{value:c(u),"onUpdate:value":[l[0]||(l[0]=e=>f(u)?u.value=e:null),j],options:c(b),onClick:k},null,8,["value","options"]),_(t,{ref_key:"configRef",ref:o,path:c(H),"onUpdate:path":l[1]||(l[1]=e=>f(H)?H.value=e:null),height:440,"show-encoding":!0},null,8,["path"]),P("div",q,[_(s,{type:"primary",onClick:$},{default:x((()=>[h(y(e.$t("Site.Cert.index_60")),1)])),_:1})])])}}}),F={class:"w-300px"},G=u({__name:"DefaultSite",setup(e,{expose:a}){const{t:l}=r(),t=p(null),{loading:o,setLoading:u}=S(),d=w({name:"0"}),f=p([]),g=async()=>{try{u(!0);const{message:e}=await D();if(k(e)){const{sites:a,defaultSite:l}=e;f.value=$(a)?a.map((e=>({label:e.name,value:e.name}))):[],U(),d.name=C(l)?l:"0"}}finally{u(!1)}},U=()=>{f.value.unshift({label:l("Site.PHP.index_58"),value:"0"})},R=async()=>{var e;await(null==(e=t.value)?void 0:e.validate()),await L(b(d))};return U(),g(),a({init:g}),(e,a)=>{const l=i,u=s,r=j,p=n,g=H;return v(),m("div",null,[_(r,{ref_key:"formRef",ref:t,model:c(d)},{default:x((()=>[_(u,{label:e.$t("Site.PHP.index_11")},{default:x((()=>[P("div",F,[_(l,{value:c(d).name,"onUpdate:value":a[0]||(a[0]=e=>c(d).name=e),class:"name-select",loading:c(o),options:c(f)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),_(p,{type:"primary",onClick:R},{default:x((()=>[h(y(e.$t("Public.Btn.Save")),1)])),_:1}),_(g,{class:"mt-20px"},{default:x((()=>[P("li",null,y(e.$t("Site.PHP.index_56")),1),P("li",null,y(e.$t("Site.PHP.index_57")),1)])),_:1})])}}}),M={class:"w-300px"},N=u({__name:"PhpVersion",setup(e,{expose:a}){const{t:l}=r(),t=p(null),{loading:o,setLoading:u}=S(),d=w({php_version:null}),f={php_version:{required:!0,message:l("Site.PHP.index_67"),trigger:"change"}},g=p([]),b=async()=>{try{u(!0);const{message:e}=await R();if(k(e)){const a=$(e.versions)?e.versions:[];g.value=a.map((e=>({label:e.name,value:e.version}))),k(e.select)&&(d.php_version="".concat(e.select.version))}}finally{u(!1)}},C=async()=>{var e;await(null==(e=t.value)?void 0:e.validate());const a=(()=>{const e=d.php_version;if(null===e)throw U.error(l("Site.PHP.index_67")),new Error(l("Site.PHP.index_67"));return{php_version:e}})();await B(a)};return b(),a({init:b}),(e,a)=>{const l=i,u=s,r=j,p=n,w=H;return v(),m("div",null,[_(r,{ref_key:"formRef",ref:t,model:c(d),rules:f},{default:x((()=>[_(u,{label:e.$t("Site.PHP.index_55"),path:"php_version"},{default:x((()=>[P("div",M,[_(l,{value:c(d).php_version,"onUpdate:value":a[0]||(a[0]=e=>c(d).php_version=e),class:"php-version-select",loading:c(o),options:c(g)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),_(p,{type:"primary",onClick:C},{default:x((()=>[h(y(e.$t("Public.Btn.Save")),1)])),_:1}),_(w,{class:"mt-20px"},{default:x((()=>[P("li",null,y(e.$t("Site.PHP.index_68")),1),P("li",null,y(e.$t("Site.PHP.index_69")),1)])),_:1})])}}}),Q={class:"w-300px"},W=u({__name:"Https",setup(e,{expose:a}){const{loading:l,setLoading:t}=S(),n=w({value:!1}),i=async()=>{try{t(!0),await E()}catch(e){n.value=!n.value}finally{t(!1)}},u=async()=>{try{t(!0);const{message:e}=await V();k(e)&&(n.value=e.result)}finally{t(!1)}};return u(),a({init:u}),(e,a)=>{const t=o,u=s,r=j,p=H;return v(),m("div",null,[_(r,{model:c(n)},{default:x((()=>[_(u,{label:e.$t("Site.PHP.index_86")},{default:x((()=>[P("div",Q,[_(t,{value:c(n).value,"onUpdate:value":[a[0]||(a[0]=e=>c(n).value=e),i],loading:c(l)},null,8,["value","loading"])])])),_:1},8,["label"])])),_:1},8,["model"]),_(p,{class:"mt-8px"},{default:x((()=>[P("li",null,y(e.$t("Site.PHP.index_87")),1),P("li",null,y(e.$t("Site.PHP.index_88")),1)])),_:1})])}}}),X={class:"h-full"},z=u({__name:"index",props:{menu:{type:String,default:"default-page"}},setup(a){const{t:l}=r(),t=p(a.menu),n=[{key:"default-page",label:l("Site.PHP.index_5"),component:A},{key:"default-site",label:l("Site.PHP.index_6"),component:G},{key:"php-version",label:l("Site.PHP.index_7"),component:N},{key:"https",label:l("Site.PHP.index_86"),component:W}];return(a,l)=>{const i=e;return v(),m("div",X,[_(i,{value:c(t),"onUpdate:value":l[0]||(l[0]=e=>f(t)?t.value=e:null),data:n},null,8,["value"])])}}});export{z as default};
