System.register(["./index-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1721298337096","./useTableData-legacy.js?v=1721298337096","./useLoading-legacy.js?v=1721298337096","./useTableColumns-legacy.js?v=1721298337096","./index-legacy87.js?v=1721298337096","./vue-legacy.js?v=1721298337096","./pinia-legacy.js?v=1721298337096","./Skeleton-legacy.js?v=1721298337096","./DataTable-legacy.js?v=1721298337096","./Checkbox-legacy.js?v=1721298337096","./Ellipsis-legacy.js?v=1721298337096","./Select-legacy.js?v=1721298337096","./Tag-legacy.js?v=1721298337096","./Empty-legacy.js?v=1721298337096","./omit-legacy.js?v=1721298337096","./Progress-legacy.js?v=1721298337096"],(function(e,t){"use strict";var a,l,i,n,s,o,c,u,d,r,p,m,y,g,k,h,_,w,b,x,C,j,S,D,f,P,v,E,W,U,T,B,K,L,R;return{setters:[e=>{a=e.$,l=e.K,i=e.g,n=e.M,s=e.a0,o=e.W,c=e.a1,u=e.a2,d=e.k,r=e.a3,p=e.r,m=e.h,y=e.a4,g=e.B,k=e.q,h=e.v},e=>{_=e._},e=>{w=e.u,b=e._},e=>{x=e.u},e=>{C=e.b},e=>{j=e._},e=>{S=e.ad,D=e.P,f=e.l,P=e.f,v=e.w,E=e.U,W=e.V,U=e.S,T=e.q,B=e.a3,K=e.W,L=e.b,R=e.a1},null,null,null,null,null,null,null,null,null,null],execute:function(){function $({onSelect:e}){const{t:t}=S(),l={key:"run_status",title:"Status",width:"12%",minWidth:100,render:l=>{const i=(e=>{const{t:t}=S();return"running"===e.run_status?[{key:"stop",label:t("Public.Status.Stop")},{key:"restart",label:t("Public.Status.Restart")},{key:"kill",label:t("Public.Status.Kill")},{key:"pause",label:t("Public.Status.Pause")}]:"exited"===e.run_status?[{key:"start",label:t("Public.Status.Start")}]:[{key:"unpause",label:t("Public.Status.Unpause")},{key:"kill",label:t("Public.Status.Kill")}]})(l);return D(a,{options:i,width:78,onSelect:t=>{e(t,l)}},{default:()=>[D(j,{class:"min-w-68px",value:l.run_status,"checked-value":"running","unchecked-label":"exited"===l.status?t("Public.Status.Stopped"):t("Public.Status.Paused")},null)]})}};return l}e("default",f({__name:"index",setup(e){const a=R((()=>h((()=>t.import("./index-legacy94.js?v=1721298337096")),void 0))),j=R((()=>h((()=>t.import("./index-legacy95.js?v=1721298337096")),void 0))),{t:f}=S(),q=l(),z=i(f("Docker.Compose.index_1"),{isEdit:!1}),M=()=>{z.data.row=void 0,z.data.isEdit=!1,z.title=f("Docker.Compose.index_1"),z.show=!0},V=()=>{m({title:f("Docker.Compose.index_2"),content:f("Docker.Compose.index_3"),onConfirm:async()=>{await y(),Y()}})},A=P({page:1,pageSize:10}),{keys:F,columns:G,table:H}=w([{key:"name",title:f("Docker.Compose.index_4"),width:"16%",minWidth:120,ellipsis:{tooltip:!0}},$({onSelect:async(e,t)=>{await s({project_id:t.id,status:e}),Y()}}),{key:"num",title:f("Docker.Compose.index_5"),width:"14%",minWidth:120},{key:"time",title:f("Docker.Compose.index_6"),width:"16%",minWidth:140,render:e=>n(e.time)},{key:"remark",title:f("Docker.Compose.index_7"),minWidth:140,ellipsis:{tooltip:!0}},C({width:170,options:e=>[{label:f("Docker.Compose.index_8"),onClick:()=>{J(e)}},{label:f("Public.Btn.Edit"),onClick:()=>{N(e)}},{label:f("Public.Btn.Del"),onClick:()=>{O(e)}}]})]),I=i(f("Docker.Compose.index_8")),J=e=>{I.data.row=e,I.title=f("Docker.Compose.index_11",[e.name]),I.show=!0},N=e=>{z.data.row=e,z.data.isEdit=!0,z.title=f("Docker.Compose.index_12"),z.show=!0},O=e=>{o({title:f("Docker.Compose.index_13",[e.name]),content:()=>D("div",{class:"text-error"},[f("Docker.Compose.index_14",[e.name])]),onConfirm:async()=>{await c({project_id:e.id}),Y()}})},{loading:Q,setLoading:X}=x(),Y=async()=>{await Z(),await ee()},Z=async()=>{try{X(!0);const{message:e}=await u();H.data=d(e)?e.map((e=>({...e,num:0}))):[],H.total=H.data.length}finally{F.value=[],X(!1)}},ee=async()=>{const{message:e}=await r();d(e)&&H.data.forEach(((t,a)=>{t.num=e[a]||0}))};return v((()=>q.isRefresh),(e=>{e&&(q.setRefresh(!1),Y())})),Y(),(e,t)=>{const l=g,i=b,n=_,s=k,o=p;return U(),E(o,{class:"p-16px"},{default:W((()=>[D(n,null,{toolsLeft:W((()=>[D(l,{type:"primary",onClick:M},{default:W((()=>[T(B(e.$t("Docker.Compose.index_1")),1)])),_:1}),D(l,{onClick:V},{default:W((()=>[T(B(e.$t("Docker.Compose.index_2")),1)])),_:1})])),table:W((()=>[D(i,{page:K(A),"onUpdate:page":t[0]||(t[0]=e=>L(A)?A.value=e:null),"is-page":!0,loading:K(Q),columns:K(G),data:K(H).data},null,8,["page","loading","columns","data"])])),_:1}),D(s,{show:K(z).show,"onUpdate:show":t[1]||(t[1]=e=>K(z).show=e),title:K(z).title,data:K(z).data,width:560,"min-height":224,footer:!0,component:K(a)},null,8,["show","title","data","component"]),D(s,{show:K(I).show,"onUpdate:show":t[2]||(t[2]=e=>K(I).show=e),title:K(I).title,data:K(I).data,width:950,"min-height":106,component:K(j)},null,8,["show","title","data","component"])])),_:1})}}}))}}}));
