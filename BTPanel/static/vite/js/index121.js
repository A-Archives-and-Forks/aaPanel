import{E as t,b as a,$ as s,_ as e,j as o,l as n,k as l}from"./page_layout.js?v=1741416570306";import{c as i,a as r}from"./public.js?v=1741416570306";import{g as u,s as c}from"./php.js?v=1741416570306";import{b as m}from"./soft.js?v=1741416570306";import{T as f,bO as p,bT as _}from"./naive.js?v=1741416570306";import{d,M as v,r as S,e as b,P as g,_ as y,$ as x,S as P,N as $,R as k,a0 as C,af as j,c as h}from"./vue.js?v=1741416570306";const w={class:"m-2px"},N=l(d({__name:"index",props:{softName:{default:""},openSoft:{default:""}},setup(l){const d=l,{t:N}=v(),R=S({status:!0,s_status:!0,msg:"",version:"0",name:"",title:"",admin:!1,s_version:""}),z=b((()=>t(R.value.name)+" "+R.value.version)),{loading:L,setLoading:M}=i(),T=async()=>{try{M(!0);const{message:t}=await u({name:d.softName});a(t)&&(R.value=t)}finally{M(!1)}},q=(a,s)=>{const e="".concat(s," ").concat(z.value),o=N("Component.SoftState.index_1",[s.toLowerCase(),t(R.value.name)]);r({title:e,content:o,onConfirm:async()=>{await c({name:R.value.s_version,type:a}),T()}})},D=()=>{m({name:d.openSoft?d.openSoft:d.softName,title:t(R.value.name),admin:!1})};return T(),(t,a)=>{const l=s,i=e,r=f,u=o,c=n,m=p,d=_;return g(),y(d,{trigger:"hover"},{trigger:x((()=>[P(L)?(g(),y(l,{key:0,width:120,height:32,sharp:!1})):(g(),y(r,{key:1,class:"min-w-120px soft-btn",type:P(R).s_status?"default":"error",onClick:D},{default:x((()=>[$(i,{name:"soft-".concat(t.softName),size:"20"},null,8,["name"]),k("span",w,C(P(z)),1),k("span",{class:j(["iconfont","icon-".concat(P(R).s_status?"start":"stop")])},null,2)])),_:1},8,["type"]))])),default:x((()=>[$(m,{class:"items-center",size:8},{default:x((()=>[$(u,{onClick:a[0]||(a[0]=a=>q(P(R).s_status?"stop":"start",P(R).s_status?t.$t("Public.Status.Stop"):t.$t("Public.Status.Start")))},{default:x((()=>[h(C(P(R).s_status?t.$t("Public.Status.Stop"):t.$t("Public.Status.Start")),1)])),_:1}),$(c,{class:"mx-0!",vertical:""}),$(u,{onClick:a[1]||(a[1]=t=>q("restart",P(N)("Public.Status.Restart")))},{default:x((()=>[h(C(t.$t("Public.Status.Restart")),1)])),_:1}),$(c,{class:"mx-0!",vertical:""}),$(u,{onClick:a[2]||(a[2]=t=>q("reload",P(N)("Public.Status.Reload")))},{default:x((()=>[h(C(t.$t("Public.Status.Reload")),1)])),_:1}),$(c,{class:"mx-0!",vertical:""}),$(u,{onClick:D},{default:x((()=>[h(C(t.$t("Database.Mysql.index_26")),1)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-155ce671"]]);export{N as _};
