import{_ as e}from"./index95.js?v=1744703330658";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1744703330658";import{I as i,m as l}from"./page_layout.js?v=1744703330658";import{b as t,f as n}from"./public.js?v=1744703330658";import{w as s,x as o,z as u}from"./site3.js?v=1744703330658";import{_ as r,T as m}from"./naive.js?v=1744703330658";import{d,O as p,j as f,R as c,S as _,U as x,P as v,V as g,a0 as C,c as S,a1 as y}from"./vue.js?v=1744703330658";import"./common.js?v=1744703330658";import"./__commonjsHelpers__.js?v=1744703330658";const W={class:"p-20px"},j={class:"flex mb-16px"},N={class:"flex-1 mr-16px"},h={class:"w-110px mr-16px"},$={class:"w-110px mr-32px"},b="url_tell",w=d({__name:"protect",props:{siteName:{default:""}},setup(d){const w=d,{t:k}=p(),U=f({uri:"",name:"",value:""}),P=async()=>{""!==U.uri.trim()&&""!==U.name.trim()&&""!==U.value.trim()?(await u({siteName:w.siteName,ruleName:b,ruleUri:U.uri,ruleValue:U.name,rulePass:U.value}),U.uri="",U.name="",U.value="",A()):l.error(k("Waf.Site.Config.index_95"))},{table:B,columns:V,setLoading:z}=t([{key:"uri",title:k("Waf.Site.Config.index_96")},{key:"name",title:k("Waf.Site.Config.index_89")},{key:"value",title:k("Waf.Site.Config.index_90")},n({width:80,options:(e,a)=>[{label:k("Public.Btn.Del"),onClick:async()=>{await s({index:a,siteName:w.siteName,ruleName:b}),A()}}]})]),A=async()=>{try{z(!0);const{siteName:e}=w,{message:a}=await o({siteName:e,ruleName:b});i(a)&&(B.data=a.map((([e,a,i])=>({uri:e,name:a,value:i}))))}finally{z(!1)}};return A(),(i,l)=>{const t=r,n=m,s=a,o=e;return c(),_("div",W,[x("div",j,[x("div",N,[v(t,{value:g(U).uri,"onUpdate:value":l[0]||(l[0]=e=>g(U).uri=e),placeholder:i.$t("Waf.Site.Config.index_88")},null,8,["value","placeholder"])]),x("div",h,[v(t,{value:g(U).name,"onUpdate:value":l[1]||(l[1]=e=>g(U).name=e),placeholder:i.$t("Waf.Site.Config.index_89")},null,8,["value","placeholder"])]),x("div",$,[v(t,{value:g(U).value,"onUpdate:value":l[2]||(l[2]=e=>g(U).value=e),placeholder:i.$t("Waf.Site.Config.index_90")},null,8,["value","placeholder"])]),v(n,{type:"primary",onClick:P},{default:C((()=>[S(y(i.$t("Public.Btn.Add")),1)])),_:1})]),v(s,{"max-height":250,loading:g(B).loading,data:g(B).data,columns:g(V)},null,8,["loading","data","columns"]),v(o,{class:"mt-16px"},{default:C((()=>[x("li",null,y(i.$t("Waf.Site.Config.index_91")),1),x("li",null,y(i.$t("Waf.Site.Config.index_81")),1),x("li",null,y(i.$t("Waf.Site.Config.index_92")),1),x("li",null,y(i.$t("Waf.Site.Config.index_93")),1),x("li",null,y(i.$t("Waf.Site.Config.index_94")),1)])),_:1})])}}});export{w as default};
