import{_ as e}from"./index104.js?v=1741416570306";import{_ as t}from"./index95.js?v=1741416570306";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1741416570306";import{b as l,H as n,m as i}from"./page_layout.js?v=1741416570306";import{b as s,f as o}from"./public.js?v=1741416570306";import{w as u,g as c,x as p,y as d,z as _,A as r}from"./setting.js?v=1741416570306";import{d as f,M as g,N as m,P as y,Q as b,S as h,$ as v,R as x,a0 as w,j as S,r as W,F as k,n as $,c as j,a7 as z,ae as E}from"./vue.js?v=1741416570306";import{bV as U,bS as L,_ as C,T as P,cb as B}from"./naive.js?v=1741416570306";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang.js?v=1741416570306";import"./common.js?v=1741416570306";import"./__commonjsHelpers__.js?v=1741416570306";const V=f({__name:"type",setup(e,{expose:n}){const{t:i}=g(),{table:o,columns:p,setLoading:d}=s([{key:"type",title:i("Waf.Setting.config_93")},{key:"status",title:i("Public.Table.Status"),align:"right",width:100,render:e=>m(U,{value:e.status,size:"small",onUpdateValue:async t=>{await u({method_type:e.type,check:t?1:0}),e.status=t}},null)}]),_=async()=>{try{d(!0);const{message:e}=await c();l(e)&&(o.data=e.method_type.map((e=>({type:e[0],status:e[1]}))))}finally{d(!1)}};return _(),n({init:_}),(e,l)=>{const n=a,i=t;return y(),b("div",null,[m(n,{"max-height":400,loading:h(o).loading,data:h(o).data,columns:h(p)},null,8,["loading","data","columns"]),m(i,{class:"mt-16px"},{default:v((()=>[x("li",null,w(e.$t("Waf.Setting.config_91")),1),x("li",null,w(e.$t("Waf.Setting.config_92")),1)])),_:1})])}}}),A={class:"flex mb-12px"},R={class:"flex-1 mr-12px"},T={class:"w-100px mr-12px"},D=f({__name:"header",setup(e,{expose:u}){const{t:r}=g(),f=S({type:"",length:null}),z=async()=>{f.type?f.length?(await _({header_type:f.type,header_type_len:f.length}),N(),f.type="",f.length=null):i.error(r("Waf.Setting.config_99")):i.error(r("Waf.Setting.config_98"))},E=W(null),{table:U,columns:B,setLoading:H}=s([{key:"type",title:"Header"},{key:"len",title:r("Waf.Setting.config_95"),width:100,render:e=>m(k,null,[e.isEdit?m(L,{ref:E,value:e.editLen,min:1,size:"small",showButton:!1,placeholder:"",onUpdateValue:t=>{e.editLen=t||1}},null):e.len])},o({width:100,options:e=>e.isEdit?[{label:r("Public.Btn.Save"),onClick:()=>{D(e)}},{label:r("Public.Btn.Cancel"),onClick:()=>{F(e)}}]:[{label:r("Public.Btn.Edit"),show:!e.isEdit,onClick:()=>{V(e)}},{label:r("Public.Btn.Del"),show:!e.isEdit,onClick:()=>{M(e)}}]})]),V=e=>{e.isEdit=!0,$((()=>{var e;null==(e=E.value)||e.focus()}))},D=async e=>{await p({header_type:e.type,header_type_len:e.editLen}),e.isEdit=!1,e.len=e.editLen},F=e=>{e.isEdit=!1,e.editLen=e.len},M=async e=>{await d({header_type:e.type,header_type_len:e.len}),N()},N=async()=>{try{H(!0);const{message:e}=await c();l(e)&&(U.data=e.header_len.map((e=>({type:e[0],len:n(e[1]),editLen:n(e[1]),isEdit:!1}))))}finally{H(!1)}};return N(),u({init:N}),(e,l)=>{const n=C,i=P,s=a,o=t;return y(),b("div",null,[x("div",A,[x("div",R,[m(n,{value:h(f).type,"onUpdate:value":l[0]||(l[0]=e=>h(f).type=e),placeholder:e.$t("Waf.Setting.config_94")},null,8,["value","placeholder"])]),x("div",T,[m(h(L),{value:h(f).length,"onUpdate:value":l[1]||(l[1]=e=>h(f).length=e),"show-button":!1,placeholder:e.$t("Waf.Setting.config_95")},null,8,["value","placeholder"])]),m(i,{type:"primary",onClick:z},{default:v((()=>[j(w(e.$t("Public.Btn.Add")),1)])),_:1})]),m(s,{"max-height":380,loading:h(U).loading,data:h(U).data,columns:h(B)},null,8,["loading","data","columns"]),m(o,{class:"mt-16px"},{default:v((()=>[x("li",null,w(e.$t("Waf.Setting.config_96")),1),x("li",null,w(e.$t("Waf.Setting.config_97")),1)])),_:1})])}}}),F={class:"p-20px"},M={class:"w-200px"},N={class:"w-200px"},Q={class:"w-200px"},q=f({__name:"count",setup(e,{expose:t}){const a=W(null),n=S({base64:1,body_size:8e5,post_count:1e3,get_count:1e3}),i={},s=async()=>{var e;await(null==(e=a.value)?void 0:e.validate()),await r(z(n))};return t({init:async()=>{const{message:e}=await c();l(e)&&(n.base64=e.http_config.base64?1:0,n.body_size=e.http_config.body_size,n.post_count=e.http_config.post_count,n.get_count=e.http_config.get_count)}}),(e,t)=>{const l=U,o=B,u=L,c=P,p=H;return y(),b("div",F,[m(p,{ref_key:"formRef",ref:a,model:h(n),rules:i,"label-width":"150"},{default:v((()=>[m(o,{label:e.$t("Waf.Setting.config_100"),path:"base64"},{default:v((()=>[m(l,{value:h(n).base64,"onUpdate:value":t[0]||(t[0]=e=>h(n).base64=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),m(o,{label:e.$t("Waf.Setting.config_101"),path:"body_size"},{default:v((()=>[x("div",M,[m(u,{value:h(n).body_size,"onUpdate:value":t[1]||(t[1]=e=>h(n).body_size=e),min:1,"show-button":!1},null,8,["value"])])])),_:1},8,["label"]),m(o,{label:e.$t("Waf.Setting.config_102"),path:"post_count"},{default:v((()=>[x("div",N,[m(u,{value:h(n).post_count,"onUpdate:value":t[2]||(t[2]=e=>h(n).post_count=e),min:1,"show-button":!1},{suffix:v((()=>[x("span",null,w(e.$t("Waf.Setting.config_103")),1)])),_:1},8,["value"])])])),_:1},8,["label"]),m(o,{label:e.$t("Waf.Setting.config_104"),path:"get_count"},{default:v((()=>[x("div",Q,[m(u,{value:h(n).get_count,"onUpdate:value":t[3]||(t[3]=e=>h(n).get_count=e),min:1,"show-button":!1},{suffix:v((()=>[x("span",null,w(e.$t("Waf.Setting.config_103")),1)])),_:1},8,["value"])])])),_:1},8,["label"]),m(o,{label:" "},{default:v((()=>[m(c,{type:"primary",onClick:s},{default:v((()=>[j(w(e.$t("Waf.Setting.config_105")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),G={class:"p-20px"},I=f({__name:"index",setup(t){const{t:a}=g(),l=W("type"),n=[{key:"type",label:a("Waf.Setting.config_88"),component:V},{key:"header",label:a("Waf.Setting.config_89"),component:D},{key:"count",label:a("Waf.Setting.config_90"),component:q}];return(t,a)=>{const i=e;return y(),b("div",G,[m(i,{value:h(l),"onUpdate:value":a[0]||(a[0]=e=>E(l)?l.value=e:null),options:n},null,8,["value"])])}}});export{I as default};
