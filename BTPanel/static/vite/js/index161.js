import{_ as a}from"./index.vue_vue_type_script_setup_true_lang.js?v=1749179669910";import{bm as e,fA as l}from"./page_layout.js?v=1749179669910";import{d as s,O as o,r as t,j as r,R as p,S as u,P as m,a1 as n,U as i,V as c,M as _}from"./vue.js?v=1749179669910";import{cp as d,cj as v,_ as f}from"./naive.js?v=1749179669910";import"./common.js?v=1749179669910";import"./__commonjsHelpers__.js?v=1749179669910";import"./public.js?v=1749179669910";const g={class:"px-20px pt-24px pb-8px"},b={class:"w-240px"},j={class:"w-240px"},x=s({__name:"index",props:{row:{},list:{default:()=>[]}},setup(s,{expose:x}){const h=s,{t:w}=o(),k=e(),D=t(null),y=r({name:"",tag:""}),I=t([]),L={tag:{trigger:["blur","input"],validator:()=>""===y.tag.trim()?new Error(w("Docker.LocalImage.push_4")):!!y.tag.includes(":")||new Error(w("Docker.LocalImage.push_5"))}};return(()=>{const a=h.list.filter((a=>"Docker public repository"!==a.name));I.value=a.map((a=>({label:a.name,value:a.name}))),y.name=a[0].name})(),x({onConfirm:async()=>{var a;await(null==(a=D.value)?void 0:a.validate()),await l({..._(y),id:h.row.id}),k.setRefresh(!0)}}),(e,l)=>{const s=d,o=v,t=f,r=a;return p(),u("div",g,[m(r,{ref_key:"formRef",ref:D,model:c(y),rules:L},{default:n((()=>[m(o,{label:e.$t("Docker.LocalImage.push_1")},{default:n((()=>[i("div",b,[m(s,{value:c(y).name,"onUpdate:value":l[0]||(l[0]=a=>c(y).name=a),options:c(I)},null,8,["value","options"])])])),_:1},8,["label"]),m(o,{label:e.$t("Docker.LocalImage.push_2"),path:"tag"},{default:n((()=>[i("div",j,[m(t,{value:c(y).tag,"onUpdate:value":l[1]||(l[1]=a=>c(y).tag=a),placeholder:e.$t("Docker.LocalImage.push_3")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"])])}}});export{x as default};
