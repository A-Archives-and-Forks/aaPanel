const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index124.js?v=1744703330658","js/index.vue_vue_type_script_setup_true_lang.js?v=1744703330658","js/naive.js?v=1744703330658","js/vue.js?v=1744703330658","js/__commonjsHelpers__.js?v=1744703330658","js/common.js?v=1744703330658","js/page_layout.js?v=1744703330658","js/public.js?v=1744703330658","css/public.css?v=1744703330658","css/page_layout.css?v=1744703330658","js/index.vue_vue_type_script_setup_true_lang2.js?v=1744703330658","js/index96.js?v=1744703330658","css/index15.css?v=1744703330658","js/index122.js?v=1744703330658","js/index123.js?v=1744703330658","css/index23.css?v=1744703330658","js/soft.js?v=1744703330658"])))=>i.map(i=>d[i]);
import{i as e,bj as a,bm as t,bn as s,bq as i,d as n,I as o,b9 as l,bp as d,a as p,l as r}from"./page_layout.js?v=1744703330658";import{_}from"./index.js?v=1744703330658";import{_ as u}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1744703330658";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1744703330658";import{_ as m}from"./index.vue_vue_type_script_setup_true_lang12.js?v=1744703330658";import{_ as h}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1744703330658";import{_ as y}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1744703330658";import{n as b,d as f,b as g,p as x,f as k,a as v,c as w}from"./public.js?v=1744703330658";import{g as j}from"./hooks.js?v=1744703330658";import{P as D,d as R,O as C,j as U,w as $,R as B,$ as L,a0 as P,V as W,M as z,U as I,c as q,a1 as E,af as K,Y as O}from"./vue.js?v=1744703330658";import{c as S,u as T,d as V,_ as A,e as H,g as M}from"./index122.js?v=1744703330658";import{T as Y,ck as F}from"./naive.js?v=1744703330658";import"./common.js?v=1744703330658";import"./__commonjsHelpers__.js?v=1744703330658";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1744703330658";import"./index123.js?v=1744703330658";import"./soft.js?v=1744703330658";const{t:G}=e.global;const J={class:"p-16px"},N=R({__name:"index",setup(e){const{t:R}=C(),N=O((()=>p((()=>import("./index124.js?v=1744703330658")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])))),Q=a(),X=f(),Z=()=>{X.show=!0},ee=()=>{M()},ae=async()=>{await t(Q.type,{ids:[]}),pe()},{keys:te,table:se,columns:ie}=g([{type:"selection",width:40},{key:"name",title:R("Database.index_12"),width:"12%",minWidth:120},{key:"username",title:R("Database.index_13"),width:"12%",minWidth:120},{key:"password",title:G("Database.index_14"),minWidth:150,render:e=>D(b,{value:e.password},null)},{key:"sid",title:G("Database.index_19"),width:"12%",minWidth:120,render:e=>j(e)},x({onBlur:async(e,a)=>{await d({id:a.id,ps:e})}}),k({width:140,options:e=>[{label:"Password",onClick:()=>{T(e)}},{label:R("Public.Btn.Del"),onClick:()=>{S([e])}}]})]),ne=[{key:"sync",label:R("Database.index_24"),onBatch:e=>{v({title:R("Database.index_25"),content:R("Database.index_26"),onConfirm:async({hide:a})=>{await t(Q.type,{ids:e.map((e=>e.id))}),a()}})}},{key:"backup",type:"confirm",label:R("Database.index_27"),confirm:{title:R("Database.index_28"),desc:R("Database.index_29"),api:e=>s(Q.type,{id:e.id},!1),done:()=>{pe()},columns:[{key:"name",title:R("Database.index_12")}]}},{key:"delete",label:R("Database.index_30"),onBatch:e=>{S(e)}}],{loading:oe,setLoading:le}=w(),de=U({p:1,limit:10,sid:-1,search:""}),pe=async()=>{try{le(!0);const{message:e}=await i(Q.type,(()=>{const e={...z(de)};return-1===e.sid&&delete e.sid,e})());n(e)?(se.data=o(e.data)?e.data:[],se.total=l(e.page)):(se.data=[],se.total=0)}finally{te.value=[],le(!1)}};$((()=>Q.isRefresh),(e=>{e&&(Q.setRefresh(!1),Q.delRemoteId===de.sid&&(de.sid=-1),pe())}));return(async()=>{await Q.getRemote(),Q.install&&pe()})(),(e,a)=>{const t=Y,s=r,i=y,n=h,o=m,l=c,d=u,p=_,b=F;return B(),L(W(H),null,{default:P((()=>[D(b,null,{default:P((()=>[I("div",J,[D(d,null,{toolsLeft:P((()=>[D(t,{type:"primary",onClick:Z},{default:P((()=>[q(E(e.$t("Database.index_1")),1)])),_:1}),D(t,{onClick:ee},{default:P((()=>[q(E(e.$t("Database.index_4")),1)])),_:1}),D(s,{class:"mx-0!",vertical:""}),D(t,{onClick:ae},{default:P((()=>[q(E(e.$t("Database.index_5")),1)])),_:1}),D(t,{onClick:W(V)},{default:P((()=>[q(E(e.$t("Database.index_6")),1)])),_:1},8,["onClick"])])),toolsRight:P((()=>[D(W(A),{value:W(de).sid,"onUpdate:value":a[0]||(a[0]=e=>W(de).sid=e),"store-key":"database-sqlserver-page",onChange:pe},null,8,["value"]),D(i,{value:W(de).search,"onUpdate:value":a[1]||(a[1]=e=>W(de).search=e),placeholder:"Database search",onSearch:pe},null,8,["value"])])),table:P((()=>[D(n,{"checked-row-keys":W(te),"onUpdate:checkedRowKeys":a[2]||(a[2]=e=>K(te)?te.value=e:null),loading:W(oe),data:W(se).data,columns:W(ie)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:P((()=>[D(o,{"checked-row-keys":W(te),"onUpdate:checkedRowKeys":a[3]||(a[3]=e=>K(te)?te.value=e:null),data:W(se).data,options:ne},null,8,["checked-row-keys","data"])])),pageRight:P((()=>[D(l,{page:W(de).p,"onUpdate:page":a[4]||(a[4]=e=>W(de).p=e),"page-size":W(de).limit,"onUpdate:pageSize":a[5]||(a[5]=e=>W(de).limit=e),"item-count":W(se).total,onRefresh:pe},null,8,["page","page-size","item-count"])])),_:1}),D(p,{show:W(X).show,"onUpdate:show":a[6]||(a[6]=e=>W(X).show=e),title:e.$t("Database.mongo.index_4"),width:540,"min-height":280,footer:!0,component:W(N)},null,8,["show","title","component"])])])),_:1})])),_:1})}}});export{N as default};
