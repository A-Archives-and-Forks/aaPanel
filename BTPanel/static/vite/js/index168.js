import{_ as e}from"./index95.js?v=1742891699271";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang.js?v=1742891699271";import{j as a,fg as l,fh as r}from"./page_layout.js?v=1742891699271";import{d as s,O as n,r as o,R as i,S as u,P as c,a1 as p,U as d,V as m,af as _,a2 as f,F as v,i as x}from"./vue.js?v=1742891699271";import{cn as j,ch as b}from"./naive.js?v=1742891699271";import"./common.js?v=1742891699271";import"./__commonjsHelpers__.js?v=1742891699271";import"./public.js?v=1742891699271";const g={class:"p-20px"},h={class:"w-460px"};const y=s({__name:"index",props:{url:{default:""},mirrors:{default:()=>({})}},emits:["refresh"],setup(s,{expose:y,emit:w}){const S=s,k=w,{t:D}=n(),$=o(null),O=o([]),P=({option:e})=>c(v,null,[e.title?"".concat(e.value,"(").concat(e.title,")"):e.label]),C=e=>{$.value=e},U=async()=>{await k("refresh",(e=>{B(e)}))},B=e=>{O.value=Object.entries(e).map((([e,t])=>({label:()=>{let l;return c("div",{class:"flex items-center justify-between w-full"},[c("span",{class:"mr-16px"},["".concat(e,"(").concat(t,")")]),c(a,{type:"error",onClick:t=>{t.stopPropagation(),(async e=>{await r({registry_mirrors_address:e}),await U()})(e)}},(s=l=D("Public.Btn.Del"),"function"==typeof s||"[object Object]"===Object.prototype.toString.call(s)&&!x(s)?l:{default:()=>[l]}))]);var s},title:t,value:e}))),O.value.push({label:D("Docker.Setting.url.index_5"),value:""})};(()=>{const{url:e,mirrors:t}=S;e&&($.value=e),B(t)})();return y({onConfirm:async()=>{await l({registry_mirrors_address:$.value?$.value:""}),k("refresh")}}),(a,l)=>{const r=j,s=b,n=t,o=e;return i(),u("div",g,[c(n,null,{default:p((()=>[c(s,{label:a.$t("Docker.Setting.index_7"),"show-feedback":!1},{default:p((()=>[d("div",h,[c(r,{value:m($),"onUpdate:value":l[0]||(l[0]=e=>_($)?$.value=e:null),filterable:!0,options:m(O),"consistent-menu-width":!1,"render-tag":P,placeholder:a.$t("Docker.Setting.url.index_1"),onSearch:C},null,8,["value","options","placeholder"])])])),_:1},8,["label"])])),_:1}),c(o,{class:"mt-24px"},{default:p((()=>[d("li",null,f(a.$t("Docker.Setting.url.index_2")),1),d("li",null,f(a.$t("Docker.Setting.url.index_3")),1),d("li",null,f(a.$t("Docker.Setting.url.index_4")),1)])),_:1})])}}});export{y as default};
