import{_ as a}from"./index95.js?v=1742891699271";import{_ as e}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1742891699271";import{d as s,O as t,r as i,R as l,S as n,U as o,P as m,V as r,af as u,an as p,a1 as d,c as f,a2 as c}from"./vue.js?v=1742891699271";import{I as _,m as x}from"./page_layout.js?v=1742891699271";import{b as v,f as g}from"./public.js?v=1742891699271";import{w as y,x as j,y as N}from"./site3.js?v=1742891699271";import{_ as b,T as h}from"./naive.js?v=1742891699271";import"./__commonjsHelpers__.js?v=1742891699271";import"./common.js?v=1742891699271";const C={class:"p-20px"},S={class:"flex mb-16px"},w={class:"flex-1 mr-16px"},W="disable_php_path",$=s({__name:"index",props:{siteName:{default:""}},setup(s){const $=s,{t:k}=t(),P=i(""),B=async()=>{""!==P.value.trim()?(await N({siteName:$.siteName,ruleName:W,ruleValue:P.value}),P.value="",D()):x.error(k("Waf.Site.Config.index_70"))},{table:U,columns:V,setLoading:A}=v([{key:"rule",title:k("Waf.Site.Config.index_66")},g({width:80,options:(a,e)=>[{label:k("Public.Btn.Del"),onClick:async()=>{await y({index:e,siteName:$.siteName,ruleName:W}),D()}}]})]),D=async()=>{try{A(!0);const{siteName:a}=$,{message:e}=await j({siteName:a,ruleName:W});_(e)&&(U.data=e.map((a=>({rule:a}))))}finally{A(!1)}};return D(),(s,t)=>{const i=b,_=h,x=e,v=a;return l(),n("div",C,[o("div",S,[o("div",w,[m(i,{value:r(P),"onUpdate:value":t[0]||(t[0]=a=>u(P)?P.value=a:null),placeholder:s.$t("Waf.Site.Config.index_67"),onKeyup:p(B,["enter"])},null,8,["value","placeholder"])]),m(_,{type:"primary",onClick:B},{default:d((()=>[f(c(s.$t("Public.Btn.Add")),1)])),_:1})]),m(x,{"max-height":368,loading:r(U).loading,data:r(U).data,columns:r(V)},null,8,["loading","data","columns"]),m(v,{class:"mt-16px"},{default:d((()=>[o("li",null,c(s.$t("Waf.Site.Config.index_68")),1),o("li",null,c(s.$t("Waf.Site.Config.index_69")),1)])),_:1})])}}});export{$ as default};
