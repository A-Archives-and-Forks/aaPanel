System.register(["./page_layout-legacy.js?v=1742891699271","./index-legacy.js?v=1742891699271","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1742891699271","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1742891699271","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1742891699271","./public-legacy.js?v=1742891699271","./ssl-legacy.js?v=1742891699271","./transition-legacy.js?v=1742891699271","./vue-legacy.js?v=1742891699271","./naive-legacy.js?v=1742891699271","./common-legacy.js?v=1742891699271","./__commonjsHelpers__-legacy.js?v=1742891699271","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1742891699271"],(function(e,t){"use strict";var a,n,o,l,i,s,d,c,u,r,_,h,p,m,y,w,g,S,x,f,j,v,L,k,b,C,U,R,T,V,O,z,M,D,H,P,B,F,I,Y;return{setters:[e=>{a=e.u,n=e.j,o=e.b,l=e.a},e=>{i=e._},e=>{s=e._},e=>{d=e._},e=>{c=e._},e=>{u=e.d,r=e.b,_=e.f,h=e.a},e=>{p=e.s,m=e.i,y=e.j,w=e.k,g=e.r},e=>{S=e.r,x=e.u,f=e.i,j=e.T},e=>{v=e.d,L=e._,k=e.O,b=e.j,C=e.P,U=e.r,R=e.f,T=e.o,V=e.V,O=e.R,z=e.a0,M=e.a1,D=e.i,H=e.c,P=e.a2,B=e.Y},e=>{F=e.b$,I=e.ck,Y=e.T},null,null,null],execute:function(){e("default",v({__name:"index",setup(e){const v=a(),{userInfo:$}=L(v),q=B((()=>l((()=>t.import("./index-legacy197.js?v=1742891699271")),void 0))),A=B((()=>l((()=>t.import("./index-legacy198.js?v=1742891699271")),void 0))),E=B((()=>l((()=>t.import("./index-legacy199.js?v=1742891699271")),void 0))),G=B((()=>l((()=>t.import("./index-legacy200.js?v=1742891699271")),void 0))),J=B((()=>l((()=>t.import("./ssl-log-legacy.js?v=1742891699271")),void 0))),{t:K}=k(),N=u(K("SSL.index_48"),{onRefresh:()=>{se()}}),Q=u(K("SSL.index_44"),{onRefresh:()=>{se()},onOpenLog:e=>{oe(e)}}),W=u(K("SSL.index_45"),{onRefresh:()=>{se()}}),X=u(K("SSL.index_49"),{onRefresh:()=>{se()}}),Z=u(K("SSL.index_50")),ee=b({p:1,limit:10}),te=()=>{h({title:K("SSL.index_51"),content:K("SSL.index_52"),onConfirm:async()=>{await g(),se()}})},{table:ae,columns:ne}=r([S((e=>{oe(e)})),{key:"ssl_type",title:K("SSL.index_53"),render:e=>C("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},x({title:K("SSL.index_54")}),{key:"proxy",title:K("SSL.index_55"),render:e=>C(F,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[t=>e.auto_renew=t,async()=>{try{await p({hash:e.hash})}catch{e.auto_renew=1===e.auto_renew?0:1}}]},null)},{key:"alarm",title:K("SSL.Domain.index_26"),render:e=>C(F,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await m({hash:e.hash,alarm:t})}catch{e.alarm=1===t?0:1}}]},null)},f(((e,t)=>{X.data.row=e,X.show=!0,X.data.menu=t})),{key:"last_apply_time",title:K("SSL.index_56")},{key:"last_apply_log",title:K("SSL.index_57"),align:"center",render:e=>{let t;return e.log?C(n,{onClick:()=>{oe(e.log)}},"function"==typeof(a=t=K("Ftp.Table.index_15"))||"[object Object]"===Object.prototype.toString.call(a)&&!D(a)?t:{default:()=>[t]}):"--";var a}},_({width:250,options:e=>[{label:K("SSL.index_58"),onClick:async()=>{X.data.row=e,X.show=!0}},{label:K("Mail.Mass.index_61"),onClick:()=>{N.data.row=e,N.show=!0}},{label:K("Public.Btn.Del"),onClick:()=>{h({title:K("SSL.index_59"),content:K("SSL.index_60"),onConfirm:async()=>{await y({hash:e.hash}),se()}})}}]})]),oe=e=>{Z.data.path=e,Z.show=!0};let le=null;const ie=U(!1),se=async()=>{try{ie.value||(ae.loading=!0);const{message:e}=await w(ee);o(e)&&(ie.value=e.data.some((e=>e.task.some((e=>100!==e.task_status)))),ie.value?de():le&&clearTimeout(le),ae.data=e.data,ae.total=e.total)}finally{ae.loading=!1}},de=async()=>{le=window.setTimeout((()=>{se()}),5e3)};return R((()=>{se()})),T((()=>{le&&clearTimeout(le)})),(e,t)=>{const a=Y,n=c,o=d,l=s,u=i,r=I;return V($).status?(O(),z(r,{key:0,class:"p-16px"},{default:M((()=>[C(l,null,{toolsLeft:M((()=>[C(a,{type:"primary",onClick:t[0]||(t[0]=e=>V(Q).show=!0)},{default:M((()=>[H(P(V(K)("SSL.index_44")),1)])),_:1}),C(a,{onClick:t[1]||(t[1]=e=>V(W).show=!0)},{default:M((()=>[H(P(V(K)("SSL.index_45")),1)])),_:1}),C(a,{onClick:te},{default:M((()=>[H(P(V(K)("SSL.index_46")),1)])),_:1})])),table:M((()=>[C(n,{loading:V(ae).loading,data:V(ae).data,columns:V(ne)},null,8,["loading","data","columns"])])),pageRight:M((()=>[C(o,{page:V(ee).p,"onUpdate:page":t[2]||(t[2]=e=>V(ee).p=e),"page-size":V(ee).limit,"onUpdate:pageSize":t[3]||(t[3]=e=>V(ee).limit=e),"item-count":V(ae).total,onRefresh:se},null,8,["page","page-size","item-count"])])),_:1}),C(u,{show:V(Q).show,"onUpdate:show":t[4]||(t[4]=e=>V(Q).show=e),title:V(Q).title,data:V(Q).data,width:550,"min-height":250,footer:!0,component:V(q),"confirm-text":V(K)("SSL.index_47")},null,8,["show","title","data","component","confirm-text"]),C(u,{show:V(N).show,"onUpdate:show":t[5]||(t[5]=e=>V(N).show=e),title:V(N).title,data:V(N).data,width:650,footer:!1,component:V(E)},null,8,["show","title","data","component"]),C(u,{show:V(W).show,"onUpdate:show":t[6]||(t[6]=e=>V(W).show=e),title:V(W).title,data:V(W).data,width:800,"min-height":500,footer:!0,component:V(A)},null,8,["show","title","data","component"]),C(u,{show:V(Z).show,"onUpdate:show":t[7]||(t[7]=e=>V(Z).show=e),title:V(Z).title,data:V(Z).data,width:650,"min-height":450,component:V(J)},null,8,["show","title","data","component"]),C(u,{show:V(X).show,"onUpdate:show":t[8]||(t[8]=e=>V(X).show=e),title:V(X).title,data:V(X).data,width:720,height:530,component:V(G)},null,8,["show","title","data","component"])])),_:1})):(O(),z(j,{key:1}))}}}))}}}));
