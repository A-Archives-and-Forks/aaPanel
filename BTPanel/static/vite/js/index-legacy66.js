System.register(["./index-legacy103.js?v=1749179669910","./page_layout-legacy.js?v=1749179669910","./vue-legacy.js?v=1749179669910","./index-legacy122.js?v=1749179669910","./index-legacy.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1749179669910","./public-legacy.js?v=1749179669910","./utils-legacy2.js?v=1749179669910","./index-legacy202.js?v=1749179669910","./naive-legacy.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy9.js?v=1749179669910","./transition-legacy.js?v=1749179669910","./common-legacy.js?v=1749179669910","./__commonjsHelpers__-legacy.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1749179669910","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1749179669910","./paypal-js-legacy.js?v=1749179669910"],(function(e,t){"use strict";var a,n,i,o,s,l,r,d,c,u,_,h,p,m,w,y,g,S,f,x,L,v,k,b,j,C,E,B,U,D,R,I,P,T,N,M,O,z,V,A,F,q,G,H,X,$,Y,J,K,Q,W,Z,ee;return{setters:[e=>{a=e._},e=>{n=e.u,i=e.a4,o=e.c,s=e.a,l=e._,r=e.o},e=>{d=e.d,c=e._,u=e.O,_=e.j,h=e.P,p=e.c,m=e.R,w=e.a0,y=e.a1,g=e.V,S=e.U,f=e.a2,x=e.Y,L=e.r,v=e.o,k=e.S,b=e.i,j=e.aj},e=>{C=e._},e=>{E=e._},e=>{B=e._},e=>{U=e._},e=>{D=e.e,R=e.c,I=e.a2,P=e.f,T=e.a3,N=e.a,M=e.a4,O=e.a5,z=e.n,V=e._,A=e.h,F=e.a6,q=e.a7,G=e.a8},e=>{H=e.u,X=e.i,$=e.r},e=>{Y=e.A},e=>{J=e.c0,K=e.T,Q=e.b_,W=e.cm},e=>{Z=e._},e=>{ee=e.T},null,null,null,null,null],execute:function(){const te=d({__name:"index",setup(e){const a=x((()=>s((()=>t.import("./index-legacy197.js?v=1749179669910")),void 0))),d=x((()=>s((()=>t.import("./index-legacy198.js?v=1749179669910")),void 0))),L=x((()=>s((()=>t.import("./dns-verification-legacy.js?v=1749179669910")),void 0))),v=n(),{userInfo:k}=c(v),{t:b}=u(),j=_({p:1,limit:10}),F=D(b("SSL.Business.index_41"),{onRefresh:(e,t)=>{$.data.request=!0,$.data.uc_id=t,$.data.verify=e,$.show=!0,te()}}),q=D(b("SSL.index_44")),G=D(b("SSL.index_49"),{onRefresh:()=>{te()}}),$=D(b("SSL.Business.index_42"),{onRefresh:()=>{te()}}),{table:W,columns:Z}=R([{key:"provider",title:b("SSL.Domain.index_28"),render:e=>e.provider||"--"},{key:"verify_domains",title:b("SSL.index_53"),render:e=>h("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:b("Site.Cert.index_44"),render:e=>e.order_info.title},H({title:b("SSL.index_54")}),{key:"alarm",title:b("SSL.Domain.index_26"),render:e=>void 0!==e.alarm?h(J,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await I({hash:e.hash,alarm:t})}catch{e.alarm=1===t?0:1}}]},null):h("span",null,[p("--")])},{key:"create_time",title:b("Docker.Container.index_9"),render:e=>i(e.order_info.create_time)},X(((e,t)=>{G.data.row=e,G.show=!0,G.data.menu=t})),{key:"order_status",title:b("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?h("span",{class:"color-warning"},[b("SSL.Business.index_45")]):"PENDING"===t.order_status&&1===t.status?h("span",{class:"color-warning"},[b("SSL.Business.index_46")]):"COMPLETE"===t.order_status&&1===t.status?h("span",{class:"color-#20a53a"},[b("SSL.Business.index_47")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?h("span",{class:"color-warning"},[b("SSL.Business.index_48")]):"FAILED"===t.order_status&&1===t.status?h("span",{class:"color-error"},[b("SSL.Business.index_49")]):"EXPIRED"===t.order_status&&1===t.status?h("span",{class:"color-warning"},[b("SSL.Business.index_50")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?h("span",{class:"color-warning"},[b("SSL.Business.index_52")]):void 0:h("span",{class:"color-warning"},[b("SSL.Business.index_51")]):h("span",{class:"color-warning cursor-pointer",onClick:()=>ee(e)},[b("SSL.Business.index_44")])}},P({width:250,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:b("SSL.Business.index_53"),onClick:()=>{ee(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:b("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await T({uc_id:e.order_info.uc_id});o(t)&&($.data.uc_id=e.order_info.uc_id,$.data.verify=t.data,$.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:b("SSL.index_58"),onClick:async()=>{G.data.row=e,G.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:b("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:b("Public.Btn.Del"),onClick:()=>{N({title:b("SSL.index_59"),content:b("SSL.index_60"),onConfirm:async()=>{await M({hash:e.hash}),te()}})}}]})]),ee=e=>{F.data.row=e,F.show=!0},te=async()=>{try{W.loading=!0;const{message:e}=await O(j);o(e)&&(W.data=e.data,W.total=e.total)}finally{W.loading=!1}};return k.value.status&&te(),(e,t)=>{const n=K,i=l,o=r,s=V,c=Q,u=A,_=U,x=B,v=E,D=C;return m(),w(D,{install:g(k).status},{desc:y((()=>[t[7]||(t[7]=S("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),h(n,{type:"primary",onClick:g(z)},{default:y((()=>[p(f(e.$t("Login.index_3")),1)])),_:1},8,["onClick"])])),default:y((()=>[h(x,null,{toolsLeft:y((()=>[h(n,{type:"primary",onClick:t[0]||(t[0]=e=>g(q).show=!0)},{default:y((()=>[p(f(g(b)("SSL.index_44")),1)])),_:1}),h(c,{trigger:"hover"},{trigger:y((()=>[h(i,{name:"base-info",size:18,color:"#999"})])),default:y((()=>[h(s,null,{default:y((()=>[t[9]||(t[9]=S("li",null," If your site uses CDN, high-defence IP, reverse proxy, 301 redirect, etc., it may lead to validation failure ",-1)),t[10]||(t[10]=S("li",null," Certificates can be purchased for many years, and can only be issued once a year (valid for one year), and need to be renewed within 30 days before expiration (domain verification is not required for renewal) ",-1)),t[11]||(t[11]=S("li",null,"Apply for www.aapanel.com certificate with www as the secondary domain name, binding and resolving the top-level domain (aapanel.com) is required, otherwise the verification will fail",-1)),S("li",null,[t[8]||(t[8]=p("Compared with ordinary certificates, commercial certificates have higher security, compensation protection and support for wildcard and multi-domain names ")),h(o,{target:"_blank",href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html"},{default:y((()=>[p(f(e.$t("SSL.Business.index_20")),1)])),_:1})])])),_:1})])),_:1})])),table:y((()=>[h(u,{loading:g(W).loading,data:g(W).data,columns:g(Z)},null,8,["loading","data","columns"])])),pageRight:y((()=>[h(_,{page:g(j).p,"onUpdate:page":t[1]||(t[1]=e=>g(j).p=e),"page-size":g(j).limit,"onUpdate:pageSize":t[2]||(t[2]=e=>g(j).limit=e),"item-count":g(W).total,onRefresh:te},null,8,["page","page-size","item-count"])])),_:1}),h(v,{show:g(q).show,"onUpdate:show":t[3]||(t[3]=e=>g(q).show=e),title:g(q).title,data:g(q).data,"min-height":250,component:Y},null,8,["show","title","data"]),h(v,{show:g(F).show,"onUpdate:show":t[4]||(t[4]=e=>g(F).show=e),title:g(F).title,data:g(F).data,width:650,"min-height":450,component:g(a)},null,8,["show","title","data","component"]),h(v,{show:g(G).show,"onUpdate:show":t[5]||(t[5]=e=>g(G).show=e),title:g(G).title,data:g(G).data,width:720,height:530,component:g(d)},null,8,["show","title","data","component"]),h(v,{show:g($).show,"onUpdate:show":t[6]||(t[6]=e=>g($).show=e),title:g($).title,data:g($).data,width:650,"min-height":450,component:g(L)},null,8,["show","title","data","component"])])),_:1},8,["install"])}}}),ae=d({__name:"index",setup(e){const a=x((()=>s((()=>t.import("./index-legacy199.js?v=1749179669910")),void 0))),n=x((()=>s((()=>t.import("./index-legacy200.js?v=1749179669910")),void 0))),i=x((()=>s((()=>t.import("./index-legacy201.js?v=1749179669910")),void 0))),l=x((()=>s((()=>t.import("./index-legacy198.js?v=1749179669910")),void 0))),d=x((()=>s((()=>t.import("./ssl-log-legacy.js?v=1749179669910")),void 0))),{t:c}=u(),w=D(c("SSL.index_48"),{onRefresh:()=>{ae()}}),S=D(c("SSL.index_44"),{onRefresh:()=>{ae()},onOpenLog:e=>{W(e)}}),j=D(c("SSL.index_45"),{onRefresh:()=>{ae()}}),C=D(c("SSL.index_49"),{onRefresh:()=>{ae()}}),T=D(c("SSL.index_50")),O=_({p:1,limit:10,is_order:0,search:""}),z=()=>{O.p=1,ae()},V=()=>{N({title:c("SSL.index_51"),content:c("SSL.index_52"),onConfirm:async()=>{await G(),ae()}})},{table:Y,columns:Q}=R([$((e=>{W(e)})),{key:"ssl_type",title:c("SSL.index_53"),render:e=>h("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},H({title:c("SSL.index_54")}),{key:"proxy",title:c("SSL.index_55"),render:e=>h(J,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[t=>e.auto_renew=t,async()=>{try{await F({hash:e.hash})}catch{e.auto_renew=1===e.auto_renew?0:1}}]},null)},{key:"alarm",title:c("SSL.Domain.index_26"),render:e=>h(J,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await I({hash:e.hash,alarm:t})}catch{e.alarm=1===t?0:1}}]},null)},X(((e,t)=>{C.data.row=e,C.show=!0,C.data.menu=t})),{key:"last_apply_time",title:c("SSL.index_56")},{key:"last_apply_log",title:c("SSL.index_57"),align:"center",render:e=>{let t;return e.log?h(r,{onClick:()=>{W(e.log)}},"function"==typeof(a=t=c("Ftp.Table.index_15"))||"[object Object]"===Object.prototype.toString.call(a)&&!b(a)?t:{default:()=>[t]}):"--";var a}},P({width:250,options:e=>[{label:c("SSL.index_58"),onClick:async()=>{C.data.row=e,C.show=!0}},{label:c("Mail.Mass.index_61"),onClick:()=>{w.data.row=e,w.show=!0}},{label:c("Public.Btn.Del"),onClick:()=>{N({title:c("SSL.index_59"),content:c("SSL.index_60"),onConfirm:async()=>{await M({hash:e.hash}),ae()}})}}]})]),W=e=>{T.data.path=e,T.show=!0};let ee=null;const te=L(!1),ae=async()=>{try{te.value||(Y.loading=!0);const{message:e}=await q(O);o(e)&&(te.value=e.data.some((e=>e.task.some((e=>100!==e.task_status)))),te.value?ne():ee&&clearTimeout(ee),Y.data=e.data,Y.total=e.total)}finally{Y.loading=!1}},ne=async()=>{ee=window.setTimeout((()=>{ae()}),5e3)};return ae(),v((()=>{ee&&clearTimeout(ee)})),(e,t)=>{const o=K,s=Z,r=A,u=U,_=B,x=E;return m(),k("div",null,[h(_,null,{toolsLeft:y((()=>[h(o,{type:"primary",onClick:t[0]||(t[0]=e=>g(S).show=!0)},{default:y((()=>[p(f(g(c)("SSL.index_44")),1)])),_:1}),h(o,{onClick:t[1]||(t[1]=e=>g(j).show=!0)},{default:y((()=>[p(f(g(c)("SSL.index_45")),1)])),_:1}),h(o,{onClick:V},{default:y((()=>[p(f(g(c)("SSL.index_46")),1)])),_:1})])),toolsRight:y((()=>[h(s,{value:g(O).search,"onUpdate:value":t[2]||(t[2]=e=>g(O).search=e),onSearch:z},null,8,["value"])])),table:y((()=>[h(r,{loading:g(Y).loading,data:g(Y).data,columns:g(Q)},null,8,["loading","data","columns"])])),pageRight:y((()=>[h(u,{page:g(O).p,"onUpdate:page":t[3]||(t[3]=e=>g(O).p=e),"page-size":g(O).limit,"onUpdate:pageSize":t[4]||(t[4]=e=>g(O).limit=e),"item-count":g(Y).total,onRefresh:ae},null,8,["page","page-size","item-count"])])),_:1}),h(x,{show:g(S).show,"onUpdate:show":t[5]||(t[5]=e=>g(S).show=e),title:g(S).title,data:g(S).data,width:550,"min-height":250,footer:!0,component:g(a),"confirm-text":g(c)("SSL.index_47")},null,8,["show","title","data","component","confirm-text"]),h(x,{show:g(w).show,"onUpdate:show":t[6]||(t[6]=e=>g(w).show=e),title:g(w).title,data:g(w).data,width:650,footer:!1,component:g(i)},null,8,["show","title","data","component"]),h(x,{show:g(j).show,"onUpdate:show":t[7]||(t[7]=e=>g(j).show=e),title:g(j).title,data:g(j).data,width:800,"min-height":500,footer:!0,component:g(n)},null,8,["show","title","data","component"]),h(x,{show:g(T).show,"onUpdate:show":t[8]||(t[8]=e=>g(T).show=e),title:g(T).title,data:g(T).data,width:650,"min-height":450,component:g(d)},null,8,["show","title","data","component"]),h(x,{show:g(C).show,"onUpdate:show":t[9]||(t[9]=e=>g(C).show=e),title:g(C).title,data:g(C).data,width:720,height:530,component:g(l)},null,8,["show","title","data","component"])])}}});e("default",d({__name:"index",setup(e){const{t:t}=u(),i=n(),{userInfo:o}=c(i),s=L("business"),l=[{key:"business",label:t("SSL.index_9"),component:te},{key:"let-encrypt",label:"Let's Encrypt",component:ae}];return(e,t)=>{const n=a,i=W;return g(o).status?(m(),w(i,{key:0,class:"p-16px"},{default:y((()=>[h(n,{value:g(s),"onUpdate:value":t[0]||(t[0]=e=>j(s)?s.value=e:null),options:l},null,8,["value"])])),_:1})):(m(),w(ee,{key:1}))}}}))}}}));
