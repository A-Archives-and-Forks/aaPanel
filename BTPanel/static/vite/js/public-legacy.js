System.register(["./vue-legacy.js?v=1744703330658","./page_layout-legacy.js?v=1744703330658","./naive-legacy.js?v=1744703330658","./common-legacy.js?v=1744703330658"],(function(t,e){"use strict";var n,a,i,l,o,s,c,u,r,d,p,m,h,f,v,b,y,g,x,k,w,C,_,j,S,P,W,B,$,V,R,q,M,N,z,T,L,O,I,U,H,A,E,F,Q,D,G,J,Y,K,Z,X,tt,et,nt,at,it,lt,ot,st,ct,ut,rt;return{setters:[t=>{n=t.r,a=t.d,i=t.O,l=t.f,o=t.n,s=t.P,c=t.c,u=t.ab,r=t.j,d=t.Y,p=t.ac,m=t.e,h=t.V,f=t.R,v=t.$,b=t.a0,y=t.a1,g=t.S,x=t.U,k=t.ad,w=t.k,C=t.ae,_=t.af,j=t.ag,S=t.F,P=t.i,W=t.ah,B=t.ai,$=t.o,V=t._,R=t.aj,q=t.y,M=t.G},t=>{N=t.g,z=t.m,T=t._,L=t.a,O=t.i,I=t.b,U=t.u,H=t.c,A=t.d,E=t.e,F=t.f,Q=t.h,D=t.j,G=t.k,J=t.l,Y=t.s,K=t.n,Z=t.o},t=>{X=t.bq,tt=t.bY,et=t._,nt=t.bR,at=t.bz,it=t.bZ,lt=t.S,ot=t.bU,st=t.b_,ct=t.b$,ut=t.c0,rt=t.c1},null],execute:function(){var dt=document.createElement("style");dt.textContent=".bt-table-input[data-v-04feea87]{width:100%;height:22px;padding:0;outline-offset:2px;border:1px solid transparent;background:transparent;white-space:pre-line;color:#666}.bt-table-input[data-v-04feea87]:hover,.bt-table-input[data-v-04feea87]:focus{border:1px solid #20a53a;background-color:#fff}\n",document.head.appendChild(dt),t({A:function(t){return new Promise(((e,n)=>{if(U().isFree)return _t(t),void n(!1);e(!0)}))},B:async function(t){const{message:e}=await H({sName:t});if(A(e)&&!e.status)return wt(t),Promise.reject(!1)},C:function(t=100){const e=n(0);let a=null;return function n(){a=requestAnimationFrame((()=>{e.value++,e.value>=t||n()}))}(),M((()=>{a&&cancelAnimationFrame(a)})),{defer:function(t){return e.value>=t}}},D:function(){l((()=>{setTimeout((()=>{zt()}),1e3)}))},E:function(t={}){const e=t.key||"progress",n=t.placement||"inside",a=t.loading||!0;return{key:e,title:t.title||O.global.t("Mail.Unsubscribe.index_26"),width:t.width||"10%",minWidth:100,maxWidth:t.maxWidth,render:i=>s(at,{type:"line","indicator-placement":n,percentage:i[e],processing:a&&100!==i[e],height:t.height,status:t.status,color:t.color},null)}},F:function(t={}){const e=t.key||"password";return{key:e,title:t.title||O.global.t("Public.Table.Password"),width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,render:t=>{const n=t[e];return s(Nt,{value:K(n)?n:""},null)}}},G:function(t){const{key:e="status"}=t;return{key:t.key||"Caching(nginx)",title:t.title||"Caching(nginx)",width:t.width,minWidth:70,render:n=>s($t,{disabled:!!t.disabled&&t.disabled(n),tips:t.tips,value:n[e],onClick:e=>{t.onClick(e,n)}},null)}},H:async function(){await zt(),await Tt(),loginActivity()},R:async function(){if(!localStorage.getItem("loginActivityShown"))try{await I()}catch{Ct()}},b:function(t){const e=n([]),a=r({data:[],total:0,loading:!1}),i=n(t);return{keys:e,table:a,columns:i,setLoading:(t,e=!0)=>{e&&(a.loading=t)}}},c:function(t=!1){const e=n(t);return{loading:e,setLoading:(t,n=!0)=>{n&&(e.value=t)}}},d:function(t="",e={}){return r({show:!1,title:t,data:e})},e:_t,f:function(t){return{key:t.key||"action",title:t.title||O.global.t("Public.Table.Action"),align:t.align||"right",width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,render:(e,n)=>s(Bt,{options:t.options?.(e,n)||[]},null)}},i:function(){vt({title:O.global.t("Home.index_8"),width:350,minHeight:110,component:d((()=>L((()=>e.import("./index-legacy94.js?v=1744703330658")),void 0)))})},j:function(t,e=3){let n=null,a=!1,i=0;const l=()=>{a||i>=3?o():n=window.setTimeout((async()=>{try{await t(),i=0}catch{i++}finally{l()}}),1e3*e)},o=()=>{n&&(clearTimeout(n),n=null)};return $((()=>{a=!0,o()})),{loop:l,clearTimer:o}},l:Ct,m:function(t){const{key:e="status"}=t;return{key:e,title:t.title||O.global.t("Public.Table.Status"),width:t.width||"8%",minWidth:t.minWidth||80,render:n=>{const a=t.status(n);return s(Wt,{value:n[e],"checked-label":a.checkedLabel,"checked-value":a.checkedValue,"unchecked-label":a.uncheckedLabel,"unchecked-value":a.uncheckedValue,onClick:t=>{a.onClick?.(t)}},null)}}},o:function(t={}){return{key:t.key||"quota",title:t.title||O.global.t("Component.Quota.index_1"),width:t.width||"8%",minWidth:t.minWidth||100,maxWidth:t.maxWidth||120,render:e=>s(St,{type:t.type||"",data:e,callback:t.callback},null)}},p:function(t){const{key:e="ps"}=t;return{key:e,title:t.title||O.global.t("Public.Table.Note"),width:t.width,minWidth:t.minWidth||120,render:n=>s(Pt,{value:n[e],onBlur:async(a,i)=>{const l=n[e];if(l!==a)try{await t.onBlur(a,n),n[e]=a}catch(o){i.target.value=l,console.error(o)}}},null)}},q:zt,r:function(t){const e=n("auto"),a=U(),{mainHeight:i}=V(a),{top:l,bottom:o}=R(t);return q((()=>{if(0===i.value)return;const t=document.querySelector("#layout-main"),n=t?.children[0],a=n?.getBoundingClientRect(),s=(a?.bottom||0)-o.value;e.value=i.value-l.value-s+"px"})),{height:e}},s:function(t,e={}){const n={},a=p(function(){const{host:e,protocol:n}=window.location;return("http:"===n?"ws://":"wss://")+e+"/v2"+t}(),{autoReconnect:{retries:0,delay:500},immediate:e.immediate,onConnected:()=>{!function(){const t={};t["x-http-token"]=document.getElementById("request_token_head")?.getAttribute("token"),e.verifyData&&Object.assign(t,e.verifyData),i(t)}(),l()},onMessage:(t,a)=>{if(E(a.data)){const e=JSON.parse(a.data),i=e.callback||e.ws_callback||e.def_name;i&&n[i]&&n[i].callback(t,a)}e.onMessage?.(t,a)},onDisconnected:e.onDisconnected}),i=t=>{(t=>a.status.value===t)("OPEN")&&a.send(A(t)?JSON.stringify(t):t)},l=()=>{Object.entries(n).forEach((([,t])=>{i(t.data)}))};return{...a,send:(t,e)=>{if(e)n[e.action]={data:t,callback:e.callback};else{const e=F(10);n[e]={data:t,callback:()=>{}}}i(t)},close:()=>{Object.keys(n).forEach((t=>{delete n[t]})),a.close()}}},v:Tt,x:function(t){const e=U(),{mainHeight:n}=V(e),{top:a,bottom:i}=R(t);return{height:m((()=>{if(0===n.value)return"auto";const t=document.querySelector("#layout-main"),e=t?.children[0],l=e?.getBoundingClientRect(),o=(l?.bottom||0)-i.value;return n.value-a.value-o+"px"}))}},y:function(t){const{key:e="status"}=t;return{key:t.key||"status",title:t.title||O.global.t("Public.Table.Status"),width:t.width,minWidth:70,render:n=>s(Wt,{value:n[e],"checked-title":t.checkedLabel||O.global.t("Public.Status.Running"),"unchecked-title":t.uncheckedLabel||O.global.t("Public.Status.Stop"),checkedValue:t.checkedValue,uncheckedValue:t.uncheckedValue,onClick:e=>{t.confirm&&bt(t.confirm(e,n))}},null)}},z:function(t={}){const e=B();return{key:t.key||"path",title:t.title||O.global.t("Public.Table.Path"),width:t.width,minWidth:t.minWidth||120,ellipsis:{tooltip:!0},render:t=>s("a",{class:"text-primary hover:text-primary-hover",href:"javascript:;",onClick:()=>{Y("Path",t.path),e.push("/files")}},[t.path])}}});const pt={dynamicModals:n([]),modalInstRefs:{}},mt=t("g",(()=>pt)),ht=a({name:"BtModal",props:{data:{type:Object}},setup(t){const{t:e}=i(),a=n(0),s=n(0),c=n(null),u=n(null);return u.value=null,a.value=Math.round(9*Math.random()+1),s.value=Math.round(9*Math.random()+1),l((()=>{o((()=>{c.value&&c.value.focus()}))})),{sum:u,addend1:a,addend2:s,inputRef:c,onConfirm:async n=>(u.value===a.value+s.value?(await(t.data?.onConfirm?.(n)),n.hide()):z.error(e("Component.Confirm.index_5")),!1)}},render(){const{t:t}=i();return s("div",{class:"p-20px"},[s("div",{class:"flex items-center"},[s("div",{class:"flex-1 text-12px leading-20px"},[X(this.data?.content)])]),s("div",{class:"confirm-calc-box flex items-center h-48px mt-12px px-12px bg-#f0f0f0"},[s("div",null,[t("Component.Confirm.index_4")]),s("div",{class:"confirm-calc-num mx-10px"},[this.addend1,c(" + "),this.addend2]),s("div",{class:"mr-10px"},[c("=")]),s("div",{class:"w-90px"},[s(tt,{ref:"inputRef",size:"small",placeholder:"",inputProps:{name:"sum"},value:this.sum,showButton:!1,onUpdateValue:t=>{this.sum=t}},null)])])])}}),ft=a({name:"BtModal",props:{data:{type:Object}},setup(t){const{t:e}=i(),a=n(null),s=n(""),c=n(t.data?.text||"");return l((()=>{o((()=>{a.value&&a.value.focus()}))})),{text:c,result:s,inputRef:a,onConfirm:async n=>(s.value===c.value?(await(t.data?.onConfirm?.(n)),n.hide()):z.error(e("Component.Confirm.index_2")),!1)}},render(){return s("div",{class:"p-20px"},[s("div",{class:"flex items-center"},[s(T,{name:"base-warning",size:"30",color:"#f0a020"},null),s("div",{class:"flex-1  ml-12px text-13px leading-20px"},[X(this.data?.content)])]),s("div",{class:"mt-16px p-12px bg-#e6e6e6"},[s(u,{tag:"div",keypath:"Component.Confirm.index_1",scope:"global"},{text_:s("span",{class:"text-error"},[this.text])}),s(et,{ref:"inputRef",size:"small",class:"mt-8px",placeholder:"",inputProps:{name:"confirm_text"},value:this.result,onUpdateValue:t=>{this.result=t}},null)])])}}),vt=t("u",(function(t){const e=N(),n=mt();return n.dynamicModals.value.push({...t,key:e,destroy:()=>{n.modalInstRefs[`modal-${e}`].hide()}}),{hide:()=>{n.modalInstRefs[`modal-${e}`].hide()}}})),bt=t("a",(({title:t,content:e,width:n=350,onConfirm:a=()=>{},onPublicClose:i=()=>{}})=>vt({title:t,width:n,footer:!0,onConfirm:a,onPublicClose:i,content:()=>s("div",{class:"flex p-20px"},[s(T,{name:"base-warning",size:"30",color:"#f0a020"},null),s("div",{class:"confirm-content flex-1 ml-10px pt-4px text-14px leading-22px"},[X(e)])])})));t("w",(({title:t,content:e,width:n=350,onConfirm:a=()=>{}})=>{vt({title:t,width:n,footer:!0,data:{content:e,onConfirm:a},component:ht})})),t("S",(({text:t,title:e,content:n,width:a=470,onConfirm:i=()=>{}})=>{vt({title:e,width:a,footer:!0,data:{text:t,content:n,onConfirm:i},component:ft})})),t("t",(({title:t="",desc:n="",data:a=[],columns:i=[],api:l,done:o})=>{vt({title:t,width:440,footer:!0,data:{title:t,desc:n,data:a,columns:i,api:l,done:o},component:d((()=>L((()=>e.import("./index-legacy91.js?v=1744703330658")),void 0)))})}));const{t:yt}=O.global,gt=t("L",(t=>"0.00"!==t.price&&(-1==t.endtime||-2==t.endtime))),xt=(t("M",(t=>{switch(t.task){case"-1":return yt("Soft.index_40");case"0":return yt("Soft.index_41");case"-2":return yt("Soft.index_42");case"1":return yt("Public.Btn.Install");default:return"unknown"}})),t("I",(t=>t.versions.map((t=>`${t.m_version}.${t.version}`)).some((e=>5===t.type?xt(t.version,e):kt(t.version,e)))&&t.setup&&!gt(t))),t("J",(t=>t.versions.map((t=>`${t.m_version}.${t.version}`)).findIndex((e=>5===t.type?xt(t.version,e):kt(t.version,e))))),(t,e)=>{const n=t.split(".").map(Number),a=e.split(".").map(Number),i=n[0],l=n[1],o=n[2]||0,s=a[0],c=a[1],u=a[2]||0;return i===s&&l===c&&!(0===l&&c>0)&&(o<u?`${i}.${l}.${u+1}`:!(""!==t||!e)&&e)}),kt=(t,e)=>{const n=t.split(".").map(Number),a=e.split(".").map(Number),i=n[0],l=n[1],o=n[2],s=a[0],c=a[1],u=a[2];return(s>i||s===i&&c>(void 0!==l?l:-1)||s===i&&c===(void 0!==l?l:-1)&&u>(void 0!==o?o:-1))&&[s,void 0!==c?c:"",void 0!==u?u:""].filter(Boolean).join(".")},wt=(t("N",(()=>{vt({width:574,minHeight:400,component:d((()=>L((()=>e.import("./submit-legacy.js?v=1744703330658")),void 0)))})})),t("k",((t,n)=>{const a=vt({width:620,minHeight:200,data:{name:t,callback:n,hide:()=>a.hide()},component:d((()=>L((()=>e.import("./index-legacy92.js?v=1744703330658")),void 0)))})})));function Ct(){vt({width:950,component:d((()=>L((()=>e.import("./index-legacy93.js?v=1744703330658")),void 0)))})}async function _t(t){try{const{message:n}=await I(),a=nt(n,"data.username","");vt({width:1024,height:660,data:{username:a,...t},component:d((()=>L((()=>e.import("./index-legacy90.js?v=1744703330658")),void 0)))})}catch{Ct()}}t("P",((t,n)=>{vt({title:yt("Soft.index_25"),width:500,data:{data:t,callback:n},footer:!0,confirmText:yt("Public.Btn.Install"),component:d((()=>L((()=>e.import("./app-install-third-legacy.js?v=1744703330658")),void 0)))})})),t("K",((t,n)=>{const a=vt({width:620,minHeight:200,data:{row:t,callback:n,hide:()=>a.hide()},component:d((()=>L((()=>e.import("./app-update-legacy.js?v=1744703330658")),void 0)))})}));const jt={class:"leading-20px"},St=a({__name:"index",props:{type:{default:"site"},data:{},callback:{}},setup(t){const{t:n}=i(),a=t,l=m((()=>{const{data:t}=a,{quota:e}=t;return!e.size})),o=m((()=>{if(l.value)return 0;const{data:t}=a,e=nt(t,"quota.used",0);let n=nt(t,"quota.size",0);return n=1024*n*1024,0===n?0:e/n*100})),u=m((()=>{const{data:t}=a,e=nt(t,"quota.used",0);return Q(e)})),r=m((()=>{const{data:t}=a;return`${nt(t,"quota.size",0).toFixed(2)} MB`})),p=m((()=>o.value<90?"success":"error")),k=new Map([["site","Site"],["ftp","FTP"],["database","Database"]]),w=()=>{vt({title:`${n("Component.Quota.index_5",[a.data.name,k.get(a.type)||"--"])}`,width:480,minHeight:222,footer:!0,data:{type:a.type,info:a.data,callback:a.callback},component:d((()=>L((()=>e.import("./quota-config-legacy.js?v=1744703330658")),void 0)))})};return(t,e)=>{const n=D,a=at,i=it;return h(l)?(f(),v(n,{key:0,onClick:w},{default:b((()=>[c(y(t.$t("Component.Quota.index_2")),1)])),_:1})):(f(),g("div",{key:1,class:"cursor-pointer",onClick:w},[s(i,{placement:"bottom-start","arrow-point-to-center":!0},{trigger:b((()=>[s(a,{type:"line",status:h(p),percentage:h(o),height:12,"border-radius":2,"show-indicator":!1},null,8,["status","percentage"])])),default:b((()=>[x("div",jt,[x("p",null,y(t.$t("Component.Quota.index_3",[h(u)])),1),x("p",null,y(t.$t("Component.Quota.index_12",[h(r)])),1),x("p",null,y(t.$t("Component.Quota.index_4")),1)])])),_:1})]))}}}),Pt=G(a({__name:"index",props:{value:{default:""},onUpdateValue:{},onBlur:{}},setup(t){const e=t,n=k(e,"value"),a=t=>{const n=t.target;e?.onBlur?.(n.value||"",t)};return(t,e)=>w((f(),g("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>_(n)?n.value=t:null),class:"bt-table-input",onBlur:a},null,544)),[[C,h(n)]])}}),[["__scopeId","data-v-04feea87"]]),Wt=t("_",a({__name:"index",props:{value:{type:[Number,String,Boolean,null],default:"1"},checkedValue:{type:[Number,String,Boolean],default:"1"},uncheckedValue:{type:[Number,String,Boolean],default:"0"},checkedLabel:{default:""},uncheckedLabel:{default:""},onClick:{default:void 0}},setup(t){const e=t,n=()=>{const{value:t,checkedValue:n,uncheckedValue:a,onClick:i}=e;i&&lt(i,t===n?a:n)};return(t,e)=>{const a=ot;return f(),v(a,{class:j(["items-center cursor-pointer",t.value===t.checkedValue?"text-primary":"text-error"]),size:0,inline:!0,onClick:n},{default:b((()=>[x("span",null,y(t.value===t.checkedValue?t.checkedLabel||t.$t("Public.Status.Running"):t.uncheckedLabel||t.$t("Public.Status.Stopped")),1),x("span",{class:j(["iconfont mt-1px","icon-"+(t.value===t.checkedValue?"start":"stop")])},null,2)])),_:1},8,["class"])}}})),Bt=t("Q",a({name:"BtLinkGroup",props:{options:{type:Array,default:()=>[]}},render(){let t;return s(ot,{class:"items-center",justify:"end",inline:!0,size:0},"function"==typeof(e=t=this.options.filter((t=>void 0===t.show||t.show)).map(((t,e)=>{const n=t.linkType||"default";return s(S,null,[0!==e?s(J,{class:"mx-4px!",vertical:!0},null):"","default"===n?s(D,{disabled:t.disabled||!1,class:t.class,type:t.type,width:t.width||"auto",onClick:()=>{t.onClick?.()}},{default:()=>[t.label]}):"","dropdown"===n?s(st,t.dropdown||{},{default:()=>[s(D,{disabled:t.disabled||!1,onClick:()=>{t.onClick?.()}},{default:()=>[t.label,s(T,{name:"base-arrow-bottom",size:"13"},null)]})]}):""])})))||"[object Object]"===Object.prototype.toString.call(e)&&!P(e)?t:{default:()=>[t]});var e}})),$t=t("O",a({__name:"index",props:{disabled:{type:Boolean,default:!1},tips:{},value:{type:[Boolean,String,Number],default:!1},onClick:{}},setup(t){let e=n(!0);const a=t;"string"==typeof a.value||"number"==typeof a.value?e.value=!!a.value:e.value=a.value;const i=()=>{const{onClick:t}=a;t&&lt(t,e.value)};return(t,n)=>{const a=ct,l=ut;return f(),v(l,{trigger:"hover",disabled:!(t.disabled&&h(e))},{trigger:b((()=>[s(a,{size:"small",value:h(e),"onUpdate:value":[n[0]||(n[0]=t=>_(e)?e.value=t:e=t),i],disabled:t.disabled&&h(e)},null,8,["value","disabled"])])),default:b((()=>[c(" "+y(t.tips),1)])),_:1},8,["disabled"])}}})),Vt=t("h",(async t=>{const{copy:e,isSupported:n}=W({legacy:!0});n.value?(e(t),z.success(O.global.t("Utils.Copy.index_1"))):z.error(O.global.t("Utils.Copy.index_2"))})),Rt={class:"flex"},qt={class:"w-0 flex-1 flex items-center"},Mt={class:"min-w-0"},Nt=t("n",a({__name:"index",props:{value:{default:""}},setup(t){const e=t,a=n(!1),i=m((()=>a.value?e.value:"**********")),l=m((()=>a.value?"icon-eye-close":"icon-browse")),o=()=>{a.value=!a.value},u=async()=>{Vt(`${e.value}`)};return(t,e)=>{const n=rt,a=T;return f(),g("div",Rt,[x("div",qt,[x("div",Mt,[s(n,{class:"max-w-full",tooltip:{contentStyle:{maxWidth:"200px"}}},{default:b((()=>[c(y(h(i)),1)])),_:1})]),x("div",{class:"ml-6px text-15px cursor-pointer",title:"Show",onClick:o},[x("i",{class:j(["iconfont",h(l)])},null,2)]),x("button",{class:"reset ml-6px text-15px cursor-pointer text-#333",title:"Copy",onClick:u},[s(a,{name:"common-copy"})])])])}}}));async function zt(){await Z("/static/vite/oldjs/jquery-2.2.4.min.js?v=1744703330658"),await Z("/static/layer/layer.js?v=1744703330658"),await Z("/static/vite/oldjs/jsencrypt.min.js?v=1744703330658"),await Z("/static/language/English/lan.js?v=1744703330658")}async function Tt(){await Promise.all([Z("/static/codemirror/lib/codemirror.js?v=1744703330658"),Z("/static/laydate/laydate.js?v=1744703330658"),Z("/static/vite/oldjs/clipboard.min.js?v=1744703330658"),Z("/static/vite/oldjs/soft.js?v=1744703330658"),Z("/static/vite/oldjs/public.js?v=1744703330658"),Z("/static/vite/oldjs/public_backup.js?v=1744703330658"),Z("/static/vite/oldjs/tools.js?v=1744703330658")])}}}}));
