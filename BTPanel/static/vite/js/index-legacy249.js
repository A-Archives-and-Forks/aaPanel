System.register(["./index-legacy127.js?v=1753954525509","./index-legacy.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1753954525509","./index-legacy86.js?v=1753954525509","./page_layout-legacy.js?v=1753954525509","./public-legacy.js?v=1753954525509","./vue-legacy.js?v=1753954525509","./naive-legacy.js?v=1753954525509","./common-legacy.js?v=1753954525509","./__commonjsHelpers__-legacy.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy11.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1753954525509","./site-legacy4.js?v=1753954525509","./soft-legacy.js?v=1753954525509","./site-legacy.js?v=1753954525509","./index-legacy237.js?v=1753954525509","./index-legacy100.js?v=1753954525509","./index-legacy102.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy9.js?v=1753954525509","./index-legacy96.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy14.js?v=1753954525509","./theme-chrome-legacy.js?v=1753954525509","./file-legacy2.js?v=1753954525509","./refersh-legacy.js?v=1753954525509","./php-legacy.js?v=1753954525509","./index.vue_vue_type_script_setup_true_lang-legacy17.js?v=1753954525509","./index-legacy101.js?v=1753954525509","./ssl-legacy.js?v=1753954525509","./cert-legacy.js?v=1753954525509","./utils-legacy3.js?v=1753954525509","./index-legacy209.js?v=1753954525509","./paypal-js-legacy.js?v=1753954525509","./ssl-lets-progress-legacy.js?v=1753954525509","./Ssl.vue_vue_type_script_setup_true_lang-legacy.js?v=1753954525509"],(function(e,l){"use strict";var t,a,s,u,n,i,c,r,d,_,o,p,g,y,b,v,h,f,m,x,w,j,k,U,C,S,I,D,F,N,P,q,O,T,z,A,G,H,V,B,E,J,L,Q;return{setters:[e=>{t=e._},e=>{a=e._},e=>{s=e._},e=>{u=e.F,n=e.G,i=e.H,c=e.I},e=>{r=e.c,d=e.m,_=e.O,o=e.go,p=e.gp,g=e.w,y=e.e},e=>{b=e.e,v=e.c},e=>{h=e.k,f=e.r,m=e.c,x=e.o,w=e.b,j=e.U,k=e.V,U=e.W,C=e.X,S=e.a1,I=e.Q,D=e.a2,F=e.F,N=e.O,P=e.a3,q=e.l,O=e.v,T=e.e,z=e.w,A=e.j,G=e.al},e=>{H=e.c6,V=e.bY,B=e.ay,E=e.cG,J=e.cA,L=e._,Q=e.d1},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".data-box[data-v-8594ce8c]{max-height:200px;width:100%;display:flex;flex-direction:column;gap:10px;overflow-y:auto;border-radius:10px;padding:10px;border:1px solid #c7c7c7}\n",document.head.appendChild(l);const R={class:"p-16px"},W={class:"mb-16px"},X={class:"p-10px border-1px border-solid border-gray-200 rounded-8px"},Y=h({__name:"progress",emits:["update"],setup(e,{expose:l,emit:t}){const a=t,s=f(!1),n=f([]),i=m((()=>n.value.findIndex((e=>0===e.status))+1)),c=m((()=>n.value[i.value]?.status)),g={0:"process",1:"finish","-1":"error",2:"wait"},y=e=>g[e];let b=null;const v=async()=>{const{message:e}=await u();r(e)&&(1===e.status?(b&&clearInterval(b),d.success("Data copying completed!"),s.value=!0):s.value=!1,delete e.status,n.value=Object.values(e))};return x((()=>{v(),b=window.setInterval((()=>{v()}),2e3)})),w((()=>{a("update"),b&&clearInterval(b)})),l({isFinish:s,init:v}),(e,l)=>{const t=H,a=_,u=V,r=o,d=p;return j(),k("div",R,[U("div",W,[C(s)?(j(),S(t,{key:0,type:"success",title:"Data copying completed!"})):(j(),S(t,{key:1,type:"default",title:"Data replication in progress..."}))]),U("div",X,[I(d,{vertical:"",current:C(i),status:y(C(c)),size:"small"},{default:D((()=>[(j(!0),k(F,null,N(C(n),((e,l)=>(j(),S(r,{key:l,status:y(e.status),description:e.ps},{title:D((()=>[I(u,{class:"flex-nowrap! items-center!"},{default:D((()=>[U("span",null,P(e.title),1),q(I(a,{size:"small"},null,512),[[O,0===e.status]])])),_:2},1024)])),_:2},1032,["status","description"])))),128))])),_:1},8,["current","status"])])])}}}),$={class:"data-box"},K=h({__name:"index",setup(e,{expose:l}){const d=f(null),o=f(!1),p=f([]),y=f([]),h=b("Copy Progress"),w=T({site_id:null,target_id:null,all:!1,source_site:["file"],db_table:[],create_recovery_point:!1}),P=m((()=>w.db_table.length>0&&w.db_table.length<y.value.length)),q={site_id:{required:!0,type:"number",trigger:"change",message:"Source site cannot be empty"},target_id:{required:!0,type:"number",trigger:"change",message:"Target site cannot be empty"},source_site:{required:!0,type:"array",trigger:"change",message:"Please select type"},db_table:{required:!0,type:"array",trigger:"change",message:"Please select database table"}};z((()=>w.db_table),(e=>{e.length===y.value.length?w.all=!0:e.length||(w.all=!1)})),z((()=>w.all),(e=>{e?(w.db_table=y.value,d.value?.validate()):w.db_table=[]}));const O=async()=>{const{message:e}=await i({set_id:Number(w.site_id)});g(e)&&(y.value=e,w.db_table=[])},R=async()=>{const{message:e}=await u();r(e)&&(o.value=0===e.status)},{loading:W,setLoading:X}=v();return x((async()=>{await R(),(async()=>{try{X(!0);const{message:e}=await c();g(e)&&(p.value=e.map((e=>({label:e.name,value:e.id}))),p.value.length&&(w.site_id=p.value[0].value,O()))}finally{X(!1)}})()})),l({onConfirm:async()=>(await(d.value?.validate()),await n({cp_files:!!w.source_site.includes("file"),cp_data_tables:!!w.source_site.includes("db"),is_backup:w.create_recovery_point,data_tables:JSON.stringify(w.source_site.includes("db")?w.db_table:[]),source_id:Number(w.site_id),target_id:Number(w.target_id)}),h.show=!0,!1)}),(e,l)=>{const u=B,n=E,i=J,c=L,r=V,g=Q,b=H,v=s,f=a,m=_,x=t;return j(),S(x,{install:!C(o)},{desc:D((()=>[l[9]||(l[9]=U("span",{class:"mr-10px"},"There are currently tasks in progress.",-1)),I(u,{onClick:l[0]||(l[0]=e=>C(h).show=!0)},{default:D((()=>l[8]||(l[8]=[A("View")]))),_:1,__:[8]})])),default:D((()=>[I(m,{show:C(W),class:"p-16px"},{default:D((()=>[I(v,{ref_key:"formRef",ref:d,model:C(w),rules:q},{default:D((()=>[I(i,{label:"Source Site",path:"site_id"},{default:D((()=>[I(n,{class:"w-300px",value:C(w).site_id,"onUpdate:value":[l[1]||(l[1]=e=>C(w).site_id=e),O],options:C(p),filterable:""},null,8,["value","options"])])),_:1}),I(i,{label:"Target site",path:"target_id"},{default:D((()=>[I(n,{class:"w-300px",value:C(w).target_id,"onUpdate:value":l[2]||(l[2]=e=>C(w).target_id=e),options:C(p),filterable:"",placeholder:"Please select target site"},null,8,["value","options"])])),_:1}),I(i,{label:"Copy Type",path:"source_site","show-feedback":!C(w).source_site.length},{default:D((()=>[I(g,{value:C(w).source_site,"onUpdate:value":l[3]||(l[3]=e=>C(w).source_site=e)},{default:D((()=>[I(r,null,{default:D((()=>[I(c,{value:"file",label:"File"}),I(c,{value:"db",label:"Database"})])),_:1})])),_:1},8,["value"])])),_:1},8,["show-feedback"]),I(i,{label:" "},{default:D((()=>[I(b,{"show-icon":!1},{default:D((()=>l[10]||(l[10]=[U("div",null,"Files: Copy the newly added theme and plug-in files from the source wp website to the target wp website. ",-1),U("div",null,"Database: Select the data table in the source wp website and copy it to the target wp website. Note: the existing table will be overwritten!",-1)]))),_:1,__:[10]})])),_:1}),C(w).source_site.includes("db")?(j(),S(i,{key:0,label:" ",path:"db_table"},{default:D((()=>[U("div",$,[I(c,{checked:C(w).all,"onUpdate:checked":l[4]||(l[4]=e=>C(w).all=e),label:e.$t("Public.SelectAll"),indeterminate:C(P)},null,8,["checked","label","indeterminate"]),I(g,{value:C(w).db_table,"onUpdate:value":l[5]||(l[5]=e=>C(w).db_table=e)},{default:D((()=>[I(r,{class:"flex-col!"},{default:D((()=>[(j(!0),k(F,null,N(C(y),(e=>(j(),S(c,{value:e,label:e,key:e},null,8,["value","label"])))),128))])),_:1})])),_:1},8,["value"])])])),_:1})):G("",!0),I(i,{label:"Backup"},{default:D((()=>[I(c,{checked:C(w).create_recovery_point,"onUpdate:checked":l[6]||(l[6]=e=>C(w).create_recovery_point=e),label:"Create a backup of your target website"},null,8,["checked"])])),_:1})])),_:1},8,["model"]),I(f,{show:C(h).show,"onUpdate:show":l[7]||(l[7]=e=>C(h).show=e),title:C(h).title,width:500,"min-height":200},{default:D((()=>[I(Y,{onUpdate:R})])),_:1},8,["show","title"])])),_:1},8,["show"])])),_:1},8,["install"])}}});e("default",y(K,[["__scopeId","data-v-8594ce8c"]]))}}}));
