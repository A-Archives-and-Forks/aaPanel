System.register(["./index-legacy.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy4.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1744703330658","./public-legacy.js?v=1744703330658","./alarm-legacy.js?v=1744703330658","./index-legacy95.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1744703330658","./index-legacy99.js?v=1744703330658","./page_layout-legacy.js?v=1744703330658","./vue-legacy.js?v=1744703330658","./naive-legacy.js?v=1744703330658","./common-legacy.js?v=1744703330658","./__commonjsHelpers__-legacy.js?v=1744703330658","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1744703330658"],(function(e,l){"use strict";var t,a,i,r,n,o,d,s,u,_,p,m,c,f,v,g,x,w,h,C,b,A,y,q,k,E,$,j,U,M,T,B,P,R,L,O,D;return{setters:[e=>{t=e._},e=>{a=e._},e=>{i=e._},e=>{r=e.d,n=e.b,o=e.f,d=e.a},e=>{s=e.j,u=e.k,_=e.l,p=e.m,m=e.t,c=e.u},e=>{f=e._},e=>{v=e._},e=>{g=e._},e=>{x=e.J},e=>{w=e.d,h=e.O,C=e.t,b=e.e,A=e.r,y=e.j,q=e.R,k=e.S,E=e.P,$=e.a0,j=e.U,U=e.V,M=e.a1,T=e.c,B=e.$,P=e.a5},e=>{R=e._,L=e.ch,O=e.bY,D=e.T},null,null,null],execute:function(){const l={class:"px-20px py-24px"},H={class:"w-300px"},I={class:"w-300px"},K={class:"w-300px"},N={class:"w-300px"},S={class:"w-300px"},J={class:"w-300px"},V={class:"bt-link",href:"",target:"_blank"},Y=w({__name:"form-email",props:{isEdit:{type:Boolean},alarm:{},row:{}},emits:["refresh"],setup(e,{expose:t,emit:a}){const i=e,r=a,{t:n}=h(),o=C(i,"isEdit"),d=C(i,"alarm"),_=b((()=>d.value.name)),p=A(null),m=y({title:"",qq_mail:"",qq_smtp_pwd:"",hosts:"",port:465,receiveMail:""}),c={title:{trigger:["blur","input"],validator:()=>""===m.title.trim()?new Error(n("Config.Alarm.index_67")):!(m.title.trim().length>15)||new Error(n("Config.Alarm.index_79"))},qq_mail:{trigger:["blur","input"],validator:()=>""!==m.qq_mail.trim()||new Error(n("Config.Alarm.index_80"))},qq_smtp_pwd:{trigger:["blur","input"],validator:()=>""!==m.qq_smtp_pwd.trim()||new Error(n("Config.Alarm.index_81"))},hosts:{trigger:["blur","input"],validator:()=>""!==m.hosts.trim()||new Error(n("Config.Alarm.index_82"))},port:{trigger:["blur","input"],validator:()=>!!m.port||new Error(n("Config.Alarm.index_83"))},receiveMail:{trigger:["blur","input"],validator:()=>""!==m.receiveMail.trim()||new Error(n("Config.Alarm.index_84"))}},w=()=>({sender_type:_.value,sender_data:{title:m.title,send:{qq_mail:m.qq_mail,qq_stmp_pwd:m.qq_smtp_pwd,hosts:m.hosts,port:`${m.port}`},receive:m.receiveMail.split("\n").filter((e=>""!==e.trim()))}});return(()=>{const{row:e}=i;if(o.value&&e){const{data:l}=e;m.title=l.title,m.qq_mail=l.send.qq_mail,m.qq_smtp_pwd=l.send.qq_stmp_pwd,m.hosts=l.send.hosts,m.port=x(l.send.port),m.receiveMail=l.receive.join("\n")}})(),t({onConfirm:async()=>{await(p.value?.validate()),o.value&&i.row?await s({...w(),sender_id:i.row.id}):await u(w()),r("refresh")}}),(e,t)=>{const a=R,i=L,r=O,n=g,o=v,d=f;return q(),k("div",l,[E(o,{ref_key:"formRef",ref:p,model:U(m),rules:c},{default:$((()=>[E(i,{label:e.$t("Config.Alarm.index_43"),path:"title"},{default:$((()=>[j("div",H,[E(a,{value:U(m).title,"onUpdate:value":t[0]||(t[0]=e=>U(m).title=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),E(i,{label:e.$t("Config.Alarm.index_71"),path:"qq_mail"},{default:$((()=>[j("div",I,[E(a,{value:U(m).qq_mail,"onUpdate:value":t[1]||(t[1]=e=>U(m).qq_mail=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),E(i,{label:e.$t("Config.Alarm.index_72"),path:"qq_smtp_pwd"},{default:$((()=>[j("div",K,[E(a,{value:U(m).qq_smtp_pwd,"onUpdate:value":t[2]||(t[2]=e=>U(m).qq_smtp_pwd=e),type:"password",placeholder:""},null,8,["value"])])])),_:1},8,["label"]),E(i,{label:e.$t("Config.Alarm.index_73"),path:"hosts"},{default:$((()=>[j("div",N,[E(a,{value:U(m).hosts,"onUpdate:value":t[3]||(t[3]=e=>U(m).hosts=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),E(i,{label:e.$t("Config.Alarm.index_74"),path:"port"},{default:$((()=>[j("div",S,[E(r,{value:U(m).port,"onUpdate:value":t[4]||(t[4]=e=>U(m).port=e),min:1,max:65535,"show-button":!1,placeholder:""},null,8,["value"])])])),_:1},8,["label"]),E(i,{label:e.$t("Config.Alarm.index_78"),path:"receiveMail"},{default:$((()=>[j("div",J,[E(n,{value:U(m).receiveMail,"onUpdate:value":t[5]||(t[5]=e=>U(m).receiveMail=e),row:8,placeholder:e.$t("Config.Alarm.index_75")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),E(d,{class:"mt-4px pl-8px"},{default:$((()=>[j("li",null,M(e.$t("Config.Alarm.index_76")),1),j("li",null,M(e.$t("Config.Alarm.index_77")),1),j("li",null,[j("a",V,M(e.$t("Public.Btn.Help")),1)])])),_:1})])}}}),z={class:"px-20px py-24px"},F={class:"w-300px"},G={class:"w-300px"},Q=["href"],W=w({__name:"form-common",props:{isEdit:{type:Boolean},alarm:{},row:{}},emits:["refresh"],setup(e,{expose:l,emit:t}){const a=e,i=t,{t:r}=h(),n=C(a,"isEdit"),o=C(a,"alarm"),d=b((()=>o.value.name)),_=b((()=>o.value.title)),p=A(null),m=y({title:"",url:""}),c={title:{trigger:["blur","input"],validator:()=>""!==m.title.trim()||new Error(r("Config.Alarm.index_47"))},url:{trigger:["blur","input"],validator:()=>""!==m.url.trim()||new Error(r("Config.Alarm.index_48"))}},x=()=>({sender_type:d.value,sender_data:{title:m.title,url:m.url,atall:"True"}});return(()=>{const{row:e}=a;if(n.value&&e){const{data:l}=e;m.title=l.title,m.url=l.url}})(),l({onConfirm:async()=>{await(p.value?.validate()),n.value&&a.row?await s({...x(),sender_id:a.row.id}):await u(x()),i("refresh")}}),(e,l)=>{const t=R,a=L,i=g,r=v,n=f;return q(),k("div",z,[E(r,{ref_key:"formRef",ref:p,model:U(m),rules:c},{default:$((()=>[E(a,{label:e.$t("Config.Alarm.index_43"),path:"title"},{default:$((()=>[j("div",F,[E(t,{value:U(m).title,"onUpdate:value":l[0]||(l[0]=e=>U(m).title=e),placeholder:e.$t("Config.Alarm.index_44")},null,8,["value","placeholder"])])])),_:1},8,["label"]),E(a,{label:"URL",path:"receiveMail"},{default:$((()=>[j("div",G,[E(i,{value:U(m).url,"onUpdate:value":l[1]||(l[1]=e=>U(m).url=e),row:5,placeholder:e.$t("Config.Alarm.index_45")},null,8,["value","placeholder"])])])),_:1})])),_:1},8,["model"]),E(n,{class:"mt-4px pl-24px"},{default:$((()=>[j("li",null,[j("a",{class:"bt-link",href:U(o).help,target:"_blank"},M(e.$t("Config.Alarm.index_46",[U(_)])),9,Q)])])),_:1})])}}}),X={class:"px-20px py-24px"},Z={class:"w-300px"},ee={class:"w-300px"},le={class:"w-300px"},te={class:"bt-link",href:"",target:"_blank"},ae=w({__name:"form-tg",props:{isEdit:{type:Boolean},alarm:{},row:{}},emits:["refresh"],setup(e,{expose:l,emit:t}){const a=e,i=t,{t:r}=h(),n=C(a,"isEdit"),o=C(a,"alarm"),d=b((()=>o.value.name)),_=A(null),p=y({title:"",id:"",token:""}),m={title:{trigger:["blur","input"],validator:()=>""!==p.title.trim()||new Error(r("Config.Alarm.index_67"))},id:{trigger:["blur","input"],validator:()=>""!==p.id.trim()||new Error("Please enter Telegram ID")},token:{trigger:["blur","input"],validator:()=>""!==p.token.trim()||new Error("Please enter Telegram TOKEN")}},c=()=>({sender_type:d.value,sender_data:{title:p.title,my_id:p.id,bot_token:p.token}});return(()=>{const{row:e}=a;if(n.value&&e){const{data:l}=e;p.title=l.title,p.id=l.my_id,p.token=l.bot_token}})(),l({onConfirm:async()=>{await(_.value?.validate()),n.value&&a.row?await s({...c(),sender_id:a.row.id}):await u(c()),i("refresh")}}),(e,l)=>{const t=R,a=L,i=v,r=f;return q(),k("div",X,[E(i,{ref_key:"formRef",ref:_,model:U(p),rules:m},{default:$((()=>[E(a,{label:e.$t("Config.Alarm.index_43"),path:"title"},{default:$((()=>[j("div",Z,[E(t,{value:U(p).title,"onUpdate:value":l[0]||(l[0]=e=>U(p).title=e),placeholder:e.$t("Config.Alarm.index_44")},null,8,["value","placeholder"])])])),_:1},8,["label"]),E(a,{label:"ID",path:"id"},{default:$((()=>[j("div",ee,[E(t,{value:U(p).id,"onUpdate:value":l[1]||(l[1]=e=>U(p).id=e),placeholder:"Telegram ID"},null,8,["value"])])])),_:1}),E(a,{label:"TOKEN",path:"token"},{default:$((()=>[j("div",le,[E(t,{value:U(p).token,"onUpdate:value":l[2]||(l[2]=e=>U(p).token=e),placeholder:"Telegram TOKEN"},null,8,["value"])])])),_:1})])),_:1},8,["model"]),E(r,{class:"mt-4px pl-24px"},{default:$((()=>[j("li",null,M(e.$t("Config.Alarm.index_68")),1),j("li",null,M(e.$t("Config.Alarm.index_69")),1),j("li",null,[j("span",null,M(e.$t("Config.Alarm.index_70")),1),j("a",te,M(e.$t("Public.Btn.Help")),1)])])),_:1})])}}}),ie={class:"p-20px"},re=w({__name:"table-common",props:{row:{},refresh:{}},setup(e){const l=e,s=C(l,"row"),u=(()=>{switch(s.value.name){case"mail":default:return Y;case"dingding":case"feishu":case"weixin":return W;case"tg":return ae}})(),{t:f}=h(),v=new Map([["mail",{title:f("Config.Alarm.index_3")}],["dingding",{title:f("Config.Alarm.index_49")}],["feishu",{title:f("Config.Alarm.index_50")}],["weixin",{title:f("Config.Alarm.index_51")}],["tg",{title:"Telegram"}]]),g=r("",{isEdit:!1,alarm:s.value,onRefresh:()=>{P()}}),x=()=>{g.data.isEdit=!1,g.title=f("Config.Alarm.index_52",[s.value.title]),g.show=!0},{table:w,columns:b}=n([{key:"title",title:v.get(s.value.name)?.title||"--",ellipsis:{tooltip:!0},render:e=>e.original?f("Config.Alarm.index_64",[e.data.title]):e.data.title},{key:"used",title:f("Config.Alarm.index_54"),width:80,render:e=>E("a",{class:["bt-link",e.used?"":"error"],onClick:()=>{A(e)}},[e.used?f("Config.Alarm.index_65"):f("Config.Alarm.index_55")])},o({width:200,options:e=>[{label:f("Config.Alarm.index_56"),show:!e.original,onClick:()=>{y(e)}},{label:f("Public.Btn.Edit"),onClick:()=>{(e=>{g.data.row=e,g.data.isEdit=!0,g.title=f("Config.Alarm.index_53",[s.value.title]),g.show=!0})(e)}},{label:f("Config.Alarm.index_57"),onClick:()=>{j(e)}},{label:f("Config.Alarm.index_58"),onClick:()=>{B(e)}}]})]),A=e=>{const l=e.used?f("Config.Alarm.index_66"):f("Config.Alarm.index_18");d({title:f("Config.Alarm.index_59_1",[l,s.value.title,e.data.title]),content:f("Config.Alarm.index_59",[l.toLocaleLowerCase(),s.value.title,e.data.title]),onConfirm:async()=>{await _({sender_id:e.id}),e.used=!e.used}})},y=e=>{d({width:400,title:f("Config.Alarm.index_60"),content:f("Config.Alarm.index_61",[e.data.title]),onConfirm:async()=>{await p({sender_type:s.value.name,sender_id:e.id}),w.data.forEach((l=>{l.original=l.id===e.id}))}})},j=async e=>{await m({sender_id:e.id})},B=e=>{d({title:f("Config.Alarm.index_62",[s.value.title,e.data.title]),content:f("Config.Alarm.index_63",[s.value.title,e.data.title]),onConfirm:async()=>{await c({sender_id:e.id}),P()}})},P=async()=>{await(l.refresh?.()),w.data=s.value.list};return w.data=s.value.list,(e,l)=>{const r=D,n=i,o=a,d=t;return q(),k("div",ie,[E(o,null,{toolsLeft:$((()=>[E(r,{type:"primary",onClick:x},{default:$((()=>[T(M(e.$t("Public.Btn.Add")),1)])),_:1})])),table:$((()=>[E(n,{data:U(w).data,columns:U(b)},null,8,["data","columns"])])),_:1}),E(d,{show:U(g).show,"onUpdate:show":l[0]||(l[0]=e=>U(g).show=e),title:U(g).title,data:U(g).data,width:500,footer:!0,component:U(u)},null,8,["show","title","data","component"])])}}});e("default",w({__name:"index",props:{row:{},refresh:{}},setup(e){const l=re;return(e,t)=>(q(),B(P(U(l)),{row:e.row,refresh:e.refresh},null,8,["row","refresh"]))}}))}}}));
