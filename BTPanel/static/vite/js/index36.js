const __vite__fileDeps=["js/index122.js?v=1721298337096","js/index.js?v=1721298337096","js/vue.js?v=1721298337096","js/pinia.js?v=1721298337096","css/index34.css?v=1721298337096","css/index28.css?v=1721298337096"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{M as a,g as t,j as e,k as s,m as i,q as l,r as o,v as n}from"./index.js?v=1721298337096";import{_ as r}from"./index.vue_vue_type_script_setup_true_lang.js?v=1721298337096";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang2.js?v=1721298337096";import{u as m,_ as u}from"./useTableData.js?v=1721298337096";import{b as d}from"./useTableColumns.js?v=1721298337096";import{r as _,l as c,p as h}from"./mail.js?v=1721298337096";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1721298337096";import{l as f,ad as g,r as x,f as w,P as b,q as y,x as k,S as v,U as E,V as M,a3 as C,W as T,a1 as D}from"./vue.js?v=1721298337096";import{_ as L}from"./InputGroupLabel.js?v=1721298337096";import{_ as P}from"./InputGroup.js?v=1721298337096";import"./pinia.js?v=1721298337096";import"./DataTable.js?v=1721298337096";import"./Checkbox.js?v=1721298337096";import"./Ellipsis.js?v=1721298337096";import"./Select.js?v=1721298337096";import"./Tag.js?v=1721298337096";import"./Empty.js?v=1721298337096";import"./omit.js?v=1721298337096";import"./Skeleton.js?v=1721298337096";import"./Progress.js?v=1721298337096";const R=f({__name:"index",setup(f){const R=D((()=>n((()=>import("./index122.js?v=1721298337096")),__vite__mapDeps([0,1,2,3,4,5])))),{t:U}=g(),W=x(),I=w({p:1,username:null}),{table:S,columns:q}=m([{key:"from",title:U("Mail.Email.index_2"),width:"25%",minWidth:140,ellipsis:{tooltip:!0}},{key:"theme",title:U("Mail.Email.index_3"),minWidth:160,ellipsis:{tooltip:{width:"trigger"}},render:a=>{const t=a.html.replace(/[^\u4e00-\u9fa5]/g,"");return b("span",{class:"cursor-pointer",onClick:()=>{V(a)}},[b("a",{class:"bt-link"},[a.subject]),b("span",{class:"text-desc"},[y(" - "),t||a.body])])}},{key:"time",title:U("Mail.Email.index_4"),width:"12%",minWidth:140,render:t=>a(t.time)},d({width:150,options:a=>[{label:U("Mail.Email.index_5"),onClick:()=>{V(a)}},{label:U("Mail.Email.index_10"),onClick:()=>{A(a)}},{label:U("Public.Btn.Del"),onClick:()=>{B(a)}}]})]),G=t(),V=a=>{G.data.row=a,G.title=U("Mail.Email.index_7",[a.subject]),G.show=!0},A=async a=>{await _({path:a.path,username:I.username||""}),O()},B=async a=>{await c({path:a.path}),O()},O=async()=>{try{S.loading=!0;const{message:a}=await h({p:I.p,username:I.username||""});e(a)&&(S.data=s(a.data)?a.data:[],S.total=i(a.page))}finally{S.loading=!1}},$=()=>{I.p=1,O()};return k((async()=>{await W.value.getList()})),(a,t)=>{const e=L,s=P,i=u,n=p,m=r,d=l,_=o;return v(),E(_,{class:"p-16px"},{default:M((()=>[b(m,null,{toolsLeft:M((()=>[b(s,{class:"w-460px"},{default:M((()=>[b(e,null,{default:M((()=>[y(C(a.$t("Mail.Email.index_1")),1)])),_:1}),b(j,{ref_key:"senderRef",ref:W,value:T(I).username,"onUpdate:value":[t[0]||(t[0]=a=>T(I).username=a),$]},null,8,["value"])])),_:1})])),table:M((()=>[b(i,{loading:T(S).loading,data:T(S).data,columns:T(q)},null,8,["loading","data","columns"])])),pageRight:M((()=>[b(n,{page:T(I).p,"onUpdate:page":t[1]||(t[1]=a=>T(I).p=a),"item-count":T(S).total,onRefresh:O},null,8,["page","item-count"])])),_:1}),b(d,{show:T(G).show,"onUpdate:show":t[2]||(t[2]=a=>T(G).show=a),title:T(G).title,data:T(G).data,width:850,height:680,component:T(R)},null,8,["show","title","data","component"])])),_:1})}}});export{R as default};
