System.register(["./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1721298337096","./index-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1721298337096","./vue-legacy.js?v=1721298337096","./pinia-legacy.js?v=1721298337096","./index-legacy63.js?v=1721298337096","./Select-legacy.js?v=1721298337096","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1721298337096","./InputGroupLabel-legacy.js?v=1721298337096","./InputGroup-legacy.js?v=1721298337096","./index-legacy64.js?v=1721298337096","./useTableColumns-legacy.js?v=1721298337096","./Progress-legacy.js?v=1721298337096","./Tag-legacy.js?v=1721298337096","./Empty-legacy.js?v=1721298337096"],(function(e,a){"use strict";var l,s,u,r,t,n,d,i,o,p,c,g,_,v,m,y,b,f,h,w,j,x,U,q,k;return{setters:[e=>{l=e._,s=e.a},e=>{u=e.u,r=e.dF,t=e.ab,n=e.e,d=e.n},e=>{i=e._},e=>{o=e.l,p=e.r,c=e.f,g=e.k,_=e.S,v=e.U,m=e.V,y=e.P,b=e._,f=e.W,h=e.B,w=e.M,j=e.q,x=e.t},e=>{U=e.s},e=>{q=e.g},e=>{k=e._},null,null,null,null,null,null,null,null],execute:function(){const a={class:"w-240px"},C={class:"w-240px"},E={class:"w-240px"},P={class:"w-240px"},R={class:"ml-8px"};e("default",o({__name:"index",props:{data:{}},setup(e,{expose:o}){const S=e,{status:B}=S.data,D=u(),{remoteList:G}=U(D),I=p(null),L=c({sid:G.value.length>0?G.value[0].id:null,name:"",db_user:"",password:"",active:!1,ssl:""}),N=g((()=>G.value.map((e=>({label:`${e.ps} (${e.db_host})`,value:e.id}))))),T={name:{required:!0,message:"请输入数据库名",trigger:["blur","change"]},db_user:{required:!0,message:"请输入用户名",trigger:["blur","change"]},password:{required:!0,message:"请输入管理员密码",trigger:["blur","change"]},sid:{trigger:"change",validator:(e,a)=>null!==a||new Error("请选择远程服务器")}},$=e=>{L.db_user=e},A=()=>{q()};return o({onConfirm:async({hide:e})=>{try{await(I.value?.validate());const a=(()=>{const{sid:e}=L;if(null===e)throw d.error("请选择远程服务器"),new Error("请选择远程服务器");return{...x(L),sid:e,ps:L.name}})();await r(D.type,a),D.setRefresh(!0),e()}catch(a){console.error(a)}}}),(e,u)=>{const r=t,d=l,o=i,p=k,c=n,g=s;return _(),v(g,{ref_key:"formRef",ref:I,model:f(L),rules:T,class:"p-20px"},{default:m((()=>[y(d,{label:"DBName",path:"name"},{default:m((()=>[b("div",a,[y(r,{value:f(L).name,"onUpdate:value":[u[0]||(u[0]=e=>f(L).name=e),$],placeholder:"New database name"},null,8,["value"])])])),_:1}),h(y(d,{label:"Username",path:"db_user"},{default:m((()=>[b("div",C,[y(r,{value:f(L).db_user,"onUpdate:value":u[1]||(u[1]=e=>f(L).db_user=e),placeholder:"Database user"},null,8,["value"])])])),_:1},512),[[w,f(B)]]),h(y(d,{label:"Password",path:"password"},{default:m((()=>[b("div",E,[y(o,{value:f(L).password,"onUpdate:value":u[2]||(u[2]=e=>f(L).password=e)},null,8,["value"])])])),_:1},512),[[w,f(B)]]),y(d,{label:"Add to",path:"sid"},{default:m((()=>[b("div",P,[y(p,{value:f(L).sid,"onUpdate:value":u[3]||(u[3]=e=>f(L).sid=e),options:f(N)},null,8,["value","options"])]),b("div",R,[y(c,{onClick:A},{default:m((()=>[j("Remote servers")])),_:1})])])),_:1})])),_:1},8,["model"])}}}))}}}));
